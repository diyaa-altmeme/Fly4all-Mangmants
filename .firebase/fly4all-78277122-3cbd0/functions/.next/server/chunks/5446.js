exports.id=5446,exports.ids=[5446],exports.modules={85:(a,b,c)=>{"use strict";var d=c(89220),e=c(28354).inherits,f=c(32437);function g(a,b){this.ktype=a,this.vtype=b,this.ktype.rw.width&&this.vtype.rw.width?this.poolByteLength=this.mapFixFixbyteLength:this.ktype.rw.width?this.poolByteLength=this.mapFixVarbyteLength:this.vtype.rw.width&&(this.poolByteLength=this.mapVarFixbyteLength),d.Base.call(this)}e(g,d.Base),g.prototype.poolByteLength=function(a,b){for(var c=6,d=0;d<b.length;d++){var e=this.ktype.rw.poolByteLength(a,b[d][0]);if(e.err||(c+=e.length,(e=this.vtype.rw.poolByteLength(a,b[d][1])).err))return e;c+=e.length}return a.reset(null,c)},g.prototype.mapVarFixbyteLength=function(a,b){for(var c=6+b.length*this.vtype.rw.width,d=0;d<b.length;d++){var e=this.ktype.rw.poolByteLength(a,b[d][0]);if(e.err)return e;c+=e.length}return a.reset(null,c)},g.prototype.mapFixVarbyteLength=function(a,b){for(var c=6+b.length*this.ktype.rw.width,d=0;d<b.length;d++){var e=this.vtype.rw.poolByteLength(a,b[d][1]);if(e.err)return e;c+=e.length}return a.reset(null,c)},g.prototype.mapFixFixbyteLength=function(a,b){var c=6+b.length*this.ktype.rw.width+b.length*this.vtype.rw.width;return a.reset(null,c)},g.prototype.poolWriteInto=function(a,b,c,e){var f=d.UInt8.poolWriteInto(a,this.ktype.typeid,c,e);if(f.err||(e=f.offset,(f=d.UInt8.poolWriteInto(a,this.vtype.typeid,c,e)).err)||(e=f.offset,(f=d.UInt32BE.poolWriteInto(a,b.length,c,e)).err))return f;e=f.offset;for(var g=0;g<b.length;g++){var h=b[g];if((f=this.ktype.rw.poolWriteInto(a,h[0],c,e)).err||(e=f.offset,(f=this.vtype.rw.poolWriteInto(a,h[1],c,e)).err))return f;e=f.offset}return a.reset(null,e)},g.prototype.poolReadFrom=function(a,b,c){var e=d.UInt8.poolReadFrom(a,b,c);if(e.err)return e;c=e.offset;var g=e.value;if(g!==this.ktype.typeid)return a.reset(f.MapKeyTypeIdMismatch({encoded:g,expected:this.ktype.name,expectedId:this.ktype.typeid}),c);if((e=d.UInt8.poolReadFrom(a,b,c)).err)return e;c=e.offset;var h=e.value;if(h!==this.vtype.typeid)return a.reset(f.MapValTypeIdMismatch({encoded:h,expected:this.vtype.name,expectedId:this.vtype.typeid}),c);if((e=d.UInt32BE.poolReadFrom(a,b,c)).err)return e;c=e.offset;for(var i=e.value,j=[],k=0;k<i;k++){if((e=this.ktype.rw.poolReadFrom(a,b,c)).err)return e;c=e.offset;var l=e.value;if((e=this.vtype.rw.poolReadFrom(a,b,c)).err)return e;c=e.offset;var m=e.value;j.push([l,m])}return a.reset(null,c,j)},a.exports.MapEntriesRW=g},144:(a,b,c)=>{"use strict";c.d(b,{u:()=>k});var d=c(595),e=c(89162),f=c(28617),g=c(79361),h=c(24774),i=c(66336),j=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),k=function(a){function b(b,c,d){void 0===b&&(b={});var j=a.call(this,b)||this;return j.DEFAULT_HEADERS={},j._contentType=d,b.metadata&&g.s.warn("Metadata cannot be set when using http"),j.headers=Object.assign(j.DEFAULT_HEADERS,(0,e.QG)(b.headers),h.parseKeyPairsIntoRecord((0,i._)().OTEL_EXPORTER_OTLP_HEADERS)),j.agent=(0,f.KX)(b),j.compression=(0,f.Ft)(b.compression),j._serializer=c,j}return j(b,a),b.prototype.onInit=function(a){},b.prototype.send=function(a,b,c){var d=this;if(this._shutdownOnce.isCalled)return void g.s.debug("Shutdown already started. Cannot send objects");var e=new Promise(function(b,c){var e;(0,f.Pk)(d,null!=(e=d._serializer.serializeRequest(a))?e:new Uint8Array,d._contentType,b,c)}).then(b,c);this._sendingPromises.push(e);var h=function(){var a=d._sendingPromises.indexOf(e);d._sendingPromises.splice(a,1)};e.then(h,h)},b.prototype.onShutdown=function(){},b}(d.S)},173:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MissingRefError=b.ValidationError=b.CodeGen=b.Name=b.nil=b.stringify=b.str=b._=b.KeywordCxt=b.Ajv=void 0;let d=c(13413),e=c(99355),f=c(96564),g=c(13180),h=["/properties"],i="http://json-schema.org/draft-07/schema";class j extends d.default{_addVocabularies(){super._addVocabularies(),e.default.forEach(a=>this.addVocabulary(a)),this.opts.discriminator&&this.addKeyword(f.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let a=this.opts.$data?this.$dataMetaSchema(g,h):g;this.addMetaSchema(a,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}b.Ajv=j,a.exports=b=j,a.exports.Ajv=j,Object.defineProperty(b,"__esModule",{value:!0}),b.default=j;var k=c(23737);Object.defineProperty(b,"KeywordCxt",{enumerable:!0,get:function(){return k.KeywordCxt}});var l=c(38904);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(b,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var m=c(77009);Object.defineProperty(b,"ValidationError",{enumerable:!0,get:function(){return m.default}});var n=c(80390);Object.defineProperty(b,"MissingRefError",{enumerable:!0,get:function(){return n.default}})},391:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.DiscrError=void 0,function(a){a.Tag="tag",a.Mapping="mapping"}(c||(b.DiscrError=c={}))},465:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OTLPGRPCExporterNodeBase=void 0;let d=c(68948),e=c(41625),f=c(83442),g=c(96786),h=c(60664);class i extends f.OTLPExporterBase{constructor(a={},b,c,f,i){var j;super(a),this.grpcQueue=[],this._serializer=i,a.headers&&d.diag.warn("Headers cannot be set when using grpc");let k=Object.assign({},e.baggageUtils.parseKeyPairsIntoRecord((0,e.getEnv)().OTEL_EXPORTER_OTLP_HEADERS),b),l=()=>(0,h.configureCredentials)(void 0,this.getUrlFromConfig(a));if(null!=a.credentials){let b=a.credentials;l=()=>b}let m=null==(j=a.metadata)?void 0:j.clone();this.compression=(0,h.configureCompression)(a.compression),this._transport=new g.GrpcExporterTransport({address:this.getDefaultUrl(a),compression:this.compression,credentials:l,grpcName:c,grpcPath:f,metadata:()=>{let a=null!=m?m:(0,g.createEmptyMetadata)();for(let[b,c]of Object.entries(k))a.get(b).length<1&&a.set(b,c);return a},timeoutMillis:this.timeoutMillis})}onInit(){}onShutdown(){this._transport.shutdown()}send(a,b,c){if(this._shutdownOnce.isCalled)return void d.diag.debug("Shutdown already started. Cannot send objects");let e=this._serializer.serializeRequest(a);if(null==e)return void c(Error("Could not serialize message"));let g=this._transport.send(e).then(a=>{if("success"===a.status)return void b();"failure"===a.status&&a.error&&c(a.error),c(new f.OTLPExporterError("Export failed with unknown error"))},c);this._sendingPromises.push(g);let h=()=>{let a=this._sendingPromises.indexOf(g);this._sendingPromises.splice(a,1)};g.then(h,h)}}b.OTLPGRPCExporterNodeBase=i},470:(a,b,c)=>{"use strict";var d=c(42218),e=c(89390),f=c(72125),g=c(54726),h=c(28832);class i extends g.YAMLSeq{constructor(){super(),this.add=f.YAMLMap.prototype.add.bind(this),this.delete=f.YAMLMap.prototype.delete.bind(this),this.get=f.YAMLMap.prototype.get.bind(this),this.has=f.YAMLMap.prototype.has.bind(this),this.set=f.YAMLMap.prototype.set.bind(this),this.tag=i.tag}toJSON(a,b){if(!b)return super.toJSON(a);let c=new Map;for(let a of(b?.onCreate&&b.onCreate(c),this.items)){let f,g;if(d.isPair(a)?(f=e.toJS(a.key,"",b),g=e.toJS(a.value,f,b)):f=e.toJS(a,"",b),c.has(f))throw Error("Ordered maps must not include duplicate keys");c.set(f,g)}return c}static from(a,b,c){let d=h.createPairs(a,b,c),e=new this;return e.items=d.items,e}}i.tag="tag:yaml.org,2002:omap",b.YAMLOMap=i,b.omap={collection:"seq",identify:a=>a instanceof Map,nodeClass:i,default:!1,tag:"tag:yaml.org,2002:omap",resolve(a,b){let c=h.resolvePairs(a,b),e=[];for(let{key:a}of c.items)d.isScalar(a)&&(e.includes(a.value)?b(`Ordered maps must not include duplicate keys: ${a.value}`):e.push(a.value));return Object.assign(new i,c)},createNode:(a,b,c)=>i.from(a,b,c)}},595:(a,b,c)=>{"use strict";c.d(b,{S:()=>h});var d=c(79361),e=c(51064),f=c(4875),g=c(89162),h=function(){function a(a){void 0===a&&(a={}),this._sendingPromises=[],this.url=this.getDefaultUrl(a),"string"==typeof a.hostname&&(this.hostname=a.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new e.I(this._shutdown,this),this._concurrencyLimit="number"==typeof a.concurrencyLimit?a.concurrencyLimit:30,this.timeoutMillis=(0,g.rH)(a.timeoutMillis),this.onInit(a)}return a.prototype.export=function(a,b){return this._shutdownOnce.isCalled?void b({code:f.V.FAILED,error:Error("Exporter has been shutdown")}):this._sendingPromises.length>=this._concurrencyLimit?void b({code:f.V.FAILED,error:Error("Concurrent export limit reached")}):void this._export(a).then(function(){b({code:f.V.SUCCESS})}).catch(function(a){b({code:f.V.FAILED,error:a})})},a.prototype._export=function(a){var b=this;return new Promise(function(c,e){try{d.s.debug("items to be sent",a),b.send(a,c,e)}catch(a){e(a)}})},a.prototype.shutdown=function(){return this._shutdownOnce.call()},a.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then(function(){})},a.prototype._shutdown=function(){return d.s.debug("shutdown started"),this.onShutdown(),this.forceFlush()},a}()},611:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ClientDuplexStreamImpl=b.ClientWritableStreamImpl=b.ClientReadableStreamImpl=b.ClientUnaryCallImpl=void 0,b.callErrorFromStatus=function(a,b){let c=`${a.code} ${f.Status[a.code]}: ${a.details}`,d=Error(c),e=`${d.stack}
for call at
${b}`;return Object.assign(Error(c),a,{stack:e})};let d=c(94735),e=c(27910),f=c(56458);class g extends d.EventEmitter{constructor(){super()}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}getAuthContext(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getAuthContext())?b:null}}b.ClientUnaryCallImpl=g;class h extends e.Readable{constructor(a){super({objectMode:!0}),this.deserialize=a}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}getAuthContext(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getAuthContext())?b:null}_read(a){var b;null==(b=this.call)||b.startRead()}}b.ClientReadableStreamImpl=h;class i extends e.Writable{constructor(a){super({objectMode:!0}),this.serialize=a}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}getAuthContext(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getAuthContext())?b:null}_write(a,b,c){var d;let e={callback:c},f=Number(b);Number.isNaN(f)||(e.flags=f),null==(d=this.call)||d.sendMessageWithContext(e,a)}_final(a){var b;null==(b=this.call)||b.halfClose(),a()}}b.ClientWritableStreamImpl=i;class j extends e.Duplex{constructor(a,b){super({objectMode:!0}),this.serialize=a,this.deserialize=b}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}getAuthContext(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getAuthContext())?b:null}_read(a){var b;null==(b=this.call)||b.startRead()}_write(a,b,c){var d;let e={callback:c},f=Number(b);Number.isNaN(f)||(e.flags=f),null==(d=this.call)||d.sendMessageWithContext(e,a)}_final(a){var b;null==(b=this.call)||b.halfClose(),a()}}b.ClientDuplexStreamImpl=j},955:(a,b)=>{"use strict";b.resolveEnd=function(a,b,c,d){let e="";if(a){let f=!1,g="";for(let h of a){let{source:a,type:i}=h;switch(i){case"space":f=!0;break;case"comment":{c&&!f&&d(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let b=a.substring(1)||" ";e?e+=g+b:e=b,g="";break}case"newline":e&&(g+=a),f=!0;break;default:d(h,"UNEXPECTED_TOKEN",`Unexpected ${i} at node end`)}b+=a.length}}return{comment:e,offset:b}}},1134:a=>{"use strict";a.exports=function(a){for(;;){var b=a.indexOf("\x1b[");if(b<0)return a;var c=a.indexOf("m",b);if(c<0)return a;a=a.slice(0,b)+a.slice(c+1)}}},1148:(a,b,c)=>{"use strict";var d=c(82740),e=Object.create(null);e[d.BOOL]="BOOL",e[d.VOID]="VOID",e[d.BYTE]="BYTE",e[d.DOUBLE]="DOUBLE",e[d.I16]="I16",e[d.I32]="I32",e[d.I64]="I64",e[d.STRING]="STRING",e[d.MAP]="MAP",e[d.LIST]="LIST",e[d.SET]="SET",e[d.STRUCT]="STRUCT",a.exports=e},1302:(a,b,c)=>{"use strict";c.d(b,{$L:()=>bP,$R:()=>ct,$T:()=>cz,$c:()=>ds,AC:()=>bA,AS:()=>cE,AV:()=>bL,BF:()=>a0,BT:()=>c8,BY:()=>b_,Bt:()=>a1,C3:()=>bK,Cg:()=>cS,Cn:()=>bE,DL:()=>cQ,Dn:()=>aT,E3:()=>aG,Eh:()=>bZ,Fz:()=>cD,HE:()=>dn,HF:()=>bT,HP:()=>bc,I2:()=>a$,IG:()=>be,Iq:()=>aJ,JO:()=>co,JW:()=>c3,Jn:()=>cC,Ky:()=>bf,L6:()=>cu,MK:()=>aP,Mm:()=>a3,Nw:()=>aH,OZ:()=>cP,PL:()=>bN,PO:()=>a6,PU:()=>bl,PZ:()=>aX,Pb:()=>bk,Pi:()=>db,Pl:()=>bQ,RB:()=>aZ,RK:()=>a8,S5:()=>dk,SA:()=>aM,SV:()=>aK,Su:()=>bs,TH:()=>bj,Tg:()=>cv,Tl:()=>bh,U1:()=>bV,U2:()=>bG,UQ:()=>cN,Uf:()=>a2,VH:()=>aL,Vf:()=>cp,Vm:()=>cs,Vx:()=>cn,Vy:()=>bw,WC:()=>cl,WE:()=>cj,WN:()=>bU,XE:()=>dl,Xm:()=>b$,Yb:()=>bH,Yh:()=>c2,ZZ:()=>aU,Zf:()=>aO,_2:()=>bW,a1:()=>cy,aA:()=>aV,an:()=>aS,ar:()=>bM,av:()=>cO,be:()=>bb,cJ:()=>c9,cV:()=>bJ,do:()=>bo,du:()=>dp,f8:()=>bp,fP:()=>bC,g9:()=>bd,gJ:()=>bi,gT:()=>bv,h0:()=>dc,h7:()=>c6,hQ:()=>bz,hi:()=>cM,ig:()=>cR,ik:()=>by,jN:()=>dt,jV:()=>b1,k7:()=>bn,kE:()=>a9,kn:()=>bq,ko:()=>bx,kv:()=>bm,ky:()=>bB,l9:()=>da,lO:()=>a4,lb:()=>bI,mA:()=>aF,mc:()=>bt,nA:()=>bS,ns:()=>cA,o2:()=>dm,oH:()=>cr,op:()=>ck,ov:()=>b0,p7:()=>cm,pV:()=>bg,qB:()=>cw,qF:()=>aR,qN:()=>cx,rK:()=>br,sS:()=>c5,so:()=>cL,tD:()=>c7,tP:()=>dr,tn:()=>a_,uB:()=>aY,uh:()=>du,uu:()=>a5,ux:()=>aW,v0:()=>aQ,wE:()=>dq,wP:()=>dv,x2:()=>bF,xC:()=>aI,xG:()=>c4,xQ:()=>bD,xR:()=>c1,xs:()=>bO,y$:()=>bR,yB:()=>aN,yT:()=>ba,z3:()=>bu,zF:()=>cq,zs:()=>a7});var d=c(66556),e="cloud.provider",f="cloud.account.id",g="cloud.region",h="cloud.availability_zone",i="cloud.platform",j="aws.ecs.container.arn",k="aws.ecs.cluster.arn",l="aws.ecs.launchtype",m="aws.ecs.task.arn",n="aws.ecs.task.family",o="aws.ecs.task.revision",p="aws.eks.cluster.arn",q="aws.log.group.names",r="aws.log.group.arns",s="aws.log.stream.names",t="aws.log.stream.arns",u="container.name",v="container.id",w="container.runtime",x="container.image.name",y="container.image.tag",z="deployment.environment",A="device.id",B="device.model.identifier",C="device.model.name",D="faas.name",E="faas.id",F="faas.version",G="faas.instance",H="faas.max_memory",I="host.id",J="host.name",K="host.type",L="host.arch",M="host.image.name",N="host.image.id",O="host.image.version",P="k8s.cluster.name",Q="k8s.node.name",R="k8s.node.uid",S="k8s.namespace.name",T="k8s.pod.uid",U="k8s.pod.name",V="k8s.container.name",W="k8s.replicaset.uid",X="k8s.replicaset.name",Y="k8s.deployment.uid",Z="k8s.deployment.name",$="k8s.statefulset.uid",_="k8s.statefulset.name",aa="k8s.daemonset.uid",ab="k8s.daemonset.name",ac="k8s.job.uid",ad="k8s.job.name",ae="k8s.cronjob.uid",af="k8s.cronjob.name",ag="os.type",ah="os.description",ai="os.name",aj="os.version",ak="process.pid",al="process.executable.name",am="process.executable.path",an="process.command",ao="process.command_line",ap="process.command_args",aq="process.owner",ar="process.runtime.name",as="process.runtime.version",at="process.runtime.description",au="service.name",av="service.namespace",aw="service.instance.id",ax="service.version",ay="telemetry.sdk.name",az="telemetry.sdk.language",aA="telemetry.sdk.version",aB="telemetry.auto.version",aC="webengine.name",aD="webengine.version",aE="webengine.description",aF=e,aG=f,aH=g,aI=h,aJ=i,aK=j,aL=k,aM=l,aN=m,aO=n,aP=o,aQ=p,aR=q,aS=r,aT=s,aU=t,aV=u,aW=v,aX=w,aY=x,aZ=y,a$=z,a_=A,a0=B,a1=C,a2=D,a3=E,a4=F,a5=G,a6=H,a7=I,a8=J,a9=K,ba=L,bb=M,bc=N,bd=O,be=P,bf=Q,bg=R,bh=S,bi=T,bj=U,bk=V,bl=W,bm=X,bn=Y,bo=Z,bp=$,bq=_,br=aa,bs=ab,bt=ac,bu=ad,bv=ae,bw=af,bx=ag,by=ah,bz=ai,bA=aj,bB=ak,bC=al,bD=am,bE=an,bF=ao,bG=ap,bH=aq,bI=ar,bJ=as,bK=at,bL=au,bM=av,bN=aw,bO=ax,bP=ay,bQ=az,bR=aA,bS=aB,bT=aC,bU=aD,bV=aE,bW=(0,d.O)([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE]),bX="alibaba_cloud",bY="azure",bZ=bX,b$="aws",b_=bY,b0="gcp",b1=(0,d.O)([bX,"aws",bY,"gcp"]),b2="alibaba_cloud_ecs",b3="alibaba_cloud_fc",b4="aws_ec2",b5="aws_ecs",b6="aws_eks",b7="aws_lambda",b8="aws_elastic_beanstalk",b9="azure_vm",ca="azure_container_instances",cb="azure_aks",cc="azure_functions",cd="azure_app_service",ce="gcp_compute_engine",cf="gcp_cloud_run",cg="gcp_kubernetes_engine",ch="gcp_cloud_functions",ci="gcp_app_engine",cj=b2,ck=b3,cl=b4,cm=b5,cn=b6,co=b7,cp=b8,cq=b9,cr=ca,cs=cb,ct=cc,cu=cd,cv=ce,cw=cf,cx=cg,cy=ch,cz=ci,cA=(0,d.O)([b2,b3,b4,b5,b6,b7,b8,b9,ca,cb,cc,cd,ce,cf,cg,ch,ci]),cB="fargate",cC="ec2",cD=cB,cE=(0,d.O)(["ec2",cB]),cF="amd64",cG="arm32",cH="arm64",cI="ia64",cJ="ppc32",cK="ppc64",cL=cF,cM=cG,cN=cH,cO=cI,cP=cJ,cQ=cK,cR="x86",cS=(0,d.O)([cF,cG,cH,cI,cJ,cK,"x86"]),cT="windows",cU="linux",cV="darwin",cW="freebsd",cX="netbsd",cY="openbsd",cZ="dragonflybsd",c$="hpux",c_="solaris",c0="z_os",c1=cT,c2=cU,c3=cV,c4=cW,c5=cX,c6=cY,c7=cZ,c8=c$,c9="aix",da=c_,db=c0,dc=(0,d.O)([cT,cU,cV,cW,cX,cY,cZ,c$,"aix",c_,c0]),dd="dotnet",de="erlang",df="java",dg="nodejs",dh="python",di="ruby",dj="webjs",dk="cpp",dl=dd,dm=de,dn="go",dp=df,dq=dg,dr="php",ds=dh,dt=di,du=dj,dv=(0,d.O)(["cpp",dd,de,"go",df,dg,"php",dh,di,dj])},1430:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904);b.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:a})=>(0,d.str)`must be multiple of ${a}`,params:({schemaCode:a})=>(0,d._)`{multipleOf: ${a}}`},code(a){let{gen:b,data:c,schemaCode:e,it:f}=a,g=f.opts.multipleOfPrecision,h=b.let("res"),i=g?(0,d._)`Math.abs(Math.round(${h}) - ${h}) > 1e-${g}`:(0,d._)`${h} !== parseInt(${h})`;a.fail$data((0,d._)`(${e} === 0 || (${h} = ${c}/${e}, ${i}))`)}}},1735:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseNeverDef=void 0;let d=c(10715);b.parseNeverDef=function(a){return"openAi"===a.target?void 0:{not:(0,d.parseAnyDef)({...a,currentPath:[...a.currentPath,"not"]})}}},1961:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(64062),b),e(c(11293),b),e(c(80526),b),e(c(78404),b),e(c(61937),b),e(c(3667),b)},1998:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{CommonRetrieverOptionsSchema:()=>w,Document:()=>l.Document,DocumentDataSchema:()=>l.DocumentDataSchema,IndexerInfoSchema:()=>y,RetrieverInfoSchema:()=>p,defineIndexer:()=>s,defineRetriever:()=>q,defineSimpleRetriever:()=>A,index:()=>v,indexer:()=>t,indexerRef:()=>z,retrieve:()=>u,retriever:()=>r,retrieverRef:()=>x}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(76944),k=c(25399),l=c(25399);let m=i.z.object({query:k.DocumentDataSchema,options:i.z.any().optional()}),n=i.z.object({documents:i.z.array(k.DocumentDataSchema)}),o=i.z.object({documents:i.z.array(k.DocumentDataSchema),options:i.z.any().optional()}),p=i.z.object({label:i.z.string().optional(),supports:i.z.object({media:i.z.boolean().optional()}).optional()});function q(a,b,c){let d=r(b,c);return a.registerAction("retriever",d),d}function r(a,b){var c;return(c=(0,i.action)({actionType:"retriever",name:a.name,inputSchema:a.configSchema?m.extend({options:a.configSchema.optional()}):m,outputSchema:n,metadata:{type:"retriever",info:a.info,retriever:{customOptions:a.configSchema?(0,j.toJsonSchema)({schema:a.configSchema}):void 0}}},a=>b(new k.Document(a.query),a.options))).__configSchema=a.configSchema,c}function s(a,b,c){let d=t(b,c);return a.registerAction("indexer",d),d}function t(a,b){var c;return(c=(0,i.action)({actionType:"indexer",name:a.name,inputSchema:a.configSchema?o.extend({options:a.configSchema.optional()}):o,outputSchema:i.z.void(),metadata:{type:"indexer",embedderInfo:a.embedderInfo,indexer:{customOptions:a.configSchema?(0,j.toJsonSchema)({schema:a.configSchema}):void 0}}},a=>b(a.documents.map(a=>new k.Document(a)),a.options))).__configSchema=a.configSchema,c}async function u(a,b){let c;if(!(c="string"==typeof b.retriever?await a.lookupAction(`/retriever/${b.retriever}`):Object.hasOwnProperty.call(b.retriever,"info")?await a.lookupAction(`/retriever/${b.retriever.name}`):b.retriever))throw Error("Unable to resolve the retriever");return(await c({query:"string"==typeof b.query?k.Document.fromText(b.query):b.query,options:b.options})).documents.map(a=>new k.Document(a))}async function v(a,b){let c;if(!(c="string"==typeof b.indexer?await a.lookupAction(`/indexer/${b.indexer}`):Object.hasOwnProperty.call(b.indexer,"info")?await a.lookupAction(`/indexer/${b.indexer.name}`):b.indexer))throw Error("Unable to utilize the provided indexer");return await c({documents:b.documents,options:b.options})}let w=i.z.object({k:i.z.number().describe("Number of documents to retrieve").optional()});function x(a){return{...a}}let y=p;function z(a){return{...a}}function A(a,b,c){return q(a,{name:b.name,configSchema:b.configSchema},async(a,d)=>({documents:(await c(a,d)).map(a=>{let c=function(a,b){if(!a)throw new i.GenkitError({status:"INVALID_ARGUMENT",message:"Items returned from simple retriever must be non-null."});if("string"==typeof a)return k.Document.fromText(a);if("function"==typeof b.content){let c=b.content(a);return"string"==typeof c?k.Document.fromText(c):new k.Document({content:c})}if("string"==typeof b.content&&"object"==typeof a)return k.Document.fromText(a[b.content]);throw new i.GenkitError({status:"INVALID_ARGUMENT",message:`Cannot convert item to document without content option. Item: ${JSON.stringify(a)}`})}(a,b);return"string"!=typeof a&&(c.metadata=function(a,b){if("string"!=typeof a){if(Array.isArray(b.metadata)&&"object"==typeof a){let c={};return b.metadata.forEach(b=>c[b]=a[b]),c}if("function"==typeof b.metadata)return b.metadata(a);if(!b.metadata&&"object"==typeof a){let c={...a};return"string"==typeof b.content&&delete c[b.content],c}throw new i.GenkitError({status:"INVALID_ARGUMENT",message:`Unable to extract metadata from item with supplied options. Item: ${JSON.stringify(a)}`})}}(a,b)),c})}))}},2276:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.setup=function(){(0,d.registerResolver)("unix",f)};let d=c(43313),e=c(13685);class f{constructor(a,b,c){let d;this.listener=b,this.hasReturnedResult=!1,this.endpoints=[],d=""===a.authority?"/"+a.path:a.path,this.endpoints=[{addresses:[{path:d}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener,(0,e.statusOrFromValue)(this.endpoints),{},null,""))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(a){return"localhost"}}},2495:(a,b,c)=>{"use strict";var d=c(42218),e=c(74648),f=c(72125);class g extends f.YAMLMap{constructor(a){super(a),this.tag=g.tag}add(a){let b;b=d.isPair(a)?a:a&&"object"==typeof a&&"key"in a&&"value"in a&&null===a.value?new e.Pair(a.key,null):new e.Pair(a,null),f.findPair(this.items,b.key)||this.items.push(b)}get(a,b){let c=f.findPair(this.items,a);return!b&&d.isPair(c)?d.isScalar(c.key)?c.key.value:c.key:c}set(a,b){if("boolean"!=typeof b)throw Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof b}`);let c=f.findPair(this.items,a);c&&!b?this.items.splice(this.items.indexOf(c),1):!c&&b&&this.items.push(new e.Pair(a))}toJSON(a,b){return super.toJSON(a,b,Set)}toString(a,b,c){if(!a)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},a,{allNullValues:!0}),b,c);throw Error("Set items must all have null values")}static from(a,b,c){let{replacer:d}=c,f=new this(a);if(b&&Symbol.iterator in Object(b))for(let a of b)"function"==typeof d&&(a=d.call(b,a,a)),f.items.push(e.createPair(a,null,c));return f}}g.tag="tag:yaml.org,2002:set",b.YAMLSet=g,b.set={collection:"map",identify:a=>a instanceof Set,nodeClass:g,default:!1,tag:"tag:yaml.org,2002:set",createNode:(a,b,c)=>g.from(a,b,c),resolve(a,b){if(d.isMap(a))if(a.hasAllNullValues(!0))return Object.assign(new g,a);else b("Set items must all have null values");else b("Expected a mapping for this tag");return a}}},2799:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};function g(){let a,b,c=new Promise((c,d)=>([a,b]=[c,d]));return{resolve:a,reject:b,promise:c}}((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{Channel:()=>h,LazyPromise:()=>i,lazy:()=>j}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);class h{ready=g();buffer=[];err=null;send(a){this.buffer.push(a),this.ready.resolve()}close(){this.buffer.push(null),this.ready.resolve()}error(a){this.err=a,this.ready.reject(a)}[Symbol.asyncIterator](){return{next:async()=>{if(this.err)throw this.err;this.buffer.length||await this.ready.promise;let a=this.buffer.shift();return this.buffer.length||(this.ready=g()),{value:a,done:!a}}}}}class i{executor;promise;constructor(a){this.executor=a}then(a,b){return this.promise??=new Promise(this.executor),this.promise.then(a,b)}}function j(a){return new i((b,c)=>{try{b(a())}catch(a){c(a)}})}},3642:(a,b,c)=>{"use strict";var d=c(79428),e=c(8408),f=c(41604);b.binary={identify:a=>a instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(a,b){if("function"==typeof d.Buffer)return d.Buffer.from(a,"base64");if("function"!=typeof atob)return b("This environment does not support reading binary tags; either Buffer or atob is required"),a;{let b=atob(a.replace(/[\n\r]/g,"")),c=new Uint8Array(b.length);for(let a=0;a<b.length;++a)c[a]=b.charCodeAt(a);return c}},stringify({comment:a,type:b,value:c},g,h,i){let j;if(!c)return"";if("function"==typeof d.Buffer)j=c instanceof d.Buffer?c.toString("base64"):d.Buffer.from(c.buffer).toString("base64");else if("function"==typeof btoa){let a="";for(let b=0;b<c.length;++b)a+=String.fromCharCode(c[b]);j=btoa(a)}else throw Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(b??(b=e.Scalar.BLOCK_LITERAL),b!==e.Scalar.QUOTE_DOUBLE){let a=Math.max(g.options.lineWidth-g.indent.length,g.options.minContentWidth),c=Math.ceil(j.length/a),d=Array(c);for(let b=0,e=0;b<c;++b,e+=a)d[b]=j.substr(e,a);j=d.join(b===e.Scalar.BLOCK_LITERAL?"\n":" ")}return f.stringifyString({comment:a,type:b,value:j},g,h,i)}}},3667:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ZodError=b.quotelessJson=b.ZodIssueCode=void 0;let d=c(78404);b.ZodIssueCode=d.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),b.quotelessJson=a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:");class e extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof e))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,d.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}b.ZodError=e,e.create=a=>new e(a)},3774:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0,b.parseWithoutProcessing=j,b.parse=function(a,b){var c=j(a,b);return new f.default(b).accept(c)};var e=d(c(39584)),f=d(c(71918)),g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(c(83096)),h=c(80496);b.parser=e.default;var i={};function j(a,b){return"Program"===a.type?a:(e.default.yy=i,i.locInfo=function(a){return new i.SourceLocation(b&&b.srcName,a)},e.default.parse(a))}h.extend(i,g)},4066:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{textFormatter:()=>g}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);let g={name:"text",config:{contentType:"text/plain"},handler:()=>({parseChunk:a=>a.text,parseMessage:a=>a.text})}},4481:(a,b,c)=>{"use strict";c.d(b,{D:()=>h});var d=c(29021),e=c(13590),f=c(79361),g=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}};function h(){var a,b,c,h;return a=this,b=void 0,c=void 0,h=function(){var a,b;return g(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,d.promises.readFile("/etc/hostid",{encoding:"utf8"})];case 1:return[2,c.sent().trim()];case 2:return a=c.sent(),f.s.debug("error reading machine id: "+a),[3,3];case 3:return c.trys.push([3,5,,6]),[4,(0,e.q)("kenv -q smbios.system.uuid")];case 4:return[2,c.sent().stdout.trim()];case 5:return b=c.sent(),f.s.debug("error reading machine id: "+b),[3,6];case 6:return[2,""]}})},new(c||(c=Promise))(function(d,e){function f(a){try{i(h.next(a))}catch(a){e(a)}}function g(a){try{i(h.throw(a))}catch(a){e(a)}}function i(a){var b;a.done?d(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(f,g)}i((h=h.apply(a,b||[])).next())})}},4607:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{LlmResponseSchema:()=>n,LlmStatsSchema:()=>k,ToolCallSchema:()=>m,ToolSchema:()=>l,toToolWireFormat:()=>o}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(76944);let k=i.z.object({latencyMs:i.z.number().optional(),inputTokenCount:i.z.number().optional(),outputTokenCount:i.z.number().optional()}),l=i.z.object({name:i.z.string(),description:i.z.string().optional(),schema:i.z.any()}),m=i.z.object({toolName:i.z.string(),arguments:i.z.any()}),n=i.z.object({completion:i.z.string(),toolCalls:i.z.array(m).optional(),stats:k});function o(a){if(a)return a.map(a=>({name:a.__action.name,description:a.__action.description,schema:{input:(0,j.toJsonSchema)({schema:a.__action.inputSchema,jsonSchema:a.__action.inputJsonSchema}),output:(0,j.toJsonSchema)({schema:a.__action.outputSchema,jsonSchema:a.__action.outputJsonSchema})}}))}},4875:(a,b,c)=>{"use strict";var d;c.d(b,{V:()=>d}),function(a){a[a.SUCCESS=0]="SUCCESS",a[a.FAILED=1]="FAILED"}(d||(d={}))},4919:(a,b,c)=>{"use strict";var d=c(73355),e=c(12412),f=c(25088),g=Object.prototype.toString,h=/\{causeMessage\}/g,i=/\{origMessage\}/g;function j(a,b){return Object.prototype.hasOwnProperty.call(a,b)}a.exports=function(a){e(a,"WrappedError: must specify options"),e(a.type,"WrappedError: must specify type"),e(a.message,"WrappedError: must specify message"),e(!j(a,"cause"),"WrappedError: cause field is reserved"),e(!j(a,"fullType"),"WrappedError: fullType field is reserved"),e(!j(a,"causeMessage"),"WrappedError: causeMessage field is reserved"),e(!j(a,"origMessage"),"WrappedError: origMessage field is reserved");var b=f(a);return d(c,a),c._name=a.name,c;function c(c,f){e(c,"an error is required"),e((k=c,"[object Error]"===g.call(k)),"WrappedError: first argument must be an error");var k,l=c.message;l.indexOf("{causeMessage}")>=0&&(l=l.replace(h,"$INVALID_CAUSE_MESSAGE_LITERAL")),l.indexOf("{origMessage}")>=0&&(l=l.replace(i,"$INVALID_ORIG_MESSAGE_LITERAL"));var m=!1,n=d({},f,{causeMessage:l,origMessage:l});j(c,"code")&&!j(n,"code")&&(n.code=c.code),j(c,"errno")&&!j(n,"errno")&&(n.errno=c.errno,m=!0),j(c,"syscall")&&!j(n,"syscall")&&(n.syscall=c.syscall,m=!0);var o=c.type;o=!o&&m?"error.wrapped-io."+(c.syscall||"unknown")+"."+(c.errno||"unknown"):"error.wrapped-unknown",n.fullType=a.type+"~!~"+(c.fullType||c.type||o);var p=b(n);return Object.defineProperty(p,"cause",{value:c,configurable:!0,enumerable:!1}),p}}},5030:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{augmentWithContext:()=>i.augmentWithContext,downloadRequestMedia:()=>i.downloadRequestMedia,simulateSystemPrompt:()=>i.simulateSystemPrompt,validateSupport:()=>i.validateSupport}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(29706)},5338:function(a,b,c){"use strict";var d,e=this&&this.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(b,"__esModule",{value:!0});var f=c(72204),g=c(76303),h=function(a){function b(b){var c=a.call(this)||this;return c._mockTracer=b,c._uuid=c._generateUUID(),c._startMs=Date.now(),c._finishMs=0,c._operationName="",c._tags={},c._logs=[],c}return e(b,a),b.prototype._context=function(){return new g.default(this)},b.prototype._setOperationName=function(a){this._operationName=a},b.prototype._addTags=function(a){for(var b=Object.keys(a),c=0;c<b.length;c++){var d=b[c];this._tags[d]=a[d]}},b.prototype._log=function(a,b){this._logs.push({fields:a,timestamp:b})},b.prototype._finish=function(a){this._finishMs=a||Date.now()},b.prototype.uuid=function(){return this._uuid},b.prototype.operationName=function(){return this._operationName},b.prototype.durationMs=function(){return this._finishMs-this._startMs},b.prototype.tags=function(){return this._tags},b.prototype.tracer=function(){return this._mockTracer},b.prototype._generateUUID=function(){return""+("00000000"+Math.abs(0xffffffff*Math.random()|0).toString(16)).substr(-8)+("00000000"+Math.abs(0xffffffff*Math.random()|0).toString(16)).substr(-8)},b.prototype.addReference=function(a){},b.prototype.debug=function(){var a={uuid:this._uuid,operation:this._operationName,millis:[this._finishMs-this._startMs,this._startMs,this._finishMs]};return Object.keys(this._tags).length&&(a.tags=this._tags),a},b}(f.Span);b.MockSpan=h,b.default=h},5852:(a,b,c)=>{"use strict";let d=c(26220);a.exports=(a,b)=>a.sort((a,c)=>d(c,a,b))},5872:(a,b)=>{"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b.default=c,a.exports=b.default},5896:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateAdditionalItems=void 0;let d=c(38904),e=c(46178);function f(a,b){let{gen:c,schema:f,data:g,keyword:h,it:i}=a;i.items=!0;let j=c.const("len",(0,d._)`${g}.length`);if(!1===f)a.setParams({len:b.length}),a.pass((0,d._)`${j} <= ${b.length}`);else if("object"==typeof f&&!(0,e.alwaysValidSchema)(i,f)){let f=c.var("valid",(0,d._)`${j} <= ${b.length}`);c.if((0,d.not)(f),()=>{var g;return g=f,void c.forRange("i",b.length,j,b=>{a.subschema({keyword:h,dataProp:b,dataPropType:e.Type.Num},g),i.allErrors||c.if((0,d.not)(g),()=>c.break())})}),a.ok(f)}}b.validateAdditionalItems=f,b.default={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{parentSchema:b,it:c}=a,{items:d}=b;if(!Array.isArray(d))return void(0,e.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');f(a,d)}}},6068:(a,b,c)=>{"use strict";var d=c(42218),e=c(8408),f=c(72125),g=c(54726),h=c(73838),i=c(40613),j=c(24241);function k(a,b,c,d,e,f){let g="block-map"===c.type?h.resolveBlockMap(a,b,c,d,f):"block-seq"===c.type?i.resolveBlockSeq(a,b,c,d,f):j.resolveFlowCollection(a,b,c,d,f),k=g.constructor;return"!"===e||e===k.tagName?g.tag=k.tagName:e&&(g.tag=e),g}b.composeCollection=function(a,b,c,h,i){let j=h.tag,l=j?b.directives.tagName(j.source,a=>i(j,"TAG_RESOLVE_FAILED",a)):null;if("block-seq"===c.type){let{anchor:a,newlineAfterProp:b}=h,c=a&&j?a.offset>j.offset?a:j:a??j;c&&(!b||b.offset<c.offset)&&i(c,"MISSING_CHAR","Missing newline after block sequence props")}let m="block-map"===c.type?"map":"block-seq"===c.type?"seq":"{"===c.start.source?"map":"seq";if(!j||!l||"!"===l||l===f.YAMLMap.tagName&&"map"===m||l===g.YAMLSeq.tagName&&"seq"===m)return k(a,b,c,i,l);let n=b.schema.tags.find(a=>a.tag===l&&a.collection===m);if(!n){let d=b.schema.knownTags[l];if(!d||d.collection!==m)return d?i(j,"BAD_COLLECTION_TYPE",`${d.tag} used for ${m} collection, but expects ${d.collection??"scalar"}`,!0):i(j,"TAG_RESOLVE_FAILED",`Unresolved tag: ${l}`,!0),k(a,b,c,i,l);b.schema.tags.push(Object.assign({},d,{default:!1})),n=d}let o=k(a,b,c,i,l,n),p=n.resolve?.(o,a=>i(j,"TAG_RESOLVE_FAILED",a),b.options)??o,q=d.isNode(p)?p:new e.Scalar(p);return q.range=o.range,q.tag=l,n?.format&&(q.format=n.format),q}},6206:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var e=d(c(35800)),f=d(c(68747)),g=c(3774),h=c(58062),i=d(c(74718)),j=d(c(70553)),k=d(c(54999)),l=e.default.create;function m(){var a=l();return a.compile=function(b,c){return h.compile(b,c,a)},a.precompile=function(b,c){return h.precompile(b,c,a)},a.AST=f.default,a.Compiler=h.Compiler,a.JavaScriptCompiler=i.default,a.Parser=g.parser,a.parse=g.parse,a.parseWithoutProcessing=g.parseWithoutProcessing,a}var n=m();n.create=m,k.default(n),n.Visitor=j.default,n.default=n,b.default=n,a.exports=b.default},6250:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(i,{Genkit:()=>j.Genkit,genkit:()=>j.genkit}),a.exports=h(d({},"__esModule",{value:!0}),i),((a,b,c)=>(h(a,b,"default"),c&&h(c,b,"default")))(i,c(38157),a.exports);var j=c(92172)},6305:(a,b,c)=>{"use strict";b.__esModule=!0;var d=c(80496);b.default=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},a.exports=b.default},6490:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904),e=c(46178);function f(a,b){let c=a.schema[b];return void 0!==c&&!(0,e.alwaysValidSchema)(a,c)}b.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,d.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,d._)`{failingKeyword: ${a.ifClause}}`},code(a){let{gen:b,parentSchema:c,it:g}=a;void 0===c.then&&void 0===c.else&&(0,e.checkStrictMode)(g,'"if" without "then" and "else" is ignored');let h=f(g,"then"),i=f(g,"else");if(!h&&!i)return;let j=b.let("valid",!0),k=b.name("_valid");if(function(){let b=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},k);a.mergeEvaluated(b)}(),a.reset(),h&&i){let c=b.let("ifClause");a.setParams({ifClause:c}),b.if(k,l("then",c),l("else",c))}else h?b.if(k,l("then")):b.if((0,d.not)(k),l("else"));function l(c,e){return()=>{let f=a.subschema({keyword:c},k);b.assign(j,k),a.mergeValidEvaluated(f,j),e?b.assign(e,(0,d._)`${c}`):a.setParams({ifClause:c})}}a.pass(j,()=>a.error(!0))}}},6528:(a,b,c)=>{"use strict";b.__esModule=!0,b.createProtoAccessControl=function(a){var b=Object.create(null);b.constructor=!1,b.__defineGetter__=!1,b.__defineSetter__=!1,b.__lookupGetter__=!1;var c=Object.create(null);return c.__proto__=!1,{properties:{whitelist:d.createNewLookupObject(c,a.allowedProtoProperties),defaultValue:a.allowProtoPropertiesByDefault},methods:{whitelist:d.createNewLookupObject(b,a.allowedProtoMethods),defaultValue:a.allowProtoMethodsByDefault}}},b.resultIsAllowed=function(a,b,c){return"function"==typeof a?g(b.methods,c):g(b.properties,c)},b.resetLoggedProperties=function(){Object.keys(f).forEach(function(a){delete f[a]})};var d=c(64905),e=function(a){return a&&a.__esModule?a:{default:a}}(c(75905)),f=Object.create(null);function g(a,b){var c;return void 0!==a.whitelist[b]?!0===a.whitelist[b]:void 0!==a.defaultValue?a.defaultValue:(!0!==f[c=b]&&(f[c]=!0,e.default.log("error",'Handlebars: Access has been denied to resolve the property "'+c+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details')),!1)}},6613:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(11681);b.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:a=>(0,d.validateTuple)(a,"items")}},7261:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=b.createCertificateProviderChannelCredentials=b.FileWatcherCertificateProvider=b.createCertificateProviderServerCredentials=b.createServerCredentialsWithInterceptors=b.BaseSubchannelWrapper=b.registerAdminService=b.FilterStackFactory=b.BaseFilter=b.statusOrFromError=b.statusOrFromValue=b.PickResultType=b.QueuePicker=b.UnavailablePicker=b.ChildLoadBalancerHandler=b.EndpointMap=b.endpointHasAddress=b.endpointToString=b.subchannelAddressToString=b.LeafLoadBalancer=b.isLoadBalancerNameRegistered=b.parseLoadBalancingConfig=b.selectLbConfigFromList=b.registerLoadBalancerType=b.createChildChannelControlHelper=b.BackoffTimeout=b.parseDuration=b.durationToMs=b.splitHostPort=b.uriToString=b.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=b.createResolver=b.registerResolver=b.log=b.trace=void 0;var d=c(38702);Object.defineProperty(b,"trace",{enumerable:!0,get:function(){return d.trace}}),Object.defineProperty(b,"log",{enumerable:!0,get:function(){return d.log}});var e=c(43313);Object.defineProperty(b,"registerResolver",{enumerable:!0,get:function(){return e.registerResolver}}),Object.defineProperty(b,"createResolver",{enumerable:!0,get:function(){return e.createResolver}}),Object.defineProperty(b,"CHANNEL_ARGS_CONFIG_SELECTOR_KEY",{enumerable:!0,get:function(){return e.CHANNEL_ARGS_CONFIG_SELECTOR_KEY}});var f=c(9413);Object.defineProperty(b,"uriToString",{enumerable:!0,get:function(){return f.uriToString}}),Object.defineProperty(b,"splitHostPort",{enumerable:!0,get:function(){return f.splitHostPort}});var g=c(27615);Object.defineProperty(b,"durationToMs",{enumerable:!0,get:function(){return g.durationToMs}}),Object.defineProperty(b,"parseDuration",{enumerable:!0,get:function(){return g.parseDuration}});var h=c(9251);Object.defineProperty(b,"BackoffTimeout",{enumerable:!0,get:function(){return h.BackoffTimeout}});var i=c(20606);Object.defineProperty(b,"createChildChannelControlHelper",{enumerable:!0,get:function(){return i.createChildChannelControlHelper}}),Object.defineProperty(b,"registerLoadBalancerType",{enumerable:!0,get:function(){return i.registerLoadBalancerType}}),Object.defineProperty(b,"selectLbConfigFromList",{enumerable:!0,get:function(){return i.selectLbConfigFromList}}),Object.defineProperty(b,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return i.parseLoadBalancingConfig}}),Object.defineProperty(b,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return i.isLoadBalancerNameRegistered}});var j=c(8557);Object.defineProperty(b,"LeafLoadBalancer",{enumerable:!0,get:function(){return j.LeafLoadBalancer}});var k=c(41835);Object.defineProperty(b,"subchannelAddressToString",{enumerable:!0,get:function(){return k.subchannelAddressToString}}),Object.defineProperty(b,"endpointToString",{enumerable:!0,get:function(){return k.endpointToString}}),Object.defineProperty(b,"endpointHasAddress",{enumerable:!0,get:function(){return k.endpointHasAddress}}),Object.defineProperty(b,"EndpointMap",{enumerable:!0,get:function(){return k.EndpointMap}});var l=c(89092);Object.defineProperty(b,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return l.ChildLoadBalancerHandler}});var m=c(96269);Object.defineProperty(b,"UnavailablePicker",{enumerable:!0,get:function(){return m.UnavailablePicker}}),Object.defineProperty(b,"QueuePicker",{enumerable:!0,get:function(){return m.QueuePicker}}),Object.defineProperty(b,"PickResultType",{enumerable:!0,get:function(){return m.PickResultType}});var n=c(13685);Object.defineProperty(b,"statusOrFromValue",{enumerable:!0,get:function(){return n.statusOrFromValue}}),Object.defineProperty(b,"statusOrFromError",{enumerable:!0,get:function(){return n.statusOrFromError}});var o=c(74029);Object.defineProperty(b,"BaseFilter",{enumerable:!0,get:function(){return o.BaseFilter}});var p=c(27398);Object.defineProperty(b,"FilterStackFactory",{enumerable:!0,get:function(){return p.FilterStackFactory}});var q=c(10272);Object.defineProperty(b,"registerAdminService",{enumerable:!0,get:function(){return q.registerAdminService}});var r=c(35210);Object.defineProperty(b,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return r.BaseSubchannelWrapper}});var s=c(65875);Object.defineProperty(b,"createServerCredentialsWithInterceptors",{enumerable:!0,get:function(){return s.createServerCredentialsWithInterceptors}}),Object.defineProperty(b,"createCertificateProviderServerCredentials",{enumerable:!0,get:function(){return s.createCertificateProviderServerCredentials}});var t=c(51694);Object.defineProperty(b,"FileWatcherCertificateProvider",{enumerable:!0,get:function(){return t.FileWatcherCertificateProvider}});var u=c(97945);Object.defineProperty(b,"createCertificateProviderChannelCredentials",{enumerable:!0,get:function(){return u.createCertificateProviderChannelCredentials}});var v=c(82126);Object.defineProperty(b,"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX",{enumerable:!0,get:function(){return v.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX}})},7588:(a,b,c)=>{"use strict";let d=c(32665),e=c(96775);a.exports=(a,b,c)=>{let f=[],g=null,h=null,i=a.sort((a,b)=>e(a,b,c));for(let a of i)d(a,b,c)?(h=a,g||(g=a)):(h&&f.push([g,h]),h=null,g=null);g&&f.push([g,null]);let j=[];for(let[a,b]of f)a===b?j.push(a):b||a!==i[0]?b?a===i[0]?j.push(`<=${b}`):j.push(`${a} - ${b}`):j.push(`>=${a}`):j.push("*");let k=j.join(" || "),l="string"==typeof b.raw?b.raw:String(b);return k.length<l.length?k:b}},7769:(a,b,c)=>{"use strict";var d=c(12412),e=c(28354),f=c(29021),g=c(33873),h=c(82499),i=c(32527),j=c(66229),k=c(46585).P,l=c(63211).N1,m=c(19509).j,n=c(78087).$,o=c(12029).ThriftVoid,p=c(95912).ThriftBoolean,q=c(85371).ThriftString,r=c(60583).ThriftBinary,s=c(69443).ThriftI8,t=c(58948).ThriftI16,u=c(91790).ThriftI32,v=c(39547).ThriftI64,w=c(27151).ThriftDouble,x=c(88900).ThriftList,y=c(88180).ThriftSet,z=c(39838).U,A=c(96457).Z,B=c(43909).n,C=c(24024).Literal,D=c(53365).QB,E=c(53365).bX,F=c(53365).UI,G=/^[a-zA-Z_][a-zA-Z0-9_\.]+$/;function H(a){d(a,"options required"),d("object"==typeof a,"options must be object"),d(a.source||a.entryPoint,"opts.entryPoint required"),a.source&&(d("string"==typeof a.source,"source must be string"),a.entryPoint="service.thrift",a.idls={"service.thrift":a.source}),this.idls=a.idls||Object.create(null),this.asts=a.asts||Object.create(null),this.memo=a.memo||Object.create(null),this.fs=a.fs,a.allowFilesystemAccess&&(this.fs=f),this.strict=void 0===a.strict||a.strict,this.defaultValueDefinition=new C(a.defaultAsUndefined?void 0:null),this.defaultAsUndefined=a.defaultAsUndefined,this.models=Object.create(null),this.services=Object.create(null),this.consts=Object.create(null),this.enums=Object.create(null),this.structs=Object.create(null),this.exceptions=Object.create(null),this.unions=Object.create(null),this.typedefs=Object.create(null),this.modules=Object.create(null),this.surface=this,this.linked=!1,this.releaseSources=a.releaseSources||!1,this.allowIncludeAlias=a.allowIncludeAlias||!1,this.allowOptionalArguments=a.allowOptionalArguments||!1,this.filename=a.entryPoint,this.dirname=g.dirname(this.filename),this.memo[this.filename]=this;var b=this.asts[a.entryPoint],c=this.idls[a.entryPoint];c||b||(d.ok(this.fs,this.filename+": Thrift must be constructed with either a complete set of options.idls, options.asts, or options.fs access"),d.ok(this.filename,"Thrift must be constructed with a options.entryPoint"),this.filename=g.resolve(this.filename),c=this.fs.readFileSync(this.filename,"ascii"),this.idls[this.filename]=c),this.exception=null,this.compile(c),a.noLink||this.link()}H.prototype.models="module",H.prototype.Message=D,H.prototype.getType=function(a){return this.getTypeResult(a).toValue()},H.prototype.getTypeResult=function(a){var b=this.models[a];return b&&"type"===b.models?new i(null,b.link(this)):new i(Error(e.format("type %s not found",a)))},H.prototype.getSources=function(){for(var a=Object.keys(this.idls),b=j.longestCommonPath(a),c={},d=0;d<a.length;d++){var e=a[d];c[e.slice(b.length)]=this.idls[e]}return{entryPoint:this.filename.slice(b.length),idls:c}},H.prototype.toJSON=function(){for(var a=Object.keys(this.idls),b=j.longestCommonPath(a),c={},d=0;d<a.length;d++){var e=a[d];c[e.slice(b.length)]=this.asts[e]}return{entryPoint:this.filename.slice(b.length),asts:c}},H.prototype.getServiceEndpoints=function(a){a=a||null;for(var b=Object.keys(this.services),c=[],d=0;d<b.length;d++){var e=this.models[b[d]];if(!a||a===e.name)for(var f=0;f<e.functions.length;f++)c.push(e.name+"::"+e.functions[f].name)}return c},H.prototype.baseTypes={void:o,bool:p,byte:s,i8:s,i16:t,i32:u,i64:v,double:w,string:q,binary:r},H.prototype.compile=function(a){var b=this.asts[this.filename];b||(b=h.parse(a),this.asts[this.filename]=b),d.equal(b.type,"Program","expected a program"),this._compile(b.headers),this._compile(b.definitions),this.compileEnum(F),this.exception=this.compileStruct(E)},H.prototype.define=function(a,b,c){d(!this.models[a],"duplicate reference to "+a+" at "+b.line+":"+b.column),this.models[a]=c},H.prototype.compilers={Const:"compileConst",Enum:"compileEnum",Exception:"compileException",Include:"compileInclude",Service:"compileService",Struct:"compileStruct",Typedef:"compileTypedef",Union:"compileUnion"},H.prototype._compile=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=this.compilers[c.type];d&&this[d](c)}},H.prototype.compileInclude=function(a){if(0!==a.id.lastIndexOf("/",0)){var b,c=a.namespace&&a.namespace.name,d=g.join(this.dirname,a.id);if(!this.allowIncludeAlias||!c){var e=g.basename(a.id);if(c=e.slice(0,e.length-7),!G.test(c))throw Error("Thrift include filename is not valid thrift identifier")}b=this.memo[d]?this.memo[d]:new H({entryPoint:d,fs:this.fs,idls:this.idls,asts:this.asts,memo:this.memo,strict:this.strict,allowIncludeAlias:!0,allowOptionalArguments:this.allowOptionalArguments,noLink:!0,releaseSources:this.releaseSources,defaultAsUndefined:this.defaultAsUndefined}),this.define(c,a,b),this.modules[c]=b,/^[a-z]/.test(c)||(this[c]=b)}else throw Error("Include path string must not be an absolute path")},H.prototype.compileStruct=function(a){var b=new l({strict:this.strict,defaultValueDefinition:this.defaultValueDefinition});return b.compile(a,this),this.define(b.fullName,a,b),b},H.prototype.compileException=function(a){var b=new l({strict:this.strict,isException:!0});return b.compile(a,this),this.define(b.fullName,a,b),b},H.prototype.compileUnion=function(a){var b=new m({strict:this.strict});return b.compile(a,this),this.define(b.fullName,a,b),b},H.prototype.compileTypedef=function(a){var b=new B({strict:this.strict});return b.compile(a,this),this.define(b.name,a,b),b},H.prototype.compileService=function(a){var b=new k({strict:this.strict});b.compile(a,this),this.define(b.name,a.id,b)},H.prototype.compileConst=function(a,b){var c=new A(a);this.define(a.id.name,a.id,c)},H.prototype.compileEnum=function(a){var b=new n;b.compile(a,this),this.define(b.name,a.id,b)},H.prototype.link=function(){if(this.linked)return this;this.linked=!0;for(var a=Object.keys(this.models),b=0;b<a.length;b++)this.models[a[b]].link(this);return this.exception.link(this),this.releaseSources&&(this.idls=null,this.asts=null,this.memo=null),this},H.prototype.resolve=function(a){return"BaseType"===a.type?new this.baseTypes[a.baseType](a.annotations):"Identifier"===a.type?this.resolveIdentifier(a,a.name,"type"):"List"===a.type?new x(this.resolve(a.valueType),a.annotations):"Set"===a.type?new y(this.resolve(a.valueType),a.annotations):"Map"===a.type?new z(this.resolve(a.keyType),this.resolve(a.valueType),a.annotations):void d.fail(e.format("Can't get reader/writer for definition with unknown type %s at %s:%s",a.type,a.line,a.column))},H.prototype.resolveValue=function(a){if(!a)return null;if("Literal"===a.type)return a.value;if("ConstList"===a.type)return this.resolveListConst(a);if("ConstMap"===a.type)return this.resolveMapConst(a);if("Identifier"===a.type)return"true"===a.name||"false"!==a.name&&this.resolveIdentifier(a,a.name,"value").value;d.fail("unrecognized const type "+a.type)},H.prototype.resolveListConst=function(a){for(var b=[],c=0;c<a.values.length;c++)b.push(this.resolveValue(a.values[c]));return b},H.prototype.resolveMapConst=function(a){for(var b={},c=0;c<a.entries.length;c++)b[this.resolveValue(a.entries[c].key)]=this.resolveValue(a.entries[c].value);return b},H.prototype.resolveIdentifier=function(a,b,c){if(this.models[b]){if((d=this.models[b].link(this)).models!==c)throw(e=Error("type mismatch for "+a.name+" at "+a.line+":"+a.column+", expects "+c+", got "+d.models)).line=a.line,e.column=a.column,e;return d}var d,e,f=b.split("."),g=this.modules[f.shift()];if(g)return g.resolveIdentifier(a,f.join("."),c);throw(e=Error("cannot resolve reference to "+a.name+" at "+a.line+":"+a.column)).line=a.line,e.column=a.column,e},a.exports.Thrift=H},7986:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};async function g(a,b){let c=await fetch(`${a}/v1beta/models?pageSize=1000&key=${b}`,{method:"GET",headers:{"Content-Type":"application/json"}});return JSON.parse(await c.text()).models}((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{listModels:()=>g}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f)},8049:(a,b,c)=>{"use strict";let d=c(26220);a.exports=(a,b)=>a.sort((a,c)=>d(a,c,b))},8104:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{enumFormatter:()=>j}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979);let j={name:"enum",config:{contentType:"text/enum",constrained:!0},handler:a=>{let b;if(a&&"string"!==a.type&&"enum"!==a.type)throw new i.GenkitError({status:"INVALID_ARGUMENT",message:"Must supply a 'string' or 'enum' schema type when using the enum parser format."});return a?.enum&&(b=`Output should be ONLY one of the following enum values. Do not output any additional information or add quotes.

${a.enum.map(a=>a.toString()).join("\n")}`),{parseMessage:a=>a.text.replace(/['"]/g,"").trim(),instructions:b}}}},8110:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{EmbedderInfoSchema:()=>i.EmbedderInfoSchema,embedderRef:()=>i.embedderRef}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(13672)},8193:(a,b,c)=>{"use strict";var d=c(25088),e=c(4919);a.exports.expected=function(b,c){return a.exports.InvalidArgument({expected:c,argType:typeof b,argConstructor:b&&b.constructor.name})},a.exports.BrokenReaderState=d({type:"bufrw.broken-reader-state",message:"reader in invalid state {state} expecting {expecting} avail {aval}",state:null,expecting:null,avail:null}),a.exports.FixedLengthMismatch=d({type:"bufrw.fixed-length-mismatch",message:"supplied length {got} mismatches fixed length {expected}",expected:null,got:null}),a.exports.RangeError=d({type:"bufrw.range-error",message:"value {value} out of range, min: {min} max: {max}",value:null,min:null,max:null}),a.exports.InvalidArgument=d({type:"bufrw.invalid-argument",message:"invalid argument, expected {expected}",expected:null,argType:null,argConstructor:null}),a.exports.ReadInvalidSwitchValue=d({type:"bufrw.read.invalid-switch-value",message:"read invalid switch value {value}",value:null}),a.exports.WriteInvalidSwitchValue=d({type:"bufrw.write.invalid-switch-value",message:"write invalid switch value {value}",value:null}),a.exports.MissingStructField=d({type:"bufrw.missing.struct-field",message:"missing field {field} on {struct}",field:null,struct:null}),a.exports.ShortBuffer=d({type:"bufrw.short-buffer",message:"expected at least {expected} bytes, only have {actual} @{offset}",expected:null,actual:null,buffer:null,offset:null}),a.exports.ShortBufferRanged=d({type:"bufrw.short-buffer",message:"expected at least {expected} bytes, only have {actual} @[{offset}:{endOffset}]",expected:null,actual:null,offset:null,endOffset:null}),a.exports.ShortRead=d({type:"bufrw.short-read",message:"short read, {remaining} byte left over after consuming {offset}",remaining:null,buffer:null,offset:null}),a.exports.ShortWrite=d({type:"bufrw.short-write",message:"short write, {remaining} byte left over after writing {offset}",remaining:null,buffer:null,offset:null}),a.exports.TruncatedRead=d({type:"bufrw.truncated-read",message:"read truncated by end of stream with {length} bytes in buffer",length:null,buffer:null,state:null,expecting:null}),a.exports.UnstableRW=e({type:"bufrw.unstable-rw",message:"Unstable RW error: {origMessage} (other: {otherMessage})",otherMessage:null}),a.exports.ZeroLengthChunk=d({type:"bufrw.zero-length-chunk",message:"zero length chunk encountered"}),a.exports.classify=function(a){switch(a.type){case"bufrw.broken-reader-state":case"bufrw.unstable-rw":return"Internal";case"bufrw.invalid-argument":case"bufrw.read.invalid-switch-value":case"bufrw.short-buffer":case"bufrw.short-read":case"bufrw.truncated-read":case"bufrw.zero-length-chunk":return"Read";case"bufrw.fixed-length-mismatch":case"bufrw.missing.struct-field":case"bufrw.range-error":case"bufrw.short-write":case"bufrw.write.invalid-switch-value":return"Write";default:return null}}},8265:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>d(b,a,c)},8319:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.minDeadline=function(...a){let b=1/0;for(let c of a){let a=c instanceof Date?c.getTime():c;a<b&&(b=a)}return b},b.getDeadlineTimeoutString=function(a){let b=new Date().getTime();a instanceof Date&&(a=a.getTime());let d=Math.max(a-b,0);for(let[a,b]of c){let c=d/b;if(c<1e8)return String(Math.ceil(c))+a}throw Error("Deadline is too far in the future")},b.getRelativeTimeout=function(a){let b=(a instanceof Date?a.getTime():a)-new Date().getTime();return b<0?0:b>0x7fffffff?1/0:b},b.deadlineToString=function(a){if(a instanceof Date)return a.toISOString();{let b=new Date(a);return Number.isNaN(b.getTime())?""+a:b.toISOString()}},b.formatDateDifference=function(a,b){return((b.getTime()-a.getTime())/1e3).toFixed(3)+"s"};let c=[["m",1],["S",1e3],["M",6e4],["H",36e5]]},8408:(a,b,c)=>{"use strict";var d=c(42218),e=c(89344),f=c(89390);class g extends e.NodeBase{constructor(a){super(d.SCALAR),this.value=a}toJSON(a,b){return b?.keep?this.value:f.toJS(this.value,a,b)}toString(){return String(this.value)}}g.BLOCK_FOLDED="BLOCK_FOLDED",g.BLOCK_LITERAL="BLOCK_LITERAL",g.PLAIN="PLAIN",g.QUOTE_DOUBLE="QUOTE_DOUBLE",g.QUOTE_SINGLE="QUOTE_SINGLE",b.Scalar=g,b.isScalarValue=a=>!a||"function"!=typeof a&&"object"!=typeof a},8557:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LeafLoadBalancer=b.PickFirstLoadBalancer=b.PickFirstLoadBalancingConfig=void 0,b.shuffled=q,b.setup=function(){(0,d.registerLoadBalancerType)(n,s,o),(0,d.registerDefaultLoadBalancerType)(n)};let d=c(20606),e=c(80158),f=c(96269),g=c(41835),h=c(38702),i=c(56458),j=c(41835),k=c(91645),l=c(13685);function m(a){h.trace(i.LogVerbosity.DEBUG,"pick_first",a)}let n="pick_first";class o{constructor(a){this.shuffleAddressList=a}getLoadBalancerName(){return n}toJsonObject(){return{[n]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(a){if("shuffleAddressList"in a&&"boolean"!=typeof a.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new o(!0===a.shuffleAddressList)}}b.PickFirstLoadBalancingConfig=o;class p{constructor(a){this.subchannel=a}pick(a){return{pickResultType:f.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function q(a){let b=a.slice();for(let a=b.length-1;a>1;a--){let c=Math.floor(Math.random()*(a+1)),d=b[a];b[a]=b[c],b[c]=d}return b}let r="grpc-node.internal.pick-first.report_health_status";class s{constructor(a){this.channelControlHelper=a,this.children=[],this.currentState=e.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(a,b,c,d,e)=>{this.onSubchannelStateUpdate(a,b,c,e)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.stickyTransientFailureMode=!1,this.reportHealthStatus=!1,this.lastError=null,this.latestAddressList=null,this.latestOptions={},this.latestResolutionNote="",this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(a=>a.hasReportedTransientFailure)}resetChildrenReportedTF(){this.children.every(a=>a.hasReportedTransientFailure=!1)}calculateAndReportNewState(){var a;if(this.currentPick)if(this.reportHealthStatus&&!this.currentPick.isHealthy()){let a=`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:a}),a)}else this.updateState(e.ConnectivityState.READY,new p(this.currentPick),null);else if((null==(a=this.latestAddressList)?void 0:a.length)===0){let a=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:a}),a)}else if(0===this.children.length)this.updateState(e.ConnectivityState.IDLE,new f.QueuePicker(this),null);else if(this.stickyTransientFailureMode){let a=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:a}),a)}else this.updateState(e.ConnectivityState.CONNECTING,new f.QueuePicker(this),null)}requestReresolution(){this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()){if(this.requestReresolution(),this.resetChildrenReportedTF(),this.stickyTransientFailureMode)return void this.calculateAndReportNewState();for(let{subchannel:a}of(this.stickyTransientFailureMode=!0,this.children))a.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){null!==this.currentPick&&(this.currentPick.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick.unref(),this.currentPick=null)}onSubchannelStateUpdate(a,b,c,d){var f;if(null==(f=this.currentPick)?void 0:f.realSubchannelEquals(a)){c!==e.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState());return}for(let[b,f]of this.children.entries())if(a.realSubchannelEquals(f.subchannel)){c===e.ConnectivityState.READY&&this.pickSubchannel(f.subchannel),c===e.ConnectivityState.TRANSIENT_FAILURE&&(f.hasReportedTransientFailure=!0,d&&(this.lastError=d),this.maybeEnterStickyTransientFailureMode(),b===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(b+1)),f.subchannel.startConnecting();return}}startNextSubchannelConnecting(a){for(let[b,c]of(clearTimeout(this.connectionDelayTimeout),this.children.entries()))if(b>=a){let a=c.subchannel.getConnectivityState();if(a===e.ConnectivityState.IDLE||a===e.ConnectivityState.CONNECTING)return void this.startConnecting(b)}this.maybeEnterStickyTransientFailureMode()}startConnecting(a){var b,c;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=a,this.children[a].subchannel.getConnectivityState()===e.ConnectivityState.IDLE&&(m("Start connecting to subchannel with address "+this.children[a].subchannel.getAddress()),process.nextTick(()=>{var b;null==(b=this.children[a])||b.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(a+1)},250),null==(c=(b=this.connectionDelayTimeout).unref)||c.call(b)}pickSubchannel(a){m("Pick subchannel with address "+a.getAddress()),this.stickyTransientFailureMode=!1,a.ref(),this.channelControlHelper.addChannelzChild(a.getChannelzRef()),this.removeCurrentPick(),this.resetSubchannelList(),a.addConnectivityStateListener(this.subchannelStateListener),a.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick=a,clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState()}updateState(a,b,c){m(e.ConnectivityState[this.currentState]+" -> "+e.ConnectivityState[a]),this.currentState=a,this.channelControlHelper.updateState(a,b,c)}resetSubchannelList(){for(let a of this.children)a.subchannel.removeConnectivityStateListener(this.subchannelStateListener),a.subchannel.unref(),this.channelControlHelper.removeChannelzChild(a.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[]}connectToAddressList(a,b){m("connectToAddressList(["+a.map(a=>(0,g.subchannelAddressToString)(a))+"])");let c=a.map(a=>({subchannel:this.channelControlHelper.createSubchannel(a,b),hasReportedTransientFailure:!1}));for(let{subchannel:a}of c)if(a.getConnectivityState()===e.ConnectivityState.READY)return void this.pickSubchannel(a);for(let{subchannel:a}of c)a.ref(),this.channelControlHelper.addChannelzChild(a.getChannelzRef());for(let{subchannel:a}of(this.resetSubchannelList(),this.children=c,this.children))a.addConnectivityStateListener(this.subchannelStateListener);for(let a of this.children)a.subchannel.getConnectivityState()===e.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(a,b,c,d){if(!(b instanceof o))return!1;if(!a.ok)return 0===this.children.length&&null===this.currentPick&&this.channelControlHelper.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker(a.error),a.error.details),!0;let h=a.value;this.reportHealthStatus=c[r],b.getShuffleAddressList()&&(h=q(h));let i=[].concat(...h.map(a=>a.addresses));m("updateAddressList(["+i.map(a=>(0,g.subchannelAddressToString)(a))+"])");let l=function(a){if(0===a.length)return[];let b=[],c=[],d=[],e=(0,j.isTcpSubchannelAddress)(a[0])&&(0,k.isIPv6)(a[0].host);for(let b of a)(0,j.isTcpSubchannelAddress)(b)&&(0,k.isIPv6)(b.host)?c.push(b):d.push(b);let f=e?c:d,g=e?d:c;for(let a=0;a<Math.max(f.length,g.length);a++)a<f.length&&b.push(f[a]),a<g.length&&b.push(g[a]);return b}(i);return this.latestAddressList=l,this.latestOptions=c,this.connectToAddressList(l,c),this.latestResolutionNote=d,i.length>0||(this.lastError="No addresses resolved",!1)}exitIdle(){this.currentState===e.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList,this.latestOptions)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return n}}b.PickFirstLoadBalancer=s;let t=new o(!1);class u{constructor(a,b,c,g){this.endpoint=a,this.options=c,this.resolutionNote=g,this.latestState=e.ConnectivityState.IDLE;let h=(0,d.createChildChannelControlHelper)(b,{updateState:(a,c,d)=>{this.latestState=a,this.latestPicker=c,b.updateState(a,c,d)}});this.pickFirstBalancer=new s(h),this.latestPicker=new f.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList((0,l.statusOrFromValue)([this.endpoint]),t,Object.assign(Object.assign({},this.options),{[r]:!0}),this.resolutionNote)}updateEndpoint(a,b){this.options=b,this.endpoint=a,this.latestState!==e.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}}b.LeafLoadBalancer=u},8567:(a,b,c)=>{"use strict";c.d(b,{genkit:()=>e.genkit});var d=c(38157);c.o(d,"embedderActionMetadata")&&c.d(b,{embedderActionMetadata:function(){return d.embedderActionMetadata}}),c.o(d,"embedderRef")&&c.d(b,{embedderRef:function(){return d.embedderRef}}),c.o(d,"modelActionMetadata")&&c.d(b,{modelActionMetadata:function(){return d.modelActionMetadata}});var e=c(92172)},8742:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904),e=c(46178);b.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,d._)`{passingSchemas: ${a.passing}}`},code(a){let{gen:b,schema:c,parentSchema:f,it:g}=a;if(!Array.isArray(c))throw Error("ajv implementation error");if(g.opts.discriminator&&f.discriminator)return;let h=b.let("valid",!1),i=b.let("passing",null),j=b.name("_valid");a.setParams({passing:i}),b.block(function(){c.forEach((c,f)=>{let k;(0,e.alwaysValidSchema)(g,c)?b.var(j,!0):k=a.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},j),f>0&&b.if((0,d._)`${j} && ${h}`).assign(h,!1).assign(i,(0,d._)`[${i}, ${f}]`).else(),b.if(j,()=>{b.assign(h,!0),b.assign(i,f),k&&a.mergeEvaluated(k,d.Name)})})}),a.result(h,()=>a.reset(),()=>a.error(!0))}}},8919:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MockContext=c(76303).default,b.MockSpan=c(5338).default,b.MockTracer=c(34245).default},8980:(a,b,c)=>{"use strict";var d=c(99308);function e(a){switch(a){case void 0:case" ":case"\n":case"\r":case"	":return!0;default:return!1}}let f=new Set("0123456789ABCDEFabcdef"),g=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),h=new Set(",[]{}"),i=new Set(" ,[]{}\n\r	"),j=a=>!a||i.has(a);class k{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(a,b=!1){if(a){if("string"!=typeof a)throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+a:a,this.lineEndPos=null}this.atEnd=!b;let c=this.next??"stream";for(;c&&(b||this.hasChars(1));)c=yield*this.parseNext(c)}atLineEnd(){let a=this.pos,b=this.buffer[a];for(;" "===b||"	"===b;)b=this.buffer[++a];return!b||"#"===b||"\n"===b||"\r"===b&&"\n"===this.buffer[a+1]}charAt(a){return this.buffer[this.pos+a]}continueScalar(a){let b=this.buffer[a];if(this.indentNext>0){let c=0;for(;" "===b;)b=this.buffer[++c+a];if("\r"===b){let b=this.buffer[c+a+1];if("\n"===b||!b&&!this.atEnd)return a+c+1}return"\n"!==b&&!(c>=this.indentNext)&&(b||this.atEnd)?-1:a+c}if("-"===b||"."===b){let b=this.buffer.substr(a,3);if(("---"===b||"..."===b)&&e(this.buffer[a+3]))return -1}return a}getLine(){let a=this.lineEndPos;return(("number"!=typeof a||-1!==a&&a<this.pos)&&(a=this.buffer.indexOf("\n",this.pos),this.lineEndPos=a),-1===a)?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[a-1]&&(a-=1),this.buffer.substring(this.pos,a))}hasChars(a){return this.pos+a<=this.buffer.length}setNext(a){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=a,null}peek(a){return this.buffer.substr(this.pos,a)}*parseNext(a){switch(a){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let a=this.getLine();if(null===a)return this.setNext("stream");if(a[0]===d.BOM&&(yield*this.pushCount(1),a=a.substring(1)),"%"===a[0]){let b=a.length,c=a.indexOf("#");for(;-1!==c;){let d=a[c-1];if(" "===d||"	"===d){b=c-1;break}c=a.indexOf("#",c+1)}for(;;){let c=a[b-1];if(" "===c||"	"===c)b-=1;else break}let d=(yield*this.pushCount(b))+(yield*this.pushSpaces(!0));return yield*this.pushCount(a.length-d),this.pushNewline(),"stream"}if(this.atLineEnd()){let b=yield*this.pushSpaces(!0);return yield*this.pushCount(a.length-b),yield*this.pushNewline(),"stream"}return yield d.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let a=this.charAt(0);if(!a&&!this.atEnd)return this.setNext("line-start");if("-"===a||"."===a){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let a=this.peek(3);if(("---"===a||"..."===a)&&e(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"---"===a?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!e(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[a,b]=this.peek(2);if(!b&&!this.atEnd)return this.setNext("block-start");if(("-"===a||"?"===a||":"===a)&&e(b)){let a=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=a,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let a=this.getLine();if(null===a)return this.setNext("doc");let b=yield*this.pushIndicators();switch(a[b]){case"#":yield*this.pushCount(a.length-b);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(j),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return b+=yield*this.parseBlockScalarHeader(),b+=yield*this.pushSpaces(!0),yield*this.pushCount(a.length-b),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let a,b,c=-1;do(a=yield*this.pushNewline())>0?(b=yield*this.pushSpaces(!1),this.indentValue=c=b):b=0,b+=yield*this.pushSpaces(!0);while(a+b>0);let f=this.getLine();if(null===f)return this.setNext("flow");if((-1!==c&&c<this.indentNext&&"#"!==f[0]||0===c&&(f.startsWith("---")||f.startsWith("..."))&&e(f[3]))&&(c!==this.indentNext-1||1!==this.flowLevel||"]"!==f[0]&&"}"!==f[0]))return this.flowLevel=0,yield d.FLOW_END,yield*this.parseLineStart();let g=0;for(;","===f[g];)g+=yield*this.pushCount(1),g+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(f[g+=yield*this.pushIndicators()]){case void 0:return"flow";case"#":return yield*this.pushCount(f.length-g),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(j),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let a=this.charAt(1);if(this.flowKey||e(a)||","===a)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let a=this.charAt(0),b=this.buffer.indexOf(a,this.pos+1);if("'"===a)for(;-1!==b&&"'"===this.buffer[b+1];)b=this.buffer.indexOf("'",b+2);else for(;-1!==b;){let a=0;for(;"\\"===this.buffer[b-1-a];)a+=1;if(a%2==0)break;b=this.buffer.indexOf('"',b+1)}let c=this.buffer.substring(0,b),d=c.indexOf("\n",this.pos);if(-1!==d){for(;-1!==d;){let a=this.continueScalar(d+1);if(-1===a)break;d=c.indexOf("\n",a)}-1!==d&&(b=d-("\r"===c[d-1]?2:1))}if(-1===b){if(!this.atEnd)return this.setNext("quoted-scalar");b=this.buffer.length}return yield*this.pushToIndex(b+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let a=this.pos;for(;;){let b=this.buffer[++a];if("+"===b)this.blockScalarKeep=!0;else if(b>"0"&&b<="9")this.blockScalarIndent=Number(b)-1;else if("-"!==b)break}return yield*this.pushUntil(a=>e(a)||"#"===a)}*parseBlockScalar(){let a,b=this.pos-1,c=0;a:for(let d=this.pos;a=this.buffer[d];++d)switch(a){case" ":c+=1;break;case"\n":b=d,c=0;break;case"\r":{let a=this.buffer[d+1];if(!a&&!this.atEnd)return this.setNext("block-scalar");if("\n"===a)break}default:break a}if(!a&&!this.atEnd)return this.setNext("block-scalar");if(c>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=c:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{let a=this.continueScalar(b+1);if(-1===a)break;b=this.buffer.indexOf("\n",a)}while(-1!==b);if(-1===b){if(!this.atEnd)return this.setNext("block-scalar");b=this.buffer.length}}let e=b+1;for(a=this.buffer[e];" "===a;)a=this.buffer[++e];if("	"===a){for(;"	"===a||" "===a||"\r"===a||"\n"===a;)a=this.buffer[++e];b=e-1}else if(!this.blockScalarKeep)for(;;){let a=b-1,d=this.buffer[a];"\r"===d&&(d=this.buffer[--a]);let e=a;for(;" "===d;)d=this.buffer[--a];if("\n"===d&&a>=this.pos&&a+1+c>e)b=a;else break}return yield d.SCALAR,yield*this.pushToIndex(b+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let a,b=this.flowLevel>0,c=this.pos-1,f=this.pos-1;for(;a=this.buffer[++f];)if(":"===a){let a=this.buffer[f+1];if(e(a)||b&&h.has(a))break;c=f}else if(e(a)){let d=this.buffer[f+1];if("\r"===a&&("\n"===d?(f+=1,a="\n",d=this.buffer[f+1]):c=f),"#"===d||b&&h.has(d))break;if("\n"===a){let a=this.continueScalar(f+1);if(-1===a)break;f=Math.max(f,a-2)}}else{if(b&&h.has(a))break;c=f}return a||this.atEnd?(yield d.SCALAR,yield*this.pushToIndex(c+1,!0),b?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(a){return a>0?(yield this.buffer.substr(this.pos,a),this.pos+=a,a):0}*pushToIndex(a,b){let c=this.buffer.slice(this.pos,a);return c?(yield c,this.pos+=c.length,c.length):(b&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(j))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let a=this.flowLevel>0,b=this.charAt(1);if(e(b)||a&&h.has(b))return a?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let a=this.pos+2,b=this.buffer[a];for(;!e(b)&&">"!==b;)b=this.buffer[++a];return yield*this.pushToIndex(">"===b?a+1:a,!1)}{let a=this.pos+1,b=this.buffer[a];for(;b;)if(g.has(b))b=this.buffer[++a];else if("%"===b&&f.has(this.buffer[a+1])&&f.has(this.buffer[a+2]))b=this.buffer[a+=3];else break;return yield*this.pushToIndex(a,!1)}}*pushNewline(){let a=this.buffer[this.pos];return"\n"===a?yield*this.pushCount(1):"\r"===a&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(a){let b,c=this.pos-1;do b=this.buffer[++c];while(" "===b||a&&"	"===b);let d=c-this.pos;return d>0&&(yield this.buffer.substr(this.pos,d),this.pos=c),d}*pushUntil(a){let b=this.pos,c=this.buffer[b];for(;!a(c);)c=this.buffer[++b];return yield*this.pushToIndex(b,!1)}}b.Lexer=k},9028:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(a){var b=this;this.spans=a,this.spansByUUID={},this.spansByTag={},this.debugSpans=[],this.unfinishedSpans=[],a.forEach(function(a){0===a._finishMs&&b.unfinishedSpans.push(a),b.spansByUUID[a.uuid()]=a,b.debugSpans.push(a.debug());var c=a.tags();Object.keys(c).forEach(function(d){var e=c[d];b.spansByTag[d]=b.spansByTag[d]||{},b.spansByTag[d][e]=b.spansByTag[d][e]||[],b.spansByTag[d][e].push(a)})})}return a.prototype.firstSpanWithTagValue=function(a,b){var c=this.spansByTag[a];if(!c)return null;var d=c[b];return d?d[0]:null},a}();b.MockReport=c,b.default=c},9251:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BackoffTimeout=void 0;let d=c(56458),e=c(38702);class f{constructor(a,b){this.callback=a,this.initialDelay=1e3,this.multiplier=1.6,this.maxDelay=12e4,this.jitter=.2,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,this.id=f.getNextId(),b&&(b.initialDelay&&(this.initialDelay=b.initialDelay),b.multiplier&&(this.multiplier=b.multiplier),b.jitter&&(this.jitter=b.jitter),b.maxDelay&&(this.maxDelay=b.maxDelay)),this.trace("constructed initialDelay="+this.initialDelay+" multiplier="+this.multiplier+" jitter="+this.jitter+" maxDelay="+this.maxDelay),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}static getNextId(){return this.nextId++}trace(a){e.trace(d.LogVerbosity.DEBUG,"backoff","{"+this.id+"} "+a)}runTimer(a){var b,c;this.trace("runTimer(delay="+a+")"),this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+a),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.trace("timer fired"),this.running=!1,this.callback()},a),this.hasRef||null==(c=(b=this.timerId).unref)||c.call(b)}runOnce(){var a;this.trace("runOnce()"),this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let b=Math.min(this.nextDelay*this.multiplier,this.maxDelay),c=b*this.jitter;this.nextDelay=b+(a=-c,Math.random()*(c-a)+a)}stop(){this.trace("stop()"),clearTimeout(this.timerId),this.running=!1}reset(){if(this.trace("reset() running="+this.running),this.nextDelay=this.initialDelay,this.running){let a=new Date,b=this.startTime;b.setMilliseconds(b.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),a<b?this.runTimer(b.getTime()-a.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var a,b;this.hasRef=!0,null==(b=(a=this.timerId).ref)||b.call(a)}unref(){var a,b;this.hasRef=!1,null==(b=(a=this.timerId).unref)||b.call(a)}getEndTime(){return this.endTime}}b.BackoffTimeout=f,f.nextId=0},9413:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseUri=function(a){let b=c.exec(a);return null===b?null:{scheme:b[1],authority:b[2],path:b[3]}},b.splitHostPort=function(a){if(a.startsWith("[")){let b=a.indexOf("]");if(-1===b)return null;let c=a.substring(1,b);if(-1===c.indexOf(":"))return null;if(!(a.length>b+1))return{host:c};if(":"!==a[b+1])return null;{let e=a.substring(b+2);return d.test(e)?{host:c,port:+e}:null}}{let b=a.split(":");return 2!==b.length?{host:a}:d.test(b[1])?{host:b[0],port:+b[1]}:null}},b.combineHostPort=function(a){return void 0===a.port?a.host:a.host.includes(":")?`[${a.host}]:${a.port}`:`${a.host}:${a.port}`},b.uriToString=function(a){let b="";return void 0!==a.scheme&&(b+=a.scheme+":"),void 0!==a.authority&&(b+="//"+a.authority+"/"),b+=a.path};let c=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/,d=/^\d+$/},9779:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(11918),e=c(26016);b.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",d.default,e.default]},10272:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.registerAdminService=function(a,b){c.push({getServiceDefinition:a,getHandlers:b})},b.addAdminServicesToServer=function(a){for(let{getServiceDefinition:b,getHandlers:d}of c)a.addService(b(),d())};let c=[]},10346:(a,b,c)=>{"use strict";var d=c(82740),e=c(8193),f=c(32437),g=c(82762).TMapRW.prototype.headerRW,h=c(17456).TListRW.prototype.headerRW,i=Object.create(null);i[d.VOID]=0,i[d.BOOL]=1,i[d.BYTE]=1,i[d.I8]=1,i[d.DOUBLE]=8,i[d.I16]=2,i[d.I32]=4,i[d.I64]=8;var j=Object.create(null);function k(a,b,c,d){var g;if(void 0!==j[d]){if((g=j[d](a,b,c)).err)return g;c=g.offset}else{if(void 0===i[d])return a.reset(f.InvalidTypeidError({typeid:d,what:"field::type"}),c);var h=i[d];if(c+h>b.length)return a.reset(e.ShortBuffer({expected:c+h,actual:b.length,buffer:b,offset:c}),c);c+=h}return a.reset(null,c)}function l(a,b,c){if((d=h.poolReadFrom(a,b,c)).err)return d;c=d.offset;for(var d,e=d.value,f=e[0],g=e[1],i=0;i<g;i++){if((d=k(a,b,c,f)).err)return d;c=d.offset}return a.reset(null,c)}j[d.STRUCT]=function(a,b,c){for(var f;;){if(c+1>b.length)return a.reset(e.ShortBuffer({expected:c+1,actual:b.length,buffer:b,offset:c}),c);var g=b.readInt8(c,!0);if(c+=1,g===d.STOP)return a.reset(null,c);if(c+2>b.length)return a.reset(e.ShortBuffer({expected:c+2,actual:b.length,buffer:b,offset:c}),c);if(c+=2,(f=k(a,b,c,g)).err)return f;c=f.offset}},j[d.STRING]=function(a,b,c){if(c+4>b.length)return a.reset(e.ShortBuffer({expected:c+4,actual:b.length,buffer:b,offset:c}),c);var d=b.readInt32BE(c,!0);return(c+=4)+d>b.length?a.reset(e.ShortBuffer({expected:c+d,actual:b.length,buffer:b,offset:c}),c):(c+=d,a.reset(null,c))},j[d.MAP]=function(a,b,c){if((d=g.poolReadFrom(a,b,c)).err)return d;c=d.offset;for(var d,e=d.value,f=e[0],h=e[1],i=e[2],j=0;j<i;j++){if((d=k(a,b,c,f)).err||(d=k(a,b,c=d.offset,h)).err)return d;c=d.offset}return a.reset(null,c)},j[d.SET]=l,j[d.LIST]=l,a.exports.s=k},10433:(a,b,c)=>{"use strict";var d=c(8408),e=c(24148);let f={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:a=>"nan"===a.slice(-3).toLowerCase()?NaN:"-"===a[0]?-1/0:1/0,stringify:e.stringifyNumber};b.float={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(a){let b=new d.Scalar(parseFloat(a.replace(/_/g,""))),c=a.indexOf(".");if(-1!==c){let d=a.substring(c+1).replace(/_/g,"");"0"===d[d.length-1]&&(b.minFractionDigits=d.length)}return b},stringify:e.stringifyNumber},b.floatExp={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:a=>parseFloat(a.replace(/_/g,"")),stringify(a){let b=Number(a.value);return isFinite(b)?b.toExponential():e.stringifyNumber(a)}},b.floatNaN=f},10499:(a,b,c)=>{"use strict";a.exports=h;var d=c(28354).inherits,e=c(37451).ReadResult,f=c(37451).BufferRW,g=c(8193);function h(a,b,c){if(!(this instanceof h))return new h(a,b,c);this.length=a}d(h,f),h.prototype.poolByteLength=function(a,b){return b.length!==this.length?a.reset(g.FixedLengthMismatch({expected:this.length,got:b.length}),null):a.reset(null,this.length)},h.prototype.poolWriteInto=function(a,b,c,d){return b.length!==this.length?a.reset(g.FixedLengthMismatch({expected:this.length,got:b.length}),d):(b.copy(c,d),a.reset(null,d+this.length))},h.prototype.poolReadFrom=function(a,b,c){var d=c+this.length;return d>b.length?e.poolShortError(a,this.length,b.length-c,c):a.reset(null,d,b.slice(c,d))}},10715:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseAnyDef=void 0;let d=c(90737);b.parseAnyDef=function(a){if("openAi"!==a.target)return{};let b=[...a.basePath,a.definitionPath,a.openAiAnyTypeName];return a.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===a.$refStrategy?(0,d.getRelativePath)(b,a.currentPath):b.join("/")}}},11108:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(){}return a.prototype.toTraceId=function(){return""},a.prototype.toSpanId=function(){return""},a}();b.SpanContext=c,b.default=c},11293:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.isAsync=b.isValid=b.isDirty=b.isAborted=b.OK=b.DIRTY=b.INVALID=b.ParseStatus=b.EMPTY_PATH=b.makeIssue=void 0,b.addIssueToContext=function(a,c){let d=(0,e.getErrorMap)(),g=(0,b.makeIssue)({issueData:c,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,d,d===f.default?void 0:f.default].filter(a=>!!a)});a.common.issues.push(g)};let e=c(64062),f=d(c(51809));b.makeIssue=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}},b.EMPTY_PATH=[];class g{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,c){let d=[];for(let e of c){if("aborted"===e.status)return b.INVALID;"dirty"===e.status&&a.dirty(),d.push(e.value)}return{status:a.value,value:d}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return g.mergeObjectSync(a,c)}static mergeObjectSync(a,c){let d={};for(let e of c){let{key:c,value:f}=e;if("aborted"===c.status||"aborted"===f.status)return b.INVALID;"dirty"===c.status&&a.dirty(),"dirty"===f.status&&a.dirty(),"__proto__"!==c.value&&(void 0!==f.value||e.alwaysSet)&&(d[c.value]=f.value)}return{status:a.value,value:d}}}b.ParseStatus=g,b.INVALID=Object.freeze({status:"aborted"}),b.DIRTY=a=>({status:"dirty",value:a}),b.OK=a=>({status:"valid",value:a}),b.isAborted=a=>"aborted"===a.status,b.isDirty=a=>"dirty"===a.status,b.isValid=a=>"valid"===a.status,b.isAsync=a=>"undefined"!=typeof Promise&&a instanceof Promise},11394:(a,b,c)=>{"use strict";c.r(b),c.d(b,{NOOP_LOGGER:()=>e.G,NOOP_LOGGER_PROVIDER:()=>g,NoopLogger:()=>e.P,NoopLoggerProvider:()=>f,SeverityNumber:()=>d,logs:()=>j}),function(a){a[a.UNSPECIFIED=0]="UNSPECIFIED",a[a.TRACE=1]="TRACE",a[a.TRACE2=2]="TRACE2",a[a.TRACE3=3]="TRACE3",a[a.TRACE4=4]="TRACE4",a[a.DEBUG=5]="DEBUG",a[a.DEBUG2=6]="DEBUG2",a[a.DEBUG3=7]="DEBUG3",a[a.DEBUG4=8]="DEBUG4",a[a.INFO=9]="INFO",a[a.INFO2=10]="INFO2",a[a.INFO3=11]="INFO3",a[a.INFO4=12]="INFO4",a[a.WARN=13]="WARN",a[a.WARN2=14]="WARN2",a[a.WARN3=15]="WARN3",a[a.WARN4=16]="WARN4",a[a.ERROR=17]="ERROR",a[a.ERROR2=18]="ERROR2",a[a.ERROR3=19]="ERROR3",a[a.ERROR4=20]="ERROR4",a[a.FATAL=21]="FATAL",a[a.FATAL2=22]="FATAL2",a[a.FATAL3=23]="FATAL3",a[a.FATAL4=24]="FATAL4"}(d||(d={}));var d,e=c(24405),f=function(){function a(){}return a.prototype.getLogger=function(a,b,c){return new e.P},a}(),g=new f,h="object"==typeof globalThis?globalThis:global,i=Symbol.for("io.opentelemetry.js.api.logs"),j=(function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalLoggerProvider=function(a){return h[i]?this.getLoggerProvider():(h[i]=function(b){return 1===b?a:g},a)},a.prototype.getLoggerProvider=function(){var a,b;return null!=(b=null==(a=h[i])?void 0:a.call(h,1))?b:g},a.prototype.getLogger=function(a,b,c){return this.getLoggerProvider().getLogger(a,b,c)},a.prototype.disable=function(){delete h[i]},a})().getInstance()},11438:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{cacheConfigDetailsSchema:()=>k,cacheConfigSchema:()=>j}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(6250);let j=i.z.union([i.z.boolean(),i.z.object({ttlSeconds:i.z.number().optional()}).passthrough()]),k=i.z.object({cacheConfig:j,endOfCachedContents:i.z.number()})},11638:(a,b,c)=>{"use strict";var d=c(34275),e=c(65444),f=c(62147),g=c(68423),h=c(20992),i=c(42218),j=c(74648),k=c(8408),l=c(72125),m=c(54726),n=c(99308),o=c(8980),p=c(79159),q=c(69731),r=c(81390),s=c(25283);b.Composer=d.Composer,b.Document=e.Document,b.Schema=f.Schema,b.YAMLError=g.YAMLError,b.YAMLParseError=g.YAMLParseError,b.YAMLWarning=g.YAMLWarning,b.Alias=h.Alias,b.isAlias=i.isAlias,b.isCollection=i.isCollection,b.isDocument=i.isDocument,b.isMap=i.isMap,b.isNode=i.isNode,b.isPair=i.isPair,b.isScalar=i.isScalar,b.isSeq=i.isSeq,b.Pair=j.Pair,b.Scalar=k.Scalar,b.YAMLMap=l.YAMLMap,b.YAMLSeq=m.YAMLSeq,b.CST=n,b.Lexer=o.Lexer,b.LineCounter=p.LineCounter,b.Parser=q.Parser,b.parse=r.parse,b.parseAllDocuments=r.parseAllDocuments,b.parseDocument=r.parseDocument,b.stringify=r.stringify,b.visit=s.visit,b.visitAsync=s.visitAsync},11681:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateTuple=void 0;let d=c(38904),e=c(46178),f=c(55832);function g(a,b,c=a.schema){let{gen:f,parentSchema:h,data:i,keyword:j,it:k}=a;(function(a){let{opts:d,errSchemaPath:f}=k,g=c.length,h=g===a.minItems&&(g===a.maxItems||!1===a[b]);if(d.strictTuples&&!h){let a=`"${j}" is ${g}-tuple, but minItems or maxItems/${b} are not specified or different at path "${f}"`;(0,e.checkStrictMode)(k,a,d.strictTuples)}})(h),k.opts.unevaluated&&c.length&&!0!==k.items&&(k.items=e.mergeEvaluated.items(f,c.length,k.items));let l=f.name("valid"),m=f.const("len",(0,d._)`${i}.length`);c.forEach((b,c)=>{(0,e.alwaysValidSchema)(k,b)||(f.if((0,d._)`${m} > ${c}`,()=>a.subschema({keyword:j,schemaProp:c,dataProp:c},l)),a.ok(l))})}b.validateTuple=g,b.default={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){let{schema:b,it:c}=a;if(Array.isArray(b))return g(a,"additionalItems",b);c.items=!0,(0,e.alwaysValidSchema)(c,b)||a.ok((0,f.validateArray)(a))}}},11779:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TracerProviderWithEnvExporters=void 0;let d=c(68948),e=c(41625),f=c(51859),g=c(19889),h=c(97798),i=c(81096),j=c(72626),k=c(63663);class l extends g.NodeTracerProvider{constructor(a={}){super(a),this._configuredExporters=[],this._hasSpanProcessors=!1;let b=this.filterBlanksAndNulls(Array.from(new Set((0,e.getEnv)().OTEL_TRACES_EXPORTER.split(","))));"none"===b[0]?d.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'):0===b.length?(d.diag.warn("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),b=["otlp"],this.createExportersFromList(b),this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(a=>{this.addSpanProcessor(a)})):(b.length>1&&b.includes("none")&&(d.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),b=["otlp"]),this.createExportersFromList(b),this._configuredExporters.length>0?(this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(a=>{this.addSpanProcessor(a)})):d.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values."))}static configureOtlp(){let a=this.getOtlpProtocol();switch(a){case"grpc":return new j.OTLPTraceExporter;case"http/json":return new i.OTLPTraceExporter;case"http/protobuf":return new h.OTLPTraceExporter;default:return d.diag.warn(`Unsupported OTLP traces protocol: ${a}. Using http/protobuf.`),new h.OTLPTraceExporter}}static getOtlpProtocol(){var a,b,c;let d=(0,e.getEnvWithoutDefaults)();return null!=(c=null!=(b=null!=(a=d.OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)?a:d.OTEL_EXPORTER_OTLP_PROTOCOL)?b:(0,e.getEnv)().OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)?c:(0,e.getEnv)().OTEL_EXPORTER_OTLP_PROTOCOL}static configureJaeger(){try{let{JaegerExporter:a}=c(50496);return new a}catch(a){throw Error(`Could not instantiate JaegerExporter. This could be due to the JaegerExporter's lack of support for bundling. If possible, use @opentelemetry/exporter-trace-otlp-proto instead. Original Error: ${a}`)}}addSpanProcessor(a){super.addSpanProcessor(a),this._hasSpanProcessors=!0}register(a){this._hasSpanProcessors&&super.register(a)}createExportersFromList(a){a.forEach(a=>{let b=this._getSpanExporter(a);b?this._configuredExporters.push(b):d.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${a}.`)})}configureSpanProcessors(a){return a.map(a=>a instanceof f.ConsoleSpanExporter?new f.SimpleSpanProcessor(a):new f.BatchSpanProcessor(a))}filterBlanksAndNulls(a){return a.map(a=>a.trim()).filter(a=>"null"!==a&&""!==a)}}b.TracerProviderWithEnvExporters=l,l._registeredExporters=new Map([["otlp",()=>l.configureOtlp()],["zipkin",()=>new k.ZipkinExporter],["jaeger",()=>l.configureJaeger()],["console",()=>new f.ConsoleSpanExporter]])},11918:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},12029:(a,b,c)=>{"use strict";var d=c(89220),e=c(82740),f=d.Null;function g(a){this.annotations=a}g.prototype.rw=f,g.prototype.name="void",g.prototype.typeid=e.VOID,g.prototype.models="type",g.prototype.surface=function(){return null},a.exports.VoidRW=f,a.exports.ThriftVoid=g},12383:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(70387),e=c(95291),f=c(86224);b.childOf=function(a){return a instanceof f.default&&(a=a.context()),new e.default(d.REFERENCE_CHILD_OF,a)},b.followsFrom=function(a){return a instanceof f.default&&(a=a.context()),new e.default(d.REFERENCE_FOLLOWS_FROM,a)}},12582:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Client=void 0;let d=c(611),e=c(83640),f=c(80158),g=c(56458),h=c(33604),i=c(73475),j=Symbol(),k=Symbol(),l=Symbol(),m=Symbol();function n(a){return"function"==typeof a}function o(a){var b;return(null==(b=a.stack)?void 0:b.split("\n").slice(1).join("\n"))||"no stack trace available"}class p{constructor(a,b,c={}){var d,f;if(c=Object.assign({},c),this[k]=null!=(d=c.interceptors)?d:[],delete c.interceptors,this[l]=null!=(f=c.interceptor_providers)?f:[],delete c.interceptor_providers,this[k].length>0&&this[l].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[m]=c.callInvocationTransformer,delete c.callInvocationTransformer,c.channelOverride)this[j]=c.channelOverride;else if(c.channelFactoryOverride){let d=c.channelFactoryOverride;delete c.channelFactoryOverride,this[j]=d(a,b,c)}else this[j]=new e.ChannelImplementation(a,b,c)}close(){this[j].close()}getChannel(){return this[j]}waitForReady(a,b){let c=d=>{let e;if(d)return void b(Error("Failed to connect before the deadline"));try{e=this[j].getConnectivityState(!0)}catch(a){b(Error("The channel has been closed"));return}if(e===f.ConnectivityState.READY)b();else try{this[j].watchConnectivityState(e,a,c)}catch(a){b(Error("The channel has been closed"))}};setImmediate(c)}checkOptionalUnaryResponseArguments(a,b,c){if(n(a))return{metadata:new h.Metadata,options:{},callback:a};if(n(b))if(a instanceof h.Metadata)return{metadata:a,options:{},callback:b};else return{metadata:new h.Metadata,options:a,callback:b};if(!(a instanceof h.Metadata&&b instanceof Object&&n(c)))throw Error("Incorrect arguments passed");return{metadata:a,options:b,callback:c}}makeUnaryRequest(a,b,c,e,f,h,n){var p,q;let r=this.checkOptionalUnaryResponseArguments(f,h,n),s={argument:e,metadata:r.metadata,call:new d.ClientUnaryCallImpl,channel:this[j],methodDefinition:{path:a,requestStream:!1,responseStream:!1,requestSerialize:b,responseDeserialize:c},callOptions:r.options,callback:r.callback};this[m]&&(s=this[m](s));let t=s.call,u={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(p=s.callOptions.interceptors)?p:[],callInterceptorProviders:null!=(q=s.callOptions.interceptor_providers)?q:[]},v=(0,i.getInterceptingCall)(u,s.methodDefinition,s.callOptions,s.channel);t.call=v;let w=null,x=!1,y=Error();return v.start(s.metadata,{onReceiveMetadata:a=>{t.emit("metadata",a)},onReceiveMessage(a){null!==w&&v.cancelWithStatus(g.Status.UNIMPLEMENTED,"Too many responses received"),w=a},onReceiveStatus(a){if(!x){if(x=!0,a.code===g.Status.OK)if(null===w){let b=o(y);s.callback((0,d.callErrorFromStatus)({code:g.Status.UNIMPLEMENTED,details:"No message received",metadata:a.metadata},b))}else s.callback(null,w);else{let b=o(y);s.callback((0,d.callErrorFromStatus)(a,b))}y=null,t.emit("status",a)}}}),v.sendMessage(e),v.halfClose(),t}makeClientStreamRequest(a,b,c,e,f,h){var n,p;let q=this.checkOptionalUnaryResponseArguments(e,f,h),r={metadata:q.metadata,call:new d.ClientWritableStreamImpl(b),channel:this[j],methodDefinition:{path:a,requestStream:!0,responseStream:!1,requestSerialize:b,responseDeserialize:c},callOptions:q.options,callback:q.callback};this[m]&&(r=this[m](r));let s=r.call,t={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(n=r.callOptions.interceptors)?n:[],callInterceptorProviders:null!=(p=r.callOptions.interceptor_providers)?p:[]},u=(0,i.getInterceptingCall)(t,r.methodDefinition,r.callOptions,r.channel);s.call=u;let v=null,w=!1,x=Error();return u.start(r.metadata,{onReceiveMetadata:a=>{s.emit("metadata",a)},onReceiveMessage(a){null!==v&&u.cancelWithStatus(g.Status.UNIMPLEMENTED,"Too many responses received"),v=a,u.startRead()},onReceiveStatus(a){if(!w){if(w=!0,a.code===g.Status.OK)if(null===v){let b=o(x);r.callback((0,d.callErrorFromStatus)({code:g.Status.UNIMPLEMENTED,details:"No message received",metadata:a.metadata},b))}else r.callback(null,v);else{let b=o(x);r.callback((0,d.callErrorFromStatus)(a,b))}x=null,s.emit("status",a)}}}),s}checkMetadataAndOptions(a,b){let c,d;return a instanceof h.Metadata?(c=a,d=b||{}):(d=a||{},c=new h.Metadata),{metadata:c,options:d}}makeServerStreamRequest(a,b,c,e,f,h){var n,p;let q=this.checkMetadataAndOptions(f,h),r={argument:e,metadata:q.metadata,call:new d.ClientReadableStreamImpl(c),channel:this[j],methodDefinition:{path:a,requestStream:!1,responseStream:!0,requestSerialize:b,responseDeserialize:c},callOptions:q.options};this[m]&&(r=this[m](r));let s=r.call,t={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(n=r.callOptions.interceptors)?n:[],callInterceptorProviders:null!=(p=r.callOptions.interceptor_providers)?p:[]},u=(0,i.getInterceptingCall)(t,r.methodDefinition,r.callOptions,r.channel);s.call=u;let v=!1,w=Error();return u.start(r.metadata,{onReceiveMetadata(a){s.emit("metadata",a)},onReceiveMessage(a){s.push(a)},onReceiveStatus(a){if(!v){if(v=!0,s.push(null),a.code!==g.Status.OK){let b=o(w);s.emit("error",(0,d.callErrorFromStatus)(a,b))}w=null,s.emit("status",a)}}}),u.sendMessage(e),u.halfClose(),s}makeBidiStreamRequest(a,b,c,e,f){var h,n;let p=this.checkMetadataAndOptions(e,f),q={metadata:p.metadata,call:new d.ClientDuplexStreamImpl(b,c),channel:this[j],methodDefinition:{path:a,requestStream:!0,responseStream:!0,requestSerialize:b,responseDeserialize:c},callOptions:p.options};this[m]&&(q=this[m](q));let r=q.call,s={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(h=q.callOptions.interceptors)?h:[],callInterceptorProviders:null!=(n=q.callOptions.interceptor_providers)?n:[]},t=(0,i.getInterceptingCall)(s,q.methodDefinition,q.callOptions,q.channel);r.call=t;let u=!1,v=Error();return t.start(q.metadata,{onReceiveMetadata(a){r.emit("metadata",a)},onReceiveMessage(a){r.push(a)},onReceiveStatus(a){if(!u){if(u=!0,r.push(null),a.code!==g.Status.OK){let b=o(v);r.emit("error",(0,d.callErrorFromStatus)(a,b))}v=null,r.emit("status",a)}}}),r}}b.Client=p},12788:(a,b,c)=>{"use strict";var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=k(c(19185));k(c(29021)),k(c(33873));var f=c(77848),g=k(c(97866)),h=k(c(30178)),i=k(c(80579)),j=k(c(24818));function k(a){return a&&a.__esModule?a:{default:a}}b.default=function(){function a(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof a))throw TypeError("Cannot call a class as a function");this._host=c.host||"localhost",this._port=c.port||6832,this._socketType=c.socketType||"udp4",this._maxPacketSize=c.maxPacketSize||65e3,this._logger=c.logger||new g.default,this._client=e.default.createSocket(this._socketType),this._client.on("error",function(a){b._logger.error("error sending spans over UDP: "+a)}),this._agentThrift=new f.Thrift({entryPoint:i.default.buildAgentThriftPath(),allowOptionalArguments:!0,allowFilesystemAccess:!0}),this._jaegerThrift=new f.Thrift({source:i.default.loadJaegerThriftDefinition(),allowOptionalArguments:!0}),this._totalSpanBytes=0}return d(a,[{key:"_calcBatchSize",value:function(a){return this._agentThrift.Agent.emitBatch.argumentsMessageRW.byteLength(this._convertBatchToThriftMessage()).length}},{key:"_calcSpanSize",value:function(a){return this._jaegerThrift.Span.rw.byteLength(new this._jaegerThrift.Span(a))}},{key:"setProcess",value:function(a){this._process=a,this._batch={process:this._process,spans:[]},this._thriftProcessMessage=h.default.convertProcessToThrift(this._jaegerThrift,a),this._emitSpanBatchOverhead=this._calcBatchSize(this._batch),this._maxSpanBytes=this._maxPacketSize-this._emitSpanBatchOverhead}},{key:"append",value:function(a,b){var c=this,d=this._calcSpanSize(a),e=d.err,f=d.length;return e?void h.default.invokeCallback(b,1,"error converting span to Thrift: "+e):f>this._maxSpanBytes?void h.default.invokeCallback(b,1,"span size "+f+" is larger than maxSpanSize "+this._maxSpanBytes):this._totalSpanBytes+f<=this._maxSpanBytes?(this._batch.spans.push(a),this._totalSpanBytes+=f,this._totalSpanBytes<this._maxSpanBytes)?void h.default.invokeCallback(b,0):void this.flush(b):void this.flush(function(d,e){c._batch.spans.push(a),c._totalSpanBytes+=f,h.default.invokeCallback(b,d,e)})}},{key:"flush",value:function(a){var b=this._batch.spans.length;if(!b)return void h.default.invokeCallback(a,0);var c=this._totalSpanBytes+this._emitSpanBatchOverhead,d=j.default.newBuffer(c),e=this._agentThrift.Agent.emitBatch.argumentsMessageRW.writeInto(this._convertBatchToThriftMessage(),d,0);if(this._reset(),e.err)return void h.default.invokeCallback(a,b,"error writing Thrift object: "+e.err);this._client.send(d,0,d.length,this._port,this._host,function(c,d){if(c){var f=c&&"error sending spans over UDP: "+c+", packet size: "+e.offset+", bytes sent: "+d;h.default.invokeCallback(a,b,f)}else h.default.invokeCallback(a,b)})}},{key:"_convertBatchToThriftMessage",value:function(){for(var a=[],b=0;b<this._batch.spans.length;b++){var c=this._batch.spans[b];a.push(new this._jaegerThrift.Span(c))}return new this._agentThrift.Agent.emitBatch.ArgumentsMessage({version:1,id:0,body:{batch:new this._jaegerThrift.Batch({process:this._thriftProcessMessage,spans:a})}})}},{key:"_reset",value:function(){this._batch.spans=[],this._totalSpanBytes=0}},{key:"close",value:function(){this._client.close()}}]),a}()},13180:a=>{"use strict";a.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},13413:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CodeGen=b.Name=b.nil=b.stringify=b.str=b._=b.KeywordCxt=void 0;var d=c(23737);Object.defineProperty(b,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var e=c(38904);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return e.Name}}),Object.defineProperty(b,"CodeGen",{enumerable:!0,get:function(){return e.CodeGen}});let f=c(77009),g=c(80390),h=c(47539),i=c(46226),j=c(38904),k=c(24206),l=c(20351),m=c(46178),n=c(34114),o=c(22211),p=(a,b)=>new RegExp(a,b);p.code="new RegExp";let q=["removeAdditional","useDefaults","coerceTypes"],r=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),s={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},t={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};class u{constructor(a={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,a=this.opts={...a,...function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,q,r,s,t,u,v,w,x,y,z,A,B;let C=a.strict,D=null==(b=a.code)?void 0:b.optimize,E=!0===D||void 0===D?1:D||0,F=null!=(d=null==(c=a.code)?void 0:c.regExp)?d:p,G=null!=(e=a.uriResolver)?e:o.default;return{strictSchema:null==(g=null!=(f=a.strictSchema)?f:C)||g,strictNumbers:null==(i=null!=(h=a.strictNumbers)?h:C)||i,strictTypes:null!=(k=null!=(j=a.strictTypes)?j:C)?k:"log",strictTuples:null!=(m=null!=(l=a.strictTuples)?l:C)?m:"log",strictRequired:null!=(q=null!=(n=a.strictRequired)?n:C)&&q,code:a.code?{...a.code,optimize:E,regExp:F}:{optimize:E,regExp:F},loopRequired:null!=(r=a.loopRequired)?r:200,loopEnum:null!=(s=a.loopEnum)?s:200,meta:null==(t=a.meta)||t,messages:null==(u=a.messages)||u,inlineRefs:null==(v=a.inlineRefs)||v,schemaId:null!=(w=a.schemaId)?w:"$id",addUsedSchema:null==(x=a.addUsedSchema)||x,validateSchema:null==(y=a.validateSchema)||y,validateFormats:null==(z=a.validateFormats)||z,unicodeRegExp:null==(A=a.unicodeRegExp)||A,int32range:null==(B=a.int32range)||B,uriResolver:G}}(a)};let{es5:b,lines:c}=this.opts.code;this.scope=new j.ValueScope({scope:{},prefixes:r,es5:b,lines:c}),this.logger=function(a){if(!1===a)return B;if(void 0===a)return console;if(a.log&&a.warn&&a.error)return a;throw Error("logger must implement log, warn and error methods")}(a.logger);let d=a.validateFormats;a.validateFormats=!1,this.RULES=(0,h.getRules)(),v.call(this,s,a,"NOT SUPPORTED"),v.call(this,t,a,"DEPRECATED","warn"),this._metaOpts=A.call(this),a.formats&&y.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),a.keywords&&z.call(this,a.keywords),"object"==typeof a.meta&&this.addMetaSchema(a.meta),x.call(this),a.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:a,meta:b,schemaId:c}=this.opts,d=n;"id"===c&&((d={...n}).id=d.$id,delete d.$id),b&&a&&this.addMetaSchema(d,d[c],!1)}defaultMeta(){let{meta:a,schemaId:b}=this.opts;return this.opts.defaultMeta="object"==typeof a?a[b]||a:void 0}validate(a,b){let c;if("string"==typeof a){if(!(c=this.getSchema(a)))throw Error(`no schema with key or ref "${a}"`)}else c=this.compile(a);let d=c(b);return"$async"in c||(this.errors=c.errors),d}compile(a,b){let c=this._addSchema(a,b);return c.validate||this._compileSchemaEnv(c)}compileAsync(a,b){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:c}=this.opts;return d.call(this,a,b);async function d(a,b){await e.call(this,a.$schema);let c=this._addSchema(a,b);return c.validate||f.call(this,c)}async function e(a){a&&!this.getSchema(a)&&await d.call(this,{$ref:a},!0)}async function f(a){try{return this._compileSchemaEnv(a)}catch(b){if(!(b instanceof g.default))throw b;return h.call(this,b),await i.call(this,b.missingSchema),f.call(this,a)}}function h({missingSchema:a,missingRef:b}){if(this.refs[a])throw Error(`AnySchema ${a} is loaded but ${b} cannot be resolved`)}async function i(a){let c=await j.call(this,a);this.refs[a]||await e.call(this,c.$schema),this.refs[a]||this.addSchema(c,a,b)}async function j(a){let b=this._loading[a];if(b)return b;try{return await (this._loading[a]=c(a))}finally{delete this._loading[a]}}}addSchema(a,b,c,d=this.opts.validateSchema){let e;if(Array.isArray(a)){for(let b of a)this.addSchema(b,void 0,c,d);return this}if("object"==typeof a){let{schemaId:b}=this.opts;if(void 0!==(e=a[b])&&"string"!=typeof e)throw Error(`schema ${b} must be string`)}return b=(0,k.normalizeId)(b||e),this._checkUnique(b),this.schemas[b]=this._addSchema(a,c,b,d,!0),this}addMetaSchema(a,b,c=this.opts.validateSchema){return this.addSchema(a,b,!0,c),this}validateSchema(a,b){let c;if("boolean"==typeof a)return!0;if(void 0!==(c=a.$schema)&&"string"!=typeof c)throw Error("$schema must be a string");if(!(c=c||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let d=this.validate(c,a);if(!d&&b){let a="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(a);else throw Error(a)}return d}getSchema(a){let b;for(;"string"==typeof(b=w.call(this,a));)a=b;if(void 0===b){let{schemaId:c}=this.opts,d=new i.SchemaEnv({schema:{},schemaId:c});if(!(b=i.resolveSchema.call(this,d,a)))return;this.refs[a]=b}return b.validate||this._compileSchemaEnv(b)}removeSchema(a){if(a instanceof RegExp)return this._removeAllSchemas(this.schemas,a),this._removeAllSchemas(this.refs,a),this;switch(typeof a){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let b=w.call(this,a);return"object"==typeof b&&this._cache.delete(b.schema),delete this.schemas[a],delete this.refs[a],this}case"object":{this._cache.delete(a);let b=a[this.opts.schemaId];return b&&(b=(0,k.normalizeId)(b),delete this.schemas[b],delete this.refs[b]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(a){for(let b of a)this.addKeyword(b);return this}addKeyword(a,b){let c;if("string"==typeof a)c=a,"object"==typeof b&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),b.keyword=c);else if("object"==typeof a&&void 0===b){if(Array.isArray(c=(b=a).keyword)&&!c.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(D.call(this,c,b),!b)return(0,m.eachItem)(c,a=>E.call(this,a)),this;G.call(this,b);let d={...b,type:(0,l.getJSONTypes)(b.type),schemaType:(0,l.getJSONTypes)(b.schemaType)};return(0,m.eachItem)(c,0===d.type.length?a=>E.call(this,a,d):a=>d.type.forEach(b=>E.call(this,a,d,b))),this}getKeyword(a){let b=this.RULES.all[a];return"object"==typeof b?b.definition:!!b}removeKeyword(a){let{RULES:b}=this;for(let c of(delete b.keywords[a],delete b.all[a],b.rules)){let b=c.rules.findIndex(b=>b.keyword===a);b>=0&&c.rules.splice(b,1)}return this}addFormat(a,b){return"string"==typeof b&&(b=new RegExp(b)),this.formats[a]=b,this}errorsText(a=this.errors,{separator:b=", ",dataVar:c="data"}={}){return a&&0!==a.length?a.map(a=>`${c}${a.instancePath} ${a.message}`).reduce((a,c)=>a+b+c):"No errors"}$dataMetaSchema(a,b){let c=this.RULES.all;for(let d of(a=JSON.parse(JSON.stringify(a)),b)){let b=d.split("/").slice(1),e=a;for(let a of b)e=e[a];for(let a in c){let b=c[a];if("object"!=typeof b)continue;let{$data:d}=b.definition,f=e[a];d&&f&&(e[a]=I(f))}}return a}_removeAllSchemas(a,b){for(let c in a){let d=a[c];(!b||b.test(c))&&("string"==typeof d?delete a[c]:d&&!d.meta&&(this._cache.delete(d.schema),delete a[c]))}}_addSchema(a,b,c,d=this.opts.validateSchema,e=this.opts.addUsedSchema){let f,{schemaId:g}=this.opts;if("object"==typeof a)f=a[g];else if(this.opts.jtd)throw Error("schema must be object");else if("boolean"!=typeof a)throw Error("schema must be object or boolean");let h=this._cache.get(a);if(void 0!==h)return h;c=(0,k.normalizeId)(f||c);let j=k.getSchemaRefs.call(this,a,c);return h=new i.SchemaEnv({schema:a,schemaId:g,meta:b,baseId:c,localRefs:j}),this._cache.set(h.schema,h),e&&!c.startsWith("#")&&(c&&this._checkUnique(c),this.refs[c]=h),d&&this.validateSchema(a,!0),h}_checkUnique(a){if(this.schemas[a]||this.refs[a])throw Error(`schema with key or id "${a}" already exists`)}_compileSchemaEnv(a){if(a.meta?this._compileMetaSchema(a):i.compileSchema.call(this,a),!a.validate)throw Error("ajv implementation error");return a.validate}_compileMetaSchema(a){let b=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,a)}finally{this.opts=b}}}function v(a,b,c,d="error"){for(let e in a)e in b&&this.logger[d](`${c}: option ${e}. ${a[e]}`)}function w(a){return a=(0,k.normalizeId)(a),this.schemas[a]||this.refs[a]}function x(){let a=this.opts.schemas;if(a)if(Array.isArray(a))this.addSchema(a);else for(let b in a)this.addSchema(a[b],b)}function y(){for(let a in this.opts.formats){let b=this.opts.formats[a];b&&this.addFormat(a,b)}}function z(a){if(Array.isArray(a))return void this.addVocabulary(a);for(let b in this.logger.warn("keywords option as map is deprecated, pass array"),a){let c=a[b];c.keyword||(c.keyword=b),this.addKeyword(c)}}function A(){let a={...this.opts};for(let b of q)delete a[b];return a}u.ValidationError=f.default,u.MissingRefError=g.default,b.default=u;let B={log(){},warn(){},error(){}},C=/^[a-z_$][a-z0-9_$:-]*$/i;function D(a,b){let{RULES:c}=this;if((0,m.eachItem)(a,a=>{if(c.keywords[a])throw Error(`Keyword ${a} is already defined`);if(!C.test(a))throw Error(`Keyword ${a} has invalid name`)}),b&&b.$data&&!("code"in b||"validate"in b))throw Error('$data keyword must have "code" or "validate" function')}function E(a,b,c){var d;let e=null==b?void 0:b.post;if(c&&e)throw Error('keyword with "post" flag cannot have "type"');let{RULES:f}=this,g=e?f.post:f.rules.find(({type:a})=>a===c);if(g||(g={type:c,rules:[]},f.rules.push(g)),f.keywords[a]=!0,!b)return;let h={keyword:a,definition:{...b,type:(0,l.getJSONTypes)(b.type),schemaType:(0,l.getJSONTypes)(b.schemaType)}};b.before?F.call(this,g,h,b.before):g.rules.push(h),f.all[a]=h,null==(d=b.implements)||d.forEach(a=>this.addKeyword(a))}function F(a,b,c){let d=a.rules.findIndex(a=>a.keyword===c);d>=0?a.rules.splice(d,0,b):(a.rules.push(b),this.logger.warn(`rule ${c} is not defined`))}function G(a){let{metaSchema:b}=a;void 0!==b&&(a.$data&&this.opts.$data&&(b=I(b)),a.validateSchema=this.compile(b,!0))}let H={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function I(a){return{anyOf:[a,H]}}},13590:(a,b,c)=>{"use strict";c.d(b,{q:()=>e});var d=c(79646),e=c(28354).promisify(d.exec)},13672:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{EmbedderInfoSchema:()=>v,EmbeddingSchema:()=>l,defineEmbedder:()=>r,embed:()=>s,embedMany:()=>u,embedder:()=>p,embedderActionMetadata:()=>x,embedderRef:()=>w}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(76944),k=c(25399);let l=i.z.object({embedding:i.z.array(i.z.number()),metadata:i.z.record(i.z.string(),i.z.unknown()).optional()}),m=i.z.object({input:i.z.array(k.DocumentDataSchema),options:i.z.any().optional()}),n=i.z.object({embeddings:i.z.array(l)});function o(a,b){return a.__configSchema=b,a}function p(a,b){return o((0,i.action)(q(a),(a,c)=>b({input:a.input.map(a=>new k.Document(a)),options:a.options},c)),a.configSchema)}function q(a){return{actionType:"embedder",name:a.name,inputSchema:m,outputSchema:n,metadata:{type:"embedder",info:a.info,embedder:{customOptions:a.configSchema?(0,j.toJsonSchema)({schema:a.configSchema}):void 0}}}}function r(a,b,c){return o((0,i.defineAction)(a,q(b),a=>c(a.input.map(a=>new k.Document(a)),a.options)),b.configSchema)}async function s(a,b){let c=await t(a,b);if(!c.embedderAction){let a;throw a="string"==typeof b.embedder?b.embedder:b.embedder?.__action?.name?b.embedder.__action.name:b.embedder.name,Error(`Unable to resolve embedder ${a}`)}return(await c.embedderAction({input:"string"==typeof b.content?[k.Document.fromText(b.content,b.metadata)]:[b.content],options:{version:c.version,...c.config,...b.options}})).embeddings}async function t(a,b){if("string"==typeof b.embedder)return{embedderAction:await a.lookupAction(`/embedder/${b.embedder}`)};if(Object.hasOwnProperty.call(b.embedder,"__action"))return{embedderAction:b.embedder};if(Object.hasOwnProperty.call(b.embedder,"name")){let c=b.embedder;return{embedderAction:await a.lookupAction(`/embedder/${b.embedder.name}`),config:{...c.config},version:c.version}}throw Error(`failed to resolve embedder ${b.embedder}`)}async function u(a,b){let c;if(!(c="string"==typeof b.embedder?await a.lookupAction(`/embedder/${b.embedder}`):Object.hasOwnProperty.call(b.embedder,"info")?await a.lookupAction(`/embedder/${b.embedder.name}`):b.embedder))throw Error("Unable to utilize the provided embedder");return(await c({input:b.content.map(a=>"string"==typeof a?k.Document.fromText(a,b.metadata):a),options:b.options})).embeddings}let v=i.z.object({label:i.z.string().optional(),supports:i.z.object({input:i.z.array(i.z.enum(["text","image","video"])).optional(),multilingual:i.z.boolean().optional()}).optional(),dimensions:i.z.number().optional()});function w(a){let b=a.name;return a.namespace&&!b.startsWith(a.namespace+"/")&&(b=`${a.namespace}/${b}`),{...a,name:b}}function x({name:a,info:b,configSchema:c}){return{actionType:"embedder",name:a,inputJsonSchema:(0,j.toJsonSchema)({schema:m}),outputJsonSchema:(0,j.toJsonSchema)({schema:n}),metadata:{embedder:{...b,customOptions:c?(0,j.toJsonSchema)({schema:c}):void 0}}}}},13685:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InterceptingListenerImpl=void 0,b.statusOrFromValue=function(a){return{ok:!0,value:a}},b.statusOrFromError=function(a){var b;return{ok:!1,error:Object.assign(Object.assign({},a),{metadata:null!=(b=a.metadata)?b:new d.Metadata})}},b.isInterceptingListener=function(a){return void 0!==a.onReceiveMetadata&&1===a.onReceiveMetadata.length};let d=c(33604);class e{constructor(a,b){this.listener=a,this.nextListener=b,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(a){this.processingMetadata=!0,this.listener.onReceiveMetadata(a,a=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(a),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(a){this.processingMessage=!0,this.listener.onReceiveMessage(a,a=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=a,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(a),this.processPendingStatus())})}onReceiveStatus(a){this.listener.onReceiveStatus(a,a=>{this.processingMetadata||this.processingMessage?this.pendingStatus=a:this.nextListener.onReceiveStatus(a)})}}b.InterceptingListenerImpl=e},13781:(a,b,c)=>{"use strict";c.d(b,{N:()=>e});var d=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),e=function(a){function b(b,c,d){var e=a.call(this,b)||this;return e.name="OTLPExporterError",e.data=d,e.code=c,e}return d(b,a),b}(Error)},13852:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{checkOperation:()=>j}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979);async function j(a,b){if(!b.action)throw new i.GenkitError({status:"INVALID_ARGUMENT",message:"Provided operation is missing original request information"});let c=await a.lookupBackgroundAction(b.action);if(!c)throw new i.GenkitError({status:"INVALID_ARGUMENT",message:`Failed to resolve background action from original request: ${b.action}`});return await c.check(b)}},14015:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{CandidateErrorSchema:()=>x,CandidateSchema:()=>w,FinishReasonSchema:()=>v,GenerateActionOptionsSchema:()=>D,GenerateActionOutputConfig:()=>C,GenerateRequestSchema:()=>t,GenerateResponseChunkSchema:()=>B,GenerateResponseSchema:()=>z,GenerationCommonConfigDescriptions:()=>p,GenerationCommonConfigSchema:()=>q,GenerationUsageSchema:()=>u,MessageSchema:()=>m,ModelInfoSchema:()=>n,ModelRequestSchema:()=>s,ModelResponseChunkSchema:()=>A,ModelResponseSchema:()=>y,OutputConfigSchema:()=>r,PartSchema:()=>k,RoleSchema:()=>l,ToolDefinitionSchema:()=>o}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(25399);let k=i.z.union([j.TextPartSchema,j.MediaPartSchema,j.ToolRequestPartSchema,j.ToolResponsePartSchema,j.DataPartSchema,j.CustomPartSchema,j.ReasoningPartSchema,j.ResourcePartSchema]),l=i.z.enum(["system","user","model","tool"]),m=i.z.object({role:l,content:i.z.array(k),metadata:i.z.record(i.z.unknown()).optional()}),n=i.z.object({versions:i.z.array(i.z.string()).optional(),label:i.z.string().optional(),configSchema:i.z.record(i.z.any()).optional(),supports:i.z.object({multiturn:i.z.boolean().optional(),media:i.z.boolean().optional(),tools:i.z.boolean().optional(),systemRole:i.z.boolean().optional(),output:i.z.array(i.z.string()).optional(),contentType:i.z.array(i.z.string()).optional(),context:i.z.boolean().optional(),constrained:i.z.enum(["none","all","no-tools"]).optional(),toolChoice:i.z.boolean().optional()}).optional(),stage:i.z.enum(["featured","stable","unstable","legacy","deprecated"]).optional()}),o=i.z.object({name:i.z.string(),description:i.z.string(),inputSchema:i.z.record(i.z.any()).describe("Valid JSON Schema representing the input of the tool.").nullish(),outputSchema:i.z.record(i.z.any()).describe("Valid JSON Schema describing the output of the tool.").nullish(),metadata:i.z.record(i.z.any()).describe("additional metadata for this tool definition").optional()}),p={temperature:"Controls the degree of randomness in token selection. A lower value is good for a more predictable response. A higher value leads to more diverse or unexpected results.",maxOutputTokens:"The maximum number of tokens to include in the response.",topK:"The maximum number of tokens to consider when sampling.",topP:"Decides how many possible words to consider. A higher value means that the model looks at more possible words, even the less likely ones, which makes the generated text more diverse."},q=i.z.object({version:i.z.string().describe("A specific version of a model family, e.g. `gemini-2.0-flash` for the `googleai` family.").optional(),temperature:i.z.number().describe(p.temperature).optional(),maxOutputTokens:i.z.number().describe(p.maxOutputTokens).optional(),topK:i.z.number().describe(p.topK).optional(),topP:i.z.number().describe(p.topP).optional(),stopSequences:i.z.array(i.z.string()).max(5).describe("Set of character sequences (up to 5) that will stop output generation.").optional()}).passthrough(),r=i.z.object({format:i.z.string().optional(),schema:i.z.record(i.z.any()).optional(),constrained:i.z.boolean().optional(),contentType:i.z.string().optional()}),s=i.z.object({messages:i.z.array(m),config:i.z.any().optional(),tools:i.z.array(o).optional(),toolChoice:i.z.enum(["auto","required","none"]).optional(),output:r.optional(),docs:i.z.array(j.DocumentDataSchema).optional()}),t=s.extend({candidates:i.z.number().optional()}),u=i.z.object({inputTokens:i.z.number().optional(),outputTokens:i.z.number().optional(),totalTokens:i.z.number().optional(),inputCharacters:i.z.number().optional(),outputCharacters:i.z.number().optional(),inputImages:i.z.number().optional(),outputImages:i.z.number().optional(),inputVideos:i.z.number().optional(),outputVideos:i.z.number().optional(),inputAudioFiles:i.z.number().optional(),outputAudioFiles:i.z.number().optional(),custom:i.z.record(i.z.number()).optional(),thoughtsTokens:i.z.number().optional(),cachedContentTokens:i.z.number().optional()}),v=i.z.enum(["stop","length","blocked","interrupted","other","unknown"]),w=i.z.object({index:i.z.number(),message:m,usage:u.optional(),finishReason:v,finishMessage:i.z.string().optional(),custom:i.z.unknown()}),x=i.z.object({index:i.z.number(),code:i.z.enum(["blocked","other","unknown"]),message:i.z.string().optional()}),y=i.z.object({message:m.optional(),finishReason:v,finishMessage:i.z.string().optional(),latencyMs:i.z.number().optional(),usage:u.optional(),custom:i.z.unknown(),raw:i.z.unknown(),request:t.optional(),operation:i.OperationSchema.optional()}),z=y.extend({candidates:i.z.array(w).optional(),finishReason:v.optional()}),A=i.z.object({role:l.optional(),index:i.z.number().optional(),content:i.z.array(k),custom:i.z.unknown().optional(),aggregated:i.z.boolean().optional()}),B=A,C=i.z.object({format:i.z.string().optional(),contentType:i.z.string().optional(),instructions:i.z.union([i.z.boolean(),i.z.string()]).optional(),jsonSchema:i.z.any().optional(),constrained:i.z.boolean().optional()}),D=i.z.object({model:i.z.string(),docs:i.z.array(j.DocumentDataSchema).optional(),messages:i.z.array(m),tools:i.z.array(i.z.string()).optional(),resources:i.z.array(i.z.string()).optional(),toolChoice:i.z.enum(["auto","required","none"]).optional(),config:i.z.any().optional(),output:C.optional(),resume:i.z.object({respond:i.z.array(j.ToolResponsePartSchema).optional(),restart:i.z.array(j.ToolRequestPartSchema).optional(),metadata:i.z.record(i.z.any()).optional()}).optional(),returnToolRequests:i.z.boolean().optional(),maxTurns:i.z.number().optional(),stepName:i.z.string().optional()})},14067:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SubchannelPool=void 0,b.getSubchannelPool=function(a){return a?j:new i};let d=c(31365),e=c(27128),f=c(41835),g=c(9413),h=c(89922);class i{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let a=!0;for(let b in this.pool){let c=this.pool[b].filter(a=>!a.subchannel.unrefIfOneRef());c.length>0&&(a=!1),this.pool[b]=c}a&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var a,b;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},1e4),null==(b=(a=this.cleanupTimer).unref)||b.call(a))}getOrCreateSubchannel(a,b,c,i){this.ensureCleanupTask();let j=(0,g.uriToString)(a);if(j in this.pool){for(let a of this.pool[j])if((0,f.subchannelAddressEqual)(b,a.subchannelAddress)&&(0,d.channelOptionsEqual)(c,a.channelArguments)&&i._equals(a.channelCredentials))return a.subchannel}let k=new e.Subchannel(a,b,c,i,new h.Http2SubchannelConnector(a));return j in this.pool||(this.pool[j]=[]),this.pool[j].push({subchannelAddress:b,channelArguments:c,channelCredentials:i,subchannel:k}),k.ref(),k}}b.SubchannelPool=i;let j=new i},14752:(a,b,c)=>{"use strict";b.__esModule=!0;var d=c(80496),e=function(a){return a&&a.__esModule?a:{default:a}}(c(99008));b.default=function(a){a.registerHelper("each",function(a,b){if(!b)throw new e.default("Must pass iterator to #each");var c,f=b.fn,g=b.inverse,h=0,i="",j=void 0,k=void 0;function l(b,c,e){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!e,k&&(j.contextPath=k+b)),i+=f(a[b],{data:j,blockParams:d.blockParams([a[b],b],[k+b,null])})}if(b.data&&b.ids&&(k=d.appendContextPath(b.data.contextPath,b.ids[0])+"."),d.isFunction(a)&&(a=a.call(this)),b.data&&(j=d.createFrame(b.data)),a&&"object"==typeof a)if(d.isArray(a))for(var m=a.length;h<m;h++)h in a&&l(h,h,h===a.length-1);else if("function"==typeof Symbol&&a[Symbol.iterator]){for(var n=[],o=a[Symbol.iterator](),p=o.next();!p.done;p=o.next())n.push(p.value);a=n;for(var m=a.length;h<m;h++)l(h,h,h===a.length-1)}else c=void 0,Object.keys(a).forEach(function(a){void 0!==c&&l(c,h-1),c=a,h++}),void 0!==c&&l(c,h-1,!0);return 0===h&&(i=g(this)),i})},a.exports=b.default},14755:(a,b,c)=>{"use strict";var d=c(20992),e=c(42218),f=c(8408);b.createNode=function(a,b,c){let g;if(e.isDocument(a)&&(a=a.contents),e.isNode(a))return a;if(e.isPair(a)){let b=c.schema[e.MAP].createNode?.(c.schema,null,c);return b.items.push(a),b}(a instanceof String||a instanceof Number||a instanceof Boolean||"undefined"!=typeof BigInt&&a instanceof BigInt)&&(a=a.valueOf());let{aliasDuplicateObjects:h,onAnchor:i,onTagObj:j,schema:k,sourceObjects:l}=c;if(h&&a&&"object"==typeof a){if(g=l.get(a))return g.anchor??(g.anchor=i(a)),new d.Alias(g.anchor);g={anchor:null,node:null},l.set(a,g)}b?.startsWith("!!")&&(b="tag:yaml.org,2002:"+b.slice(2));let m=function(a,b,c){if(b){let a=c.filter(a=>a.tag===b),d=a.find(a=>!a.format)??a[0];if(!d)throw Error(`Tag ${b} not found`);return d}return c.find(b=>b.identify?.(a)&&!b.format)}(a,b,k.tags);if(!m){if(a&&"function"==typeof a.toJSON&&(a=a.toJSON()),!a||"object"!=typeof a){let b=new f.Scalar(a);return g&&(g.node=b),b}m=a instanceof Map?k[e.MAP]:Symbol.iterator in Object(a)?k[e.SEQ]:k[e.MAP]}j&&(j(m),delete c.onTagObj);let n=m?.createNode?m.createNode(c.schema,a,c):"function"==typeof m?.nodeClass?.from?m.nodeClass.from(c.schema,a,c):new f.Scalar(a);return b?n.tag=b:m.default||(n.tag=m.tag),g&&(g.node=n),n}},15080:(a,b,c)=>{"use strict";b.__esModule=!0;var d=function(a){return a&&a.__esModule?a:{default:a}}(c(99008));b.default=function(a){a.registerHelper("helperMissing",function(){if(1!=arguments.length)throw new d.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},a.exports=b.default},15750:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{ATTR_PREFIX:()=>n,SPAN_TYPE_ATTR:()=>o,appendSpan:()=>r,disableOTelRootSpanDetection:()=>z,runInNewSpan:()=>q,setCustomMetadataAttribute:()=>t,setCustomMetadataAttributes:()=>u,spanMetadataAlsKey:()=>m,toDisplayPath:()=>v}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(68948),j=c(643),k=c(50673),l=c(64089);let m="core.tracing.instrumentation.span",n="genkit",o=n+":type",p="genkit-tracer";async function q(a,b,c){let d,e;3==arguments.length?(d=b,e=c):(d=a,e=b),await (0,l.ensureBasicTelemetryInstrumentation)();let f=i.trace.getTracer(p,"v1"),g=(0,k.getAsyncContext)().getStore(m),h=g?.metadata?.isRoot===!0;g||(d.metadata.isRoot||=!0);let j={links:d.links};return!0!==global[y]&&(j.root=d.metadata.isRoot),await f.startActiveSpan(d.metadata.name,j,async a=>{d.labels&&a.setAttributes(d.labels);let b={...g,metadata:d.metadata};try{d.metadata.path=function(a,b,c){let d=c&&c["genkit:type"]?`,t:${"flow"===c["genkit:metadata:subtype"]?"flow":c["genkit:type"]}`:"";return b+`/{${a}${d}}`}(d.metadata.name,g?.metadata?.path||"",d.labels);let c=await (0,k.getAsyncContext)().run(m,b,()=>e(d.metadata,a,h));return"error"!==d.metadata.state&&(d.metadata.state="success"),x(d.metadata,b),c}catch(e){var c;throw x(d.metadata,b,e),d.metadata.state="error",a.setStatus({code:i.SpanStatusCode.ERROR,message:(c=e)instanceof Error?c.message:`${c}`}),e instanceof Error&&a.recordException(e),"object"==typeof e&&(e.ignoreFailedSpan||(d.metadata.isFailureSource=!0),e.ignoreFailedSpan=!0),e}finally{a.setAttributes(s(d.metadata)),a.end()}})}async function r(a,b,c,d){await (0,l.ensureBasicTelemetryInstrumentation)();let e=i.trace.getTracer(p,"v1"),f=i.trace.setSpanContext(i.ROOT_CONTEXT,{traceId:a,traceFlags:1,spanId:b}),g=e.startSpan(c.name,{},f);g.setAttributes(s(c)),d&&g.setAttributes(d),g.end()}function s(a){let b={};return Object.keys(a).forEach(c=>{"metadata"===c&&"object"==typeof a[c]&&a.metadata?Object.entries(a.metadata).forEach(([a,c])=>{b[n+":metadata:"+a]=c}):"input"===c||"object"==typeof a[c]?b[n+":"+c]=JSON.stringify(a[c]):b[n+":"+c]=a[c]}),b}function t(a,b){let c=w();c&&(c.metadata||(c.metadata={}),c.metadata[a]=b)}function u(a){let b=w();if(b)for(let[c,d]of(b.metadata||(b.metadata={}),Object.entries(a)))b.metadata[c]=d}function v(a){return Array.from(a.matchAll(/\{([^\,}]+),[^\}]+\}/g),a=>a[1]).join(" > ")}function w(){let a=(0,k.getAsyncContext)().getStore(m);if(!a)throw Error("running outside step context");return a.metadata}function x(a,b,c){let d=a.path||"",e=function(a){if(!a.path)return"";let b=a.path.split("}/{");if(1==b.length)return a.path;let c=a.metadata&&a.metadata.subtype?`,s:${a.metadata.subtype}`:"";return`${b.slice(0,-1).join("}/{")}}/{${b.at(-1)?.slice(0,-1)}${c}}`}(a),f=Array.from(b?.paths||new Set),g=c?"failure":"success";if(!f.some(a=>a.path.startsWith(d)&&a.status===g)){let a=j.performance.now(),d=b?.timestamp||a;b?.paths?.add({path:e,error:c?.name,latency:a-d,status:g})}a.path=e}let y="__genkit_disableRootSpanDetection";function z(){global[y]=!0}},15792:a=>{"use strict";a.exports=function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){if(b.constructor!==c.constructor)return!1;if(Array.isArray(b)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(!a(b[e],c[e]))return!1;return!0}if(b.constructor===RegExp)return b.source===c.source&&b.flags===c.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===c.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===c.toString();if((d=(f=Object.keys(b)).length)!==Object.keys(c).length)return!1;for(e=d;0!=e--;)if(!Object.prototype.hasOwnProperty.call(c,f[e]))return!1;for(e=d;0!=e--;){var d,e,f,g=f[e];if(!a(b[g],c[g]))return!1}return!0}return b!=b&&c!=c}},15999:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.StreamDecoder=void 0,function(a){a[a.NO_DATA=0]="NO_DATA",a[a.READING_SIZE=1]="READING_SIZE",a[a.READING_MESSAGE=2]="READING_MESSAGE"}(c||(c={}));class d{constructor(a){this.maxReadMessageLength=a,this.readState=c.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(a){let b,d=0,e=[];for(;d<a.length;)switch(this.readState){case c.NO_DATA:this.readCompressFlag=a.slice(d,d+1),d+=1,this.readState=c.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case c.READING_SIZE:if(b=Math.min(a.length-d,this.readSizeRemaining),a.copy(this.readPartialSize,4-this.readSizeRemaining,d,d+b),this.readSizeRemaining-=b,d+=b,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=c.READING_MESSAGE;else{let a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=c.NO_DATA,e.push(a)}}break;case c.READING_MESSAGE:if(b=Math.min(a.length-d,this.readMessageRemaining),this.readPartialMessage.push(a.slice(d,d+b)),this.readMessageRemaining-=b,d+=b,0===this.readMessageRemaining){let a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),b=Buffer.concat(a,this.readMessageSize+5);this.readState=c.NO_DATA,e.push(b)}break;default:throw Error("Unexpected read state")}return e}}b.StreamDecoder=d},16260:(a,b,c)=>{"use strict";let d=c(62710),e=c(45053),f=c(78871),g=c(59218),h=c(71635),i=c(71780),j=c(57593),k=c(86038),l=c(73575),m=c(58337),n=c(57317),o=c(33160),p=c(57976),q=c(96775),r=c(8265),s=c(28570),t=c(26220),u=c(8049),v=c(5852),w=c(85327),x=c(59366),y=c(23948),z=c(97106),A=c(94764),B=c(97579),C=c(67418),D=c(21609),E=c(50403),F=c(24346),G=c(32665),H=c(34906),I=c(32843),J=c(37905),K=c(17376),L=c(28581),M=c(74502),N=c(69774),O=c(93689),P=c(47443);a.exports={parse:h,valid:i,clean:j,inc:k,diff:l,major:m,minor:n,patch:o,prerelease:p,compare:q,rcompare:r,compareLoose:s,compareBuild:t,sort:u,rsort:v,gt:w,lt:x,eq:y,neq:z,gte:A,lte:B,cmp:C,coerce:D,Comparator:E,Range:F,satisfies:G,toComparators:H,maxSatisfying:I,minSatisfying:J,minVersion:K,validRange:L,outside:M,gtr:N,ltr:O,intersects:P,simplifyRange:c(7588),subset:c(23439),SemVer:f,re:d.re,src:d.src,tokens:d.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:g.compareIdentifiers,rcompareIdentifiers:g.rcompareIdentifiers}},16390:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.restrictControlPlaneStatusCode=function(a,b){return e.includes(a)?{code:d.Status.INTERNAL,details:`Invalid status from control plane: ${a} ${d.Status[a]} ${b}`}:{code:a,details:b}};let d=c(56458),e=[d.Status.OK,d.Status.INVALID_ARGUMENT,d.Status.NOT_FOUND,d.Status.ALREADY_EXISTS,d.Status.FAILED_PRECONDITION,d.Status.ABORTED,d.Status.OUT_OF_RANGE,d.Status.DATA_LOSS]},16426:(a,b,c)=>{"use strict";c.d(b,{Az:()=>n,II:()=>g,SP:()=>i,qd:()=>f,z3:()=>h});var d=c(99591),e=c(61367);function f(a){var b=BigInt(1e9);return BigInt(a[0])*b+BigInt(a[1])}function g(a){return{low:Number(BigInt.asUintN(32,a)),high:Number(BigInt.asUintN(32,a>>BigInt(32)))}}function h(a){return g(f(a))}function i(a){return f(a).toString()}var j="undefined"!=typeof BigInt?i:d.u5;function k(a){return a}function l(a){if(void 0!==a)return(0,e.Q)(a)}var m={encodeHrTime:h,encodeSpanContext:e.Q,encodeOptionalSpanContext:l};function n(a){if(void 0===a)return m;var b,c,d=null==(b=a.useLongBits)||b,f=null!=(c=a.useHex)&&c;return{encodeHrTime:d?h:j,encodeSpanContext:f?k:e.Q,encodeOptionalSpanContext:f?k:l}}},16578:(a,b,c)=>{"use strict";c.d(b,{DM:()=>n,G4:()=>m,I3:()=>g,MY:()=>i,OK:()=>l,fn:()=>o,jm:()=>k,uY:()=>j,xP:()=>p,y7:()=>f,zn:()=>h});var d=c(95026),e=c(22858);let f=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}},g=[];function h(a,b){let c=(0,d.$W)(),g=f({issueData:b,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,c,c===e.A?void 0:e.A].filter(a=>!!a)});a.common.issues.push(g)}class i{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,b){let c=[];for(let d of b){if("aborted"===d.status)return j;"dirty"===d.status&&a.dirty(),c.push(d.value)}return{status:a.value,value:c}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return i.mergeObjectSync(a,c)}static mergeObjectSync(a,b){let c={};for(let d of b){let{key:b,value:e}=d;if("aborted"===b.status||"aborted"===e.status)return j;"dirty"===b.status&&a.dirty(),"dirty"===e.status&&a.dirty(),"__proto__"!==b.value&&(void 0!==e.value||d.alwaysSet)&&(c[b.value]=e.value)}return{status:a.value,value:c}}}let j=Object.freeze({status:"aborted"}),k=a=>({status:"dirty",value:a}),l=a=>({status:"valid",value:a}),m=a=>"aborted"===a.status,n=a=>"dirty"===a.status,o=a=>"valid"===a.status,p=a=>"undefined"!=typeof Promise&&a instanceof Promise},16800:(a,b,c)=>{"use strict";c.d(b,{G:()=>g,WI:()=>f,eq:()=>e});var d=c(70149);let e=d.ZS.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),f=a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:");class g extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof g))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,d.ZS.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}g.create=a=>new g(a)},16960:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ResolvingLoadBalancer=void 0;let d=c(20606),e=c(63971),f=c(80158),g=c(43313),h=c(96269),i=c(9251),j=c(56458),k=c(33604),l=c(38702),m=c(56458),n=c(9413),o=c(89092);function p(a){l.trace(m.LogVerbosity.DEBUG,"resolving_load_balancer",a)}let q=["SERVICE_AND_METHOD","SERVICE","EMPTY"];class r{constructor(a,b,c,d,j){this.target=a,this.channelControlHelper=b,this.channelOptions=c,this.onSuccessfulResolution=d,this.onFailedResolution=j,this.latestChildState=f.ConnectivityState.IDLE,this.latestChildPicker=new h.QueuePicker(this),this.latestChildErrorMessage=null,this.currentState=f.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,c["grpc.service_config"]?this.defaultServiceConfig=(0,e.validateServiceConfig)(JSON.parse(c["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(f.ConnectivityState.IDLE,new h.QueuePicker(this),null),this.childLoadBalancer=new o.ChildLoadBalancerHandler({createSubchannel:b.createSubchannel.bind(b),requestReresolution:()=>{this.backoffTimeout.isRunning()?(p("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(a,b,c)=>{this.latestChildState=a,this.latestChildPicker=b,this.latestChildErrorMessage=c,this.updateState(a,b,c)},addChannelzChild:b.addChannelzChild.bind(b),removeChannelzChild:b.removeChannelzChild.bind(b)}),this.innerResolver=(0,g.createResolver)(a,this.handleResolverResult.bind(this),c);let k={initialDelay:c["grpc.initial_reconnect_backoff_ms"],maxDelay:c["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker,this.latestChildErrorMessage)},k),this.backoffTimeout.unref()}handleResolverResult(a,b,c,e){var f,h,i;this.backoffTimeout.stop(),this.backoffTimeout.reset();let l=!0,m=null;if(null===c?m=this.defaultServiceConfig:c.ok?m=c.value:null!==this.previousServiceConfig?m=this.previousServiceConfig:(l=!1,this.handleResolutionFailure(c.error)),null!==m){let c=null!=(f=null==m?void 0:m.loadBalancingConfig)?f:[],g=(0,d.selectLbConfigFromList)(c,!0);null===g?(l=!1,this.handleResolutionFailure({code:j.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new k.Metadata})):l=this.childLoadBalancer.updateAddressList(a,g,Object.assign(Object.assign({},this.channelOptions),b),e)}return l&&this.onSuccessfulResolution(m,null!=(h=b[g.CHANNEL_ARGS_CONFIG_SELECTOR_KEY])?h:(i=m,{invoke(a,b){var c,d;let e=a.split("/").filter(a=>a.length>0),f=null!=(c=e[0])?c:"",g=null!=(d=e[1])?d:"";if(i&&i.methodConfig)for(let a of q){let b=function(a,b,c,d){for(let e of c)if(function(a,b,c,d){for(let e of c.name)switch(d){case"EMPTY":if(!e.service&&!e.method)return!0;break;case"SERVICE":if(e.service===a&&!e.method)return!0;break;case"SERVICE_AND_METHOD":if(e.service===a&&e.method===b)return!0}return!1}(a,b,e,d))return e;return null}(f,g,i.methodConfig,a);if(b)return{methodConfig:b,pickInformation:{},status:j.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:j.Status.OK,dynamicFilterFactories:[]}},unref(){}})),l}updateResolution(){this.innerResolver.updateResolution(),this.currentState===f.ConnectivityState.IDLE&&this.updateState(f.ConnectivityState.CONNECTING,this.latestChildPicker,this.latestChildErrorMessage),this.backoffTimeout.runOnce()}updateState(a,b,c){p((0,n.uriToString)(this.target)+" "+f.ConnectivityState[this.currentState]+" -> "+f.ConnectivityState[a]),a===f.ConnectivityState.IDLE&&(b=new h.QueuePicker(this,b)),this.currentState=a,this.channelControlHelper.updateState(a,b,c)}handleResolutionFailure(a){this.latestChildState===f.ConnectivityState.IDLE&&(this.updateState(f.ConnectivityState.TRANSIENT_FAILURE,new h.UnavailablePicker(a),a.details),this.onFailedResolution(a))}exitIdle(){(this.currentState===f.ConnectivityState.IDLE||this.currentState===f.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(a,b){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=f.ConnectivityState.IDLE,this.latestChildPicker=new h.QueuePicker(this),this.currentState=f.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}b.ResolvingLoadBalancer=r},17191:(a,b,c)=>{"use strict";let d,e,f,g,h,i,j,k,l,m,n,o,p,q;c.r(b),c.d(b,{default:()=>H});var r={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},s={isSpaceSeparator:a=>"string"==typeof a&&r.Space_Separator.test(a),isIdStartChar:a=>"string"==typeof a&&(a>="a"&&a<="z"||a>="A"&&a<="Z"||"$"===a||"_"===a||r.ID_Start.test(a)),isIdContinueChar:a=>"string"==typeof a&&(a>="a"&&a<="z"||a>="A"&&a<="Z"||a>="0"&&a<="9"||"$"===a||"_"===a||""===a||""===a||r.ID_Continue.test(a)),isDigit:a=>"string"==typeof a&&/[0-9]/.test(a),isHexDigit:a=>"string"==typeof a&&/[0-9A-Fa-f]/.test(a)};function t(){if(d[g])return String.fromCodePoint(d.codePointAt(g))}function u(){let a=t();return"\n"===a?(h++,i=0):a?i+=a.length:i++,a&&(g+=a.length),a}let v={default(){switch(q){case"	":case"\v":case"\f":case" ":case"\xa0":case"\uFEFF":case"\n":case"\r":case"\u2028":case"\u2029":u();return;case"/":u(),m="comment";return;case void 0:return u(),w("eof")}return s.isSpaceSeparator(q)?void u():v[e]()},comment(){switch(q){case"*":u(),m="multiLineComment";return;case"/":u(),m="singleLineComment";return}throw C(u())},multiLineComment(){switch(q){case"*":u(),m="multiLineCommentAsterisk";return;case void 0:throw C(u())}u()},multiLineCommentAsterisk(){switch(q){case"*":u();return;case"/":u(),m="default";return;case void 0:throw C(u())}u(),m="multiLineComment"},singleLineComment(){switch(q){case"\n":case"\r":case"\u2028":case"\u2029":u(),m="default";return;case void 0:return u(),w("eof")}u()},value(){switch(q){case"{":case"[":return w("punctuator",u());case"n":return u(),x("ull"),w("null",null);case"t":return u(),x("rue"),w("boolean",!0);case"f":return u(),x("alse"),w("boolean",!1);case"-":case"+":"-"===u()&&(p=-1),m="sign";return;case".":n=u(),m="decimalPointLeading";return;case"0":n=u(),m="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=u(),m="decimalInteger";return;case"I":return u(),x("nfinity"),w("numeric",1/0);case"N":return u(),x("aN"),w("numeric",NaN);case'"':case"'":o='"'===u(),n="",m="string";return}throw C(u())},identifierNameStartEscape(){if("u"!==q)throw C(u());u();let a=y();switch(a){case"$":case"_":break;default:if(!s.isIdStartChar(a))throw E()}n+=a,m="identifierName"},identifierName(){switch(q){case"$":case"_":case"":case"":n+=u();return;case"\\":u(),m="identifierNameEscape";return}if(s.isIdContinueChar(q)){n+=u();return}return w("identifier",n)},identifierNameEscape(){if("u"!==q)throw C(u());u();let a=y();switch(a){case"$":case"_":case"":case"":break;default:if(!s.isIdContinueChar(a))throw E()}n+=a,m="identifierName"},sign(){switch(q){case".":n=u(),m="decimalPointLeading";return;case"0":n=u(),m="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=u(),m="decimalInteger";return;case"I":return u(),x("nfinity"),w("numeric",1/0*p);case"N":return u(),x("aN"),w("numeric",NaN)}throw C(u())},zero(){switch(q){case".":n+=u(),m="decimalPoint";return;case"e":case"E":n+=u(),m="decimalExponent";return;case"x":case"X":n+=u(),m="hexadecimal";return}return w("numeric",0*p)},decimalInteger(){switch(q){case".":n+=u(),m="decimalPoint";return;case"e":case"E":n+=u(),m="decimalExponent";return}if(s.isDigit(q)){n+=u();return}return w("numeric",p*Number(n))},decimalPointLeading(){if(s.isDigit(q)){n+=u(),m="decimalFraction";return}throw C(u())},decimalPoint(){switch(q){case"e":case"E":n+=u(),m="decimalExponent";return}if(s.isDigit(q)){n+=u(),m="decimalFraction";return}return w("numeric",p*Number(n))},decimalFraction(){switch(q){case"e":case"E":n+=u(),m="decimalExponent";return}if(s.isDigit(q)){n+=u();return}return w("numeric",p*Number(n))},decimalExponent(){switch(q){case"+":case"-":n+=u(),m="decimalExponentSign";return}if(s.isDigit(q)){n+=u(),m="decimalExponentInteger";return}throw C(u())},decimalExponentSign(){if(s.isDigit(q)){n+=u(),m="decimalExponentInteger";return}throw C(u())},decimalExponentInteger(){if(s.isDigit(q)){n+=u();return}return w("numeric",p*Number(n))},hexadecimal(){if(s.isHexDigit(q)){n+=u(),m="hexadecimalInteger";return}throw C(u())},hexadecimalInteger(){if(s.isHexDigit(q)){n+=u();return}return w("numeric",p*Number(n))},string(){switch(q){case"\\":u(),n+=function(){switch(t()){case"b":return u(),"\b";case"f":return u(),"\f";case"n":return u(),"\n";case"r":return u(),"\r";case"t":return u(),"	";case"v":return u(),"\v";case"0":if(u(),s.isDigit(t()))throw C(u());return"\0";case"x":return u(),function(){let a="",b=t();if(!s.isHexDigit(b)||(a+=u(),b=t(),!s.isHexDigit(b)))throw C(u());return String.fromCodePoint(parseInt(a+=u(),16))}();case"u":return u(),y();case"\n":case"\u2028":case"\u2029":return u(),"";case"\r":return u(),"\n"===t()&&u(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw C(u())}return u()}();return;case'"':if(o)return u(),w("string",n);n+=u();return;case"'":if(!o)return u(),w("string",n);n+=u();return;case"\n":case"\r":case void 0:throw C(u());case"\u2028":case"\u2029":var a;a=q,console.warn(`JSON5: '${F(a)}' in strings is not valid ECMAScript; consider escaping`)}n+=u()},start(){switch(q){case"{":case"[":return w("punctuator",u())}m="value"},beforePropertyName(){switch(q){case"$":case"_":n=u(),m="identifierName";return;case"\\":u(),m="identifierNameStartEscape";return;case"}":return w("punctuator",u());case'"':case"'":o='"'===u(),m="string";return}if(s.isIdStartChar(q)){n+=u(),m="identifierName";return}throw C(u())},afterPropertyName(){if(":"===q)return w("punctuator",u());throw C(u())},beforePropertyValue(){m="value"},afterPropertyValue(){switch(q){case",":case"}":return w("punctuator",u())}throw C(u())},beforeArrayValue(){if("]"===q)return w("punctuator",u());m="value"},afterArrayValue(){switch(q){case",":case"]":return w("punctuator",u())}throw C(u())},end(){throw C(u())}};function w(a,b){return{type:a,value:b,line:h,column:i}}function x(a){for(let b of a){if(t()!==b)throw C(u());u()}}function y(){let a="",b=4;for(;b-- >0;){let b=t();if(!s.isHexDigit(b))throw C(u());a+=u()}return String.fromCodePoint(parseInt(a,16))}let z={start(){if("eof"===j.type)throw D();A()},beforePropertyName(){switch(j.type){case"identifier":case"string":k=j.value,e="afterPropertyName";return;case"punctuator":B();return;case"eof":throw D()}},afterPropertyName(){if("eof"===j.type)throw D();e="beforePropertyValue"},beforePropertyValue(){if("eof"===j.type)throw D();A()},beforeArrayValue(){if("eof"===j.type)throw D();if("punctuator"===j.type&&"]"===j.value)return void B();A()},afterPropertyValue(){if("eof"===j.type)throw D();switch(j.value){case",":e="beforePropertyName";return;case"}":B()}},afterArrayValue(){if("eof"===j.type)throw D();switch(j.value){case",":e="beforeArrayValue";return;case"]":B()}},end(){}};function A(){let a;switch(j.type){case"punctuator":switch(j.value){case"{":a={};break;case"[":a=[]}break;case"null":case"boolean":case"numeric":case"string":a=j.value}if(void 0===l)l=a;else{let b=f[f.length-1];Array.isArray(b)?b.push(a):Object.defineProperty(b,k,{value:a,writable:!0,enumerable:!0,configurable:!0})}if(null!==a&&"object"==typeof a)f.push(a),e=Array.isArray(a)?"beforeArrayValue":"beforePropertyName";else{let a=f[f.length-1];e=null==a?"end":Array.isArray(a)?"afterArrayValue":"afterPropertyValue"}}function B(){f.pop();let a=f[f.length-1];e=null==a?"end":Array.isArray(a)?"afterArrayValue":"afterPropertyValue"}function C(a){return void 0===a?G(`JSON5: invalid end of input at ${h}:${i}`):G(`JSON5: invalid character '${F(a)}' at ${h}:${i}`)}function D(){return G(`JSON5: invalid end of input at ${h}:${i}`)}function E(){return i-=5,G(`JSON5: invalid identifier character at ${h}:${i}`)}function F(a){let b={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(b[a])return b[a];if(a<" "){let b=a.charCodeAt(0).toString(16);return"\\x"+("00"+b).substring(b.length)}return a}function G(a){let b=SyntaxError(a);return b.lineNumber=h,b.columnNumber=i,b}let H={parse:function(a,b){d=String(a),e="start",f=[],g=0,h=1,i=0,j=void 0,k=void 0,l=void 0;do j=function(){for(m="default",n="",o=!1,p=1;;){q=t();let a=v[m]();if(a)return a}}(),z[e]();while("eof"!==j.type);return"function"==typeof b?function a(b,c,d){let e=b[c];if(null!=e&&"object"==typeof e)if(Array.isArray(e))for(let b=0;b<e.length;b++){let c=String(b),f=a(e,c,d);void 0===f?delete e[c]:Object.defineProperty(e,c,{value:f,writable:!0,enumerable:!0,configurable:!0})}else for(let b in e){let c=a(e,b,d);void 0===c?delete e[b]:Object.defineProperty(e,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}return d.call(b,c,e)}({"":l},"",b):l},stringify:function(a,b,c){let d,e,f,g=[],h="",i="";if(null==b||"object"!=typeof b||Array.isArray(b)||(c=b.space,f=b.quote,b=b.replacer),"function"==typeof b)e=b;else if(Array.isArray(b))for(let a of(d=[],b)){let b;"string"==typeof a?b=a:("number"==typeof a||a instanceof String||a instanceof Number)&&(b=String(a)),void 0!==b&&0>d.indexOf(b)&&d.push(b)}return c instanceof Number?c=Number(c):c instanceof String&&(c=String(c)),"number"==typeof c?c>0&&(c=Math.min(10,Math.floor(c)),i="          ".substr(0,c)):"string"==typeof c&&(i=c.substr(0,10)),function a(b,c){let f=c[b];switch(null!=f&&("function"==typeof f.toJSON5?f=f.toJSON5(b):"function"==typeof f.toJSON&&(f=f.toJSON(b))),e&&(f=e.call(c,b,f)),f instanceof Number?f=Number(f):f instanceof String?f=String(f):f instanceof Boolean&&(f=f.valueOf()),f){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof f?j(f,!1):"number"==typeof f?String(f):"object"==typeof f?Array.isArray(f)?function(b){let c;if(g.indexOf(b)>=0)throw TypeError("Converting circular structure to JSON5");g.push(b);let d=h;h+=i;let e=[];for(let c=0;c<b.length;c++){let d=a(String(c),b);e.push(void 0!==d?d:"null")}if(0===e.length)c="[]";else if(""===i)c="["+e.join(",")+"]";else{let a=",\n"+h,b=e.join(a);c="[\n"+h+b+",\n"+d+"]"}return g.pop(),h=d,c}(f):function(b){let c;if(g.indexOf(b)>=0)throw TypeError("Converting circular structure to JSON5");g.push(b);let e=h;h+=i;let f=d||Object.keys(b),k=[];for(let c of f){let d=a(c,b);if(void 0!==d){let a=function(a){if(0===a.length)return j(a,!0);let b=String.fromCodePoint(a.codePointAt(0));if(!s.isIdStartChar(b))return j(a,!0);for(let c=b.length;c<a.length;c++)if(!s.isIdContinueChar(String.fromCodePoint(a.codePointAt(c))))return j(a,!0);return a}(c)+":";""!==i&&(a+=" "),a+=d,k.push(a)}}if(0===k.length)c="{}";else{let a;if(""===i)c="{"+(a=k.join(","))+"}";else{let b=",\n"+h;a=k.join(b),c="{\n"+h+a+",\n"+e+"}"}}return g.pop(),h=e,c}(f):void 0}("",{"":a});function j(a){let b={"'":.1,'"':.2},c={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},d="";for(let e=0;e<a.length;e++){let f=a[e];switch(f){case"'":case'"':b[f]++,d+=f;continue;case"\0":if(s.isDigit(a[e+1])){d+="\\x00";continue}}if(c[f]){d+=c[f];continue}if(f<" "){let a=f.charCodeAt(0).toString(16);d+="\\x"+("00"+a).substring(a.length);continue}d+=f}let e=f||Object.keys(b).reduce((a,c)=>b[a]<b[c]?a:c);return d=d.replace(RegExp(e,"g"),c[e]),e+d+e}}}},17216:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseEnumDef=void 0,b.parseEnumDef=function(a){return{type:"string",enum:Array.from(a.values)}}},17249:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PriorityQueue=void 0;let c=a=>Math.floor(a/2),d=a=>2*a+1,e=a=>2*a+2;class f{constructor(a=(a,b)=>a>b){this.comparator=a,this.heap=[]}size(){return this.heap.length}isEmpty(){return 0==this.size()}peek(){return this.heap[0]}push(...a){return a.forEach(a=>{this.heap.push(a),this.siftUp()}),this.size()}pop(){let a=this.peek(),b=this.size()-1;return b>0&&this.swap(0,b),this.heap.pop(),this.siftDown(),a}replace(a){let b=this.peek();return this.heap[0]=a,this.siftDown(),b}greater(a,b){return this.comparator(this.heap[a],this.heap[b])}swap(a,b){[this.heap[a],this.heap[b]]=[this.heap[b],this.heap[a]]}siftUp(){let a=this.size()-1;for(;a>0&&this.greater(a,c(a));)this.swap(a,c(a)),a=c(a)}siftDown(){let a=0;for(;d(a)<this.size()&&this.greater(d(a),a)||e(a)<this.size()&&this.greater(e(a),a);){let b=e(a)<this.size()&&this.greater(e(a),d(a))?e(a):d(a);this.swap(a,b),a=b}}}b.PriorityQueue=f},17293:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Allow=b.ALL=b.COLLECTION=b.ATOM=b.SPECIAL=b.INF=b._INFINITY=b.INFINITY=b.NAN=b.BOOL=b.NULL=b.OBJ=b.ARR=b.NUM=b.STR=void 0,b.STR=1,b.NUM=2,b.ARR=4,b.OBJ=8,b.NULL=16,b.BOOL=32,b.NAN=64,b.INFINITY=128,b._INFINITY=256,b.INF=b.INFINITY|b._INFINITY,b.SPECIAL=b.NULL|b.BOOL|b.INF|b.NAN,b.ATOM=b.STR|b.NUM|b.SPECIAL,b.COLLECTION=b.ARR|b.OBJ,b.ALL=b.ATOM|b.COLLECTION,b.Allow={STR:b.STR,NUM:b.NUM,ARR:b.ARR,OBJ:b.OBJ,NULL:b.NULL,BOOL:b.BOOL,NAN:b.NAN,INFINITY:b.INFINITY,_INFINITY:b._INFINITY,INF:b.INF,SPECIAL:b.SPECIAL,ATOM:b.ATOM,COLLECTION:b.COLLECTION,ALL:b.ALL},b.default=b.Allow},17342:(a,b,c)=>{"use strict";var d=c(42218);b.mapIncludes=function(a,b,c){let{uniqueKeys:e}=a.options;if(!1===e)return!1;let f="function"==typeof e?e:(a,b)=>a===b||d.isScalar(a)&&d.isScalar(b)&&a.value===b.value;return b.some(a=>f(a.key,c))}},17350:(a,b,c)=>{"use strict";var d=c(42218),e=c(72125);b.map={collection:"map",default:!0,nodeClass:e.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:(a,b)=>(d.isMap(a)||b("Expected a mapping for this tag"),a),createNode:(a,b,c)=>e.YAMLMap.from(a,b,c)}},17376:(a,b,c)=>{"use strict";let d=c(78871),e=c(24346),f=c(85327);a.exports=(a,b)=>{a=new e(a,b);let c=new d("0.0.0");if(a.test(c)||(c=new d("0.0.0-0"),a.test(c)))return c;c=null;for(let b=0;b<a.set.length;++b){let e=a.set[b],g=null;e.forEach(a=>{let b=new d(a.semver.version);switch(a.operator){case">":0===b.prerelease.length?b.patch++:b.prerelease.push(0),b.raw=b.format();case"":case">=":(!g||f(b,g))&&(g=b);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${a.operator}`)}}),g&&(!c||f(c,g))&&(c=g)}return c&&a.test(c)?c:null}},17456:(a,b,c)=>{"use strict";var d=c(89220),e=c(28354).inherits,f=c(32437);function g(a,b){if(!(this instanceof g))return new g(a,b);this.etypeid=a,this.elements=b||[]}function h(a){if(!(this instanceof h))return new h(a);this.ttypes=a.ttypes}e(h,d.Base),h.prototype.headerRW=d.Series([d.Int8,d.Int32BE]),h.prototype.poolByteLength=function(a,b){var c,d=this.ttypes[b.etypeid];if(!d)return a.reset(f.InvalidTypeidError({typeid:b.etypeid,what:"list::etype"}));for(var e=5,g=0;g<b.elements.length;g++){if((c=d.poolByteLength(a,b.elements[g])).err)return c;e+=c.length}return a.reset(null,e)},h.prototype.poolWriteInto=function(a,b,c,d){var e=this.ttypes[b.etypeid];if(!e)return a.reset(f.InvalidTypeidError({typeid:b.etypeid,what:"list::etype"}));var g=this.headerRW.poolWriteInto(a,[b.etypeid,b.elements.length],c,d);if(g.err)return g;d=g.offset;for(var h=0;h<b.elements.length;h++){if((g=e.poolWriteInto(a,b.elements[h],c,d)).err)return g;d=g.offset}return a.reset(null,d)},h.prototype.poolReadFrom=function(a,b,c){var d=this.headerRW.poolReadFrom(a,b,c);if(d.err)return d;c=d.offset;var e=d.value[0],h=d.value[1];if(h<0)return a.reset(f.InvalidSizeError({size:h,what:"list::size"}),c);var i=new g(e),j=this.ttypes[i.etypeid];if(!j)return a.reset(f.InvalidTypeidError({typeid:i.etypeid,what:"list::etype"}),c);for(var k=0;k<h;k++){if((d=j.poolReadFrom(a,b,c)).err)return d;c=d.offset,i.elements.push(d.value)}return a.reset(null,c,i)},a.exports.TList=g,a.exports.TListRW=h},18395:(a,b,c)=>{"use strict";let d,e;c.r(b),c.d(b,{MAX:()=>f,NIL:()=>g,parse:()=>j,stringify:()=>m,v1:()=>u,v1ToV6:()=>v,v3:()=>x,v4:()=>z,v5:()=>A,v6:()=>B,v6ToV1:()=>C,v7:()=>G,validate:()=>i,version:()=>H});let f="ffffffff-ffff-ffff-ffff-ffffffffffff",g="00000000-0000-0000-0000-000000000000",h=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,i=function(a){return"string"==typeof a&&h.test(a)},j=function(a){let b;if(!i(a))throw TypeError("Invalid UUID");let c=new Uint8Array(16);return c[0]=(b=parseInt(a.slice(0,8),16))>>>24,c[1]=b>>>16&255,c[2]=b>>>8&255,c[3]=255&b,c[4]=(b=parseInt(a.slice(9,13),16))>>>8,c[5]=255&b,c[6]=(b=parseInt(a.slice(14,18),16))>>>8,c[7]=255&b,c[8]=(b=parseInt(a.slice(19,23),16))>>>8,c[9]=255&b,c[10]=(b=parseInt(a.slice(24,36),16))/0x10000000000&255,c[11]=b/0x100000000&255,c[12]=b>>>24&255,c[13]=b>>>16&255,c[14]=b>>>8&255,c[15]=255&b,c},k=[];for(let a=0;a<256;++a)k.push((a+256).toString(16).slice(1));function l(a,b=0){return(k[a[b+0]]+k[a[b+1]]+k[a[b+2]]+k[a[b+3]]+"-"+k[a[b+4]]+k[a[b+5]]+"-"+k[a[b+6]]+k[a[b+7]]+"-"+k[a[b+8]]+k[a[b+9]]+"-"+k[a[b+10]]+k[a[b+11]]+k[a[b+12]]+k[a[b+13]]+k[a[b+14]]+k[a[b+15]]).toLowerCase()}let m=function(a,b=0){let c=l(a,b);if(!i(c))throw TypeError("Stringified UUID is invalid");return c};var n=c(77598),o=c.n(n);let p=new Uint8Array(256),q=p.length;function r(){return q>p.length-16&&(o().randomFillSync(p),q=0),p.slice(q,q+=16)}let s=0,t=0,u=function(a,b,c){let f=b&&c||0,g=b||Array(16),h=(a=a||{}).node,i=a.clockseq;if(a._v6||(h||(h=d),null==i&&(i=e)),null==h||null==i){let b=a.random||(a.rng||r)();null==h&&(h=[b[0],b[1],b[2],b[3],b[4],b[5]],d||a._v6||(h[0]|=1,d=h)),null==i&&(i=(b[6]<<8|b[7])&16383,void 0!==e||a._v6||(e=i))}let j=void 0!==a.msecs?a.msecs:Date.now(),k=void 0!==a.nsecs?a.nsecs:t+1,m=j-s+(k-t)/1e4;if(m<0&&void 0===a.clockseq&&(i=i+1&16383),(m<0||j>s)&&void 0===a.nsecs&&(k=0),k>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=j,t=k,e=i;let n=((0xfffffff&(j+=122192928e5))*1e4+k)%0x100000000;g[f++]=n>>>24&255,g[f++]=n>>>16&255,g[f++]=n>>>8&255,g[f++]=255&n;let o=j/0x100000000*1e4&0xfffffff;g[f++]=o>>>8&255,g[f++]=255&o,g[f++]=o>>>24&15|16,g[f++]=o>>>16&255,g[f++]=i>>>8|128,g[f++]=255&i;for(let a=0;a<6;++a)g[f+a]=h[a];return b||l(g)};function v(a){let b=function(a,b=!1){return Uint8Array.of((15&a[6])<<4|a[7]>>4&15,(15&a[7])<<4|(240&a[4])>>4,(15&a[4])<<4|(240&a[5])>>4,(15&a[5])<<4|(240&a[0])>>4,(15&a[0])<<4|(240&a[1])>>4,(15&a[1])<<4|(240&a[2])>>4,96|15&a[2],a[3],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])}("string"==typeof a?j(a):a);return"string"==typeof a?l(b):b}function w(a,b,c){function d(a,d,e,f){var g;if("string"==typeof a&&(a=function(a){a=unescape(encodeURIComponent(a));let b=[];for(let c=0;c<a.length;++c)b.push(a.charCodeAt(c));return b}(a)),"string"==typeof d&&(d=j(d)),(null==(g=d)?void 0:g.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+a.length);if(h.set(d),h.set(a,d.length),(h=c(h))[6]=15&h[6]|b,h[8]=63&h[8]|128,e){f=f||0;for(let a=0;a<16;++a)e[f+a]=h[a];return e}return l(h)}try{d.name=a}catch(a){}return d.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",d.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",d}let x=w("v3",48,function(a){return Array.isArray(a)?a=Buffer.from(a):"string"==typeof a&&(a=Buffer.from(a,"utf8")),o().createHash("md5").update(a).digest()}),y={randomUUID:o().randomUUID},z=function(a,b,c){if(y.randomUUID&&!b&&!a)return y.randomUUID();let d=(a=a||{}).random||(a.rng||r)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,b){c=c||0;for(let a=0;a<16;++a)b[c+a]=d[a];return b}return l(d)},A=w("v5",80,function(a){return Array.isArray(a)?a=Buffer.from(a):"string"==typeof a&&(a=Buffer.from(a,"utf8")),o().createHash("sha1").update(a).digest()});function B(a={},b,c=0){let d=u({...a,_v6:!0},new Uint8Array(16));if(d=v(d),b){for(let a=0;a<16;a++)b[c+a]=d[a];return b}return l(d)}function C(a){var b;let c=(b="string"==typeof a?j(a):a,Uint8Array.of((15&b[3])<<4|b[4]>>4&15,(15&b[4])<<4|(240&b[5])>>4,(15&b[5])<<4|15&b[6],b[7],(15&b[1])<<4|(240&b[2])>>4,(15&b[2])<<4|(240&b[3])>>4,16|(240&b[0])>>4,(15&b[0])<<4|(240&b[1])>>4,b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]));return"string"==typeof a?l(c):c}let D=null,E=null,F=0,G=function(a,b,c){a=a||{};let d=b&&c||0,e=b||new Uint8Array(16),f=a.random||(a.rng||r)(),g=void 0!==a.msecs?a.msecs:Date.now(),h=void 0!==a.seq?a.seq:null,i=E,j=D;return g>F&&void 0===a.msecs&&(F=g,null!==h&&(i=null,j=null)),null!==h&&(h>0x7fffffff&&(h=0x7fffffff),i=h>>>19&4095,j=524287&h),(null===i||null===j)&&(i=(i=127&f[6])<<8|f[7],j=(j=(j=63&f[8])<<8|f[9])<<5|f[10]>>>3),g+1e4>F&&null===h?++j>524287&&(j=0,++i>4095&&(i=0,F++)):F=g,E=i,D=j,e[d++]=F/0x10000000000&255,e[d++]=F/0x100000000&255,e[d++]=F/0x1000000&255,e[d++]=F/65536&255,e[d++]=F/256&255,e[d++]=255&F,e[d++]=i>>>4&15|112,e[d++]=255&i,e[d++]=j>>>13&63|128,e[d++]=j>>>5&255,e[d++]=j<<3&255|7&f[10],e[d++]=f[11],e[d++]=f[12],e[d++]=f[13],e[d++]=f[14],e[d++]=f[15],b||l(e)},H=function(a){if(!i(a))throw TypeError("Invalid UUID");return parseInt(a.slice(14,15),16)}},18651:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(46178);b.default={keyword:"allOf",schemaType:"array",code(a){let{gen:b,schema:c,it:e}=a;if(!Array.isArray(c))throw Error("ajv implementation error");let f=b.name("valid");c.forEach((b,c)=>{if((0,d.alwaysValidSchema)(e,b))return;let g=a.subschema({keyword:"allOf",schemaProp:c},f);a.ok(f),a.mergeEvaluated(g)})}}},18831:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AsyncLocalStorageContextManager=b.AsyncHooksContextManager=void 0;var d=c(43103);Object.defineProperty(b,"AsyncHooksContextManager",{enumerable:!0,get:function(){return d.AsyncHooksContextManager}});var e=c(94286);Object.defineProperty(b,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return e.AsyncLocalStorageContextManager}})},18975:(a,b,c)=>{"use strict";var d=c(28354),e=c(94678);function f(a){if(!(this instanceof f))return new f(a);a||(a={}),e.call(this,a),"function"==typeof a.header?this.header=a.header:"object"==typeof a.header?this.header=g(a.header):"string"==typeof a.header?this.header=g({label:a.header}):this.header=g(),this.chunkNum=0}function g(a){var b="-- ";return(a=a||{}).label&&(b+=a.label+" "),b+="chunk[%s] length: %s (0x%s)\n",function(a,c){var e=c.length,f=e.toString(16);return d.format(b,a,e,f)}}d.inherits(f,e),f.prototype._transform=function(a,b,c){var d=this;d.totalOffset&&d.reset(),++d.chunkNum;var f=d.header(d.chunkNum,a);f.length&&d.push(f),e.prototype._transform.call(d,a,b,function(a){d.reset(),c(a)})},a.exports=f},19092:a=>{"use strict";a.exports={rE:"1.14.0"}},19136:(a,b,c)=>{"use strict";var d;c.d(b,{U:()=>d}),function(a){a.NONE="none",a.GZIP="gzip"}(d||(d={}))},19509:(a,b,c)=>{"use strict";var d=c(28354),e=c(63211).N1;function f(a){e.call(this,a)}d.inherits(f,e),f.prototype.isUnion=!0,f.prototype.models="type",f.prototype.createConstructor=function(a,b){return function(a){if(this.type=null,"object"==typeof a)for(var b in a)hasOwnProperty.call(a,b)&&null!==a[b]&&(this.type=b,this[b]=a[b])}},f.prototype.set=function(a,b,c){a.type=b,a[b]=c},a.exports.j=f},19518:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getDefaultOptions=b.defaultOptions=b.jsonDescription=b.ignoreOverride=void 0,b.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use"),b.jsonDescription=(a,b)=>{if(b.description)try{return{...a,...JSON.parse(b.description)}}catch{}return a},b.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},b.getDefaultOptions=a=>"string"==typeof a?{...b.defaultOptions,name:a}:{...b.defaultOptions,...a}},19606:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{defineGenerateAction:()=>s,generateHelper:()=>t,inferRoleFromParts:()=>y,shouldInjectFormatInstructions:()=>v}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(42656),k=c(64089),l=c(24317),m=c(67113),n=c(25835),o=c(95403),p=c(84596),q=c(50438),r=c(35970);function s(a){return(0,i.defineAction)(a,{actionType:"util",name:"generate",inputSchema:o.GenerateActionOptionsSchema,outputSchema:o.GenerateResponseSchema,streamSchema:o.GenerateResponseChunkSchema},async(b,{streamingRequested:c,sendChunk:d})=>{let e=c=>w(a,{rawRequest:b,currentTurn:0,messageIndex:0,middleware:[],streamingCallback:c});return c?e(a=>d(a.toJSON?a.toJSON():a)):e()})}async function t(a,b){let c=b.currentTurn??0,d=b.messageIndex??0;return await (0,k.runInNewSpan)(a,{metadata:{name:b.rawRequest.stepName||"generate"},labels:{[k.SPAN_TYPE_ATTR]:"util"}},async e=>{e.name=b.rawRequest.stepName||"generate",e.input=b.rawRequest;let f=await w(a,{rawRequest:b.rawRequest,middleware:b.middleware,currentTurn:c,messageIndex:d,abortSignal:b.abortSignal,streamingCallback:b.streamingCallback});return e.output=JSON.stringify(f),f})}async function u(a,b){let[c,d,e,f]=await Promise.all([(0,o.resolveModel)(a,b.model,{warnDeprecated:!0}).then(a=>a.modelAction),(0,q.resolveTools)(a,b.tools),(0,p.resolveResources)(a,b.resources),(0,l.resolveFormat)(a,b.output)]);return{model:c,tools:d,resources:e,format:f}}function v(a,b){return a?.defaultInstructions!==!1||b?.instructions}async function w(a,{rawRequest:b,middleware:c,currentTurn:d,messageIndex:e,abortSignal:f,streamingCallback:g}){var h,j;let{model:k,tools:o,resources:p,format:q}=await u(a,b);b=function(a,b){let c={...a};a.output?.jsonSchema&&!a.output?.format&&(c.output={...a.output,format:"json"});let d=(0,l.resolveInstructions)(b,c.output?.jsonSchema,c?.output?.instructions);return b&&(v(b.config,a?.output)&&(c.messages=(0,l.injectInstructions)(c.messages,d)),c.output={...b.config,...c.output}),c}(b,q),b=await z(a,b,p),await (0,r.assertValidToolNames)(o);let{revisedRequest:s,interruptedResponse:w,toolMessage:y}=await (0,r.resolveResumeOption)(a,b);if(w)throw new i.GenkitError({status:"FAILED_PRECONDITION",message:"One or more tools triggered an interrupt during a restarted execution.",detail:{message:w.message}});b=s;let A=await x(b,o,q,k),B=[],C="model",D=(a,b)=>{a!==C&&B.length&&e++,C=a;let c=[...B];return B.push(b),new n.GenerateResponseChunk(b,{index:e,role:a,previousChunks:c,parser:q?.handler(A.output?.schema).parseChunk})};y&&g&&g(D("tool",y));let E=async(a,b)=>c&&a!==c.length?(0,c[a])(b,async c=>E(a+1,c||b)):await k(b,{abortSignal:f,onChunk:g&&(a=>g&&g(D("model",a)))}),F=await E(0,A);if(h="background-model"===k.__action.actionType?new m.GenerateResponse({operation:F},{request:A,parser:q?.handler(A.output?.schema).parseMessage}):new m.GenerateResponse(F,{request:A,parser:q?.handler(A.output?.schema).parseMessage}),"background-model"===k.__action.actionType)return h.toJSON();h.assertValid();let G=h.message,H=G.content.filter(a=>!!a.toolRequest);if(b.returnToolRequests||0===H.length)return 0===H.length&&h.assertValidSchema(A),h.toJSON();let I=b.maxTurns??5;if(d+1>I)throw new m.GenerationResponseError(h,`Exceeded maximum tool call iterations (${I})`,"ABORTED",{request:A});let{revisedModelMessage:J,toolMessage:K,transferPreamble:L}=await (0,r.resolveToolRequests)(a,b,G);if(J)return{...h.toJSON(),finishReason:"interrupted",finishMessage:"One or more tool calls resulted in interrupts.",message:J};g?.(D("tool",{content:K.content}));let M={...b,messages:[...b.messages,G.toJSON(),K]};return j=M,M=L?(0,i.stripUndefinedProps)({...j,messages:[...(0,m.tagAsPreamble)(L.messages),...j.messages.filter(a=>!a.metadata?.preamble)],toolChoice:L.toolChoice||j.toolChoice,tools:L.tools||j.tools,config:L.config||j.config}):j,await t(a,{rawRequest:M,middleware:c,currentTurn:d+1,messageIndex:e+1,streamingCallback:g,abortSignal:f})}async function x(a,b,c,d){let e=d.__action.metadata?.model;(a.tools?.length??0)>0&&e?.supports&&!e?.supports?.tools&&j.logger.warn(`The model '${d.__action.name}' does not support tools (you set: ${a.tools?.length} tools). The model may not behave the way you expect.`),a.toolChoice&&e?.supports&&!e?.supports?.toolChoice&&j.logger.warn(`The model '${d.__action.name}' does not support the 'toolChoice' option (you set: ${a.toolChoice}). The model may not behave the way you expect.`);let f={messages:a.messages,config:a.config,docs:a.docs,tools:b?.map(q.toToolDefinition)||[],output:(0,i.stripUndefinedProps)({constrained:a.output?.constrained,contentType:a.output?.contentType,format:a.output?.format,schema:a.output?.jsonSchema})};return a.toolChoice&&(f.toolChoice=a.toolChoice),f.output&&!f.output.schema&&delete f.output.schema,f}function y(a){let b=new Set;for(let c of a){let a=function(a){if(void 0!==a.toolRequest)return"model";if(void 0!==a.toolResponse)return"tool";if(void 0!==a.text||void 0!==a.media||void 0!==a.data)return"user";throw Error("No recognized fields in content")}(c);if(b.add(a),b.size>1)throw Error("Contents contain mixed roles")}return Array.from(b)[0]}async function z(a,b,c){if(!b.messages.find(a=>!!a.content.find(a=>a.resource)))return b;let d=[];for(let e of b.messages){if(!e.content.find(a=>a.resource)){d.push(e);continue}let b=[];for(let d of e.content){if(!d.resource){b.push(d);continue}let e=await (0,p.findMatchingResource)(a,c,d.resource);if(!e)throw new i.GenkitError({status:"NOT_FOUND",message:`failed to find matching resource for ${d.resource.uri}`});let f=await e(d.resource);b.push(...f.content)}d.push({...e,content:b})}return{...b,messages:d}}},19889:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(50227),b),e(c(51859),b)},20192:(a,b,c)=>{"use strict";var d=c(82740),e=c(8193),f=c(89220),g=c(32437),h=c(82762).TMapRW.prototype.headerRW,i=c(17456).TListRW.prototype.headerRW,j=c(85371).StringRW,k=c(95912).BooleanRW,l=Object.create(null);l[d.VOID]=0;var m=Object.create(null);function n(a,b,c,d){var f;if(void 0!==m[d]){if((f=m[d](a,b,c)).err)return f;c=f.offset}else{if(void 0===l[d])return a.reset(g.InvalidTypeidError({typeid:d,what:"field::type"}),c);var h=l[d];if(c+h>b.length)return a.reset(e.ShortBuffer({expected:c+h,actual:b.length,buffer:b,offset:c}),c);c+=h}return a.reset(null,c,f&&f.value)}function o(a,b,c){return f.Int8.poolReadFrom(a,b,c)}m[d.BOOL]=function(a,b,c){return k.poolReadFrom(a,b,c)},m[d.BYTE]=o,m[d.DOUBLE]=function(a,b,c){return f.DoubleBE.poolReadFrom(a,b,c)},m[d.I8]=o,m[d.I16]=function(a,b,c){return f.Int16BE.poolReadFrom(a,b,c)},m[d.I32]=function(a,b,c){return f.Int32BE.poolReadFrom(a,b,c)},m[d.I64]=function(a,b,c){return p.poolReadFrom(a,b,c)},m[d.STRING]=function(a,b,c){return j.poolReadFrom(a,b,c)},m[d.STRUCT]=function(a,b,c){for(var e,g={};;){if((e=f.Int8.poolReadFrom(a,b,c)).err)return e;c=e.offset;var h=e.value;if(h===d.STOP)return a.reset(null,c,g);if((e=f.Int16BE.poolReadFrom(a,b,c)).err)return e;c=e.offset;var i=e.value;if(e=n(a,b,c,h),g[i]=e.value,e.err)return e;c=e.offset}},m[d.MAP]=function(a,b,c){var d,e,f={};if((d=h.poolReadFrom(a,b,c)).err)return d;c=d.offset;for(var g=d.value,i=g[0],j=g[1],k=g[2],l=0;l<k;l++){if((d=n(a,b,c,i)).err||(c=d.offset,e=d.value,(d=n(a,b,c,j)).err))return d;c=d.offset,f[e]=d.value}return a.reset(null,c,f)},m[d.SET]=q,m[d.LIST]=q;var p=f.FixedWidth(8);function q(a,b,c){var d,e=[];if((d=i.poolReadFrom(a,b,c)).err)return d;c=d.offset;for(var f=d.value,g=f[0],h=f[1],j=0;j<h;j++){if((d=n(a,b,c,g)).err)return d;c=d.offset,e.push(d.value)}return a.reset(null,c,e)}a.exports.h=n},20351:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.reportTypeError=b.checkDataTypes=b.checkDataType=b.coerceAndCheckDataType=b.getJSONTypes=b.getSchemaTypes=b.DataType=void 0;let e=c(47539),f=c(60910),g=c(89843),h=c(38904),i=c(46178);function j(a){let b=Array.isArray(a)?a:a?[a]:[];if(b.every(e.isJSONType))return b;throw Error("type must be JSONType or JSONType[]: "+b.join(","))}!function(a){a[a.Correct=0]="Correct",a[a.Wrong=1]="Wrong"}(d||(b.DataType=d={})),b.getSchemaTypes=function(a){let b=j(a.type);if(b.includes("null")){if(!1===a.nullable)throw Error("type: null contradicts nullable: false")}else{if(!b.length&&void 0!==a.nullable)throw Error('"nullable" cannot be used without "type"');!0===a.nullable&&b.push("null")}return b},b.getJSONTypes=j,b.coerceAndCheckDataType=function(a,b){var c,e;let{gen:g,data:i,opts:j}=a,l=(c=b,(e=j.coerceTypes)?c.filter(a=>k.has(a)||"array"===e&&"array"===a):[]),n=b.length>0&&!(0===l.length&&1===b.length&&(0,f.schemaHasRulesForType)(a,b[0]));if(n){let c=m(b,i,j.strictNumbers,d.Wrong);g.if(c,()=>{l.length?function(a,b,c){let{gen:d,data:e,opts:f}=a,g=d.let("dataType",(0,h._)`typeof ${e}`),i=d.let("coerced",(0,h._)`undefined`);for(let a of("array"===f.coerceTypes&&d.if((0,h._)`${g} == 'object' && Array.isArray(${e}) && ${e}.length == 1`,()=>d.assign(e,(0,h._)`${e}[0]`).assign(g,(0,h._)`typeof ${e}`).if(m(b,e,f.strictNumbers),()=>d.assign(i,e))),d.if((0,h._)`${i} !== undefined`),c))(k.has(a)||"array"===a&&"array"===f.coerceTypes)&&function(a){switch(a){case"string":d.elseIf((0,h._)`${g} == "number" || ${g} == "boolean"`).assign(i,(0,h._)`"" + ${e}`).elseIf((0,h._)`${e} === null`).assign(i,(0,h._)`""`);return;case"number":d.elseIf((0,h._)`${g} == "boolean" || ${e} === null
              || (${g} == "string" && ${e} && ${e} == +${e})`).assign(i,(0,h._)`+${e}`);return;case"integer":d.elseIf((0,h._)`${g} === "boolean" || ${e} === null
              || (${g} === "string" && ${e} && ${e} == +${e} && !(${e} % 1))`).assign(i,(0,h._)`+${e}`);return;case"boolean":d.elseIf((0,h._)`${e} === "false" || ${e} === 0 || ${e} === null`).assign(i,!1).elseIf((0,h._)`${e} === "true" || ${e} === 1`).assign(i,!0);return;case"null":d.elseIf((0,h._)`${e} === "" || ${e} === 0 || ${e} === false`),d.assign(i,null);return;case"array":d.elseIf((0,h._)`${g} === "string" || ${g} === "number"
              || ${g} === "boolean" || ${e} === null`).assign(i,(0,h._)`[${e}]`)}}(a);d.else(),o(a),d.endIf(),d.if((0,h._)`${i} !== undefined`,()=>{d.assign(e,i),function({gen:a,parentData:b,parentDataProperty:c},d){a.if((0,h._)`${b} !== undefined`,()=>a.assign((0,h._)`${b}[${c}]`,d))}(a,i)})}(a,b,l):o(a)})}return n};let k=new Set(["string","number","integer","boolean","null"]);function l(a,b,c,e=d.Correct){let f,g=e===d.Correct?h.operators.EQ:h.operators.NEQ;switch(a){case"null":return(0,h._)`${b} ${g} null`;case"array":f=(0,h._)`Array.isArray(${b})`;break;case"object":f=(0,h._)`${b} && typeof ${b} == "object" && !Array.isArray(${b})`;break;case"integer":f=i((0,h._)`!(${b} % 1) && !isNaN(${b})`);break;case"number":f=i();break;default:return(0,h._)`typeof ${b} ${g} ${a}`}return e===d.Correct?f:(0,h.not)(f);function i(a=h.nil){return(0,h.and)((0,h._)`typeof ${b} == "number"`,a,c?(0,h._)`isFinite(${b})`:h.nil)}}function m(a,b,c,d){let e;if(1===a.length)return l(a[0],b,c,d);let f=(0,i.toHash)(a);if(f.array&&f.object){let a=(0,h._)`typeof ${b} != "object"`;e=f.null?a:(0,h._)`!${b} || ${a}`,delete f.null,delete f.array,delete f.object}else e=h.nil;for(let a in f.number&&delete f.integer,f)e=(0,h.and)(e,l(a,b,c,d));return e}b.checkDataType=l,b.checkDataTypes=m;let n={message:({schema:a})=>`must be ${a}`,params:({schema:a,schemaValue:b})=>"string"==typeof a?(0,h._)`{type: ${a}}`:(0,h._)`{type: ${b}}`};function o(a){let b=function(a){let{gen:b,data:c,schema:d}=a,e=(0,i.schemaRefOrVal)(a,d,"type");return{gen:b,keyword:"type",data:c,schema:d.type,schemaCode:e,schemaValue:e,parentSchema:d,params:{},it:a}}(a);(0,g.reportError)(b,n)}b.reportTypeError=o},20482:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getRefs=void 0;let d=c(19518);b.getRefs=a=>{let b=(0,d.getDefaultOptions)(a),c=void 0!==b.name?[...b.basePath,b.definitionPath,b.name]:b.basePath;return{...b,flags:{hasReferencedOpenAiAnyType:!1},currentPath:c,propertyPath:void 0,seen:new Map(Object.entries(b.definitions).map(([a,c])=>[c._def,{def:c._def,path:[...b.basePath,b.definitionPath,a],jsonSchema:void 0}]))}}},20606:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createChildChannelControlHelper=function(a,b){var c,d,e,f,g,h,i,j,k,l;return{createSubchannel:null!=(d=null==(c=b.createSubchannel)?void 0:c.bind(b))?d:a.createSubchannel.bind(a),updateState:null!=(f=null==(e=b.updateState)?void 0:e.bind(b))?f:a.updateState.bind(a),requestReresolution:null!=(h=null==(g=b.requestReresolution)?void 0:g.bind(b))?h:a.requestReresolution.bind(a),addChannelzChild:null!=(j=null==(i=b.addChannelzChild)?void 0:i.bind(b))?j:a.addChannelzChild.bind(a),removeChannelzChild:null!=(l=null==(k=b.removeChannelzChild)?void 0:k.bind(b))?l:a.removeChannelzChild.bind(a)}},b.registerLoadBalancerType=function(a,b,c){f[a]={LoadBalancer:b,LoadBalancingConfig:c}},b.registerDefaultLoadBalancerType=function(a){g=a},b.createLoadBalancer=function(a,b){let c=a.getLoadBalancerName();return c in f?new f[c].LoadBalancer(b):null},b.isLoadBalancerNameRegistered=function(a){return a in f},b.parseLoadBalancingConfig=h,b.getDefaultConfig=function(){if(!g)throw Error("No default load balancer type registered");return new f[g].LoadBalancingConfig},b.selectLbConfigFromList=function(a,b=!1){for(let b of a)try{return h(b)}catch(a){(0,d.log)(e.LogVerbosity.DEBUG,"Config parsing failed with error",a.message);continue}return b&&g?new f[g].LoadBalancingConfig:null};let d=c(38702),e=c(56458),f={},g=null;function h(a){let b=Object.keys(a);if(1!==b.length)throw Error("Provided load balancing config has multiple conflicting entries");let c=b[0];if(c in f)try{return f[c].LoadBalancingConfig.createFromJson(a[c])}catch(a){throw Error(`${c}: ${a.message}`)}throw Error(`Unrecognized load balancing config name ${c}`)}},20672:(a,b,c)=>{"use strict";var d;b.Yi=b.Ib=void 0;let e=c(56867),f=c(42260),g=c(18710),h=c(90008);c(74781),!function(a){a.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",a.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",a.IDEMPOTENT="IDEMPOTENT"}(d=b.Ib||(b.Ib={}));let i={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function j(a,b){return function(c){return a.toObject(a.decode(c),b)}}function k(a){return function(b){if(Array.isArray(b))throw Error(`Failed to serialize message: expected object with ${a.name} structure, got array instead`);let c=a.fromObject(b);return a.encode(c).finish()}}function l(a,b,c){let d=a.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:d.$type.toObject(d,i),fileDescriptorProtos:c,serialize:k(a),deserialize:j(a,b)}}function m(a,b){let c={};a.resolveAll();let h=a.toDescriptor("proto3").file.map(a=>Buffer.from(g.FileDescriptorProto.encode(a).finish()));for(let[g,m]of function a(b,c){var d;let e=(d=b.name,""===c?d:c+"."+d);return b instanceof f.Service||b instanceof f.Type||b instanceof f.Enum?[[e,b]]:(b instanceof f.Namespace||b instanceof f.Root)&&void 0!==b.nested?Object.keys(b.nested).map(c=>a(b.nested[c],e)).reduce((a,b)=>a.concat(b),[]):[]}(a,""))c[g]=function(a,b,c,g){if(a instanceof f.Service){let f={};for(let h of a.methodsArray)f[h.name]=function(a,b,c,f){let g=a.resolvedRequestType,h=a.resolvedResponseType;return{path:"/"+b+"/"+a.name,requestStream:!!a.requestStream,responseStream:!!a.responseStream,requestSerialize:k(g),requestDeserialize:j(g,c),responseSerialize:k(h),responseDeserialize:j(h,c),originalName:e(a.name),requestType:l(g,c,f),responseType:l(h,c,f),options:(a.parsedOptions||[]).reduce((a,b)=>{for(let[c,d]of Object.entries(b))"uninterpreted_option"===c?a.uninterpreted_option.push(b.uninterpreted_option):a[c]=d;return a},{deprecated:!1,idempotency_level:d.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}}(h,b,c,g);return f}if(a instanceof f.Type)return l(a,c,g);if(a instanceof f.Enum){let b=a.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:b.$type.toObject(b,i),fileDescriptorProtos:g}}throw Error("Type mismatch in reflection object handling")}(m,g,b,h);return c}b.Yi=function(a,b){return m((0,h.loadProtosWithOptionsSync)(a,b),b)},(0,h.addCommonProtos)()},20689:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{Message:()=>j}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(44175);class j{role;content;metadata;parser;static parseData(a,b="user"){return"string"==typeof a?{role:b,content:[{text:a}]}:{...a,content:j.parseContent(a.content)}}static parse(a){return new j(j.parseData(a))}static parseContent(a){return"string"==typeof a?[{text:a}]:Array.isArray(a)?a.map(a=>"string"==typeof a?{text:a}:a):[a]}constructor(a,b){this.role=a.role,this.content=a.content,this.metadata=a.metadata,this.parser=b?.parser}get output(){return this.parser?.(this)||this.data||(0,i.extractJson)(this.text)}toolResponseParts(){return this.content.filter(a=>!!a.toolResponse)}get text(){return this.content.map(a=>a.text||"").join("")}get reasoning(){return this.content.map(a=>a.reasoning||"").join("")}get media(){return this.content.find(a=>a.media)?.media||null}get data(){return this.content.find(a=>a.data)?.data}get toolRequests(){return this.content.filter(a=>!!a.toolRequest)}get interrupts(){return this.toolRequests.filter(a=>!!a.metadata?.interrupt)}toJSON(){let a={role:this.role,content:[...this.content]};return this.metadata&&(a.metadata=this.metadata),a}}},20790:(a,b,c)=>{"use strict";a=c.nmd(a);var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k=(a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),l={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(l,{ReflectionServer:()=>x,RunActionResponseSchema:()=>w}),a.exports=j(e({},"__esModule",{value:!0}),l);var m=k(c(7252)),n=k(c(79748)),o=k(c(28200)),p=k(c(33873)),q=k(c(62934)),r=c(24275),s=c(40979),t=c(42656),u=c(76944),v=c(64089);let w=q.object({result:q.unknown().optional(),error:q.unknown().optional(),telemetry:q.object({traceId:q.string().optional()}).optional()});class x{static RUNNING_SERVERS=[];registry;options;port=null;server=null;runtimeFilePath=null;constructor(a,b){this.registry=a,this.options={port:3100,bodyLimit:"30mb",configuredEnvs:["dev"],...b}}async findPort(){let a=this.options.port,b=await (0,o.default)({port:(0,o.makeRange)(a,a+100)});return b!==a&&t.logger.warn(`Port ${a} is already in use, using next available port ${b} instead.`),b}async start(){let a=(0,m.default)();a.use(m.default.json({limit:this.options.bodyLimit})),a.use((a,b,c)=>{b.header("x-genkit-version",s.GENKIT_VERSION),c()}),a.get("/api/__health",async(a,b)=>{await this.registry.listActions(),b.status(200).send("OK")}),a.get("/api/__quitquitquit",async(a,b)=>{t.logger.debug("Received quitquitquit"),b.status(200).send("OK"),await this.stop()}),a.get("/api/actions",async(a,b,c)=>{t.logger.debug("Fetching actions.");try{let a=await this.registry.listResolvableActions(),c={};Object.keys(a).forEach(b=>{let d=a[b];c[b]={key:b,name:d.name,description:d.description,metadata:d.metadata},(d.inputSchema||d.inputJsonSchema)&&(c[b].inputSchema=(0,u.toJsonSchema)({schema:d.inputSchema,jsonSchema:d.inputJsonSchema})),(d.outputSchema||d.outputJsonSchema)&&(c[b].outputSchema=(0,u.toJsonSchema)({schema:d.outputSchema,jsonSchema:d.outputJsonSchema}))}),b.send(c)}catch(d){let{message:a,stack:b}=d;c({message:a,stack:b})}}),a.post("/api/runAction",async(a,b,c)=>{let{key:d,input:e,context:f,telemetryLabels:g}=a.body,{stream:h}=a.query;t.logger.debug(`Running action \`${d}\` with stream=${h}...`);try{let a=await this.registry.lookupAction(d);if(!a)return void b.status(404).send(`action ${d} not found`);if("true"===h)try{let c=await a.run(e,{context:f,onChunk:a=>{b.write(JSON.stringify(a)+"\n")},telemetryLabels:g});await (0,v.flushTracing)(),b.write(JSON.stringify({result:c.result,telemetry:{traceId:c.telemetry.traceId}})),b.end()}catch(e){let{message:a,stack:c}=e,d={code:r.StatusCodes.INTERNAL,message:a,details:{stack:c}};e.traceId&&(d.details.traceId=e.traceId),b.write(JSON.stringify({error:d})),b.end()}else{let c=await a.run(e,{context:f,telemetryLabels:g});await (0,v.flushTracing)(),b.send({result:c.result,telemetry:{traceId:c.telemetry.traceId}})}}catch(e){let{message:a,stack:b,traceId:d}=e;c({message:a,stack:b,traceId:d})}}),a.get("/api/envs",async(a,b)=>{b.json(this.options.configuredEnvs)}),a.post("/api/notify",async(a,b)=>{let{telemetryServerUrl:c,reflectionApiSpecVersion:d}=a.body;process.env.GENKIT_TELEMETRY_SERVER||"string"!=typeof c||((0,v.setTelemetryServerUrl)(c),t.logger.debug(`Connected to telemetry server on ${c}`)),d!==s.GENKIT_REFLECTION_API_SPEC_VERSION&&(!d||d<s.GENKIT_REFLECTION_API_SPEC_VERSION?t.logger.warn("WARNING: Genkit CLI version may be outdated. Please update `genkit-cli` to the latest version."):t.logger.warn(`Genkit CLI is newer than runtime library. Some feature may not be supported. Consider upgrading your runtime library version (debug info: expected ${s.GENKIT_REFLECTION_API_SPEC_VERSION}, got ${d}).`)),b.status(200).send("OK")}),a.use((a,b,c,d)=>{t.logger.error(a.stack);let{message:e,stack:f}=a,g={code:r.StatusCodes.INTERNAL,message:e,details:{stack:f}};a.traceId&&(g.details.traceId=a.traceId),c.status(500).json(g)}),this.port=await this.findPort(),this.server=a.listen(this.port,async()=>{t.logger.debug(`Reflection server (${process.pid}) running on http://localhost:${this.port}`),x.RUNNING_SERVERS.push(this),await this.writeRuntimeFile()})}async stop(){if(this.server)return new Promise(async(a,b)=>{await this.cleanupRuntimeFile(),this.server.close(async c=>{c&&(t.logger.error(`Error shutting down reflection server on port ${this.port}: ${c}`),b(c));let d=x.RUNNING_SERVERS.indexOf(this);d>-1&&x.RUNNING_SERVERS.splice(d,1),t.logger.debug(`Reflection server on port ${this.port} has successfully shut down.`),this.port=null,this.server=null,a()})})}async writeRuntimeFile(){try{let a=await y(),b=p.default.join(a,".genkit","runtimes"),c=new Date,d=c.getTime(),e=c.toISOString(),f=`${process.pid}${null!==this.port?`-${this.port}`:""}`;this.runtimeFilePath=p.default.join(b,`${f}-${d}.json`);let g=JSON.stringify({id:process.env.GENKIT_RUNTIME_ID||f,pid:process.pid,name:this.options.name,reflectionServerUrl:`http://localhost:${this.port}`,timestamp:e,genkitVersion:`nodejs/${s.GENKIT_VERSION}`,reflectionApiSpecVersion:s.GENKIT_REFLECTION_API_SPEC_VERSION},null,2);await n.default.mkdir(b,{recursive:!0}),await n.default.writeFile(this.runtimeFilePath,g,"utf8"),t.logger.debug(`Runtime file written: ${this.runtimeFilePath}`)}catch(a){t.logger.error(`Error writing runtime file: ${a}`)}}async cleanupRuntimeFile(){if(this.runtimeFilePath)try{let a=await n.default.readFile(this.runtimeFilePath,"utf8");JSON.parse(a).pid===process.pid&&(await n.default.unlink(this.runtimeFilePath),t.logger.debug(`Runtime file cleaned up: ${this.runtimeFilePath}`))}catch(a){t.logger.error(`Error cleaning up runtime file: ${a}`)}}static async stopAll(){return Promise.all(x.RUNNING_SERVERS.map(a=>a.stop()))}}async function y(){let a=process.cwd();for(;a!==p.default.parse(a).root;){let b=p.default.join(a,"package.json");try{return await n.default.access(b),a}catch{a=p.default.dirname(a)}}throw Error("Could not find project root (package.json not found)")}"hot"in a&&(a.hot.accept(),a.hot.dispose(async()=>{t.logger.debug("Cleaning up reflection server(s) before module reload..."),await x.stopAll()}))},20795:(a,b,c)=>{"use strict";c.d(b,{Dm:()=>o,nW:()=>p,xc:()=>n});var d=c(41490),e=c(80764),f=c(44080),g=c(28392),h=d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,i=d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,j=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,k=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,l=d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,m=d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,n={serializeRequest:function(a){var b=(0,g.W)(a);return i.encode(b).finish()},deserializeResponse:function(a){return h.decode(a)}},o={serializeRequest:function(a){var b=(0,f.K)(a);return k.encode(b).finish()},deserializeResponse:function(a){return j.decode(a)}},p={serializeRequest:function(a){var b=(0,e.s)(a);return m.encode(b).finish()},deserializeResponse:function(a){return l.decode(a)}}},20861:(a,b,c)=>{"use strict";a.exports=c(51753)},20992:(a,b,c)=>{"use strict";var d=c(32355),e=c(25283),f=c(42218),g=c(89344),h=c(89390);class i extends g.NodeBase{constructor(a){super(f.ALIAS),this.source=a,Object.defineProperty(this,"tag",{set(){throw Error("Alias nodes cannot have tags")}})}resolve(a,b){let c,d;for(let g of(b?.aliasResolveCache?c=b.aliasResolveCache:(c=[],e.visit(a,{Node:(a,b)=>{(f.isAlias(b)||f.hasAnchor(b))&&c.push(b)}}),b&&(b.aliasResolveCache=c)),c)){if(g===this)break;g.anchor===this.source&&(d=g)}return d}toJSON(a,b){if(!b)return{source:this.source};let{anchors:c,doc:d,maxAliasCount:e}=b,g=this.resolve(d,b);if(!g)throw ReferenceError(`Unresolved alias (the anchor must be set before the alias): ${this.source}`);let i=c.get(g);if(i||(h.toJS(g,null,b),i=c.get(g)),!i||void 0===i.res)throw ReferenceError("This should not happen: Alias anchor was not resolved?");if(e>=0&&(i.count+=1,0===i.aliasCount&&(i.aliasCount=function a(b,c,d){if(f.isAlias(c)){let a=c.resolve(b),e=d&&a&&d.get(a);return e?e.count*e.aliasCount:0}if(f.isCollection(c)){let e=0;for(let f of c.items){let c=a(b,f,d);c>e&&(e=c)}return e}return f.isPair(c)?Math.max(a(b,c.key,d),a(b,c.value,d)):1}(d,g,c)),i.count*i.aliasCount>e))throw ReferenceError("Excessive alias count indicates a resource exhaustion attack");return i.res}toString(a,b,c){let e=`*${this.source}`;if(a){if(d.anchorIsValid(this.source),a.options.verifyAliasOrder&&!a.anchors.has(this.source))throw Error(`Unresolved alias (the anchor must be set before the alias): ${this.source}`);if(a.implicitKey)return`${e} `}return e}}b.Alias=i},21087:a=>{for(var b=[],c=0;c<256;c++)b[c]=(c>15?"":"0")+c.toString(16);var d=a.exports=function(a,b){a instanceof Buffer?(this.buffer=a,this.offset=b||0):"[object Uint8Array]"==Object.prototype.toString.call(a)?(this.buffer=new Buffer(a),this.offset=b||0):(this.buffer=this.buffer||new Buffer(8),this.offset=0,this.setValue.apply(this,arguments))};d.MAX_INT=0x20000000000000,d.MIN_INT=-0x20000000000000,d.prototype={constructor:d,_2scomp:function(){for(var a=this.buffer,b=this.offset,c=1,d=b+7;d>=b;d--){var e=(255^a[d])+c;a[d]=255&e,c=e>>8}},setValue:function(a,b){var c=!1;if(1==arguments.length)if("number"==typeof a){if(c=a<0,b=(a=Math.abs(a))%0x100000000,(a/=0x100000000)>0x100000000)throw RangeError(a+" is outside Int64 range");a|=0}else if("string"==typeof a)b=(a=(a+"").replace(/^0x/,"")).substr(-8),a=parseInt(a=a.length>8?a.substr(0,a.length-8):"",16),b=parseInt(b,16);else throw Error(a+" must be a Number or String");for(var d=this.buffer,e=this.offset,f=7;f>=0;f--)d[e+f]=255&b,b=4==f?a:b>>>8;c&&this._2scomp()},toNumber:function(a){for(var b=this.buffer,c=this.offset,e=128&b[c],f=0,g=1,h=7,i=1;h>=0;h--,i*=256){var j=b[c+h];e&&(g=(j=(255^j)+g)>>8,j&=255),f+=j*i}return!a&&f>=d.MAX_INT?e?-1/0:1/0:e?-f:f},valueOf:function(){return this.toNumber(!1)},toString:function(a){return this.valueOf().toString(a||10)},toOctetString:function(a){for(var c=Array(8),d=this.buffer,e=this.offset,f=0;f<8;f++)c[f]=b[d[e+f]];return c.join(a||"")},toBuffer:function(a){if(a&&0===this.offset)return this.buffer;var b=new Buffer(8);return this.buffer.copy(b,0,this.offset,this.offset+8),b},copy:function(a,b){this.buffer.copy(a,b||0,this.offset,this.offset+8)},compare:function(a){if((128&this.buffer[this.offset])!=(128&a.buffer[a.offset]))return a.buffer[a.offset]-this.buffer[this.offset];for(var b=0;b<8;b++)if(this.buffer[this.offset+b]!==a.buffer[a.offset+b])return this.buffer[this.offset+b]-a.buffer[a.offset+b];return 0},equals:function(a){return 0===this.compare(a)},inspect:function(){return"[Int64 value:"+this+" octets:"+this.toOctetString(" ")+"]"}}},21370:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VERSION=void 0,b.VERSION="0.52.1"},21609:(a,b,c)=>{"use strict";let d=c(78871),e=c(71635),{safeRe:f,t:g}=c(62710);a.exports=(a,b)=>{if(a instanceof d)return a;if("number"==typeof a&&(a=String(a)),"string"!=typeof a)return null;let c=null;if((b=b||{}).rtl){let d,e=b.includePrerelease?f[g.COERCERTLFULL]:f[g.COERCERTL];for(;(d=e.exec(a))&&(!c||c.index+c[0].length!==a.length);)c&&d.index+d[0].length===c.index+c[0].length||(c=d),e.lastIndex=d.index+d[1].length+d[2].length;e.lastIndex=-1}else c=a.match(b.includePrerelease?f[g.COERCEFULL]:f[g.COERCE]);if(null===c)return null;let h=c[2],i=c[3]||"0",j=c[4]||"0",k=b.includePrerelease&&c[5]?`-${c[5]}`:"",l=b.includePrerelease&&c[6]?`+${c[6]}`:"";return e(`${h}.${i}.${j}${k}${l}`,b)}},21807:a=>{"use strict";function b(a){return"function"==typeof a}var c=console.error.bind(console);function d(a,b,c){var d=!!a[b]&&a.propertyIsEnumerable(b);Object.defineProperty(a,b,{configurable:!0,enumerable:d,writable:!0,value:c})}function e(a){a&&a.logger&&(b(a.logger)?c=a.logger:c("new logger isn't a function, not replacing"))}function f(a,e,f){if(!a||!a[e])return void c("no original function "+e+" to wrap");if(!f){c("no wrapper function"),c(Error().stack);return}if(!b(a[e])||!b(f))return void c("original object and wrapper must be functions");var g=a[e],h=f(g,e);return d(h,"__original",g),d(h,"__unwrap",function(){a[e]===h&&d(a,e,g)}),d(h,"__wrapped",!0),d(a,e,h),h}function g(a,b){if(!a||!a[b]){c("no function to unwrap."),c(Error().stack);return}if(a[b].__unwrap)return a[b].__unwrap();c("no original to unwrap to -- has "+b+" already been unwrapped?")}e.wrap=f,e.massWrap=function(a,b,d){if(a)Array.isArray(a)||(a=[a]);else{c("must provide one or more modules to patch"),c(Error().stack);return}if(!(b&&Array.isArray(b)))return void c("must provide one or more functions to wrap on modules");a.forEach(function(a){b.forEach(function(b){f(a,b,d)})})},e.unwrap=g,e.massUnwrap=function(a,b){if(a)Array.isArray(a)||(a=[a]);else{c("must provide one or more modules to patch"),c(Error().stack);return}if(!(b&&Array.isArray(b)))return void c("must provide one or more functions to unwrap on modules");a.forEach(function(a){b.forEach(function(b){g(a,b)})})},a.exports=e},21813:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(65165),e=c(97988),f=c(38904),g=new f.Name("fullFormats"),h=new f.Name("fastFormats"),i=(a,b={keywords:!0})=>{if(Array.isArray(b))return j(a,b,d.fullFormats,g),a;let[c,f]="fast"===b.mode?[d.fastFormats,h]:[d.fullFormats,g];return j(a,b.formats||d.formatNames,c,f),b.keywords&&(0,e.default)(a),a};function j(a,b,c,d){var e;for(let g of(null!=(e=a.opts.code).formats||(e.formats=(0,f._)`require("ajv-formats/dist/formats").${d}`),b))a.addFormat(g,c[g])}i.get=(a,b="full")=>{let c=("fast"===b?d.fastFormats:d.fullFormats)[a];if(!c)throw Error(`Unknown format "${a}"`);return c},a.exports=b=i,Object.defineProperty(b,"__esModule",{value:!0}),b.default=i},22211:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(87099);d.code='require("ajv/dist/runtime/uri").default',b.default=d},22351:(a,b,c)=>{"use strict";c.r(b),c.d(b,{B3InjectEncoding:()=>d,B3Propagator:()=>z,B3_CONTEXT_HEADER:()=>j,X_B3_FLAGS:()=>o,X_B3_PARENT_SPAN_ID:()=>n,X_B3_SAMPLED:()=>m,X_B3_SPAN_ID:()=>l,X_B3_TRACE_ID:()=>k});var d,e=c(81588),f=c(54616),g=c(88018),h=c(58746),i=(0,c(76956).n)("OpenTelemetry Context Key B3 Debug Flag"),j="b3",k="x-b3-traceid",l="x-b3-spanid",m="x-b3-sampled",n="x-b3-parentspanid",o="x-b3-flags",p=new Set([!0,"true","True","1",1]),q=new Set([!1,"false","False","0",0]);function r(a,b,c){var d;return Array.isArray(d=b.get(a,c))?d[0]:d}function s(a,b){return"1"===r(a,b,o)?"1":void 0}var t=function(){function a(){}return a.prototype.inject=function(a,b,c){var d=g.u.getSpanContext(a);if(!(!d||!(0,h.YA)(d)||(0,e.Zf)(a))){var j=a.getValue(i);c.set(b,k,d.traceId),c.set(b,l,d.spanId),"1"===j?c.set(b,o,j):void 0!==d.traceFlags&&c.set(b,m,(f.X.SAMPLED&d.traceFlags)===f.X.SAMPLED?"1":"0")}},a.prototype.extract=function(a,b,c){var d,e,j,n="string"==typeof(d=r(b,c,k))?d.padStart(32,"0"):"",o="string"==typeof(e=r(b,c,l))?e:"",t=(j=r(b,c,m),"1"===s(b,c)||p.has(j)?f.X.SAMPLED:void 0===j||q.has(j)?f.X.NONE:void 0),u=s(b,c);return(0,h.hX)(n)&&(0,h.wN)(o)&&(t===f.X.SAMPLED||t===f.X.NONE)?(a=a.setValue(i,u),g.u.setSpanContext(a,{traceId:n,spanId:o,isRemote:!0,traceFlags:t})):a},a.prototype.fields=function(){return[k,l,o,m,n]},a}(),u=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},v=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,w="0".repeat(16),x=new Set(["d","1"]),y=function(){function a(){}return a.prototype.inject=function(a,b,c){var d=g.u.getSpanContext(a);if(!(!d||!(0,h.YA)(d)||(0,e.Zf)(a))){var f=a.getValue(i)||1&d.traceFlags,k=d.traceId+"-"+d.spanId+"-"+f;c.set(b,j,k)}},a.prototype.extract=function(a,b,c){var d=c.get(b,j),e=Array.isArray(d)?d[0]:d;if("string"!=typeof e)return a;var k=e.match(v);if(!k)return a;var l=u(k,4),m=l[1],n=l[2],o=l[3],p=32===m.length?m:""+w+m;if(!(0,h.hX)(p)||!(0,h.wN)(n))return a;var q=o&&x.has(o)?f.X.SAMPLED:f.X.NONE;return"d"===o&&(a=a.setValue(i,o)),g.u.setSpanContext(a,{traceId:p,spanId:n,isRemote:!0,traceFlags:q})},a.prototype.fields=function(){return[j]},a}();!function(a){a[a.SINGLE_HEADER=0]="SINGLE_HEADER",a[a.MULTI_HEADER=1]="MULTI_HEADER"}(d||(d={}));var z=function(){function a(a){void 0===a&&(a={}),this._b3MultiPropagator=new t,this._b3SinglePropagator=new y,a.injectEncoding===d.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}return a.prototype.inject=function(a,b,c){(0,e.Zf)(a)||this._inject(a,b,c)},a.prototype.extract=function(a,b,c){var d=c.get(b,j);return(Array.isArray(d)?d[0]:d)?this._b3SinglePropagator.extract(a,b,c):this._b3MultiPropagator.extract(a,b,c)},a.prototype.fields=function(){return this._fields},a}()},22354:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CompressionFilterFactory=b.CompressionFilter=void 0;let d=c(74075),e=c(81842),f=c(56458),g=c(74029),h=c(38702);class i{async writeMessage(a,b){let c=a;b&&(c=await this.compressMessage(c));let d=Buffer.allocUnsafe(c.length+5);return d.writeUInt8(+!!b,0),d.writeUInt32BE(c.length,1),c.copy(d,5),d}async readMessage(a){let b=1===a.readUInt8(0),c=a.slice(5);return b&&(c=await this.decompressMessage(c)),c}}class j extends i{async compressMessage(a){return a}async writeMessage(a,b){let c=Buffer.allocUnsafe(a.length+5);return c.writeUInt8(0,0),c.writeUInt32BE(a.length,1),a.copy(c,5),c}decompressMessage(a){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class k extends i{constructor(a){super(),this.maxRecvMessageLength=a}compressMessage(a){return new Promise((b,c)=>{d.deflate(a,(a,d)=>{a?c(a):b(d)})})}decompressMessage(a){return new Promise((b,c)=>{let e=0,g=[],h=d.createInflate();h.on("data",a=>{g.push(a),e+=a.byteLength,-1!==this.maxRecvMessageLength&&e>this.maxRecvMessageLength&&(h.destroy(),c({code:f.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),h.on("end",()=>{b(Buffer.concat(g))}),h.write(a),h.end()})}}class l extends i{constructor(a){super(),this.maxRecvMessageLength=a}compressMessage(a){return new Promise((b,c)=>{d.gzip(a,(a,d)=>{a?c(a):b(d)})})}decompressMessage(a){return new Promise((b,c)=>{let e=0,g=[],h=d.createGunzip();h.on("data",a=>{g.push(a),e+=a.byteLength,-1!==this.maxRecvMessageLength&&e>this.maxRecvMessageLength&&(h.destroy(),c({code:f.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),h.on("end",()=>{b(Buffer.concat(g))}),h.write(a),h.end()})}}class m extends i{constructor(a){super(),this.compressionName=a}compressMessage(a){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(a){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function n(a,b){switch(a){case"identity":return new j;case"deflate":return new k(b);case"gzip":return new l(b);default:return new m(a)}}class o extends g.BaseFilter{constructor(a,b){var c,d,g;super(),this.sharedFilterConfig=b,this.sendCompression=new j,this.receiveCompression=new j,this.currentCompressionAlgorithm="identity";let i=a["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!=(c=a["grpc.max_receive_message_length"])?c:f.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=null!=(d=a["grpc.max_send_message_length"])?d:f.DEFAULT_MAX_SEND_MESSAGE_LENGTH,void 0!==i)if((a=>"number"==typeof a&&"string"==typeof e.CompressionAlgorithms[a])(i)){let a=e.CompressionAlgorithms[i],c=null==(g=b.serverSupportedEncodingHeader)?void 0:g.split(",");(!c||c.includes(a))&&(this.currentCompressionAlgorithm=a,this.sendCompression=n(this.currentCompressionAlgorithm,-1))}else h.log(f.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${i}`)}async sendMetadata(a){let b=await a;return b.set("grpc-accept-encoding","identity,deflate,gzip"),b.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?b.remove("grpc-encoding"):b.set("grpc-encoding",this.currentCompressionAlgorithm),b}receiveMetadata(a){let b=a.get("grpc-encoding");if(b.length>0){let a=b[0];"string"==typeof a&&(this.receiveCompression=n(a,this.maxReceiveMessageLength))}a.remove("grpc-encoding");let c=a.get("grpc-accept-encoding")[0];return c&&(this.sharedFilterConfig.serverSupportedEncodingHeader=c,c.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new j,this.currentCompressionAlgorithm="identity")),a.remove("grpc-accept-encoding"),a}async sendMessage(a){var b;let c,d=await a;if(-1!==this.maxSendMessageLength&&d.message.length>this.maxSendMessageLength)throw{code:f.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};return c=!(this.sendCompression instanceof j)&&((null!=(b=d.flags)?b:0)&2)==0,{message:await this.sendCompression.writeMessage(d.message,c),flags:d.flags}}async receiveMessage(a){return this.receiveCompression.readMessage(await a)}}b.CompressionFilter=o;class p{constructor(a,b){this.options=b,this.sharedFilterConfig={}}createFilter(){return new o(this.options,this.sharedFilterConfig)}}b.CompressionFilterFactory=p},22709:(a,b,c)=>{"use strict";var d=c(42218),e=c(25283);let f={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},g=a=>a.replace(/[!,[\]{}]/g,a=>f[a]);class h{constructor(a,b){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},h.defaultYaml,a),this.tags=Object.assign({},h.defaultTags,b)}clone(){let a=new h(this.yaml,this.tags);return a.docStart=this.docStart,a}atDocument(){let a=new h(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:h.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},h.defaultTags)}return a}add(a,b){this.atNextDocument&&(this.yaml={explicit:h.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},h.defaultTags),this.atNextDocument=!1);let c=a.trim().split(/[ \t]+/),d=c.shift();switch(d){case"%TAG":{if(2!==c.length&&(b(0,"%TAG directive should contain exactly two parts"),c.length<2))return!1;let[a,d]=c;return this.tags[a]=d,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==c.length)return b(0,"%YAML directive should contain exactly one part"),!1;let[a]=c;if("1.1"===a||"1.2"===a)return this.yaml.version=a,!0;{let c=/^\d+\.\d+$/.test(a);return b(6,`Unsupported YAML version ${a}`,c),!1}}default:return b(0,`Unknown directive ${d}`,!0),!1}}tagName(a,b){if("!"===a)return"!";if("!"!==a[0])return b(`Not a valid tag: ${a}`),null;if("<"===a[1]){let c=a.slice(2,-1);return"!"===c||"!!"===c?(b(`Verbatim tags aren't resolved, so ${a} is invalid.`),null):(">"!==a[a.length-1]&&b("Verbatim tags must end with a >"),c)}let[,c,d]=a.match(/^(.*!)([^!]*)$/s);d||b(`The ${a} tag has no suffix`);let e=this.tags[c];if(e)try{return e+decodeURIComponent(d)}catch(a){return b(String(a)),null}return"!"===c?a:(b(`Could not resolve tag: ${a}`),null)}tagString(a){for(let[b,c]of Object.entries(this.tags))if(a.startsWith(c))return b+g(a.substring(c.length));return"!"===a[0]?a:`!<${a}>`}toString(a){let b,c=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],f=Object.entries(this.tags);if(a&&f.length>0&&d.isNode(a.contents)){let c={};e.visit(a.contents,(a,b)=>{d.isNode(b)&&b.tag&&(c[b.tag]=!0)}),b=Object.keys(c)}else b=[];for(let[d,e]of f)("!!"!==d||"tag:yaml.org,2002:"!==e)&&(!a||b.some(a=>a.startsWith(e)))&&c.push(`%TAG ${d} ${e}`);return c.join("\n")}}h.defaultYaml={explicit:!1,version:"1.2"},h.defaultTags={"!!":"tag:yaml.org,2002:"},b.Directives=h},22802:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904),e=c(46178),f=c(27265);b.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,d._)`{allowedValue: ${a}}`},code(a){let{gen:b,data:c,$data:g,schemaCode:h,schema:i}=a;g||i&&"object"==typeof i?a.fail$data((0,d._)`!${(0,e.useFunc)(b,f.default)}(${c}, ${h})`):a.fail((0,d._)`${i} !== ${c}`)}}},22844:(a,b,c)=>{"use strict";var d=c(24148);let e=a=>"bigint"==typeof a||Number.isInteger(a);function f(a,b,c,{intAsBigInt:d}){let e=a[0];if(("-"===e||"+"===e)&&(b+=1),a=a.substring(b).replace(/_/g,""),d){switch(c){case 2:a=`0b${a}`;break;case 8:a=`0o${a}`;break;case 16:a=`0x${a}`}let b=BigInt(a);return"-"===e?BigInt(-1)*b:b}let f=parseInt(a,c);return"-"===e?-1*f:f}function g(a,b,c){let{value:f}=a;if(e(f)){let a=f.toString(b);return f<0?"-"+c+a.substr(1):c+a}return d.stringifyNumber(a)}b.int={identify:e,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(a,b,c)=>f(a,0,10,c),stringify:d.stringifyNumber},b.intBin={identify:e,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(a,b,c)=>f(a,2,2,c),stringify:a=>g(a,2,"0b")},b.intHex={identify:e,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(a,b,c)=>f(a,2,16,c),stringify:a=>g(a,16,"0x")},b.intOct={identify:e,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(a,b,c)=>f(a,1,8,c),stringify:a=>g(a,8,"0")}},22858:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(16800),e=c(70149);let f=(a,b)=>{let c;switch(a.code){case d.eq.invalid_type:c=a.received===e.Zp.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case d.eq.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,e.ZS.jsonStringifyReplacer)}`;break;case d.eq.unrecognized_keys:c=`Unrecognized key(s) in object: ${e.ZS.joinValues(a.keys,", ")}`;break;case d.eq.invalid_union:c="Invalid input";break;case d.eq.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${e.ZS.joinValues(a.options)}`;break;case d.eq.invalid_enum_value:c=`Invalid enum value. Expected ${e.ZS.joinValues(a.options)}, received '${a.received}'`;break;case d.eq.invalid_arguments:c="Invalid function arguments";break;case d.eq.invalid_return_type:c="Invalid function return type";break;case d.eq.invalid_date:c="Invalid date";break;case d.eq.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:e.ZS.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case d.eq.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case d.eq.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case d.eq.custom:c="Invalid input";break;case d.eq.invalid_intersection_types:c="Intersection results could not be merged";break;case d.eq.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case d.eq.not_finite:c="Number must be finite";break;default:c=b.defaultError,e.ZS.assertNever(a)}return{message:c}}},23017:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{initNodeFeatures:()=>k}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(45644),j=c(59368);function k(){(0,i.initNodeAsyncContext)(),(0,j.initNodeTelemetryProvider)()}},23221:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{jsonFormatter:()=>j}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(44175);let j={name:"json",config:{format:"json",contentType:"application/json",constrained:!0,defaultInstructions:!1},handler:a=>{let b;return a&&(b=`Output should be in JSON format and conform to the following schema:

\`\`\`
${JSON.stringify(a)}
\`\`\`
`),{parseChunk:a=>(0,i.extractJson)(a.accumulatedText),parseMessage:a=>(0,i.extractJson)(a.text),instructions:b}}}},23439:(a,b,c)=>{"use strict";let d=c(24346),e=c(50403),{ANY:f}=e,g=c(32665),h=c(96775),i=[new e(">=0.0.0-0")],j=[new e(">=0.0.0")],k=(a,b,c)=>{let d,e,k,n,o,p,q;if(a===b)return!0;if(1===a.length&&a[0].semver===f)if(1===b.length&&b[0].semver===f)return!0;else a=c.includePrerelease?i:j;if(1===b.length&&b[0].semver===f)if(c.includePrerelease)return!0;else b=j;let r=new Set;for(let b of a)">"===b.operator||">="===b.operator?d=l(d,b,c):"<"===b.operator||"<="===b.operator?e=m(e,b,c):r.add(b.semver);if(r.size>1)return null;if(d&&e&&((k=h(d.semver,e.semver,c))>0||0===k&&(">="!==d.operator||"<="!==e.operator)))return null;for(let a of r){if(d&&!g(a,String(d),c)||e&&!g(a,String(e),c))return null;for(let d of b)if(!g(a,String(d),c))return!1;return!0}let s=!!e&&!c.includePrerelease&&!!e.semver.prerelease.length&&e.semver,t=!!d&&!c.includePrerelease&&!!d.semver.prerelease.length&&d.semver;for(let a of(s&&1===s.prerelease.length&&"<"===e.operator&&0===s.prerelease[0]&&(s=!1),b)){if(q=q||">"===a.operator||">="===a.operator,p=p||"<"===a.operator||"<="===a.operator,d){if(t&&a.semver.prerelease&&a.semver.prerelease.length&&a.semver.major===t.major&&a.semver.minor===t.minor&&a.semver.patch===t.patch&&(t=!1),">"===a.operator||">="===a.operator){if((n=l(d,a,c))===a&&n!==d)return!1}else if(">="===d.operator&&!g(d.semver,String(a),c))return!1}if(e){if(s&&a.semver.prerelease&&a.semver.prerelease.length&&a.semver.major===s.major&&a.semver.minor===s.minor&&a.semver.patch===s.patch&&(s=!1),"<"===a.operator||"<="===a.operator){if((o=m(e,a,c))===a&&o!==e)return!1}else if("<="===e.operator&&!g(e.semver,String(a),c))return!1}if(!a.operator&&(e||d)&&0!==k)return!1}return(!d||!p||!!e||0===k)&&(!e||!q||!!d||0===k)&&!t&&!s&&!0},l=(a,b,c)=>{if(!a)return b;let d=h(a.semver,b.semver,c);return d>0?a:d<0||">"===b.operator&&">="===a.operator?b:a},m=(a,b,c)=>{if(!a)return b;let d=h(a.semver,b.semver,c);return d<0?a:d>0||"<"===b.operator&&"<="===a.operator?b:a};a.exports=(a,b,c={})=>{if(a===b)return!0;a=new d(a,c),b=new d(b,c);let e=!1;b:for(let d of a.set){for(let a of b.set){let b=k(d,a,c);if(e=e||null!==b,b)continue b}if(e)return!1}return!0}},23615:(a,b,c)=>{"use strict";var d;c.d(b,{R:()=>d}),function(a){a.AlwaysOff="always_off",a.AlwaysOn="always_on",a.ParentBasedAlwaysOff="parentbased_always_off",a.ParentBasedAlwaysOn="parentbased_always_on",a.ParentBasedTraceIdRatio="parentbased_traceidratio",a.TraceIdRatio="traceidratio"}(d||(d={}))},23733:(a,b,c)=>{"use strict";c.d(b,{n:()=>h});var d="[_0-9a-z-*/]",e=RegExp("^(?:[a-z]"+d+"{0,255}|"+("[a-z0-9]"+d+"{0,240}@[a-z]")+d+"{0,13})$"),f=/^[ -~]{0,255}[!-~]$/,g=/,|=/,h=function(){function a(a){this._internalState=new Map,a&&this._parse(a)}return a.prototype.set=function(a,b){var c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c},a.prototype.unset=function(a){var b=this._clone();return b._internalState.delete(a),b},a.prototype.get=function(a){return this._internalState.get(a)},a.prototype.serialize=function(){var a=this;return this._keys().reduce(function(b,c){return b.push(c+"="+a.get(c)),b},[]).join(",")},a.prototype._parse=function(a){!(a.length>512)&&(this._internalState=a.split(",").reverse().reduce(function(a,b){var c=b.trim(),d=c.indexOf("=");if(-1!==d){var h=c.slice(0,d),i=c.slice(d+1,b.length);e.test(h)&&f.test(i)&&!g.test(i)&&a.set(h,i)}return a},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},a.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},a.prototype._clone=function(){var b=new a;return b._internalState=new Map(this._internalState),b},a}()},23737:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getData=b.KeywordCxt=b.validateFunctionCode=void 0;let d=c(79222),e=c(20351),f=c(60910),g=c(20351),h=c(43381),i=c(96496),j=c(59510),k=c(38904),l=c(82746),m=c(24206),n=c(46178),o=c(89843);function p({gen:a,validateName:b,schema:c,schemaEnv:d,opts:e},f){var g;e.code.es5?a.func(b,(0,k._)`${l.default.data}, ${l.default.valCxt}`,d.$async,()=>{var b,d;a.code((0,k._)`"use strict"; ${q(c,e)}`),b=a,d=e,b.if(l.default.valCxt,()=>{b.var(l.default.instancePath,(0,k._)`${l.default.valCxt}.${l.default.instancePath}`),b.var(l.default.parentData,(0,k._)`${l.default.valCxt}.${l.default.parentData}`),b.var(l.default.parentDataProperty,(0,k._)`${l.default.valCxt}.${l.default.parentDataProperty}`),b.var(l.default.rootData,(0,k._)`${l.default.valCxt}.${l.default.rootData}`),d.dynamicRef&&b.var(l.default.dynamicAnchors,(0,k._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{b.var(l.default.instancePath,(0,k._)`""`),b.var(l.default.parentData,(0,k._)`undefined`),b.var(l.default.parentDataProperty,(0,k._)`undefined`),b.var(l.default.rootData,l.default.data),d.dynamicRef&&b.var(l.default.dynamicAnchors,(0,k._)`{}`)}),a.code(f)}):a.func(b,(0,k._)`${l.default.data}, ${(g=e,(0,k._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${g.dynamicRef?(0,k._)`, ${l.default.dynamicAnchors}={}`:k.nil}}={}`)}`,d.$async,()=>a.code(q(c,e)).code(f))}function q(a,b){let c="object"==typeof a&&a[b.schemaId];return c&&(b.code.source||b.code.process)?(0,k._)`/*# sourceURL=${c} */`:k.nil}function r({schema:a,self:b}){if("boolean"==typeof a)return!a;for(let c in a)if(b.RULES.all[c])return!0;return!1}function s(a){return"boolean"!=typeof a.schema}function t(a){(0,n.checkUnknownRules)(a),function(a){let{schema:b,errSchemaPath:c,opts:d,self:e}=a;b.$ref&&d.ignoreKeywordsWithRef&&(0,n.schemaHasRulesButRef)(b,e.RULES)&&e.logger.warn(`$ref: keywords ignored in schema at path "${c}"`)}(a)}function u(a,b){if(a.opts.jtd)return w(a,[],!1,b);let c=(0,e.getSchemaTypes)(a.schema),d=(0,e.coerceAndCheckDataType)(a,c);w(a,c,!d,b)}function v({gen:a,schemaEnv:b,schema:c,errSchemaPath:d,opts:e}){let f=c.$comment;if(!0===e.$comment)a.code((0,k._)`${l.default.self}.logger.log(${f})`);else if("function"==typeof e.$comment){let c=(0,k.str)`${d}/$comment`,e=a.scopeValue("root",{ref:b.root});a.code((0,k._)`${l.default.self}.opts.$comment(${f}, ${c}, ${e}.schema)`)}}function w(a,b,c,d){var e,h,i,j;let{gen:m,schema:o,data:p,allErrors:q,opts:r,self:s}=a,{RULES:t}=s;if(o.$ref&&(r.ignoreKeywordsWithRef||!(0,n.schemaHasRulesButRef)(o,t)))return void m.block(()=>B(a,"$ref",t.all.$ref.definition));function u(e){(0,f.shouldUseGroup)(o,e)&&(e.type?(m.if((0,g.checkDataType)(e.type,p,r.strictNumbers)),x(a,e),1===b.length&&b[0]===e.type&&c&&(m.else(),(0,g.reportTypeError)(a)),m.endIf()):x(a,e),q||m.if((0,k._)`${l.default.errors} === ${d||0}`))}r.jtd||(e=a,h=b,!e.schemaEnv.meta&&e.opts.strictTypes&&(function(a,b){if(b.length){if(!a.dataTypes.length){a.dataTypes=b;return}b.forEach(b=>{y(a.dataTypes,b)||z(a,`type "${b}" not allowed by context "${a.dataTypes.join(",")}"`)}),function(a,b){let c=[];for(let d of a.dataTypes)y(b,d)?c.push(d):b.includes("integer")&&"number"===d&&c.push("integer");a.dataTypes=c}(a,b)}}(e,h),e.opts.allowUnionTypes||(i=e,(j=h).length>1&&!(2===j.length&&j.includes("null"))&&z(i,"use allowUnionTypes to allow union type keyword")),function(a,b){let c=a.self.RULES.all;for(let d in c){let e=c[d];if("object"==typeof e&&(0,f.shouldUseRule)(a.schema,e)){let{type:c}=e.definition;c.length&&!c.some(a=>{var c,d;return c=b,d=a,c.includes(d)||"number"===d&&c.includes("integer")})&&z(a,`missing type "${c.join(",")}" for keyword "${d}"`)}}}(e,e.dataTypes))),m.block(()=>{for(let a of t.rules)u(a);u(t.post)})}function x(a,b){let{gen:c,schema:d,opts:{useDefaults:e}}=a;e&&(0,h.assignDefaults)(a,b.type),c.block(()=>{for(let c of b.rules)(0,f.shouldUseRule)(d,c)&&B(a,c.keyword,c.definition,b.type)})}function y(a,b){return a.includes(b)||"integer"===b&&a.includes("number")}function z(a,b){let c=a.schemaEnv.baseId+a.errSchemaPath;b+=` at "${c}" (strictTypes)`,(0,n.checkStrictMode)(a,b,a.opts.strictTypes)}b.validateFunctionCode=function(a){if(s(a)&&(t(a),r(a)))return void function(a){let{schema:b,opts:c,gen:d}=a;p(a,()=>{c.$comment&&b.$comment&&v(a),function(a){let{schema:b,opts:c}=a;void 0!==b.default&&c.useDefaults&&c.strictSchema&&(0,n.checkStrictMode)(a,"default is ignored in the schema root")}(a),d.let(l.default.vErrors,null),d.let(l.default.errors,0),c.unevaluated&&function(a){let{gen:b,validateName:c}=a;a.evaluated=b.const("evaluated",(0,k._)`${c}.evaluated`),b.if((0,k._)`${a.evaluated}.dynamicProps`,()=>b.assign((0,k._)`${a.evaluated}.props`,(0,k._)`undefined`)),b.if((0,k._)`${a.evaluated}.dynamicItems`,()=>b.assign((0,k._)`${a.evaluated}.items`,(0,k._)`undefined`))}(a),u(a),function(a){let{gen:b,schemaEnv:c,validateName:d,ValidationError:e,opts:f}=a;c.$async?b.if((0,k._)`${l.default.errors} === 0`,()=>b.return(l.default.data),()=>b.throw((0,k._)`new ${e}(${l.default.vErrors})`)):(b.assign((0,k._)`${d}.errors`,l.default.vErrors),f.unevaluated&&function({gen:a,evaluated:b,props:c,items:d}){c instanceof k.Name&&a.assign((0,k._)`${b}.props`,c),d instanceof k.Name&&a.assign((0,k._)`${b}.items`,d)}(a),b.return((0,k._)`${l.default.errors} === 0`))}(a)})}(a);p(a,()=>(0,d.topBoolOrEmptySchema)(a))};class A{constructor(a,b,c){if((0,i.validateKeywordUsage)(a,b,c),this.gen=a.gen,this.allErrors=a.allErrors,this.keyword=c,this.data=a.data,this.schema=a.schema[c],this.$data=b.$data&&a.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,n.schemaRefOrVal)(a,this.schema,c,this.$data),this.schemaType=b.schemaType,this.parentSchema=a.schema,this.params={},this.it=a,this.def=b,this.$data)this.schemaCode=a.gen.const("vSchema",E(this.$data,a));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,b.schemaType,b.allowUndefined))throw Error(`${c} value must be ${JSON.stringify(b.schemaType)}`);("code"in b?b.trackErrors:!1!==b.errors)&&(this.errsCount=a.gen.const("_errs",l.default.errors))}result(a,b,c){this.failResult((0,k.not)(a),b,c)}failResult(a,b,c){this.gen.if(a),c?c():this.error(),b?(this.gen.else(),b(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(a,b){this.failResult((0,k.not)(a),void 0,b)}fail(a){if(void 0===a){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(a),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(a){if(!this.$data)return this.fail(a);let{schemaCode:b}=this;this.fail((0,k._)`${b} !== undefined && (${(0,k.or)(this.invalid$data(),a)})`)}error(a,b,c){if(b){this.setParams(b),this._error(a,c),this.setParams({});return}this._error(a,c)}_error(a,b){(a?o.reportExtraError:o.reportError)(this,this.def.error,b)}$dataError(){(0,o.reportError)(this,this.def.$dataError||o.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,o.resetErrorsCount)(this.gen,this.errsCount)}ok(a){this.allErrors||this.gen.if(a)}setParams(a,b){b?Object.assign(this.params,a):this.params=a}block$data(a,b,c=k.nil){this.gen.block(()=>{this.check$data(a,c),b()})}check$data(a=k.nil,b=k.nil){if(!this.$data)return;let{gen:c,schemaCode:d,schemaType:e,def:f}=this;c.if((0,k.or)((0,k._)`${d} === undefined`,b)),a!==k.nil&&c.assign(a,!0),(e.length||f.validateSchema)&&(c.elseIf(this.invalid$data()),this.$dataError(),a!==k.nil&&c.assign(a,!1)),c.else()}invalid$data(){let{gen:a,schemaCode:b,schemaType:c,def:d,it:e}=this;return(0,k.or)(function(){if(c.length){if(!(b instanceof k.Name))throw Error("ajv implementation error");let a=Array.isArray(c)?c:[c];return(0,k._)`${(0,g.checkDataTypes)(a,b,e.opts.strictNumbers,g.DataType.Wrong)}`}return k.nil}(),function(){if(d.validateSchema){let c=a.scopeValue("validate$data",{ref:d.validateSchema});return(0,k._)`!${c}(${b})`}return k.nil}())}subschema(a,b){let c=(0,j.getSubschema)(this.it,a);(0,j.extendSubschemaData)(c,this.it,a),(0,j.extendSubschemaMode)(c,a);let e={...this.it,...c,items:void 0,props:void 0};return!function(a,b){if(s(a)&&(t(a),r(a))){var c=a,e=b;let{schema:d,gen:f,opts:g}=c;g.$comment&&d.$comment&&v(c),function(a){let b=a.schema[a.opts.schemaId];b&&(a.baseId=(0,m.resolveUrl)(a.opts.uriResolver,a.baseId,b))}(c),function(a){if(a.schema.$async&&!a.schemaEnv.$async)throw Error("async schema in sync schema")}(c);let h=f.const("_errs",l.default.errors);u(c,h),f.var(e,(0,k._)`${h} === ${l.default.errors}`);return}(0,d.boolOrEmptySchema)(a,b)}(e,b),e}mergeEvaluated(a,b){let{it:c,gen:d}=this;c.opts.unevaluated&&(!0!==c.props&&void 0!==a.props&&(c.props=n.mergeEvaluated.props(d,a.props,c.props,b)),!0!==c.items&&void 0!==a.items&&(c.items=n.mergeEvaluated.items(d,a.items,c.items,b)))}mergeValidEvaluated(a,b){let{it:c,gen:d}=this;if(c.opts.unevaluated&&(!0!==c.props||!0!==c.items))return d.if(b,()=>this.mergeEvaluated(a,k.Name)),!0}}function B(a,b,c,d){let e=new A(a,c,b);"code"in c?c.code(e,d):e.$data&&c.validate?(0,i.funcKeywordCode)(e,c):"macro"in c?(0,i.macroKeywordCode)(e,c):(c.compile||c.validate)&&(0,i.funcKeywordCode)(e,c)}b.KeywordCxt=A;let C=/^\/(?:[^~]|~0|~1)*$/,D=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function E(a,{dataLevel:b,dataNames:c,dataPathArr:d}){let e,f;if(""===a)return l.default.rootData;if("/"===a[0]){if(!C.test(a))throw Error(`Invalid JSON-pointer: ${a}`);e=a,f=l.default.rootData}else{let g=D.exec(a);if(!g)throw Error(`Invalid JSON-pointer: ${a}`);let i=+g[1];if("#"===(e=g[2])){if(i>=b)throw Error(h("property/index",i));return d[b-i]}if(i>b)throw Error(h("data",i));if(f=c[b-i],!e)return f}let g=f;for(let a of e.split("/"))a&&(f=(0,k._)`${f}${(0,k.getProperty)((0,n.unescapeJsonPointer)(a))}`,g=(0,k._)`${g} && ${f}`);return g;function h(a,c){return`Cannot access ${a} ${c} levels up, current level is ${b}`}}b.getData=E},23919:(a,b,c)=>{"use strict";let{isUUID:d}=c(64508),e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,f=["http","https","ws","wss","urn","urn:uuid"];function g(a){return!0===a.secure||!1!==a.secure&&!!a.scheme&&3===a.scheme.length&&("w"===a.scheme[0]||"W"===a.scheme[0])&&("s"===a.scheme[1]||"S"===a.scheme[1])&&("s"===a.scheme[2]||"S"===a.scheme[2])}function h(a){return a.host||(a.error=a.error||"HTTP URIs must have a host."),a}function i(a){let b="https"===String(a.scheme).toLowerCase();return(a.port===(b?443:80)||""===a.port)&&(a.port=void 0),a.path||(a.path="/"),a}let j={scheme:"http",domainHost:!0,parse:h,serialize:i},k={scheme:"https",domainHost:j.domainHost,parse:h,serialize:i},l={scheme:"ws",domainHost:!0,parse:function(a){return a.secure=g(a),a.resourceName=(a.path||"/")+(a.query?"?"+a.query:""),a.path=void 0,a.query=void 0,a},serialize:function(a){if((a.port===(g(a)?443:80)||""===a.port)&&(a.port=void 0),"boolean"==typeof a.secure&&(a.scheme=a.secure?"wss":"ws",a.secure=void 0),a.resourceName){let[b,c]=a.resourceName.split("?");a.path=b&&"/"!==b?b:void 0,a.query=c,a.resourceName=void 0}return a.fragment=void 0,a}},m={scheme:"wss",domainHost:l.domainHost,parse:l.parse,serialize:l.serialize},n={http:j,https:k,ws:l,wss:m,urn:{scheme:"urn",parse:function(a,b){if(!a.path)return a.error="URN can not be parsed",a;let c=a.path.match(e);if(c){let d=b.scheme||a.scheme||"urn";a.nid=c[1].toLowerCase(),a.nss=c[2];let e=o(`${d}:${b.nid||a.nid}`);a.path=void 0,e&&(a=e.parse(a,b))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function(a,b){if(void 0===a.nid)throw Error("URN without nid cannot be serialized");let c=b.scheme||a.scheme||"urn",d=a.nid.toLowerCase(),e=o(`${c}:${b.nid||d}`);e&&(a=e.serialize(a,b));let f=a,g=a.nss;return f.path=`${d||b.nid}:${g}`,b.skipEscape=!0,f},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(a,b){return a.uuid=a.nss,a.nss=void 0,b.tolerant||a.uuid&&d(a.uuid)||(a.error=a.error||"UUID is not valid."),a},serialize:function(a){return a.nss=(a.uuid||"").toLowerCase(),a},skipNormalize:!0}};function o(a){return a&&(n[a]||n[a.toLowerCase()])||void 0}Object.setPrototypeOf(n,null),a.exports={wsIsSecure:g,SCHEMES:n,isValidSchemeName:function(a){return -1!==f.indexOf(a)},getSchemeHandler:o}},23948:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>0===d(a,b,c)},24024:a=>{"use strict";var b={};function c(a,c){this.type="BaseType",this.baseType=a,this.annotations=c||b}a.exports.Program=function(a,b){this.type="Program",this.headers=a,this.definitions=b},a.exports.Identifier=function(a,b,c){this.type="Identifier",this.name=a,this.line=b,this.column=c,this.as=null},a.exports.Include=function(a,b,c,d){this.type="Include",this.id=a,this.namespace=b,this.line=c,this.column=d},a.exports.Namespace=function(a,b){this.type="Namespace",this.id=a,this.scope=b},a.exports.Typedef=function(a,c,d){this.type="Typedef",this.valueType=a,this.id=c,this.annotations=d||b},a.exports.BaseType=c,a.exports.Enum=function(a,c,d){this.type="Enum",this.id=a,this.definitions=c,this.annotations=d||b},a.exports.EnumDefinition=function(a,d,e){this.type="EnumDefinition",this.fieldType=new c("i32"),this.id=a,this.value=d,this.annotations=e||b},a.exports.Senum=function(a,c,d){this.type="Senum",this.id=a,this.senumDefinitions=c,this.annotations=d||b},a.exports.Const=function(a,b,c){this.type="Const",this.id=a,this.fieldType=b,this.value=c},a.exports.ConstList=function(a){this.type="ConstList",this.values=a},a.exports.ConstMap=function(a){this.type="ConstMap",this.entries=a},a.exports.ConstEntry=function(a,b){this.type="ConstEntry",this.key=a,this.value=b},a.exports.Struct=function(a,c,d){this.type="Struct",this.id=a,this.fields=c,this.isArgument=!1,this.isResult=!1,this.annotations=d||b},a.exports.Union=function(a,c,d){this.type="Union",this.id=a,this.fields=c,this.annotations=d||b},a.exports.Exception=function(a,c,d){this.type="Exception",this.id=a,this.fields=c,this.annotations=d||b},a.exports.Service=function(a,c,d,e){this.type="Service",this.id=a,this.functions=c,this.baseService=e,this.annotations=d||b},a.exports.FunctionDefinition=function(a,c,d,e,f,g){this.type="Function",this.id=a,this.returns=d,this.fields=c,this.fields.isArgument=!0,this.throws=e,this.oneway=g,this.annotations=f||b},a.exports.Field=function(a,c,d,e,f,g){this.type="Field",this.id=a,this.name=d,this.valueType=c,this.required="required"===e,this.optional="optional"===e,this.defaultValue=f,this.annotations=g||b},a.exports.FieldIdentifier=function(a,b,c){this.type="FieldIdentifier",this.value=a,this.line=b,this.column=c},a.exports.MapType=function(a,c,d){this.type="Map",this.keyType=a,this.valueType=c,this.annotations=d||b},a.exports.SetType=function(a,c){this.type="Set",this.valueType=a,this.annotations=c||b},a.exports.ListType=function(a,c){this.type="List",this.valueType=a,this.annotations=c||b},a.exports.TypeAnnotation=function(a,b){this.type="TypeAnnotation",this.name=a,this.value=b},a.exports.Comment=function(a){this.type="Comment",this.value=a},a.exports.Literal=function(a){this.type="Literal",this.value=a}},24148:(a,b)=>{"use strict";b.stringifyNumber=function({format:a,minFractionDigits:b,tag:c,value:d}){if("bigint"==typeof d)return String(d);let e="number"==typeof d?d:Number(d);if(!isFinite(e))return isNaN(e)?".nan":e<0?"-.inf":".inf";let f=JSON.stringify(d);if(!a&&b&&(!c||"tag:yaml.org,2002:float"===c)&&/^\d/.test(f)){let a=f.indexOf(".");a<0&&(a=f.length,f+=".");let c=b-(f.length-a-1);for(;c-- >0;)f+="0"}return f}},24206:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getSchemaRefs=b.resolveUrl=b.normalizeId=b._getFullPath=b.getFullPath=b.inlineRef=void 0;let d=c(46178),e=c(15792),f=c(92865),g=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);b.inlineRef=function(a,b=!0){return"boolean"==typeof a||(!0===b?!function a(b){for(let c in b){if(h.has(c))return!0;let d=b[c];if(Array.isArray(d)&&d.some(a)||"object"==typeof d&&a(d))return!0}return!1}(a):!!b&&function a(b){let c=0;for(let e in b)if("$ref"===e||(c++,!g.has(e)&&("object"==typeof b[e]&&(0,d.eachItem)(b[e],b=>c+=a(b)),c===1/0)))return 1/0;return c}(a)<=b)};let h=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function i(a,b="",c){!1!==c&&(b=l(b));let d=a.parse(b);return j(a,d)}function j(a,b){return a.serialize(b).split("#")[0]+"#"}b.getFullPath=i,b._getFullPath=j;let k=/#\/?$/;function l(a){return a?a.replace(k,""):""}b.normalizeId=l,b.resolveUrl=function(a,b,c){return c=l(c),a.resolve(b,c)};let m=/^[a-z_][-a-z0-9._]*$/i;b.getSchemaRefs=function(a,b){if("boolean"==typeof a)return{};let{schemaId:c,uriResolver:d}=this.opts,g=l(a[c]||b),h={"":g},j=i(d,g,!1),k={},n=new Set;return f(a,{allKeys:!0},(a,b,d,e)=>{if(void 0===e)return;let f=j+b,g=h[e];function i(b){let c=this.opts.uriResolver.resolve;if(b=l(g?c(g,b):b),n.has(b))throw p(b);n.add(b);let d=this.refs[b];return"string"==typeof d&&(d=this.refs[d]),"object"==typeof d?o(a,d.schema,b):b!==l(f)&&("#"===b[0]?(o(a,k[b],b),k[b]=a):this.refs[b]=f),b}function q(a){if("string"==typeof a){if(!m.test(a))throw Error(`invalid anchor "${a}"`);i.call(this,`#${a}`)}}"string"==typeof a[c]&&(g=i.call(this,a[c])),q.call(this,a.$anchor),q.call(this,a.$dynamicAnchor),h[b]=g}),k;function o(a,b,c){if(void 0!==b&&!e(a,b))throw p(c)}function p(a){return Error(`reference "${a}" resolves to more than one schema`)}}},24241:(a,b,c)=>{"use strict";var d=c(42218),e=c(74648),f=c(72125),g=c(54726),h=c(955),i=c(68042),j=c(27714),k=c(17342);let l="Block collections are not allowed within flow collections",m=a=>a&&("block-map"===a.type||"block-seq"===a.type);b.resolveFlowCollection=function({composeNode:a,composeEmptyNode:b},c,n,o,p){let q="{"===n.start.source,r=q?"flow map":"flow sequence",s=new(p?.nodeClass??(q?f.YAMLMap:g.YAMLSeq))(c.schema);s.flow=!0;let t=c.atRoot;t&&(c.atRoot=!1),c.atKey&&(c.atKey=!1);let u=n.offset+n.start.source.length;for(let g=0;g<n.items.length;++g){let h=n.items[g],{start:p,key:t,sep:v,value:w}=h,x=i.resolveProps(p,{flow:r,indicator:"explicit-key-ind",next:t??v?.[0],offset:u,onError:o,parentIndent:n.indent,startOnNewline:!1});if(!x.found){if(!x.anchor&&!x.tag&&!v&&!w){0===g&&x.comma?o(x.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${r}`):g<n.items.length-1&&o(x.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${r}`),x.comment&&(s.comment?s.comment+="\n"+x.comment:s.comment=x.comment),u=x.end;continue}!q&&c.options.strict&&j.containsNewline(t)&&o(t,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===g)x.comma&&o(x.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${r}`);else if(x.comma||o(x.start,"MISSING_CHAR",`Missing , between ${r} items`),x.comment){let a="";a:for(let b of p)switch(b.type){case"comma":case"space":break;case"comment":a=b.source.substring(1);break a;default:break a}if(a){let b=s.items[s.items.length-1];d.isPair(b)&&(b=b.value??b.key),b.comment?b.comment+="\n"+a:b.comment=a,x.comment=x.comment.substring(a.length+1)}}if(q||v||x.found){c.atKey=!0;let d=x.end,g=t?a(c,t,x,o):b(c,d,p,null,x,o);m(t)&&o(g.range,"BLOCK_IN_FLOW",l),c.atKey=!1;let j=i.resolveProps(v??[],{flow:r,indicator:"map-value-ind",next:w,offset:g.range[2],onError:o,parentIndent:n.indent,startOnNewline:!1});if(j.found){if(!q&&!x.found&&c.options.strict){if(v)for(let a of v){if(a===j.found)break;if("newline"===a.type){o(a,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}x.start<j.found.offset-1024&&o(j.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else w&&("source"in w&&w.source&&":"===w.source[0]?o(w,"MISSING_CHAR",`Missing space after : in ${r}`):o(j.start,"MISSING_CHAR",`Missing , or : between ${r} items`));let y=w?a(c,w,j,o):j.found?b(c,j.end,v,null,j,o):null;y?m(w)&&o(y.range,"BLOCK_IN_FLOW",l):j.comment&&(g.comment?g.comment+="\n"+j.comment:g.comment=j.comment);let z=new e.Pair(g,y);if(c.options.keepSourceTokens&&(z.srcToken=h),q)k.mapIncludes(c,s.items,g)&&o(d,"DUPLICATE_KEY","Map keys must be unique"),s.items.push(z);else{let a=new f.YAMLMap(c.schema);a.flow=!0,a.items.push(z);let b=(y??g).range;a.range=[g.range[0],b[1],b[2]],s.items.push(a)}u=y?y.range[2]:j.end}else{let d=w?a(c,w,x,o):b(c,x.end,v,null,x,o);s.items.push(d),u=d.range[2],m(w)&&o(d.range,"BLOCK_IN_FLOW",l)}}let v=q?"}":"]",[w,...x]=n.end,y=u;if(w&&w.source===v)y=w.offset+w.source.length;else{let a=r[0].toUpperCase()+r.substring(1),b=t?`${a} must end with a ${v}`:`${a} in block collection must be sufficiently indented and end with a ${v}`;o(u,t?"MISSING_CHAR":"BAD_INDENT",b),w&&1!==w.source.length&&x.unshift(w)}if(x.length>0){let a=h.resolveEnd(x,y,c.options.strict,o);a.comment&&(s.comment?s.comment+="\n"+a.comment:s.comment=a.comment),s.range=[n.offset,y,a.offset]}else s.range=[n.offset,y,y];return s}},24275:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{StatusCodes:()=>n.StatusCodes,StatusSchema:()=>n.StatusSchema,action:()=>p,actionWithMiddleware:()=>o,defineAction:()=>r,defineActionAsync:()=>s,getStreamingCallback:()=>w,isAction:()=>q,isInRuntimeContext:()=>y,runInActionRuntimeContext:()=>z,runOutsideActionRuntimeContext:()=>A,runWithStreamingCallback:()=>v,sentinelNoopStreamingCallback:()=>u}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(50673),j=c(2799),k=c(58482),l=c(76944),m=c(64089),n=c(87938);function o(a,b){let c=async(a,b)=>(await c.run(a,b)).result;return c.__action=a.__action,c.run=async(d,e)=>{let f,g=async(c,d,e)=>{if(c===b.length){let b=await a.run(d,e);return f=b.telemetry,b.result}let h=b[c];if(3===h.length)return h(d,e,async(a,b)=>g(c+1,a||d,b||e));if(2===h.length)return h(d,async a=>g(c+1,a||d,e));throw Error("unspported middleware function shape")};return c.stream=a.stream,{result:await g(0,d,e),telemetry:f}},c}function p(a,b){let c="string"==typeof a.name?a.name:`${a.name.pluginId}/${a.name.actionId}`,d={name:c,description:a.description,inputSchema:a.inputSchema,inputJsonSchema:a.inputJsonSchema,outputSchema:a.outputSchema,outputJsonSchema:a.outputJsonSchema,streamSchema:a.streamSchema,metadata:a.metadata,actionType:a.actionType},e=async(a,b)=>(await e.run(a,b)).result;return(e.__action={...d},e.run=async(d,f)=>{let g,h;d=(0,l.parseSchema)(d,{schema:a.inputSchema,jsonSchema:a.inputJsonSchema});let i=await (0,m.runInNewSpan)({metadata:{name:c},labels:{[m.SPAN_TYPE_ATTR]:"action","genkit:metadata:subtype":a.actionType,...f?.telemetryLabels}},async(i,j)=>{(0,m.setCustomMetadataAttributes)({subtype:a.actionType}),f?.context&&(0,m.setCustomMetadataAttributes)({context:JSON.stringify(f.context)}),g=j.spanContext().traceId,h=j.spanContext().spanId,i.name=c,i.input=d;try{let a=await (0,k.runWithContext)(f?.context,()=>b(d,{...f,context:{...e.__registry?.context,...f?.context??(0,k.getContext)()},streamingRequested:!!f?.onChunk&&f.onChunk!==u,sendChunk:f?.onChunk??u,trace:{traceId:g,spanId:h},registry:e.__registry,abortSignal:f?.abortSignal??new AbortController().signal}));return i.output=JSON.stringify(a),a}catch(a){throw"object"==typeof a&&(a.traceId=g),a}});return{result:i=(0,l.parseSchema)(i,{schema:a.outputSchema,jsonSchema:a.outputJsonSchema}),telemetry:{traceId:g,spanId:h}}},e.stream=(b,c)=>{let d,f=new ReadableStream({start(a){d=a},pull(){},cancel(){}}),g=e.run(a.inputSchema?a.inputSchema.parse(b):b,{onChunk:a=>{d.enqueue(a)},context:{...e.__registry?.context,...c?.context??(0,k.getContext)()},abortSignal:c?.abortSignal,telemetryLabels:c?.telemetryLabels}).then(a=>a.result).finally(()=>{d.close()});return{output:g,stream:async function*(){let a=f.getReader();for(;;){let b=await a.read();if(b.value&&(yield b.value),b.done)break}return await g}()}},a.use)?o(e,a.use):e}function q(a){return"function"==typeof a&&"__action"in a}function r(a,b,c){if(y())throw Error("Cannot define new actions at runtime.\nSee: https://github.com/firebase/genkit/blob/main/docs/errors/no_new_actions_at_runtime.md");let d=p(b,async(b,d)=>(await a.initializeAllPlugins(),await z(()=>c(b,d))));return d.__action.actionType=b.actionType,a.registerAction(b.actionType,d),d}function s(a,b,c,d,e){let f="string"==typeof c?c:`${c.pluginId}/${c.actionId}`,g=(0,j.lazy)(()=>d.then(c=>{let d=p(c,async(b,d)=>(await a.initializeAllPlugins(),await z(()=>c.fn(b,d))));return d.__action.actionType=b,e?.(d),d}));return a.registerActionAsync(b,f,g),g}let t="core.action.streamingCallback",u=()=>null;function v(a,b){return(0,i.getAsyncContext)().run(t,a||u,b)}function w(){let a=(0,i.getAsyncContext)().getStore(t);if(a!==u)return a}let x="core.action.runtimeContext";function y(){return"runtime"===(0,i.getAsyncContext)().getStore(x)}function z(a){return(0,i.getAsyncContext)().run(x,"runtime",a)}function A(a){return(0,i.getAsyncContext)().run(x,"outside",a)}},24317:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{DEFAULT_FORMATS:()=>r,configureFormats:()=>s,defineFormat:()=>n,injectInstructions:()=>q,resolveFormat:()=>o,resolveInstructions:()=>p}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(76426),j=c(8104),k=c(23221),l=c(77283),m=c(4066);function n(a,b,c){let{name:d,...e}=b,f={config:e,handler:c};return a.registerValue("format",d,f),f}async function o(a,b){if(b){if((b.jsonSchema||b.schema)&&!b.format)return a.lookupValue("format","json");if(b.format)return a.lookupValue("format",b.format)}}function p(a,b,c){return"string"==typeof c?c:!1===c?void 0:a?a.handler(b).instructions:void 0}function q(a,b){if(!b||a.find(a=>a.content.find(a=>a.metadata?.purpose==="output"&&!a.metadata?.pending)))return a;let c={text:b,metadata:{purpose:"output"}},d=a.findIndex(a=>"system"===a.role);if(d<0&&(d=a.map(a=>a.role).lastIndexOf("user")),d<0)return a;let e={...a[d],content:[...a[d].content]},f=e.content.findIndex(a=>a.metadata?.purpose==="output"&&a.metadata?.pending);f>0?e.content.splice(f,1,c):e.content.push(c);let g=[...a];return g.splice(d,1,e),g}let r=[k.jsonFormatter,i.arrayFormatter,m.textFormatter,j.enumFormatter,l.jsonlFormatter];function s(a){for(let b of r)n(a,{name:b.name,...b.config},b.handler)}},24321:(a,b,c)=>{"use strict";c.d(b,{M:()=>e,o:()=>f});var d=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),e=function(a){function b(c){var d=a.call(this,c)||this;return Object.setPrototypeOf(d,b.prototype),d}return d(b,a),b}(Error);function f(a,b){var c;return Promise.race([a,new Promise(function(a,d){c=setTimeout(function(){d(new e("Operation timed out."))},b)})]).then(function(a){return clearTimeout(c),a},function(a){throw clearTimeout(c),a})}},24346:(a,b,c)=>{"use strict";let d=/\s+/g;class e{constructor(a,b){if(b=g(b),a instanceof e)if(!!b.loose===a.loose&&!!b.includePrerelease===a.includePrerelease)return a;else return new e(a.raw,b);if(a instanceof h)return this.raw=a.value,this.set=[[a]],this.formatted=void 0,this;if(this.options=b,this.loose=!!b.loose,this.includePrerelease=!!b.includePrerelease,this.raw=a.trim().replace(d," "),this.set=this.raw.split("||").map(a=>this.parseRange(a.trim())).filter(a=>a.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let a=this.set[0];if(this.set=this.set.filter(a=>!r(a[0])),0===this.set.length)this.set=[a];else if(this.set.length>1){for(let a of this.set)if(1===a.length&&s(a[0])){this.set=[a];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let a=0;a<this.set.length;a++){a>0&&(this.formatted+="||");let b=this.set[a];for(let a=0;a<b.length;a++)a>0&&(this.formatted+=" "),this.formatted+=b[a].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(a){let b=((this.options.includePrerelease&&p)|(this.options.loose&&q))+":"+a,c=f.get(b);if(c)return c;let d=this.options.loose,e=d?k[l.HYPHENRANGELOOSE]:k[l.HYPHENRANGE];i("hyphen replace",a=a.replace(e,E(this.options.includePrerelease))),i("comparator trim",a=a.replace(k[l.COMPARATORTRIM],m)),i("tilde trim",a=a.replace(k[l.TILDETRIM],n)),i("caret trim",a=a.replace(k[l.CARETTRIM],o));let g=a.split(" ").map(a=>u(a,this.options)).join(" ").split(/\s+/).map(a=>D(a,this.options));d&&(g=g.filter(a=>(i("loose invalid filter",a,this.options),!!a.match(k[l.COMPARATORLOOSE])))),i("range list",g);let j=new Map;for(let a of g.map(a=>new h(a,this.options))){if(r(a))return[a];j.set(a.value,a)}j.size>1&&j.has("")&&j.delete("");let s=[...j.values()];return f.set(b,s),s}intersects(a,b){if(!(a instanceof e))throw TypeError("a Range is required");return this.set.some(c=>t(c,b)&&a.set.some(a=>t(a,b)&&c.every(c=>a.every(a=>c.intersects(a,b)))))}test(a){if(!a)return!1;if("string"==typeof a)try{a=new j(a,this.options)}catch(a){return!1}for(let b=0;b<this.set.length;b++)if(F(this.set[b],a,this.options))return!0;return!1}}a.exports=e;let f=new(c(92869)),g=c(47586),h=c(50403),i=c(50627),j=c(78871),{safeRe:k,t:l,comparatorTrimReplace:m,tildeTrimReplace:n,caretTrimReplace:o}=c(62710),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:q}=c(45053),r=a=>"<0.0.0-0"===a.value,s=a=>""===a.value,t=(a,b)=>{let c=!0,d=a.slice(),e=d.pop();for(;c&&d.length;)c=d.every(a=>e.intersects(a,b)),e=d.pop();return c},u=(a,b)=>(i("comp",a=a.replace(k[l.BUILD],""),b),i("caret",a=y(a,b)),i("tildes",a=w(a,b)),i("xrange",a=A(a,b)),i("stars",a=C(a,b)),a),v=a=>!a||"x"===a.toLowerCase()||"*"===a,w=(a,b)=>a.trim().split(/\s+/).map(a=>x(a,b)).join(" "),x=(a,b)=>{let c=b.loose?k[l.TILDELOOSE]:k[l.TILDE];return a.replace(c,(b,c,d,e,f)=>{let g;return i("tilde",a,b,c,d,e,f),v(c)?g="":v(d)?g=`>=${c}.0.0 <${+c+1}.0.0-0`:v(e)?g=`>=${c}.${d}.0 <${c}.${+d+1}.0-0`:f?(i("replaceTilde pr",f),g=`>=${c}.${d}.${e}-${f} <${c}.${+d+1}.0-0`):g=`>=${c}.${d}.${e} <${c}.${+d+1}.0-0`,i("tilde return",g),g})},y=(a,b)=>a.trim().split(/\s+/).map(a=>z(a,b)).join(" "),z=(a,b)=>{i("caret",a,b);let c=b.loose?k[l.CARETLOOSE]:k[l.CARET],d=b.includePrerelease?"-0":"";return a.replace(c,(b,c,e,f,g)=>{let h;return i("caret",a,b,c,e,f,g),v(c)?h="":v(e)?h=`>=${c}.0.0${d} <${+c+1}.0.0-0`:v(f)?h="0"===c?`>=${c}.${e}.0${d} <${c}.${+e+1}.0-0`:`>=${c}.${e}.0${d} <${+c+1}.0.0-0`:g?(i("replaceCaret pr",g),h="0"===c?"0"===e?`>=${c}.${e}.${f}-${g} <${c}.${e}.${+f+1}-0`:`>=${c}.${e}.${f}-${g} <${c}.${+e+1}.0-0`:`>=${c}.${e}.${f}-${g} <${+c+1}.0.0-0`):(i("no pr"),h="0"===c?"0"===e?`>=${c}.${e}.${f}${d} <${c}.${e}.${+f+1}-0`:`>=${c}.${e}.${f}${d} <${c}.${+e+1}.0-0`:`>=${c}.${e}.${f} <${+c+1}.0.0-0`),i("caret return",h),h})},A=(a,b)=>(i("replaceXRanges",a,b),a.split(/\s+/).map(a=>B(a,b)).join(" ")),B=(a,b)=>{a=a.trim();let c=b.loose?k[l.XRANGELOOSE]:k[l.XRANGE];return a.replace(c,(c,d,e,f,g,h)=>{i("xRange",a,c,d,e,f,g,h);let j=v(e),k=j||v(f),l=k||v(g);return"="===d&&l&&(d=""),h=b.includePrerelease?"-0":"",j?c=">"===d||"<"===d?"<0.0.0-0":"*":d&&l?(k&&(f=0),g=0,">"===d?(d=">=",k?(e=+e+1,f=0):f=+f+1,g=0):"<="===d&&(d="<",k?e=+e+1:f=+f+1),"<"===d&&(h="-0"),c=`${d+e}.${f}.${g}${h}`):k?c=`>=${e}.0.0${h} <${+e+1}.0.0-0`:l&&(c=`>=${e}.${f}.0${h} <${e}.${+f+1}.0-0`),i("xRange return",c),c})},C=(a,b)=>(i("replaceStars",a,b),a.trim().replace(k[l.STAR],"")),D=(a,b)=>(i("replaceGTE0",a,b),a.trim().replace(k[b.includePrerelease?l.GTE0PRE:l.GTE0],"")),E=a=>(b,c,d,e,f,g,h,i,j,k,l,m)=>(c=v(d)?"":v(e)?`>=${d}.0.0${a?"-0":""}`:v(f)?`>=${d}.${e}.0${a?"-0":""}`:g?`>=${c}`:`>=${c}${a?"-0":""}`,i=v(j)?"":v(k)?`<${+j+1}.0.0-0`:v(l)?`<${j}.${+k+1}.0-0`:m?`<=${j}.${k}.${l}-${m}`:a?`<${j}.${k}.${+l+1}-0`:`<=${i}`,`${c} ${i}`.trim()),F=(a,b,c)=>{for(let c=0;c<a.length;c++)if(!a[c].test(b))return!1;if(b.prerelease.length&&!c.includePrerelease){for(let c=0;c<a.length;c++)if(i(a[c].semver),a[c].semver!==h.ANY&&a[c].semver.prerelease.length>0){let d=a[c].semver;if(d.major===b.major&&d.minor===b.minor&&d.patch===b.patch)return!0}return!1}return!0}},24405:(a,b,c)=>{"use strict";c.d(b,{G:()=>e,P:()=>d});var d=function(){function a(){}return a.prototype.emit=function(a){},a}(),e=new d},24774:(a,b,c)=>{"use strict";c.r(b),c.d(b,{getKeyPairs:()=>h,parseKeyPairsIntoRecord:()=>j,parsePairKeyValue:()=>i,serializeKeyPairs:()=>g});var d=c(11194),e=c(69418),f=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function g(a){return a.reduce(function(a,b){var c=""+a+(""!==a?e.EC:"")+b;return c.length>e.kI?a:c},"")}function h(a){return a.getAllEntries().map(function(a){var b=f(a,2),c=b[0],d=b[1],g=encodeURIComponent(c)+"="+encodeURIComponent(d.value);return void 0!==d.metadata&&(g+=e.hN+d.metadata.toString()),g})}function i(a){var b,c=a.split(e.hN);if(!(c.length<=0)){var f=c.shift();if(f){var g=f.indexOf(e.un);if(!(g<=0)){var h=decodeURIComponent(f.substring(0,g).trim()),i=decodeURIComponent(f.substring(g+1).trim());return c.length>0&&(b=(0,d.B)(c.join(e.hN))),{key:h,value:i,metadata:b}}}}}function j(a){return"string"!=typeof a||0===a.length?{}:a.split(e.EC).map(function(a){return i(a)}).filter(function(a){return void 0!==a&&a.value.length>0}).reduce(function(a,b){return a[b.key]=b.value,a},{})}},24818:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=i(c(69686)),f=i(c(21087)),g=i(c(21820)),h=i(c(81630));function i(a){return a&&a.__esModule?a:{default:a}}b.default=function(){function a(){if(!(this instanceof a))throw TypeError("Cannot call a class as a function")}return d(a,null,[{key:"startsWith",value:function(a,b){return 0===a.indexOf(b)}},{key:"endsWith",value:function(a,b){return a.lastIndexOf(b)===a.length-b.length}},{key:"getRandom64",value:function(){var a=e.default.randomint(),b=this.newBuffer(8);return b.writeUInt32BE(a[0],0),b.writeUInt32BE(a[1],4),b}},{key:"getRandom128",value:function(){var a=e.default.randomint(),b=e.default.randomint(),c=this.newBuffer(16);return c.writeUInt32BE(a[0],0),c.writeUInt32BE(a[1],4),c.writeUInt32BE(b[0],8),c.writeUInt32BE(b[1],12),c}},{key:"encodeInt64",value:function(a){return new f.default(a).toBuffer()}},{key:"removeLeadingZeros",value:function(a){for(var b=0,c=a.length-1,d=0;d<c;d++)if("0"===a.charAt(d))b++;else break;return a.substring(b)}},{key:"myIp",value:function(){var a="0.0.0.0",b=g.default.networkInterfaces(),c=Object.keys(b);c:for(var d=0;d<c.length;d++)for(var e=b[c[d]],f=0;f<e.length;f++)if("IPv4"===e[f].family&&!e[f].internal){a=e[f].address;break c}return a}},{key:"clone",value:function(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b}},{key:"convertObjectToTags",value:function(a){var b=[];for(var c in a){var d=a[c];Object.prototype.hasOwnProperty.call(a,c)&&b.push({key:c,value:d})}return b}},{key:"httpGet",value:function(a,b,c,d,e){h.default.get({host:a,port:b,path:c},function(a){a.setEncoding("utf8");var b="";a.on("data",function(a){b+=a}),a.on("end",function(){d(b)})}).on("error",function(a){e(a)})}},{key:"newBufferFromHex",value:function(a){return Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from(a,"hex"):new Buffer(a,"hex")}},{key:"newBuffer",value:function(a){if(Buffer.alloc)return Buffer.alloc(a);var b=new Buffer(a);return b.fill(0),b}},{key:"countdownCallback",value:function(a,b){var c=0;return function(){++c>=a&&b&&b()}}}]),a}()},24847:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{Registry:()=>i.Registry}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(56280)},25020:(a,b,c)=>{"use strict";var d;c.d(b,{n:()=>d}),function(a){a[a.HISTOGRAM=0]="HISTOGRAM",a[a.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",a[a.GAUGE=2]="GAUGE",a[a.SUM=3]="SUM"}(d||(d={}))},25088:(a,b,c)=>{"use strict";var d=c(75572),e=c(73355),f=c(12412),g=/[_.-](\w|$)/g;function h(a,b){return b.toUpperCase()}a.exports=function(a){f(a,"TypedError: must specify options"),f(a.type,"TypedError: must specify options.type"),f(a.message,"TypedError: must specify options.message"),f((b=a,c="fullType",!Object.prototype.hasOwnProperty.call(b,c)),"TypedError: fullType field is reserved");var b,c,i=a.message;if(a.type&&!a.name){var j=a.type.replace(g,h)+"Error";a.name=j[0].toUpperCase()+j.substr(1)}return e(k,a),k._name=a.name,k;function k(b){var c=Error();Object.defineProperty(c,"type",{value:c.type,enumerable:!0,writable:!0,configurable:!0});var f=e({},a,b);return f.fullType||(f.fullType=f.type),e(c,f),b&&b.message?c.message=d(b.message,f):i&&(c.message=d(i,f)),c}}},25283:(a,b,c)=>{"use strict";var d=c(42218);let e=Symbol("break visit"),f=Symbol("skip children"),g=Symbol("remove node");function h(a,b){let c=l(b);d.isDocument(a)?i(null,a.contents,c,Object.freeze([a]))===g&&(a.contents=null):i(null,a,c,Object.freeze([]))}function i(a,b,c,f){let h=m(a,b,c,f);if(d.isNode(h)||d.isPair(h))return n(a,f,h),i(a,h,c,f);if("symbol"!=typeof h){if(d.isCollection(b)){f=Object.freeze(f.concat(b));for(let a=0;a<b.items.length;++a){let d=i(a,b.items[a],c,f);if("number"==typeof d)a=d-1;else{if(d===e)return e;d===g&&(b.items.splice(a,1),a-=1)}}}else if(d.isPair(b)){f=Object.freeze(f.concat(b));let a=i("key",b.key,c,f);if(a===e)return e;a===g&&(b.key=null);let d=i("value",b.value,c,f);if(d===e)return e;d===g&&(b.value=null)}}return h}async function j(a,b){let c=l(b);d.isDocument(a)?await k(null,a.contents,c,Object.freeze([a]))===g&&(a.contents=null):await k(null,a,c,Object.freeze([]))}async function k(a,b,c,f){let h=await m(a,b,c,f);if(d.isNode(h)||d.isPair(h))return n(a,f,h),k(a,h,c,f);if("symbol"!=typeof h){if(d.isCollection(b)){f=Object.freeze(f.concat(b));for(let a=0;a<b.items.length;++a){let d=await k(a,b.items[a],c,f);if("number"==typeof d)a=d-1;else{if(d===e)return e;d===g&&(b.items.splice(a,1),a-=1)}}}else if(d.isPair(b)){f=Object.freeze(f.concat(b));let a=await k("key",b.key,c,f);if(a===e)return e;a===g&&(b.key=null);let d=await k("value",b.value,c,f);if(d===e)return e;d===g&&(b.value=null)}}return h}function l(a){return"object"==typeof a&&(a.Collection||a.Node||a.Value)?Object.assign({Alias:a.Node,Map:a.Node,Scalar:a.Node,Seq:a.Node},a.Value&&{Map:a.Value,Scalar:a.Value,Seq:a.Value},a.Collection&&{Map:a.Collection,Seq:a.Collection},a):a}function m(a,b,c,e){return"function"==typeof c?c(a,b,e):d.isMap(b)?c.Map?.(a,b,e):d.isSeq(b)?c.Seq?.(a,b,e):d.isPair(b)?c.Pair?.(a,b,e):d.isScalar(b)?c.Scalar?.(a,b,e):d.isAlias(b)?c.Alias?.(a,b,e):void 0}function n(a,b,c){let e=b[b.length-1];if(d.isCollection(e))e.items[a]=c;else if(d.isPair(e))"key"===a?e.key=c:e.value=c;else if(d.isDocument(e))e.contents=c;else{let a=d.isAlias(e)?"alias":"scalar";throw Error(`Cannot replace node with ${a} parent`)}}h.BREAK=e,h.SKIP=f,h.REMOVE=g,j.BREAK=e,j.SKIP=f,j.REMOVE=g,b.visit=h,b.visitAsync=j},25399:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{CustomPartSchema:()=>t,DataPartSchema:()=>s,Document:()=>y,DocumentDataSchema:()=>w,MediaPartSchema:()=>n,MediaSchema:()=>m,PartSchema:()=>v,ReasoningPartSchema:()=>l,ResourcePartSchema:()=>u,TextPartSchema:()=>k,ToolRequestPartSchema:()=>p,ToolRequestSchema:()=>o,ToolResponsePartSchema:()=>r,ToolResponseSchema:()=>q,checkUniqueDocuments:()=>z}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979);let j=i.z.object({text:i.z.never().optional(),media:i.z.never().optional(),toolRequest:i.z.never().optional(),toolResponse:i.z.never().optional(),data:i.z.unknown().optional(),metadata:i.z.record(i.z.unknown()).optional(),custom:i.z.record(i.z.unknown()).optional(),reasoning:i.z.never().optional(),resource:i.z.never().optional()}),k=j.extend({text:i.z.string()}),l=j.extend({reasoning:i.z.string()}),m=i.z.object({contentType:i.z.string().optional(),url:i.z.string()}),n=j.extend({media:m}),o=i.z.object({ref:i.z.string().optional(),name:i.z.string(),input:i.z.unknown().optional()}),p=j.extend({toolRequest:o}),q=i.z.object({ref:i.z.string().optional(),name:i.z.string(),output:i.z.unknown().optional()}),r=j.extend({toolResponse:q}),s=j.extend({data:i.z.unknown()}),t=j.extend({custom:i.z.record(i.z.any())}),u=j.extend({resource:i.z.object({uri:i.z.string()})}),v=i.z.union([k,n]),w=i.z.object({content:i.z.array(v),metadata:i.z.record(i.z.string(),i.z.any()).optional()});function x(a){return void 0===a?a:JSON.parse(JSON.stringify(a))}class y{content;metadata;constructor(a){this.content=x(a.content),this.metadata=x(a.metadata)}static fromText(a,b){return new y({content:[{text:a}],metadata:b})}static fromMedia(a,b,c){return new y({content:[{media:{contentType:b,url:a}}],metadata:c})}static fromData(a,b,c){return"text"===b?this.fromText(a,c):this.fromMedia(a,b,c)}get text(){return this.content.map(a=>a.text||"").join("")}get media(){return this.content.filter(a=>a.media&&!a.text).map(a=>a.media)}get data(){return this.text?this.text:this.media?this.media[0].url:""}get dataType(){return this.text?"text":this.media&&this.media[0].contentType?this.media[0].contentType:void 0}toJSON(){return{content:x(this.content),metadata:x(this.metadata)}}getEmbeddingDocuments(a){let b=[];for(let c of a){let a=this.toJSON();c.metadata&&(a.metadata||(a.metadata={}),a.metadata.embedMetadata=c.metadata),b.push(new y(a))}return z(b),b}}function z(a){let b=new Set;for(let c of a){let a=JSON.stringify(c);if(b.has(a))return console.warn("Warning: embedding documents are not unique. Are you missing embed metadata?"),!1;b.add(a)}return!0}},25479:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getNextCallNumber=function(){return c++};let c=0},25835:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{GenerateResponseChunk:()=>k}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(44175);class k{index;role;content;custom;previousChunks;parser;constructor(a,b){this.content=a.content||[],this.custom=a.custom,this.previousChunks=b.previousChunks?[...b.previousChunks]:void 0,this.index=b.index,this.role=b.role,this.parser=b.parser}get text(){return this.content.map(a=>a.text||"").join("")}get reasoning(){return this.content.map(a=>a.reasoning||"").join("")}get accumulatedText(){return this.previousText+this.text}get previousText(){if(!this.previousChunks)throw new i.GenkitError({status:"FAILED_PRECONDITION",message:"Cannot compose accumulated text without previous chunks."});return this.previousChunks?.map(a=>a.content.map(a=>a.text||"").join("")).join("")}get media(){return this.content.find(a=>a.media)?.media||null}get data(){return this.content.find(a=>a.data)?.data}get toolRequests(){return this.content.filter(a=>!!a.toolRequest)}get output(){return this.parser?this.parser(this):this.data||(0,j.extractJson)(this.accumulatedText)}toJSON(){let a={role:this.role,index:this.index,content:this.content};return this.custom&&(a.custom=this.custom),a}}},26016:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.callRef=b.getValidate=void 0;let d=c(80390),e=c(55832),f=c(38904),g=c(82746),h=c(46226),i=c(46178);function j(a,b){let{gen:c}=a;return b.validate?c.scopeValue("validate",{ref:b.validate}):(0,f._)`${c.scopeValue("wrapper",{ref:b})}.validate`}function k(a,b,c,d){let{gen:h,it:j}=a,{allErrors:k,schemaEnv:l,opts:m}=j,n=m.passContext?g.default.this:f.nil;function o(a){let b=(0,f._)`${a}.errors`;h.assign(g.default.vErrors,(0,f._)`${g.default.vErrors} === null ? ${b} : ${g.default.vErrors}.concat(${b})`),h.assign(g.default.errors,(0,f._)`${g.default.vErrors}.length`)}function p(a){var b;if(!j.opts.unevaluated)return;let d=null==(b=null==c?void 0:c.validate)?void 0:b.evaluated;if(!0!==j.props)if(d&&!d.dynamicProps)void 0!==d.props&&(j.props=i.mergeEvaluated.props(h,d.props,j.props));else{let b=h.var("props",(0,f._)`${a}.evaluated.props`);j.props=i.mergeEvaluated.props(h,b,j.props,f.Name)}if(!0!==j.items)if(d&&!d.dynamicItems)void 0!==d.items&&(j.items=i.mergeEvaluated.items(h,d.items,j.items));else{let b=h.var("items",(0,f._)`${a}.evaluated.items`);j.items=i.mergeEvaluated.items(h,b,j.items,f.Name)}}d?function(){if(!l.$async)throw Error("async schema referenced by sync schema");let c=h.let("valid");h.try(()=>{h.code((0,f._)`await ${(0,e.callValidateCode)(a,b,n)}`),p(b),k||h.assign(c,!0)},a=>{h.if((0,f._)`!(${a} instanceof ${j.ValidationError})`,()=>h.throw(a)),o(a),k||h.assign(c,!1)}),a.ok(c)}():a.result((0,e.callValidateCode)(a,b,n),()=>p(b),()=>o(b))}b.getValidate=j,b.callRef=k,b.default={keyword:"$ref",schemaType:"string",code(a){let{gen:b,schema:c,it:e}=a,{baseId:g,schemaEnv:i,validateName:l,opts:m,self:n}=e,{root:o}=i;if(("#"===c||"#/"===c)&&g===o.baseId){if(i===o)return k(a,l,i,i.$async);let c=b.scopeValue("root",{ref:o});return k(a,(0,f._)`${c}.validate`,o,o.$async)}let p=h.resolveRef.call(n,o,g,c);if(void 0===p)throw new d.default(e.opts.uriResolver,g,c);return p instanceof h.SchemaEnv?function(b){let c=j(a,b);k(a,c,b,b.$async)}(p):function(d){let e=b.scopeValue("schema",!0===m.code.source?{ref:d,code:(0,f.stringify)(d)}:{ref:d}),g=b.name("valid"),h=a.subschema({schema:d,dataTypes:[],schemaPath:f.nil,topSchemaRef:e,errSchemaPath:c},g);a.mergeEvaluated(h),a.ok(g)}(p)}}},26061:(a,b,c)=>{"use strict";c.r(b),c.d(b,{AlwaysOffSampler:()=>aL,AlwaysOnSampler:()=>aM,AnchoredClock:()=>w,BindOnceFuture:()=>bc,CompositePropagator:()=>as,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>ah,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>ag,DEFAULT_ENVIRONMENT:()=>ak,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>ai,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>aj,ExportResultCode:()=>f,ParentBasedSampler:()=>aN,RPCType:()=>i,RandomIdGenerator:()=>X,SDK_INFO:()=>aa,TRACE_PARENT_HEADER:()=>aB,TRACE_STATE_HEADER:()=>aC,TimeoutError:()=>a3,TraceIdRatioBasedSampler:()=>aO,TraceState:()=>aA,TracesSamplerValues:()=>h,VERSION:()=>$,W3CBaggagePropagator:()=>v,W3CTraceContextPropagator:()=>aF,_globalThis:()=>ab,addHrTimes:()=>U,baggageUtils:()=>be,callWithTimeout:()=>a4,deleteRPCMetadata:()=>aI,getEnv:()=>an,getEnvWithoutDefaults:()=>ao,getRPCMetadata:()=>aJ,getTimeOrigin:()=>K,globalErrorHandler:()=>H,hexToBase64:()=>ap,hexToBinary:()=>W,hrTime:()=>L,hrTimeDuration:()=>N,hrTimeToMicroseconds:()=>R,hrTimeToMilliseconds:()=>Q,hrTimeToNanoseconds:()=>P,hrTimeToTimeStamp:()=>O,internal:()=>bf,isAttributeKey:()=>B,isAttributeValue:()=>C,isTimeInput:()=>T,isTimeInputHrTime:()=>S,isTracingSuppressed:()=>o,isUrlIgnored:()=>a7,isWrapped:()=>a8,loggingErrorHandler:()=>E,merge:()=>aX,millisToHrTime:()=>J,otperformance:()=>I,parseEnvironment:()=>am,parseTraceParent:()=>aE,sanitizeAttributes:()=>A,setGlobalErrorHandler:()=>G,setRPCMetadata:()=>aH,suppressTracing:()=>m,timeInputToHrTime:()=>M,unrefTimer:()=>aq,unsuppressTracing:()=>n,urlMatches:()=>a6});var d,e,f,g,h,i,j=c(37002),k=c(76956),l=(0,k.n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function m(a){return a.setValue(l,!0)}function n(a){return a.deleteValue(l)}function o(a){return!0===a.getValue(l)}var p="baggage",q=c(11194),r=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function s(a){return a.reduce(function(a,b){var c=""+a+(""!==a?",":"")+b;return c.length>8192?a:c},"")}function t(a){return a.getAllEntries().map(function(a){var b=r(a,2),c=b[0],d=b[1],e=encodeURIComponent(c)+"="+encodeURIComponent(d.value);return void 0!==d.metadata&&(e+=";"+d.metadata.toString()),e})}function u(a){var b,c=a.split(";");if(!(c.length<=0)){var d=c.shift();if(d){var e=d.indexOf("=");if(!(e<=0)){var f=decodeURIComponent(d.substring(0,e).trim()),g=decodeURIComponent(d.substring(e+1).trim());return c.length>0&&(b=(0,q.B)(c.join(";"))),{key:f,value:g,metadata:b}}}}}var v=function(){function a(){}return a.prototype.inject=function(a,b,c){var d=j.$.getBaggage(a);if(!(!d||o(a))){var e=s(t(d).filter(function(a){return a.length<=4096}).slice(0,180));e.length>0&&c.set(b,p,e)}},a.prototype.extract=function(a,b,c){var d=c.get(b,p),e=Array.isArray(d)?d.join(","):d;if(!e)return a;var f={};return 0===e.length||(e.split(",").forEach(function(a){var b=u(a);if(b){var c={value:b.value};b.metadata&&(c.metadata=b.metadata),f[b.key]=c}}),0===Object.entries(f).length)?a:j.$.setBaggage(a,j.$.createBaggage(f))},a.prototype.fields=function(){return[p]},a}(),w=function(){function a(a,b){this._monotonicClock=b,this._epochMillis=a.now(),this._performanceMillis=b.now()}return a.prototype.now=function(){var a=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+a},a}(),x=c(79361),y=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},z=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function A(a){var b,c,d={};if("object"!=typeof a||null==a)return d;try{for(var e=y(Object.entries(a)),f=e.next();!f.done;f=e.next()){var g=z(f.value,2),h=g[0],i=g[1];if(!B(h)){x.s.warn("Invalid attribute key: "+h);continue}if(!C(i)){x.s.warn("Invalid attribute value set for key: "+h);continue}Array.isArray(i)?d[h]=i.slice():d[h]=i}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d}function B(a){return"string"==typeof a&&a.length>0}function C(a){return null==a||(Array.isArray(a)?function(a){try{for(var b,c,d,e=y(a),f=e.next();!f.done;f=e.next()){var g=f.value;if(null!=g){if(!d){if(D(g)){d=typeof g;continue}return!1}if(typeof g!==d)return!1}}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return!0}(a):D(a))}function D(a){switch(typeof a){case"number":case"boolean":case"string":return!0}return!1}function E(){return function(a){var b;x.s.error("string"==typeof(b=a)?b:JSON.stringify(function(a){for(var b={},c=a;null!==c;)Object.getOwnPropertyNames(c).forEach(function(a){if(!b[a]){var d=c[a];d&&(b[a]=String(d))}}),c=Object.getPrototypeOf(c);return b}(b)))}}var F=E();function G(a){F=a}function H(a){try{F(a)}catch(a){}}var I=c(74998).performance;function J(a){return[Math.trunc(a/1e3),Math.round(a%1e3*1e6)]}function K(){var a=I.timeOrigin;return"number"!=typeof a&&(a=I.timing&&I.timing.fetchStart),a}function L(a){return U(J(K()),J("number"==typeof a?a:I.now()))}function M(a){if(S(a))return a;if("number"==typeof a)if(a<K())return L(a);else return J(a);if(a instanceof Date)return J(a.getTime());throw TypeError("Invalid input type")}function N(a,b){var c=b[0]-a[0],d=b[1]-a[1];return d<0&&(c-=1,d+=1e9),[c,d]}function O(a){var b=""+"0".repeat(9)+a[1]+"Z",c=b.substring(b.length-9-1);return new Date(1e3*a[0]).toISOString().replace("000Z",c)}function P(a){return 1e9*a[0]+a[1]}function Q(a){return 1e3*a[0]+a[1]/1e6}function R(a){return 1e6*a[0]+a[1]/1e3}function S(a){return Array.isArray(a)&&2===a.length&&"number"==typeof a[0]&&"number"==typeof a[1]}function T(a){return S(a)||"number"==typeof a||a instanceof Date}function U(a,b){var c=[a[0]+b[0],a[1]+b[1]];return c[1]>=1e9&&(c[1]-=1e9,c[0]+=1),c}function V(a){return a>=48&&a<=57?a-48:a>=97&&a<=102?a-87:a-55}function W(a){for(var b=new Uint8Array(a.length/2),c=0,d=0;d<a.length;d+=2){var e=V(a.charCodeAt(d)),f=V(a.charCodeAt(d+1));b[c++]=e<<4|f}return b}!function(a){a[a.SUCCESS=0]="SUCCESS",a[a.FAILED=1]="FAILED"}(f||(f={}));var X=function(){this.generateTraceId=Z(16),this.generateSpanId=Z(8)},Y=Buffer.allocUnsafe(16);function Z(a){return function(){for(var b=0;b<a/4;b++)Y.writeUInt32BE(0x100000000*Math.random()>>>0,4*b);for(var b=0;b<a;b++)if(Y[b]>0)break;else b===a-1&&(Y[a-1]=1);return Y.toString("hex",0,a)}}var $="1.30.1",_=c(1302),aa=((g={})[_.$L]="opentelemetry",g[_.lb]="node",g[_.Pl]=_.wE,g[_.y$]=$,g),ab="object"==typeof globalThis?globalThis:global,ac=c(38380);!function(a){a.AlwaysOff="always_off",a.AlwaysOn="always_on",a.ParentBasedAlwaysOff="parentbased_always_off",a.ParentBasedAlwaysOn="parentbased_always_on",a.ParentBasedTraceIdRatio="parentbased_traceidratio",a.TraceIdRatio="traceidratio"}(h||(h={}));var ad=["OTEL_SDK_DISABLED"],ae=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"],af=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"],ag=1/0,ah=128,ai=128,aj=128,ak={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:ac.u.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:ag,OTEL_ATTRIBUTE_COUNT_LIMIT:ah,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:ag,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:ah,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:ag,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:ah,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:ai,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:aj,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:h.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]},al={ALL:ac.u.ALL,VERBOSE:ac.u.VERBOSE,DEBUG:ac.u.DEBUG,INFO:ac.u.INFO,WARN:ac.u.WARN,ERROR:ac.u.ERROR,NONE:ac.u.NONE};function am(a){var b={};for(var c in ak)if("OTEL_LOG_LEVEL"===c)!function(a,b,c){var d=c[a];if("string"==typeof d){var e=al[d.toUpperCase()];null!=e&&(b[a]=e)}}(c,b,a);else if(ad.indexOf(c)>-1)!function(a,b,c){if(void 0!==c[a]){var d=String(c[a]);b[a]="true"===d.toLowerCase()}}(c,b,a);else if(ae.indexOf(c)>-1)!function(a,b,c,d,e){if(void 0===d&&(d=-1/0),void 0===e&&(e=1/0),void 0!==c[a]){var f=Number(c[a]);isNaN(f)||(f<d?b[a]=d:f>e?b[a]=e:b[a]=f)}}(c,b,a);else if(af.indexOf(c)>-1)!function(a,b,c,d){void 0===d&&(d=",");var e=c[a];"string"==typeof e&&(b[a]=e.split(d).map(function(a){return a.trim()}))}(c,b,a);else{var d=a[c];null!=d&&(b[c]=String(d))}return b}function an(){return Object.assign({},ak,am(process.env))}function ao(){return am(process.env)}function ap(a){return Buffer.from(W(a)).toString("base64")}function aq(a){a.unref()}var ar=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},as=function(){function a(a){var b;void 0===a&&(a={}),this._propagators=null!=(b=a.propagators)?b:[],this._fields=Array.from(new Set(this._propagators.map(function(a){return"function"==typeof a.fields?a.fields():[]}).reduce(function(a,b){return a.concat(b)},[])))}return a.prototype.inject=function(a,b,c){var d,e;try{for(var f=ar(this._propagators),g=f.next();!g.done;g=f.next()){var h=g.value;try{h.inject(a,b,c)}catch(a){x.s.warn("Failed to inject with "+h.constructor.name+". Err: "+a.message)}}}catch(a){d={error:a}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(d)throw d.error}}},a.prototype.extract=function(a,b,c){return this._propagators.reduce(function(a,d){try{return d.extract(a,b,c)}catch(a){x.s.warn("Failed to extract with "+d.constructor.name+". Err: "+a.message)}return a},a)},a.prototype.fields=function(){return this._fields.slice()},a}(),at=c(88018),au=c(58746),av=c(54616),aw="[_0-9a-z-*/]",ax=RegExp("^(?:[a-z]"+aw+"{0,255}|"+("[a-z0-9]"+aw+"{0,240}@[a-z]")+aw+"{0,13})$"),ay=/^[ -~]{0,255}[!-~]$/,az=/,|=/,aA=function(){function a(a){this._internalState=new Map,a&&this._parse(a)}return a.prototype.set=function(a,b){var c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c},a.prototype.unset=function(a){var b=this._clone();return b._internalState.delete(a),b},a.prototype.get=function(a){return this._internalState.get(a)},a.prototype.serialize=function(){var a=this;return this._keys().reduce(function(b,c){return b.push(c+"="+a.get(c)),b},[]).join(",")},a.prototype._parse=function(a){!(a.length>512)&&(this._internalState=a.split(",").reverse().reduce(function(a,b){var c=b.trim(),d=c.indexOf("=");if(-1!==d){var e=c.slice(0,d),f=c.slice(d+1,b.length);ax.test(e)&&ay.test(f)&&!az.test(f)&&a.set(e,f)}return a},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},a.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},a.prototype._clone=function(){var b=new a;return b._internalState=new Map(this._internalState),b},a}(),aB="traceparent",aC="tracestate",aD=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function aE(a){var b=aD.exec(a);return!b||"00"===b[1]&&b[5]?null:{traceId:b[2],spanId:b[3],traceFlags:parseInt(b[4],16)}}var aF=function(){function a(){}return a.prototype.inject=function(a,b,c){var d=at.u.getSpanContext(a);if(!(!d||o(a))&&(0,au.YA)(d)){var e="00-"+d.traceId+"-"+d.spanId+"-0"+Number(d.traceFlags||av.X.NONE).toString(16);c.set(b,aB,e),d.traceState&&c.set(b,aC,d.traceState.serialize())}},a.prototype.extract=function(a,b,c){var d=c.get(b,aB);if(!d)return a;var e=Array.isArray(d)?d[0]:d;if("string"!=typeof e)return a;var f=aE(e);if(!f)return a;f.isRemote=!0;var g=c.get(b,aC);if(g){var h=Array.isArray(g)?g.join(","):g;f.traceState=new aA("string"==typeof h?h:void 0)}return at.u.setSpanContext(a,f)},a.prototype.fields=function(){return[aB,aC]},a}(),aG=(0,k.n)("OpenTelemetry SDK Context Key RPC_METADATA");function aH(a,b){return a.setValue(aG,b)}function aI(a){return a.deleteValue(aG)}function aJ(a){return a.getValue(aG)}(i||(i={})).HTTP="http";var aK=c(37425),aL=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:aK.i.NOT_RECORD}},a.prototype.toString=function(){return"AlwaysOffSampler"},a}(),aM=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:aK.i.RECORD_AND_SAMPLED}},a.prototype.toString=function(){return"AlwaysOnSampler"},a}(),aN=function(){function a(a){var b,c,d,e;this._root=a.root,this._root||(H(Error("ParentBasedSampler must have a root sampler configured")),this._root=new aM),this._remoteParentSampled=null!=(b=a.remoteParentSampled)?b:new aM,this._remoteParentNotSampled=null!=(c=a.remoteParentNotSampled)?c:new aL,this._localParentSampled=null!=(d=a.localParentSampled)?d:new aM,this._localParentNotSampled=null!=(e=a.localParentNotSampled)?e:new aL}return a.prototype.shouldSample=function(a,b,c,d,e,f){var g=at.u.getSpanContext(a);return g&&(0,au.YA)(g)?g.isRemote?g.traceFlags&av.X.SAMPLED?this._remoteParentSampled.shouldSample(a,b,c,d,e,f):this._remoteParentNotSampled.shouldSample(a,b,c,d,e,f):g.traceFlags&av.X.SAMPLED?this._localParentSampled.shouldSample(a,b,c,d,e,f):this._localParentNotSampled.shouldSample(a,b,c,d,e,f):this._root.shouldSample(a,b,c,d,e,f)},a.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},a}(),aO=function(){function a(a){void 0===a&&(a=0),this._ratio=a,this._ratio=this._normalize(a),this._upperBound=Math.floor(0xffffffff*this._ratio)}return a.prototype.shouldSample=function(a,b){return{decision:(0,au.hX)(b)&&this._accumulate(b)<this._upperBound?aK.i.RECORD_AND_SAMPLED:aK.i.NOT_RECORD}},a.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},a.prototype._normalize=function(a){return"number"!=typeof a||isNaN(a)?0:a>=1?1:a<=0?0:a},a.prototype._accumulate=function(a){for(var b=0,c=0;c<a.length/8;c++){var d=8*c;b=(b^parseInt(a.slice(d,d+8),16))>>>0}return b},a}(),aP=Function.prototype.toString,aQ=aP.call(Object),aR=(d=Object.getPrototypeOf,e=Object,function(a){return d(e(a))}),aS=Object.prototype,aT=aS.hasOwnProperty,aU=Symbol?Symbol.toStringTag:void 0,aV=aS.toString;function aW(a){if(null==(b=a)||"object"!=typeof b||"[object Object]"!==(null==(c=a)?void 0===c?"[object Undefined]":"[object Null]":aU&&aU in Object(c)?function(a){var b=aT.call(a,aU),c=a[aU],d=!1;try{a[aU]=void 0,d=!0}catch(a){}var e=aV.call(a);return d&&(b?a[aU]=c:delete a[aU]),e}(c):(d=c,aV.call(d))))return!1;var b,c,d,e=aR(a);if(null===e)return!0;var f=aT.call(e,"constructor")&&e.constructor;return"function"==typeof f&&f instanceof f&&aP.call(f)===aQ}function aX(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=a.shift(),d=new WeakMap;a.length>0;)c=function a(b,c,d,e){if(void 0===d&&(d=0),!(d>20)){if(d++,a1(b)||a1(c)||a_(c))h=aY(c);else if(a$(b)){if(h=b.slice(),a$(c))for(var f,g,h,i=0,j=c.length;i<j;i++)h.push(aY(c[i]));else if(a0(c))for(var k=Object.keys(c),i=0,j=k.length;i<j;i++){var l=k[i];h[l]=aY(c[l])}}else if(a0(b))if(a0(c)){if(f=b,g=c,!(aW(f)&&aW(g)))return c;h=Object.assign({},b);for(var k=Object.keys(c),i=0,j=k.length;i<j;i++){var l=k[i],m=c[l];if(a1(m))void 0===m?delete h[l]:h[l]=m;else{var n=h[l];if(aZ(b,l,e)||aZ(c,l,e))delete h[l];else{if(a0(n)&&a0(m)){var o=e.get(n)||[],p=e.get(m)||[];o.push({obj:b,key:l}),p.push({obj:c,key:l}),e.set(n,o),e.set(m,p)}h[l]=a(h[l],m,d,e)}}}}else h=c;return h}}(c,a.shift(),0,d);return c}function aY(a){return a$(a)?a.slice():a}function aZ(a,b,c){for(var d=c.get(a[b])||[],e=0,f=d.length;e<f;e++){var g=d[e];if(g.key===b&&g.obj===a)return!0}return!1}function a$(a){return Array.isArray(a)}function a_(a){return"function"==typeof a}function a0(a){return!a1(a)&&!a$(a)&&!a_(a)&&"object"==typeof a}function a1(a){return"string"==typeof a||"number"==typeof a||"boolean"==typeof a||void 0===a||a instanceof Date||a instanceof RegExp||null===a}var a2=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),a3=function(a){function b(c){var d=a.call(this,c)||this;return Object.setPrototypeOf(d,b.prototype),d}return a2(b,a),b}(Error);function a4(a,b){var c;return Promise.race([a,new Promise(function(a,d){c=setTimeout(function(){d(new a3("Operation timed out."))},b)})]).then(function(a){return clearTimeout(c),a},function(a){throw clearTimeout(c),a})}var a5=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};function a6(a,b){return"string"==typeof b?a===b:!!a.match(b)}function a7(a,b){var c,d;if(!b)return!1;try{for(var e=a5(b),f=e.next();!f.done;f=e.next()){var g=f.value;if(a6(a,g))return!0}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}return!1}function a8(a){return"function"==typeof a&&"function"==typeof a.__original&&"function"==typeof a.__unwrap&&!0===a.__wrapped}var a9=function(){function a(){var a=this;this._promise=new Promise(function(b,c){a._resolve=b,a._reject=c})}return Object.defineProperty(a.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),a.prototype.resolve=function(a){this._resolve(a)},a.prototype.reject=function(a){this._reject(a)},a}(),ba=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},bb=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},bc=function(){function a(a,b){this._callback=a,this._that=b,this._isCalled=!1,this._deferred=new a9}return Object.defineProperty(a.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),a.prototype.call=function(){for(var a,b=this,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((a=this._callback).call.apply(a,bb([this._that],ba(c),!1))).then(function(a){return b._deferred.resolve(a)},function(a){return b._deferred.reject(a)})}catch(a){this._deferred.reject(a)}}return this._deferred.promise},a}(),bd=c(20531),be={getKeyPairs:t,serializeKeyPairs:s,parseKeyPairsIntoRecord:function(a){return"string"!=typeof a||0===a.length?{}:a.split(",").map(function(a){return u(a)}).filter(function(a){return void 0!==a&&a.value.length>0}).reduce(function(a,b){return a[b.key]=b.value,a},{})},parsePairKeyValue:u},bf={_export:function(a,b){return new Promise(function(c){bd._.with(m(bd._.active()),function(){a.export(b,function(a){c(a)})})})}}},26083:(a,b,c)=>{"use strict";c.d(b,{D:()=>f});var d=c(79361),e=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}};function f(){var a,b,c,f;return a=this,b=void 0,c=void 0,f=function(){return e(this,function(a){return d.s.debug("could not read machine-id: unsupported platform"),[2,""]})},new(c||(c=Promise))(function(d,e){function g(a){try{i(f.next(a))}catch(a){e(a)}}function h(a){try{i(f.throw(a))}catch(a){e(a)}}function i(a){var b;a.done?d(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((f=f.apply(a,b||[])).next())})}},26220:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b,c)=>{let e=new d(a,c),f=new d(b,c);return e.compare(f)||e.compareBuild(f)}},26469:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OTLPTraceExporter=void 0;let d=c(41625),e=c(95104),f=c(46727),g=c(21370),h={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${g.VERSION}`};class i extends e.OTLPGRPCExporterNodeBase{constructor(a={}){super(a,Object.assign(Object.assign({},h),d.baggageUtils.parseKeyPairsIntoRecord((0,d.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export",f.ProtobufTraceSerializer)}getDefaultUrl(a){return(0,e.validateAndNormalizeUrl)(this.getUrlFromConfig(a))}getUrlFromConfig(a){return"string"==typeof a.url?a.url:(0,d.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT||(0,d.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT||e.DEFAULT_COLLECTOR_URL}}b.OTLPTraceExporter=i},26850:function(a,b,c){"use strict";let d;var e,f=this&&this.__runInitializers||function(a,b,c){for(var d=arguments.length>2,e=0;e<b.length;e++)c=d?b[e].call(a,c):b[e].call(a);return d?c:void 0},g=this&&this.__esDecorate||function(a,b,c,d,e,f){function g(a){if(void 0!==a&&"function"!=typeof a)throw TypeError("Function expected");return a}for(var h,i=d.kind,j="getter"===i?"get":"setter"===i?"set":"value",k=!b&&a?d.static?a:a.prototype:null,l=b||(k?Object.getOwnPropertyDescriptor(k,d.name):{}),m=!1,n=c.length-1;n>=0;n--){var o={};for(var p in d)o[p]="access"===p?{}:d[p];for(var p in d.access)o.access[p]=d.access[p];o.addInitializer=function(a){if(m)throw TypeError("Cannot add initializers after decoration has completed");f.push(g(a||null))};var q=(0,c[n])("accessor"===i?{get:l.get,set:l.set}:l[j],o);if("accessor"===i){if(void 0===q)continue;if(null===q||"object"!=typeof q)throw TypeError("Object expected");(h=g(q.get))&&(l.get=h),(h=g(q.set))&&(l.set=h),(h=g(q.init))&&e.unshift(h)}else(h=g(q))&&("field"===i?e.unshift(h):l[j]=h)}k&&Object.defineProperty(k,d.name,l),m=!0};Object.defineProperty(b,"__esModule",{value:!0}),b.Server=void 0;let h=c(73496),i=c(28354),j=c(56458),k=c(31539),l=c(65875),m=c(43313),n=c(38702),o=c(41835),p=c(9413),q=c(49682),r=c(53567),{HTTP2_HEADER_PATH:s}=h.constants,t=Buffer.from("max_age");function u(a){n.trace(j.LogVerbosity.DEBUG,"server_call",a)}function v(){}function w(a){return{code:j.Status.UNIMPLEMENTED,details:`The server does not implement the method ${a}`}}async function x(a,b){let c,d;function e(b,c,d,e){if(b)return void a.sendStatus((0,k.serverErrorToStatus)(b,d));a.sendMessage(c,()=>{a.sendStatus({code:j.Status.OK,details:"OK",metadata:null!=d?d:null})})}let f=null;a.start({onReceiveMetadata(b){d=b,a.startRead()},onReceiveMessage(c){if(f)return void a.sendStatus({code:j.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${b.path}`,metadata:null});f=c,a.startRead()},onReceiveHalfClose(){if(!f)return void a.sendStatus({code:j.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${b.path}`,metadata:null});c=new k.ServerWritableStreamImpl(b.path,a,d,f);try{b.func(c,e)}catch(b){a.sendStatus({code:j.Status.UNKNOWN,details:`Server method handler threw error ${b.message}`,metadata:null})}},onCancel(){c&&(c.cancelled=!0,c.emit("cancelled","cancelled"))}})}d=[],e=class{constructor(a){var b,c,e,g,h,i;this.boundPorts=(f(this,d),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=null!=a?a:{},0===this.options["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.channelzTrace=new q.ChannelzTraceStub,this.callTracker=new q.ChannelzCallTrackerStub,this.listenerChildrenTracker=new q.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new q.ChannelzChildrenTrackerStub):(this.channelzTrace=new q.ChannelzTrace,this.callTracker=new q.ChannelzCallTracker,this.listenerChildrenTracker=new q.ChannelzChildrenTracker,this.sessionChildrenTracker=new q.ChannelzChildrenTracker),this.channelzRef=(0,q.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!=(b=this.options["grpc.max_connection_age_ms"])?b:0x7fffffff,this.maxConnectionAgeGraceMs=null!=(c=this.options["grpc.max_connection_age_grace_ms"])?c:0x7fffffff,this.keepaliveTimeMs=null!=(e=this.options["grpc.keepalive_time_ms"])?e:0x7fffffff,this.keepaliveTimeoutMs=null!=(g=this.options["grpc.keepalive_timeout_ms"])?g:2e4,this.sessionIdleTimeout=null!=(h=this.options["grpc.max_connection_idle_ms"])?h:0x7fffffff,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=null!=(i=this.options.interceptors)?i:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(a){var b,c,d;let e,f=this.sessions.get(a),g=a.socket,h=g.remoteAddress?(0,o.stringToSubchannelAddress)(g.remoteAddress,g.remotePort):null,i=g.localAddress?(0,o.stringToSubchannelAddress)(g.localAddress,g.localPort):null;if(a.encrypted){let a=g.getCipher(),c=g.getCertificate(),d=g.getPeerCertificate();e={cipherSuiteStandardName:null!=(b=a.standardName)?b:null,cipherSuiteOtherName:a.standardName?null:a.name,localCertificate:c&&"raw"in c?c.raw:null,remoteCertificate:d&&"raw"in d?d.raw:null}}else e=null;return{remoteAddress:h,localAddress:i,security:e,remoteName:null,streamsStarted:f.streamTracker.callsStarted,streamsSucceeded:f.streamTracker.callsSucceeded,streamsFailed:f.streamTracker.callsFailed,messagesSent:f.messagesSent,messagesReceived:f.messagesReceived,keepAlivesSent:f.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:f.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:f.lastMessageSentTimestamp,lastMessageReceivedTimestamp:f.lastMessageReceivedTimestamp,localFlowControlWindow:null!=(c=a.state.localWindowSize)?c:null,remoteFlowControlWindow:null!=(d=a.state.remoteWindowSize)?d:null}}trace(a){n.trace(j.LogVerbosity.DEBUG,"server","("+this.channelzRef.id+") "+a)}keepaliveTrace(a){n.trace(j.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+a)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(a,b){if(null===a||"object"!=typeof a||null===b||"object"!=typeof b)throw Error("addService() requires two objects as arguments");let c=Object.keys(a);if(0===c.length)throw Error("Cannot add an empty service to a server");c.forEach(c=>{let d,e,f=a[c];d=f.requestStream?f.responseStream?"bidi":"clientStream":f.responseStream?"serverStream":"unary";let g=b[c];if(void 0===g&&"string"==typeof f.originalName&&(g=b[f.originalName]),e=void 0!==g?g.bind(b):function(a,b){let c=w(b);switch(a){case"unary":return(a,b)=>{b(c,null)};case"clientStream":return(a,b)=>{b(c,null)};case"serverStream":return a=>{a.emit("error",c)};case"bidi":return a=>{a.emit("error",c)};default:throw Error(`Invalid handlerType ${a}`)}}(d,c),!1===this.register(f.path,e,f.responseSerialize,f.requestDeserialize,d))throw Error(`Method handler for ${f.path} already provided.`)})}removeService(a){if(null===a||"object"!=typeof a)throw Error("removeService() requires object as argument");Object.keys(a).forEach(b=>{let c=a[b];this.unregister(c.path)})}bind(a,b){throw Error("Not implemented. Use bindAsync() instead")}experimentalRegisterListenerToChannelz(a){return(0,q.registerChannelzSocket)((0,o.subchannelAddressToString)(a),()=>({localAddress:a,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalUnregisterListenerFromChannelz(a){(0,q.unregisterChannelzRef)(a)}createHttp2Server(a){let b;if(a._isSecure()){let c=a._getConstructorOptions(),d=a._getSecureContextOptions(),e=Object.assign(Object.assign(Object.assign(Object.assign({},this.commonServerOptions),c),d),{enableTrace:1===this.options["grpc-node.tls_enable_trace"]}),f=null!==d;this.trace("Initial credentials valid: "+f),(b=h.createSecureServer(e)).prependListener("connection",a=>{f||(this.trace("Dropped connection from "+JSON.stringify(a.address())+" due to unloaded credentials"),a.destroy())}),b.on("secureConnection",a=>{a.on("error",a=>{this.trace("An incoming TLS connection closed with error: "+a.message)})});let g=a=>{if(a){let c=b;try{c.setSecureContext(a)}catch(b){n.log(j.LogVerbosity.ERROR,"Failed to set secure context with error "+b.message),a=null}}f=null!==a,this.trace("Post-update credentials valid: "+f)};a._addWatcher(g),b.on("close",()=>{a._removeWatcher(g)})}else b=h.createServer(this.commonServerOptions);return b.setTimeout(0,v),this._setupHandlers(b,a._getInterceptors()),b}bindOneAddress(a,b){this.trace("Attempting to bind "+(0,o.subchannelAddressToString)(a));let c=this.createHttp2Server(b.credentials);return new Promise((d,e)=>{let f=b=>{this.trace("Failed to bind "+(0,o.subchannelAddressToString)(a)+" with error "+b.message),d({port:"port"in a?a.port:1,error:b.message})};c.once("error",f),c.listen(a,()=>{let a,e=c.address();a="string"==typeof e?{path:e}:{host:e.address,port:e.port};let g=this.experimentalRegisterListenerToChannelz(a);this.listenerChildrenTracker.refChild(g),this.http2Servers.set(c,{channelzRef:g,sessions:new Set,ownsChannelzRef:!0}),b.listeningServers.add(c),this.trace("Successfully bound "+(0,o.subchannelAddressToString)(a)),d({port:"port"in a?a.port:1}),c.removeListener("error",f)})})}async bindManyPorts(a,b){if(0===a.length)return{count:0,port:0,errors:[]};if((0,o.isTcpSubchannelAddress)(a[0])&&0===a[0].port){let c=await this.bindOneAddress(a[0],b);if(c.error){let d=await this.bindManyPorts(a.slice(1),b);return Object.assign(Object.assign({},d),{errors:[c.error,...d.errors]})}{let d=a.slice(1).map(a=>(0,o.isTcpSubchannelAddress)(a)?{host:a.host,port:c.port}:a),e=[c,...await Promise.all(d.map(a=>this.bindOneAddress(a,b)))];return{count:e.filter(a=>void 0===a.error).length,port:c.port,errors:e.filter(a=>a.error).map(a=>a.error)}}}{let c=await Promise.all(a.map(a=>this.bindOneAddress(a,b)));return{count:c.filter(a=>void 0===a.error).length,port:c[0].port,errors:c.filter(a=>a.error).map(a=>a.error)}}}async bindAddressList(a,b){let c=await this.bindManyPorts(a,b);if(c.count>0)return c.count<a.length&&n.log(j.LogVerbosity.INFO,`WARNING Only ${c.count} addresses added out of total ${a.length} resolved`),c.port;{let b=`No address added out of total ${a.length} resolved`;throw n.log(j.LogVerbosity.ERROR,b),Error(`${b} errors: [${c.errors.join(",")}]`)}}resolvePort(a){return new Promise((b,c)=>{let d=!1;(0,m.createResolver)(a,(e,f,g,h)=>{if(d)return!0;if(d=!0,!e.ok)return c(Error(e.error.details)),!0;let i=[].concat(...e.value.map(a=>a.addresses));return 0===i.length?c(Error(`No addresses resolved for port ${a}`)):b(i),!0},this.options).updateResolution()})}async bindPort(a,b){let c=await this.resolvePort(a);if(b.cancelled)throw this.completeUnbind(b),Error("bindAsync operation cancelled by unbind call");let d=await this.bindAddressList(c,b);if(b.cancelled)throw this.completeUnbind(b),Error("bindAsync operation cancelled by unbind call");return d}normalizePort(a){let b=(0,p.parseUri)(a);if(null===b)throw Error(`Could not parse port "${a}"`);let c=(0,m.mapUriDefaultScheme)(b);if(null===c)throw Error(`Could not get a default scheme for port "${a}"`);return c}bindAsync(a,b,c){if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof a)throw TypeError("port must be a string");if(null===b||!(b instanceof l.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof c)throw TypeError("callback must be a function");this.trace("bindAsync port="+a);let d=this.normalizePort(a),e=(a,b)=>{process.nextTick(()=>c(a,b))},f=this.boundPorts.get((0,p.uriToString)(d));if(f)return b._equals(f.credentials)?(f.cancelled=!1,void(f.completionPromise?f.completionPromise.then(a=>c(null,a),a=>c(a,0)):e(null,f.portNumber))):void e(Error(`${a} already bound with incompatible credentials`),0);f={mapKey:(0,p.uriToString)(d),originalUri:d,completionPromise:null,cancelled:!1,portNumber:0,credentials:b,listeningServers:new Set};let g=(0,p.splitHostPort)(d.path),h=this.bindPort(d,f);f.completionPromise=h,(null==g?void 0:g.port)===0?h.then(a=>{let b={scheme:d.scheme,authority:d.authority,path:(0,p.combineHostPort)({host:g.host,port:a})};f.mapKey=(0,p.uriToString)(b),f.completionPromise=null,f.portNumber=a,this.boundPorts.set(f.mapKey,f),c(null,a)},a=>{c(a,0)}):(this.boundPorts.set(f.mapKey,f),h.then(a=>{f.completionPromise=null,f.portNumber=a,c(null,a)},a=>{c(a,0)}))}registerInjectorToChannelz(){return(0,q.registerChannelzSocket)("injector",()=>({localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalCreateConnectionInjectorWithChannelzRef(a,b,c=!1){if(null===a||!(a instanceof l.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");this.channelzEnabled&&this.listenerChildrenTracker.refChild(b);let d=this.createHttp2Server(a),e=new Set;return this.http2Servers.set(d,{channelzRef:b,sessions:e,ownsChannelzRef:c}),{injectConnection:a=>{d.emit("connection",a)},drain:a=>{var b,c;for(let a of e)this.closeSession(a);null==(c=(b=setTimeout(()=>{for(let a of e)a.destroy(h.constants.NGHTTP2_CANCEL)},a)).unref)||c.call(b)},destroy:()=>{for(let a of(this.closeServer(d),e))this.closeSession(a)}}}createConnectionInjector(a){if(null===a||!(a instanceof l.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");let b=this.registerInjectorToChannelz();return this.experimentalCreateConnectionInjectorWithChannelzRef(a,b,!0)}closeServer(a,b){this.trace("Closing server with address "+JSON.stringify(a.address()));let c=this.http2Servers.get(a);a.close(()=>{c&&c.ownsChannelzRef&&(this.listenerChildrenTracker.unrefChild(c.channelzRef),(0,q.unregisterChannelzRef)(c.channelzRef)),this.http2Servers.delete(a),null==b||b()})}closeSession(a,b){var c;this.trace("Closing session initiated by "+(null==(c=a.socket)?void 0:c.remoteAddress));let d=this.sessions.get(a),e=()=>{d&&(this.sessionChildrenTracker.unrefChild(d.ref),(0,q.unregisterChannelzRef)(d.ref)),null==b||b()};a.closed?queueMicrotask(e):a.close(e)}completeUnbind(a){for(let b of a.listeningServers){let c=this.http2Servers.get(b);if(this.closeServer(b,()=>{a.listeningServers.delete(b)}),c)for(let a of c.sessions)this.closeSession(a)}this.boundPorts.delete(a.mapKey)}unbind(a){this.trace("unbind port="+a);let b=this.normalizePort(a),c=(0,p.splitHostPort)(b.path);if((null==c?void 0:c.port)===0)throw Error("Cannot unbind port 0");let d=this.boundPorts.get((0,p.uriToString)(b));d&&(this.trace("unbinding "+d.mapKey+" originally bound as "+(0,p.uriToString)(d.originalUri)),d.completionPromise?d.cancelled=!0:this.completeUnbind(d))}drain(a,b){var c,d;this.trace("drain port="+a+" graceTimeMs="+b);let e=this.normalizePort(a),f=(0,p.splitHostPort)(e.path);if((null==f?void 0:f.port)===0)throw Error("Cannot drain port 0");let g=this.boundPorts.get((0,p.uriToString)(e));if(!g)return;let i=new Set;for(let a of g.listeningServers){let b=this.http2Servers.get(a);if(b)for(let a of b.sessions)i.add(a),this.closeSession(a,()=>{i.delete(a)})}null==(d=(c=setTimeout(()=>{for(let a of i)a.destroy(h.constants.NGHTTP2_CANCEL)},b)).unref)||d.call(c)}forceShutdown(){for(let a of this.boundPorts.values())a.cancelled=!0;for(let a of(this.boundPorts.clear(),this.http2Servers.keys()))this.closeServer(a);this.sessions.forEach((a,b)=>{this.closeSession(b),b.destroy(h.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,q.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(a,b,c,d,e){return!this.handlers.has(a)&&(this.handlers.set(a,{func:b,serialize:c,deserialize:d,type:e,path:a}),!0)}unregister(a){return this.handlers.delete(a)}start(){if(0===this.http2Servers.size||[...this.http2Servers.keys()].every(a=>!a.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.started=!0}tryShutdown(a){var b;let c=b=>{(0,q.unregisterChannelzRef)(this.channelzRef),a(b)},d=0;function e(){0==--d&&c()}for(let[a,c]of(this.shutdown=!0,this.http2Servers.entries())){d++;let f=c.channelzRef.name;for(let g of(this.trace("Waiting for server "+f+" to close"),this.closeServer(a,()=>{this.trace("Server "+f+" finished closing"),e()}),c.sessions.keys())){d++;let a=null==(b=g.socket)?void 0:b.remoteAddress;this.trace("Waiting for session "+a+" to close"),this.closeSession(g,()=>{this.trace("Session "+a+" finished closing"),e()})}}0===d&&c()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(a,b){let c=b[h.constants.HTTP2_HEADER_CONTENT_TYPE];return"string"==typeof c&&!!c.startsWith("application/grpc")||(a.respond({[h.constants.HTTP2_HEADER_STATUS]:h.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(a){u("Received call to method "+a+" at address "+this.serverAddressString);let b=this.handlers.get(a);return void 0===b?(u("No handler registered for method "+a+". Sending UNIMPLEMENTED status."),null):b}_respondWithError(a,b,c=null){var d,e;let f=Object.assign({"grpc-status":null!=(d=a.code)?d:j.Status.INTERNAL,"grpc-message":a.details,[h.constants.HTTP2_HEADER_STATUS]:h.constants.HTTP_STATUS_OK,[h.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},null==(e=a.metadata)?void 0:e.toHttp2Headers());b.respond(f,{endStream:!0}),this.callTracker.addCallFailed(),null==c||c.streamTracker.addCallFailed()}_channelzHandler(a,b,c){this.onStreamOpened(b);let d=this.sessions.get(b.session);if(this.callTracker.addCallStarted(),null==d||d.streamTracker.addCallStarted(),!this._verifyContentType(b,c)){this.callTracker.addCallFailed(),null==d||d.streamTracker.addCallFailed();return}let e=c[s],f=this._retrieveHandler(e);if(!f)return void this._respondWithError(w(e),b,d);let g=(0,r.getServerInterceptingCall)([...a,...this.interceptors],b,c,{addMessageSent:()=>{d&&(d.messagesSent+=1,d.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{d&&(d.messagesReceived+=1,d.lastMessageReceivedTimestamp=new Date)},onCallEnd:a=>{a.code===j.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:a=>{d&&(a?d.streamTracker.addCallSucceeded():d.streamTracker.addCallFailed())}},f,this.options);this._runHandlerForCall(g,f)||(this.callTracker.addCallFailed(),null==d||d.streamTracker.addCallFailed(),g.sendStatus({code:j.Status.INTERNAL,details:`Unknown handler type: ${f.type}`}))}_streamHandler(a,b,c){if(this.onStreamOpened(b),!0!==this._verifyContentType(b,c))return;let d=c[s],e=this._retrieveHandler(d);if(!e)return void this._respondWithError(w(d),b,null);let f=(0,r.getServerInterceptingCall)([...a,...this.interceptors],b,c,null,e,this.options);this._runHandlerForCall(f,e)||f.sendStatus({code:j.Status.INTERNAL,details:`Unknown handler type: ${e.type}`})}_runHandlerForCall(a,b){let{type:c}=b;if("unary"===c)x(a,b);else if("clientStream"===c){let c;var d,e,f,g,h=a,i=b;function l(a,b,c,d){if(a)return void h.sendStatus((0,k.serverErrorToStatus)(a,c));h.sendMessage(b,()=>{h.sendStatus({code:j.Status.OK,details:"OK",metadata:null!=c?c:null})})}h.start({onReceiveMetadata(a){c=new k.ServerDuplexStreamImpl(i.path,h,a);try{i.func(c,l)}catch(a){h.sendStatus({code:j.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onReceiveMessage(a){c.push(a)},onReceiveHalfClose(){c.push(null)},onCancel(){c&&(c.cancelled=!0,c.emit("cancelled","cancelled"),c.destroy())}})}else if("serverStream"===c){let c,f,g;d=a,e=b,g=null,d.start({onReceiveMetadata(a){f=a,d.startRead()},onReceiveMessage(a){if(g)return void d.sendStatus({code:j.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});g=a,d.startRead()},onReceiveHalfClose(){if(!g)return void d.sendStatus({code:j.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});c=new k.ServerWritableStreamImpl(e.path,d,f,g);try{e.func(c)}catch(a){d.sendStatus({code:j.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onCancel(){c&&(c.cancelled=!0,c.emit("cancelled","cancelled"),c.destroy())}})}else{let d;if("bidi"!==c)return!1;f=a,g=b,f.start({onReceiveMetadata(a){d=new k.ServerDuplexStreamImpl(g.path,f,a);try{g.func(d)}catch(a){f.sendStatus({code:j.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onReceiveMessage(a){d.push(a)},onReceiveHalfClose(){d.push(null)},onCancel(){d&&(d.cancelled=!0,d.emit("cancelled","cancelled"),d.destroy())}})}return!0}_setupHandlers(a,b){if(null===a)return;let c=a.address(),d="null";c&&(d="string"==typeof c?c:c.address+":"+c.port),this.serverAddressString=d;let e=this.channelzEnabled?this._channelzHandler:this._streamHandler,f=this.channelzEnabled?this._channelzSessionHandler(a):this._sessionHandler(a);a.on("stream",e.bind(this,b)),a.on("session",f)}_sessionHandler(a){return b=>{var c,d;let e;null==(c=this.http2Servers.get(a))||c.sessions.add(b);let f=null,g=null,i=null,j=!1,k=this.enableIdleTimeout(b);if(0x7fffffff!==this.maxConnectionAgeMs){let a=this.maxConnectionAgeMs/10,c=Math.random()*a*2-a;null==(d=(f=setTimeout(()=>{var a,c;j=!0,this.trace("Connection dropped by max connection age: "+(null==(a=b.socket)?void 0:a.remoteAddress));try{b.goaway(h.constants.NGHTTP2_NO_ERROR,0x7fffffff,t)}catch(a){b.destroy();return}b.close(),0x7fffffff!==this.maxConnectionAgeGraceMs&&(null==(c=(g=setTimeout(()=>{b.destroy()},this.maxConnectionAgeGraceMs)).unref)||c.call(g))},this.maxConnectionAgeMs+c)).unref)||d.call(f)}let l=()=>{i&&(clearTimeout(i),i=null)},m=()=>!b.destroyed&&this.keepaliveTimeMs<0x7fffffff&&this.keepaliveTimeMs>0,n=()=>{var a;m()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),null==(a=(i=setTimeout(()=>{l(),e()},this.keepaliveTimeMs)).unref)||a.call(i))};e=()=>{var a;if(!m())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let c="";try{b.ping((a,c,d)=>{l(),a?(this.keepaliveTrace("Ping failed with error: "+a.message),j=!0,b.close()):(this.keepaliveTrace("Received ping response"),n())})||(c="Ping returned false")}catch(a){c=(a instanceof Error?a.message:"")||"Unknown error"}if(c){this.keepaliveTrace("Ping send failed: "+c),this.trace("Connection dropped due to ping send error: "+c),j=!0,b.close();return}null==(a=(i=setTimeout(()=>{l(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),j=!0,b.close()},this.keepaliveTimeoutMs)).unref)||a.call(i)},n(),b.on("close",()=>{var c,d;j||this.trace(`Connection dropped by client ${null==(c=b.socket)?void 0:c.remoteAddress}`),f&&clearTimeout(f),g&&clearTimeout(g),l(),null!==k&&(clearTimeout(k.timeout),this.sessionIdleTimeouts.delete(b)),null==(d=this.http2Servers.get(a))||d.sessions.delete(b)})}}_channelzSessionHandler(a){return b=>{var c,d,e,f;let g,i=(0,q.registerChannelzSocket)(null!=(d=null==(c=b.socket)?void 0:c.remoteAddress)?d:"unknown",this.getChannelzSessionInfo.bind(this,b),this.channelzEnabled),j={ref:i,streamTracker:new q.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};null==(e=this.http2Servers.get(a))||e.sessions.add(b),this.sessions.set(b,j);let k=`${b.socket.remoteAddress}:${b.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+k),this.trace("Connection established by client "+k),this.sessionChildrenTracker.refChild(i);let l=null,m=null,n=null,o=!1,p=this.enableIdleTimeout(b);if(0x7fffffff!==this.maxConnectionAgeMs){let a=this.maxConnectionAgeMs/10,c=Math.random()*a*2-a;null==(f=(l=setTimeout(()=>{var a;o=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+k);try{b.goaway(h.constants.NGHTTP2_NO_ERROR,0x7fffffff,t)}catch(a){b.destroy();return}b.close(),0x7fffffff!==this.maxConnectionAgeGraceMs&&(null==(a=(m=setTimeout(()=>{b.destroy()},this.maxConnectionAgeGraceMs)).unref)||a.call(m))},this.maxConnectionAgeMs+c)).unref)||f.call(l)}let r=()=>{n&&(clearTimeout(n),n=null)},s=()=>!b.destroyed&&this.keepaliveTimeMs<0x7fffffff&&this.keepaliveTimeMs>0,u=()=>{var a;s()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),null==(a=(n=setTimeout(()=>{r(),g()},this.keepaliveTimeMs)).unref)||a.call(n))};g=()=>{var a;if(!s())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let c="";try{b.ping((a,c,d)=>{r(),a?(this.keepaliveTrace("Ping failed with error: "+a.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+a.message+" return in "+c),o=!0,b.close()):(this.keepaliveTrace("Received ping response"),u())})||(c="Ping returned false")}catch(a){c=(a instanceof Error?a.message:"")||"Unknown error"}if(c){this.keepaliveTrace("Ping send failed: "+c),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+c),o=!0,b.close();return}j.keepAlivesSent+=1,null==(a=(n=setTimeout(()=>{r(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+k),o=!0,b.close()},this.keepaliveTimeoutMs)).unref)||a.call(n)},u(),b.on("close",()=>{var c;o||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+k),this.sessionChildrenTracker.unrefChild(i),(0,q.unregisterChannelzRef)(i),l&&clearTimeout(l),m&&clearTimeout(m),r(),null!==p&&(clearTimeout(p.timeout),this.sessionIdleTimeouts.delete(b)),null==(c=this.http2Servers.get(a))||c.sessions.delete(b),this.sessions.delete(b)})}}enableIdleTimeout(a){var b,c;if(this.sessionIdleTimeout>=0x7fffffff)return null;let d={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,a),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,a)};null==(c=(b=d.timeout).unref)||c.call(b),this.sessionIdleTimeouts.set(a,d);let{socket:e}=a;return this.trace("Enable idle timeout for "+e.remoteAddress+":"+e.remotePort),d}onIdleTimeout(a,b){let{socket:c}=b,d=a.sessionIdleTimeouts.get(b);void 0!==d&&0===d.activeStreams&&(Date.now()-d.lastIdle>=a.sessionIdleTimeout?(a.trace("Session idle timeout triggered for "+(null==c?void 0:c.remoteAddress)+":"+(null==c?void 0:c.remotePort)+" last idle at "+d.lastIdle),a.closeSession(b)):d.timeout.refresh())}onStreamOpened(a){let b=a.session,c=this.sessionIdleTimeouts.get(b);c&&(c.activeStreams+=1,a.once("close",c.onClose))}onStreamClose(a){var b,c;let d=this.sessionIdleTimeouts.get(a);d&&(d.activeStreams-=1,0===d.activeStreams&&(d.lastIdle=Date.now(),d.timeout.refresh(),this.trace("Session onStreamClose"+(null==(b=a.socket)?void 0:b.remoteAddress)+":"+(null==(c=a.socket)?void 0:c.remotePort)+" at "+d.lastIdle)))}},(()=>{let a="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;g(e,null,[function(a,b){return i.deprecate(a,"Calling start() is no longer necessary. It can be safely omitted.")}],{kind:"method",name:"start",static:!1,private:!1,access:{has:a=>"start"in a,get:a=>a.start},metadata:a},null,d),a&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})})(),b.Server=e},26957:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904),e=d.operators,f={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}};b.default={keyword:Object.keys(f),type:"number",schemaType:"number",$data:!0,error:{message:({keyword:a,schemaCode:b})=>(0,d.str)`must be ${f[a].okStr} ${b}`,params:({keyword:a,schemaCode:b})=>(0,d._)`{comparison: ${f[a].okStr}, limit: ${b}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a;a.fail$data((0,d._)`${c} ${f[b].fail} ${e} || isNaN(${c})`)}}},26981:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseNativeEnumDef=void 0,b.parseNativeEnumDef=function(a){let b=a.values,c=Object.keys(a.values).filter(a=>"number"!=typeof b[b[a]]).map(a=>b[a]),d=Array.from(new Set(c.map(a=>typeof a)));return{type:1===d.length?"string"===d[0]?"string":"number":["string","number"],enum:c}}},27128:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Subchannel=void 0;let d=c(80158),e=c(9251),f=c(38702),g=c(56458),h=c(9413),i=c(41835),j=c(49682),k=c(37381);class l{constructor(a,b,c,f,g){var h;this.channelTarget=a,this.subchannelAddress=b,this.options=c,this.connector=g,this.connectivityState=d.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.dataProducers=new Map,this.subchannelChannel=null;let k={initialDelay:c["grpc.initial_reconnect_backoff_ms"],maxDelay:c["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new e.BackoffTimeout(()=>{this.handleBackoffTimer()},k),this.backoffTimeout.unref(),this.subchannelAddressString=(0,i.subchannelAddressToString)(b),this.keepaliveTime=null!=(h=c["grpc.keepalive_time_ms"])?h:-1,0===c["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.channelzTrace=new j.ChannelzTraceStub,this.callTracker=new j.ChannelzCallTrackerStub,this.childrenTracker=new j.ChannelzChildrenTrackerStub,this.streamTracker=new j.ChannelzCallTrackerStub):(this.channelzTrace=new j.ChannelzTrace,this.callTracker=new j.ChannelzCallTracker,this.childrenTracker=new j.ChannelzChildrenTracker,this.streamTracker=new j.ChannelzCallTracker),this.channelzRef=(0,j.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(c,void 0,2)),this.secureConnector=f._createSecureConnector(a,c)}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(a){f.trace(g.LogVerbosity.DEBUG,"subchannel","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}refTrace(a){f.trace(g.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([d.ConnectivityState.TRANSIENT_FAILURE],d.ConnectivityState.CONNECTING):this.transitionToState([d.ConnectivityState.TRANSIENT_FAILURE],d.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let a=this.options;if(a["grpc.keepalive_time_ms"]){let b=Math.min(this.keepaliveTime,0x7fffffff);a=Object.assign(Object.assign({},a),{"grpc.keepalive_time_ms":b})}this.connector.connect(this.subchannelAddress,this.secureConnector,a).then(a=>{this.transitionToState([d.ConnectivityState.CONNECTING],d.ConnectivityState.READY)?(this.transport=a,this.channelzEnabled&&this.childrenTracker.refChild(a.getChannelzRef()),a.addDisconnectListener(a=>{this.transitionToState([d.ConnectivityState.READY],d.ConnectivityState.IDLE),a&&this.keepaliveTime>0&&(this.keepaliveTime*=2,f.log(g.LogVerbosity.ERROR,`Connection to ${(0,h.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):a.shutdown()},a=>{this.transitionToState([d.ConnectivityState.CONNECTING],d.ConnectivityState.TRANSIENT_FAILURE,`${a}`)})}transitionToState(a,b,c){var e,f;if(-1===a.indexOf(this.connectivityState))return!1;c?this.trace(d.ConnectivityState[this.connectivityState]+" -> "+d.ConnectivityState[b]+' with error "'+c+'"'):this.trace(d.ConnectivityState[this.connectivityState]+" -> "+d.ConnectivityState[b]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+d.ConnectivityState[b]);let g=this.connectivityState;switch(this.connectivityState=b,b){case d.ConnectivityState.READY:this.stopBackoff();break;case d.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case d.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null==(e=this.transport)||e.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case d.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null==(f=this.transport)||f.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${b}`)}for(let a of this.stateListeners)a(this,g,b,this.keepaliveTime,c);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,j.unregisterChannelzRef)(this.channelzRef),this.secureConnector.destroy(),process.nextTick(()=>{this.transitionToState([d.ConnectivityState.CONNECTING,d.ConnectivityState.READY],d.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(a,b,c,d){let e;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),e={onCallEnd:a=>{a.code===g.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):e={},this.transport.createCall(a,b,c,d,e)}startConnecting(){process.nextTick(()=>{this.transitionToState([d.ConnectivityState.IDLE],d.ConnectivityState.CONNECTING)||this.connectivityState!==d.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(a){this.stateListeners.add(a)}removeConnectivityStateListener(a){this.stateListeners.delete(a)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([d.ConnectivityState.TRANSIENT_FAILURE],d.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(a){}removeHealthStateWatcher(a){}getRealSubchannel(){return this}realSubchannelEquals(a){return a.getRealSubchannel()===this}throttleKeepalive(a){a>this.keepaliveTime&&(this.keepaliveTime=a)}getCallCredentials(){return this.secureConnector.getCallCredentials()}getChannel(){return this.subchannelChannel||(this.subchannelChannel=new k.SingleSubchannelChannel(this,this.channelTarget,this.options)),this.subchannelChannel}addDataWatcher(a){throw Error("Not implemented")}getOrCreateDataProducer(a,b){let c=this.dataProducers.get(a);if(c)return c;let d=b(this);return this.dataProducers.set(a,d),d}removeDataProducer(a){this.dataProducers.delete(a)}}b.Subchannel=l},27151:(a,b,c)=>{"use strict";var d=c(89220),e=c(82740),f=d.DoubleBE;function g(a){this.annotations=a}g.prototype.rw=f,g.prototype.name="double",g.prototype.typeid=e.DOUBLE,g.prototype.surface=Number,g.prototype.models="type",a.exports.DoubleRW=f,a.exports.ThriftDouble=g},27263:(a,b,c)=>{"use strict";var d=c(17350),e=c(78207),f=c(32557),g=c(51139),h=c(77750),i=c(85724),j=c(51905);b.schema=[d.map,f.seq,g.string,e.nullTag,h.boolTag,j.intOct,j.int,j.intHex,i.floatNaN,i.floatExp,i.float]},27265:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(15792);d.code='require("ajv/dist/runtime/equal").default',b.default=d},27398:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FilterStackFactory=b.FilterStack=void 0;class c{constructor(a){this.filters=a}sendMetadata(a){let b=a;for(let a=0;a<this.filters.length;a++)b=this.filters[a].sendMetadata(b);return b}receiveMetadata(a){let b=a;for(let a=this.filters.length-1;a>=0;a--)b=this.filters[a].receiveMetadata(b);return b}sendMessage(a){let b=a;for(let a=0;a<this.filters.length;a++)b=this.filters[a].sendMessage(b);return b}receiveMessage(a){let b=a;for(let a=this.filters.length-1;a>=0;a--)b=this.filters[a].receiveMessage(b);return b}receiveTrailers(a){let b=a;for(let a=this.filters.length-1;a>=0;a--)b=this.filters[a].receiveTrailers(b);return b}push(a){this.filters.unshift(...a)}getFilters(){return this.filters}}b.FilterStack=c;class d{constructor(a){this.factories=a}push(a){this.factories.unshift(...a)}clone(){return new d([...this.factories])}createFilter(){return new c(this.factories.map(a=>a.createFilter()))}}b.FilterStackFactory=d},27615:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.durationMessageToDuration=function(a){return{seconds:Number.parseInt(a.seconds),nanos:a.nanos}},b.msToDuration=function(a){return{seconds:a/1e3|0,nanos:a%1e3*1e6|0}},b.durationToMs=function(a){return 1e3*a.seconds+a.nanos/1e6|0},b.isDuration=function(a){return"number"==typeof a.seconds&&"number"==typeof a.nanos},b.isDurationMessage=function(a){return"string"==typeof a.seconds&&"number"==typeof a.nanos},b.parseDuration=function(a){let b=a.match(c);return b?{seconds:Number.parseInt(b[1],10),nanos:b[2]?Number.parseInt(b[2].padEnd(9,"0"),10):0}:null},b.durationToString=function(a){let b;return 0===a.nanos?`${a.seconds}s`:(b=a.nanos%1e6==0?1e6:a.nanos%1e3==0?1e3:1,`${a.seconds}.${a.nanos/b}s`)};let c=/^(\d+)(?:\.(\d+))?s$/},27714:(a,b)=>{"use strict";b.containsNewline=function a(b){if(!b)return null;switch(b.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(b.source.includes("\n"))return!0;if(b.end){for(let a of b.end)if("newline"===a.type)return!0}return!1;case"flow-collection":for(let c of b.items){for(let a of c.start)if("newline"===a.type)return!0;if(c.sep){for(let a of c.sep)if("newline"===a.type)return!0}if(a(c.key)||a(c.value))return!0}return!1;default:return!0}}},27845:(a,b,c)=>{"use strict";c.d(b,{u:()=>d});var d=c(74998).performance},28199:(a,b,c)=>{"use strict";b.__esModule=!0;var d=c(80496),e=void 0;function f(a,b,c){if(d.isArray(a)){for(var e=[],f=0,g=a.length;f<g;f++)e.push(b.wrap(a[f],c));return e}return"boolean"==typeof a||"number"==typeof a?a+"":a}function g(a){this.srcFile=a,this.source=[]}e||((e=function(a,b,c,d){this.src="",d&&this.add(d)}).prototype={add:function(a){d.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){d.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),g.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;b<c;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new e(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof e?a:(a=f(a,this,b),new e(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=this,c=[];Object.keys(a).forEach(function(d){var e=f(a[d],b);"undefined"!==e&&c.push([b.quotedString(d),":",e])});var d=this.generateList(c);return d.prepend("{"),d.add("}"),d},generateList:function(a){for(var b=this.empty(),c=0,d=a.length;c<d;c++)c&&b.add(","),b.add(f(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend("["),b.add("]"),b}},b.default=g,a.exports=b.default},28200:(a,b,c)=>{"use strict";let d,e=c(91645);class f extends Error{constructor(a){super(`${a} is locked`)}}let g={old:new Set,young:new Set},h=a=>new Promise((b,c)=>{let d=e.createServer();d.unref(),d.on("error",c),d.listen(a,()=>{let{port:a}=d.address();d.close(()=>{b(a)})})}),i=function*(a){a&&(yield*a),yield 0};a.exports=async a=>{let b;for(let c of(a&&(b="number"==typeof a.port?[a.port]:a.port),void 0===d&&(d=setInterval(()=>{g.old=g.young,g.young=new Set},15e3)).unref&&d.unref(),i(b)))try{let b=await h({...a,port:c});for(;g.old.has(b)||g.young.has(b);){if(0!==c)throw new f(c);b=await h({...a,port:c})}return g.young.add(b),b}catch(a){if(!["EADDRINUSE","EACCES"].includes(a.code)&&!(a instanceof f))throw a}throw Error("No available ports found")},a.exports.makeRange=(a,b)=>{if(!Number.isInteger(a)||!Number.isInteger(b))throw TypeError("`from` and `to` must be integer numbers");if(a<1024||a>65535)throw RangeError("`from` must be between 1024 and 65535");if(b<1024||b>65536)throw RangeError("`to` must be between 1024 and 65536");if(b<a)throw RangeError("`to` must be greater than or equal to `from`");return function*(a,b){for(let c=a;c<=b;c++)yield c}(a,b)}},28255:(a,b,c)=>{"use strict";b.__esModule=!0;var d=c(80496),e=function(a){return a&&a.__esModule?a:{default:a}}(c(99008));b.default=function(a){a.registerHelper("with",function(a,b){if(2!=arguments.length)throw new e.default("#with requires exactly one argument");d.isFunction(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);var f=b.data;return b.data&&b.ids&&((f=d.createFrame(b.data)).contextPath=d.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:f,blockParams:d.blockParams([a],[f&&f.contextPath])})})},a.exports=b.default},28364:(a,b,c)=>{"use strict";var d;c.d(b,{h:()=>d}),function(a){a[a.DELTA=0]="DELTA",a[a.CUMULATIVE=1]="CUMULATIVE"}(d||(d={}))},28392:(a,b,c)=>{"use strict";c.d(b,{W:()=>i});var d=c(16426),e=c(76673),f=c(60012),g=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function i(a,b){var c,i;return{resourceLogs:(c=a,i=(0,d.Az)(b),Array.from(function(a){var b,c,d=new Map;try{for(var e=g(a),f=e.next();!f.done;f=e.next()){var h=f.value,i=h.resource,j=h.instrumentationScope,k=j.name,l=j.version,m=void 0===l?"":l,n=j.schemaUrl,o=void 0===n?"":n,p=d.get(i);p||(p=new Map,d.set(i,p));var q=k+"@"+m+":"+o,r=p.get(q);r||(r=[],p.set(q,r)),r.push(h)}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d}(c),function(a){var b=h(a,2),c=b[0],d=b[1];return{resource:(0,f.Z)(c),scopeLogs:Array.from(d,function(a){var b=h(a,2)[1];return{scope:(0,e.d1)(b[0].instrumentationScope),logRecords:b.map(function(a){var b,c,d,f,g,h;return b=a,{timeUnixNano:(c=i).encodeHrTime(b.hrTime),observedTimeUnixNano:c.encodeHrTime(b.hrTimeObserved),severityNumber:b.severityNumber,severityText:b.severityText,body:(0,e.Ff)(b.body),attributes:Object.keys(h=b.attributes).map(function(a){return(0,e.EB)(a,h[a])}),droppedAttributesCount:b.droppedAttributesCount,flags:null==(d=b.spanContext)?void 0:d.traceFlags,traceId:c.encodeOptionalSpanContext(null==(f=b.spanContext)?void 0:f.traceId),spanId:c.encodeOptionalSpanContext(null==(g=b.spanContext)?void 0:g.spanId)}}),schemaUrl:b[0].instrumentationScope.schemaUrl}}),schemaUrl:void 0}}))}}},28570:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b)=>d(a,b,!0)},28581:(a,b,c)=>{"use strict";let d=c(24346);a.exports=(a,b)=>{try{return new d(a,b).range||"*"}catch(a){return null}}},28617:(a,b,c)=>{"use strict";c.d(b,{Ft:()=>q,KX:()=>p,Pk:()=>o});var d=c(79551),e=c(81630),f=c(55591),g=c(74075),h=c(27910),i=c(79361),j=c(19136),k=c(66336),l=c(13781),m=c(89162),n=function(){return(n=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function o(a,b,c,k,o){var p,q,r=a.timeoutMillis,s=new d.URL(a.url),t=Number(process.versions.node.split(".")[0]),u=!1,v=setTimeout(function(){clearTimeout(p),u=!0,q.destroyed?o(new l.N("Request Timeout")):t>=14?q.destroy():q.abort()},r),w={hostname:s.hostname,port:s.port,path:s.pathname,method:"POST",headers:n({"Content-Type":c},a.headers),agent:a.agent},x="http:"===s.protocol?e.request:f.request,y=function(c,d){var e,f;void 0===c&&(c=m.J9),void 0===d&&(d=m.Tj),(q=x(w,function(a){var b="";a.on("data",function(a){return b+=a}),a.on("aborted",function(){u&&o(new l.N("Request Timeout"))}),a.on("end",function(){if(!1===u)if(a.statusCode&&a.statusCode<299)i.s.debug("statusCode: "+a.statusCode,b),k(),clearTimeout(v),clearTimeout(p);else if(a.statusCode&&(0,m.$q)(a.statusCode)&&c>0)d=m.Q5*d,p=setTimeout(function(){y(c-1,d)},a.headers["retry-after"]?(0,m.u6)(a.headers["retry-after"]):Math.round(Math.random()*(m.Rr-d)+d));else o(new l.N(a.statusMessage,a.statusCode,b)),clearTimeout(v),clearTimeout(p)})})).on("error",function(a){u?o(new l.N("Request Timeout",a.code)):o(a),clearTimeout(v),clearTimeout(p)}),q.on("abort",function(){u&&o(new l.N("Request Timeout")),clearTimeout(v),clearTimeout(p)}),a.compression===j.U.GZIP?(q.setHeader("Content-Encoding","gzip"),(e=b,(f=new h.Readable).push(e),f.push(null),f).on("error",o).pipe(g.createGzip()).on("error",o).pipe(q)):q.end(Buffer.from(b))};y()}function p(a){if(a.httpAgentOptions&&!1===a.keepAlive)return void i.s.warn("httpAgentOptions is used only when keepAlive is true");if(!1!==a.keepAlive&&a.url)try{var b=new d.URL(a.url);return new("http:"===b.protocol?e.Agent:f.Agent)(n({keepAlive:!0},a.httpAgentOptions))}catch(a){i.s.error("collector exporter failed to create http agent. err: "+a.message);return}}function q(a){return a||(((0,k._)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,k._)().OTEL_EXPORTER_OTLP_COMPRESSION)===j.U.GZIP?j.U.GZIP:j.U.NONE)}},28832:(a,b,c)=>{"use strict";var d=c(42218),e=c(74648),f=c(8408),g=c(54726);function h(a,b){if(d.isSeq(a))for(let c=0;c<a.items.length;++c){let g=a.items[c];if(!d.isPair(g)){if(d.isMap(g)){g.items.length>1&&b("Each pair must have its own sequence indicator");let a=g.items[0]||new e.Pair(new f.Scalar(null));if(g.commentBefore&&(a.key.commentBefore=a.key.commentBefore?`${g.commentBefore}
${a.key.commentBefore}`:g.commentBefore),g.comment){let b=a.value??a.key;b.comment=b.comment?`${g.comment}
${b.comment}`:g.comment}g=a}a.items[c]=d.isPair(g)?g:new e.Pair(g)}}else b("Expected a sequence for this tag");return a}function i(a,b,c){let{replacer:d}=c,f=new g.YAMLSeq(a);f.tag="tag:yaml.org,2002:pairs";let h=0;if(b&&Symbol.iterator in Object(b))for(let a of b){let g,i;if("function"==typeof d&&(a=d.call(b,String(h++),a)),Array.isArray(a))if(2===a.length)g=a[0],i=a[1];else throw TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){let b=Object.keys(a);if(1===b.length)i=a[g=b[0]];else throw TypeError(`Expected tuple with one key, not ${b.length} keys`)}else g=a;f.items.push(e.createPair(g,i,c))}return f}b.createPairs=i,b.pairs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:h,createNode:i},b.resolvePairs=h},29706:(a,b,c)=>{"use strict";Object.create;var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames;Object.getPrototypeOf;var g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{CONTEXT_PREFACE:()=>n,augmentWithContext:()=>p,downloadRequestMedia:()=>k,simulateConstrainedGeneration:()=>q,simulateSystemPrompt:()=>m,validateSupport:()=>l}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(25399),j=c(24317);function k(a){return async(b,d)=>{let{default:e}=await c.e(634).then(c.bind(c,40634));return d({...b,messages:await Promise.all(b.messages.map(async b=>{let c=await Promise.all(b.content.map(async b=>{if(!b.media||!b.media.url.startsWith("http")||a?.filter&&!a?.filter(b))return b;let c=await e(b.media.url,{size:a?.maxBytes});if(200!==c.status)throw Error(`HTTP error downloading media '${b.media.url}': ${await c.text()}`);let d=b.media.contentType||c.headers.get("content-type")||"";return{media:{contentType:d,url:`data:${d};base64,${Buffer.from(await c.arrayBuffer()).toString("base64")}`}}}));return{...b,content:c}}))})}}function l(a){let b=a.supports||{};return async(c,d)=>{function e(b){throw Error(`Model '${a.name}' does not support ${b}. Request: ${JSON.stringify(c,null,2)}`)}return!1===b.media&&c.messages.some(a=>a.content.some(a=>a.media))&&e("media, but media was provided"),!1===b.tools&&c.tools?.length&&e("tool use, but tools were provided"),!1===b.multiturn&&c.messages.length>1&&e(`multiple messages, but ${c.messages.length} were provided`),d()}}function m(a){let b=a?.preface||"SYSTEM INSTRUCTIONS:\n",c=a?.acknowledgement||"Understood.";return(a,d)=>{let e=[...a.messages];for(let d=0;d<e.length;d++)if("system"===a.messages[d].role){let a=e[d].content;e.splice(d,1,{role:"user",content:[{text:b},...a]},{role:"model",content:[{text:c}]});break}return d({...a,messages:e})}}let n="\n\nUse the following information to complete your task:\n\n",o=(a,b,c)=>{let d="- ";return c?.citationKey?d+=`[${a.metadata[c.citationKey]}]: `:c?.citationKey===void 0&&(d+=`[${a.metadata?.ref||a.metadata?.id||b}]: `),d+=a.text+"\n"};function p(a){let b=void 0===a?.preface?n:a.preface,c=a?.itemTemplate||o;return(d,e)=>{if(!d.docs?.length)return e(d);let f=function(a){for(let b=a.length-1;b>=0;b--)if("user"===a[b].role)return a[b]}(d.messages);if(!f)return e(d);let g=f?.content.findIndex(a=>a.metadata?.purpose==="context"),h=g>=0&&f.content[g];if(h&&!h.metadata?.pending)return e(d);let j=`${b||""}`;return d.docs?.forEach((b,d)=>{j+=c(new i.Document(b),d,a)}),j+="\n",g>=0?f.content[g]={...h,text:j,metadata:{purpose:"context"}}:f.content.push({text:j,metadata:{purpose:"context"}}),e(d)}}function q(a){return(b,c)=>{let d;return b.output?.constrained&&b.output?.schema&&(d=(a?.instructionsRenderer??(a=>`Output should be in JSON format and conform to the following schema:

\`\`\`
${JSON.stringify(a)}
\`\`\`
`))(b.output?.schema),b={...b,messages:(0,j.injectInstructions)(b.messages,d),output:{...b.output,constrained:!1,format:void 0,contentType:void 0,schema:void 0}}),c(b)}}},29990:(a,b,c)=>{"use strict";function d(){return"unknown_service:"+process.argv0}c.d(b,{m:()=>d})},30178:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();c(77848),b.default=function(){function a(){if(!(this instanceof a))throw TypeError("Cannot call a class as a function")}return d(a,null,[{key:"invokeCallback",value:function(a,b,c){a&&a(b,c)}},{key:"convertProcessToThrift",value:function(a,b){for(var c=[],d=0;d<b.tags.length;d++){var e=b.tags[d];c.push(new a.Tag(e))}return new a.Process({serviceName:b.serviceName,tags:c})}}]),a}()},30270:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904),e=c(46178),f=c(91984);b.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:a,schemaCode:b})=>(0,d.str)`must NOT have ${"maxLength"===a?"more":"fewer"} than ${b} characters`,params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:g,it:h}=a,i="maxLength"===b?d.operators.GT:d.operators.LT,j=!1===h.opts.unicode?(0,d._)`${c}.length`:(0,d._)`${(0,e.useFunc)(a.gen,f.default)}(${c})`;a.fail$data((0,d._)`${j} ${i} ${g}`)}}},30430:(a,b,c)=>{"use strict";var d=c(8408),e=c(17350),f=c(32557);function g(a){return"bigint"==typeof a||Number.isInteger(a)}let h=({value:a})=>JSON.stringify(a),i=[{identify:a=>"string"==typeof a,default:!0,tag:"tag:yaml.org,2002:str",resolve:a=>a,stringify:h},{identify:a=>null==a,createNode:()=>new d.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:h},{identify:a=>"boolean"==typeof a,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:a=>"true"===a,stringify:h},{identify:g,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(a,b,{intAsBigInt:c})=>c?BigInt(a):parseInt(a,10),stringify:({value:a})=>g(a)?a.toString():JSON.stringify(a)},{identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:a=>parseFloat(a),stringify:h}];b.schema=[e.map,f.seq].concat(i,{default:!0,tag:"",test:/^/,resolve:(a,b)=>(b(`Unresolved plain scalar ${JSON.stringify(a)}`),a)})},30648:(a,b,c)=>{"use strict";c.d(b,{Go:()=>i,Ko:()=>h,U1:()=>g});var d=c(80764),e=c(44080),f=c(28392),g={serializeRequest:function(a){var b=(0,d.s)(a,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(b))},deserializeResponse:function(a){return JSON.parse(new TextDecoder().decode(a))}},h={serializeRequest:function(a){var b=(0,e.K)(a,{useLongBits:!1});return new TextEncoder().encode(JSON.stringify(b))},deserializeResponse:function(a){return JSON.parse(new TextDecoder().decode(a))}},i={serializeRequest:function(a){var b=(0,f.W)(a,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(b))},deserializeResponse:function(a){return JSON.parse(new TextDecoder().decode(a))}}},30762:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CIPHER_SUITES=void 0,b.getDefaultRootsData=function(){return e?(null===f&&(f=d.readFileSync(e)),f):null};let d=c(29021);b.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let e=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,f=null},31033:(a,b,c)=>{"use strict";var d=c(66472),e=c(61710).h,f=c(1134),g=c(35653),h=c(28354).inspect;function i(a){this.buffer=a,this.annotations=[]}Object.defineProperty(i.prototype,"length",{enumerable:!0,get:function(){return this.buffer.length}}),i.prototype.toString=function(a,b,c){var d=this.buffer.toString(a,b,c);return this.annotations.push({kind:"read",name:"string",value:d,encoding:a,start:b,end:c}),d},i.prototype.copy=function(a,b,c,d){var e=this.buffer.copy(a,b,c,d),f=c||0,g=d||f+e;return this.annotations.push({kind:"read",name:"copy",value:this.buffer.slice(f,g),start:f,end:g}),e},i.prototype.slice=function(a,b){var c=this.buffer.slice(a,b);return this.annotations.push({kind:"read",name:"slice",value:c,start:a,end:b}),c},i.prototype.readInt8=function(a,b){var c=this.buffer.readInt8(a,b);return this.annotations.push({kind:"read",name:"Int8",value:c,start:a,end:a+1}),c},i.prototype.readUInt8=function(a,b){var c=this.buffer.readUInt8(a,b);return this.annotations.push({kind:"read",name:"UInt8",value:c,start:a,end:a+1}),c},i.prototype.readUInt16LE=function(a,b){var c=this.buffer.readUInt16LE(a,b);return this.annotations.push({kind:"read",name:"UInt16LE",value:c,start:a,end:a+2}),c},i.prototype.readUInt16BE=function(a,b){var c=this.buffer.readUInt16BE(a,b);return this.annotations.push({kind:"read",name:"UInt16BE",value:c,start:a,end:a+2}),c},i.prototype.readUInt32LE=function(a,b){var c=this.buffer.readUInt32LE(a,b);return this.annotations.push({kind:"read",name:"UInt32LE",value:c,start:a,end:a+4}),c},i.prototype.readUInt32BE=function(a,b){var c=this.buffer.readUInt32BE(a,b);return this.annotations.push({kind:"read",name:"UInt32BE",value:c,start:a,end:a+4}),c},i.prototype.readInt16LE=function(a,b){var c=this.buffer.readInt16LE(a,b);return this.annotations.push({kind:"read",name:"Int16LE",value:c,start:a,end:a+2}),c},i.prototype.readInt16BE=function(a,b){var c=this.buffer.readInt16BE(a,b);return this.annotations.push({kind:"read",name:"Int16BE",value:c,start:a,end:a+2}),c},i.prototype.readInt32LE=function(a,b){var c=this.buffer.readInt32LE(a,b);return this.annotations.push({kind:"read",name:"Int32LE",value:c,start:a,end:a+4}),c},i.prototype.readInt32BE=function(a,b){var c=this.buffer.readInt32BE(a,b);return this.annotations.push({kind:"read",name:"Int32BE",value:c,start:a,end:a+4}),c},i.prototype.readFloatLE=function(a,b){var c=this.buffer.readFloatLE(a,b);return this.annotations.push({kind:"read",name:"FloatLE",value:c,start:a,end:a+4}),c},i.prototype.readFloatBE=function(a,b){var c=this.buffer.readFloatBE(a,b);return this.annotations.push({kind:"read",name:"FloatBE",value:c,start:a,end:a+4}),c},i.prototype.readDoubleLE=function(a,b){var c=this.buffer.readDoubleLE(a,b);return this.annotations.push({kind:"read",name:"DoubleLE",value:c,start:a,end:a+8}),c},i.prototype.readDoubleBE=function(a,b){var c=this.buffer.readDoubleBE(a,b);return this.annotations.push({kind:"read",name:"DoubleBE",value:c,start:a,end:a+8}),c},i.prototype.hexdump=function(a){var b=this;void 0===(a=g(a,{emptyHuman:" ",annotateLine:function(d,f){for(var g=[],i=k;i<=j;i++){var l=b.annotations[i];l&&l.start>=d&&l.start<f&&(a.colored&&(l.color=c[i%c.length]),g.push(l),k=i+1)}return"  "+g.map(function(b){var c=b.name;return"string"==typeof b.value||Buffer.isBuffer(b.value)||(c+="("+h(b.value)+")"),b.color?c=e(c,b.color):b.start===b.end?c+="@"+b.start.toString(16):c+="@["+b.start.toString(16)+","+b.end.toString(16)+"]",a.highlight&&(c=a.highlight(b.start,0,c)),c}).join(" ")}})).boldStart&&(a.boldStart=!0),a.decorateHexen=l,a.decorateHuman=l;var c=a.colors||["magenta","cyan","yellow","green"],i=0,j=0,k=0;return d(this.buffer,a);function l(d,g,h){for(var k=b.annotations[j];k&&d>=k.end;)k=b.annotations[++j],i=(i+1)%c.length;return k&&a.colored&&d>=k.start&&d<k.end&&(h=e(h=f(h),c[i]),d===k.start&&a.boldStart&&(h=e(h,"bold"))),a.highlight&&(h=a.highlight(d,g,h)),h}},a.exports=i},31315:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{backgroundModel:()=>k.backgroundModel,embedder:()=>i.embedder,embedderActionMetadata:()=>i.embedderActionMetadata,evaluator:()=>j.evaluator,genkitPlugin:()=>n,genkitPluginV2:()=>o,indexer:()=>m.indexer,isPluginV2:()=>p,model:()=>k.model,modelActionMetadata:()=>k.modelActionMetadata,reranker:()=>l.reranker,retriever:()=>m.retriever}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(13672),j=c(37719),k=c(95403),l=c(68448),m=c(1998);function n(a,b,c,d){return e=>({name:a,initializer:async()=>{await b(e)},resolver:async(a,b)=>{if(c)return await c(e,a,b)},listActions:async()=>d?await d():[]})}function o(a){return{...a,version:"v2"}}function p(a){return"v2"===a.version}},31365:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.recognizedOptions=void 0,b.channelOptionsEqual=function(a,b){let c=Object.keys(a).sort(),d=Object.keys(b).sort();if(c.length!==d.length)return!1;for(let e=0;e<c.length;e+=1)if(c[e]!==d[e]||a[c[e]]!==b[d[e]])return!1;return!0},b.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0,"grpc-node.retry_max_attempts_limit":!0,"grpc-node.flow_control_window":!0,"grpc.server_call_metric_recording":!0}},31486:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904),e=c(46178),f=c(27265);b.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,d._)`{allowedValues: ${a}}`},code(a){let b,c,{gen:g,data:h,$data:i,schema:j,schemaCode:k,it:l}=a;if(!i&&0===j.length)throw Error("enum must have non-empty array");let m=j.length>=l.opts.loopEnum,n=()=>null!=b?b:b=(0,e.useFunc)(g,f.default);if(m||i)c=g.let("valid"),a.block$data(c,function(){g.assign(c,!1),g.forOf("v",k,a=>g.if((0,d._)`${n()}(${h}, ${a})`,()=>g.assign(c,!0).break()))});else{if(!Array.isArray(j))throw Error("ajv implementation error");let a=g.const("vSchema",k);c=(0,d.or)(...j.map((b,c)=>(function(a,b){let c=j[b];return"object"==typeof c&&null!==c?(0,d._)`${n()}(${h}, ${a}[${b}])`:(0,d._)`${h} === ${c}`})(a,c)))}a.pass(c)}}},31539:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ServerDuplexStreamImpl=b.ServerWritableStreamImpl=b.ServerReadableStreamImpl=b.ServerUnaryCallImpl=void 0,b.serverErrorToStatus=h;let d=c(94735),e=c(27910),f=c(56458),g=c(33604);function h(a,b){var c;let d={code:f.Status.UNKNOWN,details:"message"in a?a.message:"Unknown Error",metadata:null!=(c=null!=b?b:a.metadata)?c:null};return"code"in a&&"number"==typeof a.code&&Number.isInteger(a.code)&&(d.code=a.code,"details"in a&&"string"==typeof a.details&&(d.details=a.details)),d}class i extends d.EventEmitter{constructor(a,b,c,d){super(),this.path=a,this.call=b,this.metadata=c,this.request=d,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}}b.ServerUnaryCallImpl=i;class j extends e.Readable{constructor(a,b,c){super({objectMode:!0}),this.path=a,this.call=b,this.metadata=c,this.cancelled=!1}_read(a){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}}b.ServerReadableStreamImpl=j;class k extends e.Writable{constructor(a,b,c,d){super({objectMode:!0}),this.path=a,this.call=b,this.metadata=c,this.request=d,this.pendingStatus={code:f.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new g.Metadata,this.on("error",a=>{this.pendingStatus=h(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_write(a,b,c){this.call.sendMessage(a,c)}_final(a){var b;a(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:null!=(b=this.pendingStatus.metadata)?b:this.trailingMetadata}))}end(a){return a&&(this.trailingMetadata=a),super.end()}}b.ServerWritableStreamImpl=k;class l extends e.Duplex{constructor(a,b,c){super({objectMode:!0}),this.path=a,this.call=b,this.metadata=c,this.pendingStatus={code:f.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new g.Metadata,this.on("error",a=>{this.pendingStatus=h(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_read(a){this.call.startRead()}_write(a,b,c){this.call.sendMessage(a,c)}_final(a){var b;a(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:null!=(b=this.pendingStatus.metadata)?b:this.trailingMetadata}))}end(a){return a&&(this.trailingMetadata=a),super.end()}}b.ServerDuplexStreamImpl=l},31574:(a,b,c)=>{"use strict";c.r(b),c.d(b,{BRAND:()=>g.qt,DIRTY:()=>e.jm,EMPTY_PATH:()=>e.I3,INVALID:()=>e.uY,NEVER:()=>g.tm,OK:()=>e.OK,ParseStatus:()=>e.MY,Schema:()=>g.Sj,ZodAny:()=>g.Ml,ZodArray:()=>g.n,ZodBigInt:()=>g.Lr,ZodBoolean:()=>g.WF,ZodBranded:()=>g.eN,ZodCatch:()=>g.hw,ZodDate:()=>g.aP,ZodDefault:()=>g.Xi,ZodDiscriminatedUnion:()=>g.jv,ZodEffects:()=>g.k1,ZodEnum:()=>g.Vb,ZodError:()=>h.G,ZodFirstPartyTypeKind:()=>g.kY,ZodFunction:()=>g.CZ,ZodIntersection:()=>g.Jv,ZodIssueCode:()=>h.eq,ZodLazy:()=>g.Ih,ZodLiteral:()=>g.DN,ZodMap:()=>g.Ut,ZodNaN:()=>g.Tq,ZodNativeEnum:()=>g.WM,ZodNever:()=>g.iS,ZodNull:()=>g.PQ,ZodNullable:()=>g.l1,ZodNumber:()=>g.rS,ZodObject:()=>g.bv,ZodOptional:()=>g.Ii,ZodParsedType:()=>f.Zp,ZodPipeline:()=>g._c,ZodPromise:()=>g.$i,ZodReadonly:()=>g.EV,ZodRecord:()=>g.b8,ZodSchema:()=>g.lK,ZodSet:()=>g.Kz,ZodString:()=>g.ND,ZodSymbol:()=>g.K5,ZodTransformer:()=>g.BG,ZodTuple:()=>g.y0,ZodType:()=>g.aR,ZodUndefined:()=>g._Z,ZodUnion:()=>g.fZ,ZodUnknown:()=>g._,ZodVoid:()=>g.a0,addIssueToContext:()=>e.zn,any:()=>g.bz,array:()=>g.YO,bigint:()=>g.o,boolean:()=>g.zM,coerce:()=>g.au,custom:()=>g.Ie,date:()=>g.p6,datetimeRegex:()=>g.fm,defaultErrorMap:()=>d.su,discriminatedUnion:()=>g.gM,effect:()=>g.QZ,enum:()=>g.k5,function:()=>g.fH,getErrorMap:()=>d.$W,getParsedType:()=>f.CR,instanceof:()=>g.Nl,intersection:()=>g.E$,isAborted:()=>e.G4,isAsync:()=>e.xP,isDirty:()=>e.DM,isValid:()=>e.fn,late:()=>g.fn,lazy:()=>g.RZ,literal:()=>g.eu,makeIssue:()=>e.y7,map:()=>g.Tj,nan:()=>g.oi,nativeEnum:()=>g.fc,never:()=>g.Zm,null:()=>g.ch,nullable:()=>g.me,number:()=>g.ai,object:()=>g.Ik,objectUtil:()=>f.o6,oboolean:()=>g.yN,onumber:()=>g.p7,optional:()=>g.lq,ostring:()=>g.Di,pipeline:()=>g.Tk,preprocess:()=>g.vk,promise:()=>g.iv,quotelessJson:()=>h.WI,record:()=>g.g1,set:()=>g.hZ,setErrorMap:()=>d.pJ,strictObject:()=>g.re,string:()=>g.Yj,symbol:()=>g.HR,transformer:()=>g.Gu,tuple:()=>g.PV,undefined:()=>g.Vx,union:()=>g.KC,unknown:()=>g.L5,util:()=>f.ZS,void:()=>g.rI});var d=c(95026),e=c(16578),f=c(70149),g=c(79592),h=c(16800)},31843:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{version:()=>g}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);let g="1.21.0"},31958:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseDef=void 0;let d=c(19518),e=c(65549),f=c(90737),g=c(10715);b.parseDef=function a(b,c,f=!1){let g=c.seen.get(b);if(c.override){let a=c.override?.(b,c,g,f);if(a!==d.ignoreOverride)return a}if(g&&!f){let a=h(g,c);if(void 0!==a)return a}let j={def:b,path:c.currentPath,jsonSchema:void 0};c.seen.set(b,j);let k=(0,e.selectParser)(b,b.typeName,c),l="function"==typeof k?a(k(),c):k;if(l&&i(b,c,l),c.postProcess){let a=c.postProcess(l,b,c);return j.jsonSchema=l,a}return j.jsonSchema=l,l};let h=(a,b)=>{switch(b.$refStrategy){case"root":return{$ref:a.path.join("/")};case"relative":return{$ref:(0,f.getRelativePath)(b.currentPath,a.path)};case"none":case"seen":if(a.path.length<b.currentPath.length&&a.path.every((a,c)=>b.currentPath[c]===a))return console.warn(`Recursive reference detected at ${b.currentPath.join("/")}! Defaulting to any`),(0,g.parseAnyDef)(b);return"seen"===b.$refStrategy?(0,g.parseAnyDef)(b):void 0}},i=(a,b,c)=>(a.description&&(c.description=a.description,b.markdownDescription&&(c.markdownDescription=a.description)),c)},32044:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseRecordDef=void 0;let d=c(62934),e=c(31958),f=c(93416),g=c(83361),h=c(10715);b.parseRecordDef=function(a,b){if("openAi"===b.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===b.target&&a.keyType?._def.typeName===d.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:a.keyType._def.values,properties:a.keyType._def.values.reduce((c,d)=>({...c,[d]:(0,e.parseDef)(a.valueType._def,{...b,currentPath:[...b.currentPath,"properties",d]})??(0,h.parseAnyDef)(b)}),{}),additionalProperties:b.rejectedAdditionalProperties};let c={type:"object",additionalProperties:(0,e.parseDef)(a.valueType._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]})??b.allowedAdditionalProperties};if("openApi3"===b.target)return c;if(a.keyType?._def.typeName===d.ZodFirstPartyTypeKind.ZodString&&a.keyType._def.checks?.length){let{type:d,...e}=(0,f.parseStringDef)(a.keyType._def,b);return{...c,propertyNames:e}}if(a.keyType?._def.typeName===d.ZodFirstPartyTypeKind.ZodEnum)return{...c,propertyNames:{enum:a.keyType._def.values}};if(a.keyType?._def.typeName===d.ZodFirstPartyTypeKind.ZodBranded&&a.keyType._def.type._def.typeName===d.ZodFirstPartyTypeKind.ZodString&&a.keyType._def.type._def.checks?.length){let{type:d,...e}=(0,g.parseBrandedDef)(a.keyType._def,b);return{...c,propertyNames:e}}return c}},32344:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.ValueScope=b.ValueScopeName=b.Scope=b.varKinds=b.UsedValueState=void 0;let e=c(60007);class f extends Error{constructor(a){super(`CodeGen: "code" for ${a} not defined`),this.value=a.value}}!function(a){a[a.Started=0]="Started",a[a.Completed=1]="Completed"}(d||(b.UsedValueState=d={})),b.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class g{constructor({prefixes:a,parent:b}={}){this._names={},this._prefixes=a,this._parent=b}toName(a){return a instanceof e.Name?a:this.name(a)}name(a){return new e.Name(this._newName(a))}_newName(a){let b=this._names[a]||this._nameGroup(a);return`${a}${b.index++}`}_nameGroup(a){var b,c;if((null==(c=null==(b=this._parent)?void 0:b._prefixes)?void 0:c.has(a))||this._prefixes&&!this._prefixes.has(a))throw Error(`CodeGen: prefix "${a}" is not allowed in this scope`);return this._names[a]={prefix:a,index:0}}}b.Scope=g;class h extends e.Name{constructor(a,b){super(b),this.prefix=a}setValue(a,{property:b,itemIndex:c}){this.value=a,this.scopePath=(0,e._)`.${new e.Name(b)}[${c}]`}}b.ValueScopeName=h;let i=(0,e._)`\n`;class j extends g{constructor(a){super(a),this._values={},this._scope=a.scope,this.opts={...a,_n:a.lines?i:e.nil}}get(){return this._scope}name(a){return new h(a,this._newName(a))}value(a,b){var c;if(void 0===b.ref)throw Error("CodeGen: ref must be passed in value");let d=this.toName(a),{prefix:e}=d,f=null!=(c=b.key)?c:b.ref,g=this._values[e];if(g){let a=g.get(f);if(a)return a}else g=this._values[e]=new Map;g.set(f,d);let h=this._scope[e]||(this._scope[e]=[]),i=h.length;return h[i]=b.ref,d.setValue(b,{property:e,itemIndex:i}),d}getValue(a,b){let c=this._values[a];if(c)return c.get(b)}scopeRefs(a,b=this._values){return this._reduceValues(b,b=>{if(void 0===b.scopePath)throw Error(`CodeGen: name "${b}" has no value`);return(0,e._)`${a}${b.scopePath}`})}scopeCode(a=this._values,b,c){return this._reduceValues(a,a=>{if(void 0===a.value)throw Error(`CodeGen: name "${a}" has no value`);return a.value.code},b,c)}_reduceValues(a,c,g={},h){let i=e.nil;for(let j in a){let k=a[j];if(!k)continue;let l=g[j]=g[j]||new Map;k.forEach(a=>{if(l.has(a))return;l.set(a,d.Started);let g=c(a);if(g){let c=this.opts.es5?b.varKinds.var:b.varKinds.const;i=(0,e._)`${i}${c} ${a} = ${g};${this.opts._n}`}else if(g=null==h?void 0:h(a))i=(0,e._)`${i}${g}${this.opts._n}`;else throw new f(a);l.set(a,d.Completed)})}return i}}b.ValueScope=j},32355:(a,b,c)=>{"use strict";var d=c(42218),e=c(25283);function f(a){let b=new Set;return e.visit(a,{Value(a,c){c.anchor&&b.add(c.anchor)}}),b}function g(a,b){for(let c=1;;++c){let d=`${a}${c}`;if(!b.has(d))return d}}b.anchorIsValid=function(a){if(/[\x00-\x19\s,[\]{}]/.test(a)){let b=JSON.stringify(a);throw Error(`Anchor must not contain whitespace or control characters: ${b}`)}return!0},b.anchorNames=f,b.createNodeAnchors=function(a,b){let c=[],e=new Map,h=null;return{onAnchor:d=>{c.push(d),h??(h=f(a));let e=g(b,h);return h.add(e),e},setAnchors:()=>{for(let a of c){let b=e.get(a);if("object"==typeof b&&b.anchor&&(d.isScalar(b.node)||d.isCollection(b.node)))b.node.anchor=b.anchor;else{let b=Error("Failed to resolve repeated object (this should not happen)");throw b.source=a,b}}},sourceObjects:e}},b.findNewAnchor=g},32437:(a,b,c)=>{"use strict";var d=c(25088);a.exports.TypeIdMismatch=d({type:"thrift-typeid-mismatch",message:'encoded {what} typeid {encoded} doesn\'t match expected type "{expected}" (id: {expectedId})',encoded:null,expected:null,expectedId:null,what:null}),a.exports.MapKeyTypeIdMismatch=d({type:"thrift-map-key-typeid-mismatch",message:'encoded map key typeid {encoded} doesn\'t match expected type "{expected}" (id: {expectedId})',encoded:null,expected:null,expectedId:null}),a.exports.MapValTypeIdMismatch=d({type:"thrift-map-val-typeid-mismatch",message:'encoded map value typeid {encoded} doesn\'t match expected type "{expected}" (id: {expectedId})',encoded:null,expected:null,expectedId:null}),a.exports.InvalidSizeError=d({type:"thrift-invalid-size",message:"invalid size {size} of {what}; expects non-negative number",size:null,what:null}),a.exports.InvalidTypeidError=d({type:"thrift-invalid-typeid",message:"invalid typeid {typeid} of {what}; expects one of the values in TYPE",typeid:null,what:null}),a.exports.UnexpectedFieldValueTypeidError=d({type:"thrift-unexpected-field-value-typeid",message:'unexpected typeid {typeid} ({typeName}) for field "{fieldName}" with id {fieldId} on {structName}; expected {expectedTypeid} ({expectedTypeName})',typeid:null,typeName:null,expectedTypeid:null,expectedTypeName:null,fieldName:null,fieldId:null,structName:null}),a.exports.FieldRequiredError=d({type:"thrift-required-field",message:'missing required field "{name}" with id {id} on {structName}',name:null,id:null,structName:null}),a.exports.UnexpectedMapTypeAnnotation=d({type:"thrift-unexpected-map-type-annotation",message:'unexpected map js.type annotation "{mapType}"',mapType:null}),a.exports.InvalidEnumerationTypeError=d({type:"thrift-invalid-enumeration-type",message:"name must be a string for enumeration {enumName}, got: {name} ({nameType})",enumName:null,name:null,nameType:null}),a.exports.InvalidEnumerationNameError=d({type:"thrift-invalid-enumeration-name",message:"name must be a valid member of enumeration {enumName}, got: {name}",enumName:null,name:null}),a.exports.InvalidEnumerationValueError=d({type:"thrift-invalid-enumeration-value",message:"value must be a valid member of enumeration {enumName}, got: {value}",enumName:null,value:null}),a.exports.UnrecognizedMessageEnvelopeVersion=d({type:"thrift-unrecognized-message-envelope-version",message:"unrecognized Thrift message envelope version: {version}",version:null}),a.exports.UnrecognizedMessageEnvelopeType=d({type:"thrift-unrecognized-message-envelope-type",message:"unrecognized Thrift message envelope type: {value}",value:null}),a.exports.InvalidMessageEnvelopeTypeName=d({type:"thrift-invalid-message-envelope-type-name",message:"invalid Thrift message envelope type name: {name}",name:null})},32527:a=>{function b(a,b){this.err=a||null,this.value=b}a.exports=b,b.prototype.toValue=function(){if(!this.err)return this.value;throw this.err},b.prototype.toCallback=function(a){a(this.err,this.value)},b.prototype.toTuple=function(){return[this.err,this.value]}},32557:(a,b,c)=>{"use strict";var d=c(42218),e=c(54726);b.seq={collection:"seq",default:!0,nodeClass:e.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:(a,b)=>(d.isSeq(a)||b("Expected a sequence for this tag"),a),createNode:(a,b,c)=>e.YAMLSeq.from(a,b,c)}},32665:(a,b,c)=>{"use strict";let d=c(24346);a.exports=(a,b,c)=>{try{b=new d(b,c)}catch(a){return!1}return b.test(a)}},32823:(a,b,c)=>{"use strict";c.d(b,{L:()=>g,m:()=>i,oU:()=>h});var d=c(79361),e=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function g(a){var b,c,g={};if("object"!=typeof a||null==a)return g;try{for(var j=e(Object.entries(a)),k=j.next();!k.done;k=j.next()){var l=f(k.value,2),m=l[0],n=l[1];if(!h(m)){d.s.warn("Invalid attribute key: "+m);continue}if(!i(n)){d.s.warn("Invalid attribute value set for key: "+m);continue}Array.isArray(n)?g[m]=n.slice():g[m]=n}}catch(a){b={error:a}}finally{try{k&&!k.done&&(c=j.return)&&c.call(j)}finally{if(b)throw b.error}}return g}function h(a){return"string"==typeof a&&a.length>0}function i(a){return null==a||(Array.isArray(a)?function(a){try{for(var b,c,d,f=e(a),g=f.next();!g.done;g=f.next()){var h=g.value;if(null!=h){if(!d){if(j(h)){d=typeof h;continue}return!1}if(typeof h!==d)return!1}}}catch(a){b={error:a}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(b)throw b.error}}return!0}(a):j(a))}function j(a){switch(typeof a){case"number":case"boolean":case"string":return!0}return!1}},32843:(a,b,c)=>{"use strict";let d=c(78871),e=c(24346);a.exports=(a,b,c)=>{let f=null,g=null,h=null;try{h=new e(b,c)}catch(a){return null}return a.forEach(a=>{h.test(a)&&(!f||-1===g.compare(a))&&(g=new d(f=a,c))}),f}},32970:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CallCredentials=void 0;let d=c(33604);class e{static createFromMetadataGenerator(a){return new g(a)}static createFromGoogleCredential(a){return e.createFromMetadataGenerator((b,c)=>{let e;(e="getRequestHeaders"in a&&"function"==typeof a.getRequestHeaders?a.getRequestHeaders(b.service_url):new Promise((c,d)=>{a.getRequestMetadata(b.service_url,(a,b)=>a?void d(a):b?void c(b):void d(Error("Headers not set by metadata plugin")))})).then(a=>{let b=new d.Metadata;for(let c of Object.keys(a))b.add(c,a[c]);c(null,b)},a=>{c(a)})})}static createEmpty(){return new h}}b.CallCredentials=e;class f extends e{constructor(a){super(),this.creds=a}async generateMetadata(a){let b=new d.Metadata;for(let c of(await Promise.all(this.creds.map(b=>b.generateMetadata(a)))))b.merge(c);return b}compose(a){return new f(this.creds.concat([a]))}_equals(a){return this===a||a instanceof f&&this.creds.every((b,c)=>b._equals(a.creds[c]))}}class g extends e{constructor(a){super(),this.metadataGenerator=a}generateMetadata(a){return new Promise((b,c)=>{this.metadataGenerator(a,(a,d)=>{void 0!==d?b(d):c(a)})})}compose(a){return new f([this,a])}_equals(a){return this===a||a instanceof g&&this.metadataGenerator===a.metadataGenerator}}class h extends e{generateMetadata(a){return Promise.resolve(new d.Metadata)}compose(a){return a}_equals(a){return a instanceof h}}},33160:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b)=>new d(a,b).patch},33604:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Metadata=void 0;let d=c(38702),e=c(56458),f=c(52291),g=/^[:0-9a-z_.-]+$/,h=/^[ -~]*$/;function i(a){return a.endsWith("-bin")}function j(a){return a.toLowerCase()}function k(a,b){if(!g.test(a))throw Error('Metadata key "'+a+'" contains illegal characters');if(null!=b)if(i(a)){if(!Buffer.isBuffer(b))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(b))throw Error("keys that don't end with '-bin' must have String values");if(!h.test(b))throw Error('Metadata string value "'+b+'" contains illegal characters')}}class l{constructor(a={}){this.internalRepr=new Map,this.opaqueData=new Map,this.options=a}set(a,b){k(a=j(a),b),this.internalRepr.set(a,[b])}add(a,b){k(a=j(a),b);let c=this.internalRepr.get(a);void 0===c?this.internalRepr.set(a,[b]):c.push(b)}remove(a){a=j(a),this.internalRepr.delete(a)}get(a){return a=j(a),this.internalRepr.get(a)||[]}getMap(){let a={};for(let[b,c]of this.internalRepr)if(c.length>0){let d=c[0];a[b]=Buffer.isBuffer(d)?Buffer.from(d):d}return a}clone(){let a=new l(this.options),b=a.internalRepr;for(let[a,c]of this.internalRepr){let d=c.map(a=>Buffer.isBuffer(a)?Buffer.from(a):a);b.set(a,d)}return a}merge(a){for(let[b,c]of a.internalRepr){let a=(this.internalRepr.get(b)||[]).concat(c);this.internalRepr.set(b,a)}}setOptions(a){this.options=a}getOptions(){return this.options}toHttp2Headers(){let a={};for(let[b,c]of this.internalRepr)b.startsWith(":")||(a[b]=c.map(m));return a}toJSON(){let a={};for(let[b,c]of this.internalRepr)a[b]=c;return a}setOpaque(a,b){this.opaqueData.set(a,b)}getOpaque(a){return this.opaqueData.get(a)}static fromHttp2Headers(a){let b=new l;for(let c of Object.keys(a)){if(":"===c.charAt(0))continue;let g=a[c];try{i(c)?Array.isArray(g)?g.forEach(a=>{b.add(c,Buffer.from(a,"base64"))}):void 0!==g&&(c.startsWith("grpc-")?b.add(c,Buffer.from(g,"base64")):g.split(",").forEach(a=>{b.add(c,Buffer.from(a.trim(),"base64"))})):Array.isArray(g)?g.forEach(a=>{b.add(c,a)}):void 0!==g&&b.add(c,g)}catch(b){let a=`Failed to add metadata entry ${c}: ${g}. ${(0,f.getErrorMessage)(b)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,d.log)(e.LogVerbosity.ERROR,a)}}return b}}b.Metadata=l;let m=a=>Buffer.isBuffer(a)?a.toString("base64"):a},34114:a=>{"use strict";a.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},34245:function(a,b,c){"use strict";var d,e=this&&this.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(b,"__esModule",{value:!0});var f=c(72204),g=c(9028),h=c(5338),i=function(a){function b(){var b=a.call(this)||this;return b._spans=[],b}return e(b,a),b.prototype._startSpan=function(a,b){var c=this._allocSpan();if(c.setOperationName(a),this._spans.push(c),b.references)for(var d=0,e=b.references;d<e.length;d++){var f=e[d];c.addReference(f)}return c._startStack=Error().stack,c},b.prototype._inject=function(a,b,c){throw Error("NOT YET IMPLEMENTED")},b.prototype._extract=function(a,b){throw Error("NOT YET IMPLEMENTED")},b.prototype._allocSpan=function(){return new h.default(this)},b.prototype.clear=function(){this._spans=[]},b.prototype.report=function(){return new g.default(this._spans)},b}(f.Tracer);b.MockTracer=i,b.default=i},34275:(a,b,c)=>{"use strict";var d=c(19771),e=c(22709),f=c(65444),g=c(68423),h=c(42218),i=c(45810),j=c(955);function k(a){if("number"==typeof a)return[a,a+1];if(Array.isArray(a))return 2===a.length?a:[a[0],a[1]];let{offset:b,source:c}=a;return[b,b+("string"==typeof c?c.length:1)]}function l(a){let b="",c=!1,d=!1;for(let e=0;e<a.length;++e){let f=a[e];switch(f[0]){case"#":b+=(""===b?"":d?"\n\n":"\n")+(f.substring(1)||" "),c=!0,d=!1;break;case"%":a[e+1]?.[0]!=="#"&&(e+=1),c=!1;break;default:c||(d=!0),c=!1}}return{comment:b,afterEmptyLine:d}}class m{constructor(a={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(a,b,c,d)=>{let e=k(a);d?this.warnings.push(new g.YAMLWarning(e,b,c)):this.errors.push(new g.YAMLParseError(e,b,c))},this.directives=new e.Directives({version:a.version||"1.2"}),this.options=a}decorate(a,b){let{comment:c,afterEmptyLine:d}=l(this.prelude);if(c){let e=a.contents;if(b)a.comment=a.comment?`${a.comment}
${c}`:c;else if(d||a.directives.docStart||!e)a.commentBefore=c;else if(h.isCollection(e)&&!e.flow&&e.items.length>0){let a=e.items[0];h.isPair(a)&&(a=a.key);let b=a.commentBefore;a.commentBefore=b?`${c}
${b}`:c}else{let a=e.commentBefore;e.commentBefore=a?`${c}
${a}`:c}}b?(Array.prototype.push.apply(a.errors,this.errors),Array.prototype.push.apply(a.warnings,this.warnings)):(a.errors=this.errors,a.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:l(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(a,b=!1,c=-1){for(let b of a)yield*this.next(b);yield*this.end(b,c)}*next(a){switch(d.env.LOG_STREAM&&console.dir(a,{depth:null}),a.type){case"directive":this.directives.add(a.source,(b,c,d)=>{let e=k(a);e[0]+=b,this.onError(e,"BAD_DIRECTIVE",c,d)}),this.prelude.push(a.source),this.atDirectives=!0;break;case"document":{let b=i.composeDoc(this.options,this.directives,a,this.onError);this.atDirectives&&!b.directives.docStart&&this.onError(a,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(b,!1),this.doc&&(yield this.doc),this.doc=b,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(a.source);break;case"error":{let b=a.source?`${a.message}: ${JSON.stringify(a.source)}`:a.message,c=new g.YAMLParseError(k(a),"UNEXPECTED_TOKEN",b);this.atDirectives||!this.doc?this.errors.push(c):this.doc.errors.push(c);break}case"doc-end":{if(!this.doc){this.errors.push(new g.YAMLParseError(k(a),"UNEXPECTED_TOKEN","Unexpected doc-end without preceding document"));break}this.doc.directives.docEnd=!0;let b=j.resolveEnd(a.end,a.offset+a.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),b.comment){let a=this.doc.comment;this.doc.comment=a?`${a}
${b.comment}`:b.comment}this.doc.range[2]=b.offset;break}default:this.errors.push(new g.YAMLParseError(k(a),"UNEXPECTED_TOKEN",`Unsupported token ${a.type}`))}}*end(a=!1,b=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(a){let a=Object.assign({_directives:this.directives},this.options),c=new f.Document(void 0,a);this.atDirectives&&this.onError(b,"MISSING_CHAR","Missing directives-end indicator line"),c.range=[0,b,b],this.decorate(c,!1),yield c}}}b.Composer=m},34583:(a,b,c)=>{"use strict";b.__esModule=!0,b.checkRevision=function(a){var b=a&&a[0]||1,c=f.COMPILER_REVISION;if(!(b>=f.LAST_COMPATIBLE_COMPILER_REVISION)||!(b<=f.COMPILER_REVISION))if(b<f.LAST_COMPATIBLE_COMPILER_REVISION){var d=f.REVISION_CHANGES[c],g=f.REVISION_CHANGES[b];throw new e.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+g+").")}else throw new e.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")},b.template=function(a,b){if(!b)throw new e.default("No environment passed to template");if(!a||!a.main)throw new e.default("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var c=a.compiler&&7===a.compiler[0],k={strict:function(a,b,c){if(!a||!(b in a))throw new e.default('"'+b+'" not defined in '+a,{loc:c});return k.lookupProperty(a,b)},lookupProperty:function(a,b){var c=a[b];if(null==c||Object.prototype.hasOwnProperty.call(a,b)||i.resultIsAllowed(c,k.protoAccessControl,b))return c},lookup:function(a,b){for(var c=a.length,d=0;d<c;d++)if(null!=(a[d]&&k.lookupProperty(a[d],b)))return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:d.escapeExpression,invokePartial:function(c,f,g){g.hash&&(f=d.extend({},f,g.hash),g.ids&&(g.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,f,g);var h=d.extend({},g,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),i=b.VM.invokePartial.call(this,c,f,h);if(null==i&&b.compile&&(g.partials[g.name]=b.compile(c,a.compilerOptions,b),i=g.partials[g.name](f,h)),null!=i){if(g.indent){for(var j=i.split("\n"),k=0,l=j.length;k<l&&(j[k]||k+1!==l);k++)j[k]=g.indent+j[k];i=j.join("\n")}return i}throw new e.default("The partial "+g.name+" could not be compiled when running in runtime-only mode")},fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var f=this.programs[a],g=this.fn(a);return b||e||d||c?f=j(this,a,g,b,c,d,e):f||(f=this.programs[a]=j(this,a,g)),f},data:function(a,b){for(;a&&b--;)a=a._parent;return a},mergeIfNeeded:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=d.extend({},b,a)),c},nullContext:Object.seal({}),noop:b.VM.noop,compilerInfo:a.compiler};function m(b){var c,d,e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=e.data;m._setup(e),!e.partial&&a.useData&&(c=b,(d=g)&&"root"in d||((d=d?f.createFrame(d):{}).root=c),g=d);var h=void 0,i=a.useBlockParams?[]:void 0;function j(b){return""+a.main(k,b,k.helpers,k.partials,g,i,h)}return a.useDepths&&(h=e.depths?b!=e.depths[0]?[b].concat(e.depths):e.depths:[b]),(j=l(a.main,j,k,e.depths||[],g,i))(b,e)}return m.isTop=!0,m._setup=function(e){if(e.partial)k.protoAccessControl=e.protoAccessControl,k.helpers=e.helpers,k.partials=e.partials,k.decorators=e.decorators,k.hooks=e.hooks;else{var f,j,l=d.extend({},b.helpers,e.helpers);f=l,j=k,Object.keys(f).forEach(function(a){var b,c,e=f[a];f[a]=(b=e,c=j.lookupProperty,h.wrapHelper(b,function(a){return d.extend({lookupProperty:c},a)}))}),k.helpers=l,a.usePartial&&(k.partials=k.mergeIfNeeded(e.partials,b.partials)),(a.usePartial||a.useDecorators)&&(k.decorators=d.extend({},b.decorators,e.decorators)),k.hooks={},k.protoAccessControl=i.createProtoAccessControl(e);var m=e.allowCallsToHelperMissing||c;g.moveHelperToHooks(k,"helperMissing",m),g.moveHelperToHooks(k,"blockHelperMissing",m)}},m._child=function(b,c,d,f){if(a.useBlockParams&&!d)throw new e.default("must pass block params");if(a.useDepths&&!f)throw new e.default("must pass parent depths");return j(k,b,a[b],c,0,d,f)},m},b.wrapProgram=j,b.resolvePartial=function(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a},b.invokePartial=function(a,b,c){var g,h=c.data&&c.data["partial-block"];c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var i=void 0;if(c.fn&&c.fn!==k&&(c.data=f.createFrame(c.data),g=c.fn,i=c.data["partial-block"]=function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return b.data=f.createFrame(b.data),b.data["partial-block"]=h,g(a,b)},g.partials&&(c.partials=d.extend({},c.partials,g.partials))),void 0===a&&i&&(a=i),void 0===a)throw new e.default("The partial "+c.name+" could not be found");if(a instanceof Function)return a(b,c)},b.noop=k;var d=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(c(80496)),e=function(a){return a&&a.__esModule?a:{default:a}}(c(99008)),f=c(66182),g=c(34832),h=c(40369),i=c(6528);function j(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return g&&b!=g[0]&&(b!==a.nullContext||null!==g[0])&&(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return(h=l(c,h,a,g,d,f)).program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function k(){return""}function l(a,b,c,e,f,g){if(a.decorator){var h={};b=a.decorator(b,h,c,e&&e[0],f,g,e),d.extend(b,h)}return b}},34709:(a,b,c)=>{"use strict";var d=c(8408),e=c(955);function f(a){let b,c;try{b=RegExp("(.*?)(?<![ 	])[ 	]*\r?\n","sy"),c=RegExp("[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?\n","sy")}catch{b=/(.*?)[ \t]*\r?\n/sy,c=/[ \t]*(.*?)[ \t]*\r?\n/sy}let d=b.exec(a);if(!d)return a;let e=d[1],f=" ",g=b.lastIndex;for(c.lastIndex=g;d=c.exec(a);)""===d[1]?"\n"===f?e+=f:f="\n":(e+=f+d[1],f=" "),g=c.lastIndex;let h=/[ \t]*(.*)/sy;return h.lastIndex=g,d=h.exec(a),e+f+(d?.[1]??"")}let g={0:"\0",a:"\x07",b:"\b",e:"\x1b",f:"\f",n:"\n",r:"\r",t:"	",v:"\v",N:"\x85",_:"\xa0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};b.resolveFlowScalar=function(a,b,c){let h,i,{offset:j,type:k,source:l,end:m}=a,n=(a,b,d)=>c(j+a,b,d);switch(k){case"scalar":h=d.Scalar.PLAIN,i=function(a,b){let c="";switch(a[0]){case"	":c="a tab character";break;case",":c="flow indicator character ,";break;case"%":c="directive indicator character %";break;case"|":case">":c=`block scalar indicator ${a[0]}`;break;case"@":case"`":c=`reserved character ${a[0]}`}return c&&b(0,"BAD_SCALAR_START",`Plain value cannot start with ${c}`),f(a)}(l,n);break;case"single-quoted-scalar":var o,p;h=d.Scalar.QUOTE_SINGLE,o=l,p=n,("'"!==o[o.length-1]||1===o.length)&&p(o.length,"MISSING_CHAR","Missing closing 'quote"),i=f(o.slice(1,-1)).replace(/''/g,"'");break;case"double-quoted-scalar":h=d.Scalar.QUOTE_DOUBLE,i=function(a,b){let c="";for(let d=1;d<a.length-1;++d){let e=a[d];if("\r"!==e||"\n"!==a[d+1])if("\n"===e){let{fold:b,offset:e}=function(a,b){let c="",d=a[b+1];for(;(" "===d||"	"===d||"\n"===d||"\r"===d)&&("\r"!==d||"\n"===a[b+2]);)"\n"===d&&(c+="\n"),b+=1,d=a[b+1];return c||(c=" "),{fold:c,offset:b}}(a,d);c+=b,d=e}else if("\\"===e){let e=a[++d],f=g[e];if(f)c+=f;else if("\n"===e)for(e=a[d+1];" "===e||"	"===e;)e=a[++d+1];else if("\r"===e&&"\n"===a[d+1])for(e=a[++d+1];" "===e||"	"===e;)e=a[++d+1];else if("x"===e||"u"===e||"U"===e){let f={x:2,u:4,U:8}[e];c+=function(a,b,c,d){let e=a.substr(b,c),f=e.length===c&&/^[0-9a-fA-F]+$/.test(e)?parseInt(e,16):NaN;if(isNaN(f)){let e=a.substr(b-2,c+2);return d(b-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${e}`),e}return String.fromCodePoint(f)}(a,d+1,f,b),d+=f}else{let e=a.substr(d-1,2);b(d-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${e}`),c+=e}}else if(" "===e||"	"===e){let b=d,f=a[d+1];for(;" "===f||"	"===f;)f=a[++d+1];"\n"!==f&&("\r"!==f||"\n"!==a[d+2])&&(c+=d>b?a.slice(b,d+1):e)}else c+=e}return('"'!==a[a.length-1]||1===a.length)&&b(a.length,"MISSING_CHAR",'Missing closing "quote'),c}(l,n);break;default:return c(a,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${k}`),{value:"",type:null,comment:"",range:[j,j+l.length,j+l.length]}}let q=j+l.length,r=e.resolveEnd(m,q,b,c);return{value:i,type:h,comment:r.comment,range:[j,q,r.offset]}}},34832:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0,b.registerDefaultHelpers=function(a){e.default(a),f.default(a),g.default(a),h.default(a),i.default(a),j.default(a),k.default(a)},b.moveHelperToHooks=function(a,b,c){a.helpers[b]&&(a.hooks[b]=a.helpers[b],c||delete a.helpers[b])};var e=d(c(86272)),f=d(c(14752)),g=d(c(15080)),h=d(c(75018)),i=d(c(78951)),j=d(c(66509)),k=d(c(28255))},34906:(a,b,c)=>{"use strict";let d=c(24346);a.exports=(a,b)=>new d(a,b).set.map(a=>a.map(a=>a.value).join(" ").trim().split(" "))},35025:(a,b,c)=>{"use strict";c.d(b,{h:()=>n});var d,e,f=Function.prototype.toString,g=f.call(Object),h=(d=Object.getPrototypeOf,e=Object,function(a){return d(e(a))}),i=Object.prototype,j=i.hasOwnProperty,k=Symbol?Symbol.toStringTag:void 0,l=i.toString;function m(a){if(null==(b=a)||"object"!=typeof b||"[object Object]"!==(null==(c=a)?void 0===c?"[object Undefined]":"[object Null]":k&&k in Object(c)?function(a){var b=j.call(a,k),c=a[k],d=!1;try{a[k]=void 0,d=!0}catch(a){}var e=l.call(a);return d&&(b?a[k]=c:delete a[k]),e}(c):(d=c,l.call(d))))return!1;var b,c,d,e=h(a);if(null===e)return!0;var i=j.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&f.call(i)===g}function n(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=a.shift(),d=new WeakMap;a.length>0;)c=function a(b,c,d,e){if(void 0===d&&(d=0),!(d>20)){if(d++,t(b)||t(c)||r(c))h=o(c);else if(q(b)){if(h=b.slice(),q(c))for(var f,g,h,i=0,j=c.length;i<j;i++)h.push(o(c[i]));else if(s(c))for(var k=Object.keys(c),i=0,j=k.length;i<j;i++){var l=k[i];h[l]=o(c[l])}}else if(s(b))if(s(c)){if(f=b,g=c,!(m(f)&&m(g)))return c;h=Object.assign({},b);for(var k=Object.keys(c),i=0,j=k.length;i<j;i++){var l=k[i],n=c[l];if(t(n))void 0===n?delete h[l]:h[l]=n;else{var u=h[l];if(p(b,l,e)||p(c,l,e))delete h[l];else{if(s(u)&&s(n)){var v=e.get(u)||[],w=e.get(n)||[];v.push({obj:b,key:l}),w.push({obj:c,key:l}),e.set(u,v),e.set(n,w)}h[l]=a(h[l],n,d,e)}}}}else h=c;return h}}(c,a.shift(),0,d);return c}function o(a){return q(a)?a.slice():a}function p(a,b,c){for(var d=c.get(a[b])||[],e=0,f=d.length;e<f;e++){var g=d[e];if(g.key===b&&g.obj===a)return!0}return!1}function q(a){return Array.isArray(a)}function r(a){return"function"==typeof a}function s(a){return!t(a)&&!q(a)&&!r(a)&&"object"==typeof a}function t(a){return"string"==typeof a||"number"==typeof a||"boolean"==typeof a||void 0===a||a instanceof Date||a instanceof RegExp||null===a}},35210:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BaseSubchannelWrapper=void 0;class c{constructor(a){this.child=a,this.healthy=!0,this.healthListeners=new Set,this.refcount=0,this.dataWatchers=new Set,a.addHealthStateWatcher(a=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(let a of this.healthListeners)a(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(a){this.child.addConnectivityStateListener(a)}removeConnectivityStateListener(a){this.child.removeConnectivityStateListener(a)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(a){this.child.throttleKeepalive(a)}ref(){this.child.ref(),this.refcount+=1}unref(){this.child.unref(),this.refcount-=1,0===this.refcount&&this.destroy()}destroy(){for(let a of this.dataWatchers)a.destroy()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(a){this.healthListeners.add(a)}removeHealthStateWatcher(a){this.healthListeners.delete(a)}addDataWatcher(a){a.setSubchannel(this.getRealSubchannel()),this.dataWatchers.add(a)}setHealthy(a){a!==this.healthy&&(this.healthy=a,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(a){return this.getRealSubchannel()===a.getRealSubchannel()}getCallCredentials(){return this.child.getCallCredentials()}getChannel(){return this.child.getChannel()}}b.BaseSubchannelWrapper=c},35427:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseEffectsDef=void 0;let d=c(31958),e=c(10715);b.parseEffectsDef=function(a,b){return"input"===b.effectStrategy?(0,d.parseDef)(a.schema._def,b):(0,e.parseAnyDef)(b)}},35653:a=>{a.exports=function(){for(var a={},c=0;c<arguments.length;c++){var d=arguments[c];for(var e in d)b.call(d,e)&&(a[e]=d[e])}return a};var b=Object.prototype.hasOwnProperty},35696:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OrcaOobMetricsSubchannelWrapper=b.GRPC_METRICS_HEADER=b.ServerMetricRecorder=b.PerRequestMetricRecorder=void 0,b.createOrcaClient=n,b.createMetricsReader=function(a,c){return(d,e,f)=>{let g=f.getOpaque(o);if(g)a(g);else{let c=f.get(b.GRPC_METRICS_HEADER);c.length>0&&(a(g=k().xds.data.orca.v3.OrcaLoadReport.deserialize(c[0])),f.setOpaque(o,g))}c&&c(d,e,f)}};let d=c(89439),e=c(27615),f=c(97945),g=c(35210),h=c(56458),i=c(9251),j=c(80158);function k(){let a=(0,c(20672).Yi)("xds/service/orca/v3/orca.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto/xds`,`${__dirname}/../../proto/protoc-gen-validate`]});return(0,d.loadPackageDefinition)(a)}class l{constructor(){this.message={}}recordRequestCostMetric(a,b){this.message.request_cost||(this.message.request_cost={}),this.message.request_cost[a]=b}recordUtilizationMetric(a,b){this.message.utilization||(this.message.utilization={}),this.message.utilization[a]=b}recordNamedMetric(a,b){this.message.named_metrics||(this.message.named_metrics={}),this.message.named_metrics[a]=b}recordCPUUtilizationMetric(a){this.message.cpu_utilization=a}recordMemoryUtilizationMetric(a){this.message.mem_utilization=a}recordApplicationUtilizationMetric(a){this.message.application_utilization=a}recordQpsMetric(a){this.message.rps_fractional=a}recordEpsMetric(a){this.message.eps=a}serialize(){return k().xds.data.orca.v3.OrcaLoadReport.serialize(this.message)}}b.PerRequestMetricRecorder=l;class m{constructor(){this.message={},this.serviceImplementation={StreamCoreMetrics:a=>{let b=setInterval(()=>{a.write(this.message)},a.request.report_interval?(0,e.durationToMs)((0,e.durationMessageToDuration)(a.request.report_interval)):3e4);a.on("cancelled",()=>{clearInterval(b)})}}}putUtilizationMetric(a,b){this.message.utilization||(this.message.utilization={}),this.message.utilization[a]=b}setAllUtilizationMetrics(a){this.message.utilization=Object.assign({},a)}deleteUtilizationMetric(a){var b;null==(b=this.message.utilization)||delete b[a]}setCpuUtilizationMetric(a){this.message.cpu_utilization=a}deleteCpuUtilizationMetric(){delete this.message.cpu_utilization}setApplicationUtilizationMetric(a){this.message.application_utilization=a}deleteApplicationUtilizationMetric(){delete this.message.application_utilization}setQpsMetric(a){this.message.rps_fractional=a}deleteQpsMetric(){delete this.message.rps_fractional}setEpsMetric(a){this.message.eps=a}deleteEpsMetric(){delete this.message.eps}addToServer(a){let b=k().xds.service.orca.v3.OpenRcaService.service;a.addService(b,this.serviceImplementation)}}function n(a){return new(k()).xds.service.orca.v3.OpenRcaService("unused",f.ChannelCredentials.createInsecure(),{channelOverride:a})}b.ServerMetricRecorder=m,b.GRPC_METRICS_HEADER="endpoint-load-metrics-bin";let o="grpc_orca_load_report",p="orca_oob_metrics";class q{constructor(a,b){this.metricsListener=a,this.intervalMs=b,this.dataProducer=null}setSubchannel(a){let b=a.getOrCreateDataProducer(p,t);this.dataProducer=b,b.addDataWatcher(this)}destroy(){var a;null==(a=this.dataProducer)||a.removeDataWatcher(this)}getInterval(){return this.intervalMs}onMetricsUpdate(a){this.metricsListener(a)}}class r{constructor(a){this.subchannel=a,this.dataWatchers=new Set,this.orcaSupported=!0,this.metricsCall=null,this.currentInterval=1/0,this.backoffTimer=new i.BackoffTimeout(()=>this.updateMetricsSubscription()),this.subchannelStateListener=()=>this.updateMetricsSubscription();let b=a.getChannel();this.client=n(b),a.addConnectivityStateListener(this.subchannelStateListener)}addDataWatcher(a){this.dataWatchers.add(a),this.updateMetricsSubscription()}removeDataWatcher(a){var b;this.dataWatchers.delete(a),0===this.dataWatchers.size?(this.subchannel.removeDataProducer(p),null==(b=this.metricsCall)||b.cancel(),this.metricsCall=null,this.client.close(),this.subchannel.removeConnectivityStateListener(this.subchannelStateListener)):this.updateMetricsSubscription()}updateMetricsSubscription(){var a;if(0===this.dataWatchers.size||!this.orcaSupported||this.subchannel.getConnectivityState()!==j.ConnectivityState.READY)return;let b=Math.min(...Array.from(this.dataWatchers).map(a=>a.getInterval()));if(!this.metricsCall||b!==this.currentInterval){null==(a=this.metricsCall)||a.cancel(),this.currentInterval=b;let c=this.client.streamCoreMetrics({report_interval:(0,e.msToDuration)(b)});this.metricsCall=c,c.on("data",a=>{this.dataWatchers.forEach(b=>{b.onMetricsUpdate(a)})}),c.on("error",a=>{if(this.metricsCall=null,a.code===h.Status.UNIMPLEMENTED){this.orcaSupported=!1;return}a.code!==h.Status.CANCELLED&&this.backoffTimer.runOnce()})}}}class s extends g.BaseSubchannelWrapper{constructor(a,b,c){super(a),this.addDataWatcher(new q(b,c))}getWrappedSubchannel(){return this.child}}function t(a){return new r(a)}b.OrcaOobMetricsSubchannelWrapper=s},35800:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}b.__esModule=!0;var f=e(c(66182)),g=d(c(5872)),h=d(c(99008)),i=e(c(80496)),j=e(c(34583)),k=d(c(54999));function l(){var a=new f.HandlebarsEnvironment;return i.extend(a,f),a.SafeString=g.default,a.Exception=h.default,a.Utils=i,a.escapeExpression=i.escapeExpression,a.VM=j,a.template=function(b){return j.template(b,a)},a}var m=l();m.create=l,k.default(m),m.default=m,b.default=m,a.exports=b.default},35970:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{assertValidToolNames:()=>n,resolveRestartedTools:()=>t,resolveResumeOption:()=>s,resolveToolRequest:()=>p,resolveToolRequests:()=>q,toPendingOutput:()=>o,toToolMap:()=>m}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(42656),k=c(67842),l=c(50438);function m(a){n(a);let b={};for(let c of a){let a=c.__action.name;b[a.substring(a.lastIndexOf("/")+1)]=c}return b}function n(a){let b={};for(let c of a){let a=c.__action.name,d=a.substring(a.lastIndexOf("/")+1);if(b[d])throw new i.GenkitError({status:"INVALID_ARGUMENT",message:`Cannot provide two tools with the same name: '${a}' and '${b[d]}'`});b[d]=a}}function o(a,b){return{...a,metadata:{...a.metadata,pendingOutput:b.toolResponse.output}}}async function p(a,b,c,d){let e=c[b.toolRequest.name];if(!e)throw new i.GenkitError({status:"NOT_FOUND",message:`Tool ${b.toolRequest.name} not found`,detail:{request:a}});if((0,k.isPromptAction)(e))return{preamble:await e(b.toolRequest.input),response:{toolResponse:{name:b.toolRequest.name,ref:b.toolRequest.ref,output:`transferred to ${b.toolRequest.name}`}}};try{let a=await e(b.toolRequest.input,function(a){let b={metadata:a.metadata};return a.metadata?.resumed&&(b.resumed=a.metadata.resumed),b}(b));return{response:(0,i.stripUndefinedProps)({toolResponse:{name:b.toolRequest.name,ref:b.toolRequest.ref,output:a}})}}catch(a){if(a instanceof l.ToolInterruptError||"ToolInterruptError"===a.name)return j.logger.debug(`tool '${c[b.toolRequest?.name].__action.name}' triggered an interrupt${a.metadata?`: ${JSON.stringify(a.metadata)}`:""}`),{interrupt:{toolRequest:b.toolRequest,metadata:{...b.metadata,interrupt:a.metadata||!0}}};throw a}}async function q(a,b,c){let d,e=m(await (0,l.resolveTools)(a,b.tools)),f=[],g=!1,h={...c,content:[...c.content]};return(await Promise.all(h.content.map(async(a,c)=>{if(!a.toolRequest)return;let{preamble:j,response:k,interrupt:l}=await p(b,a,e);if(j){if(d)throw new i.GenkitError({status:"INVALID_ARGUMENT",message:"Model attempted to transfer to multiple prompt tools."});d=j}k&&(f.push(k),h.content.splice(c,1,o(a,k))),l&&(h.content.splice(c,1,l),g=!0)})),g)?{revisedModelMessage:h}:{toolMessage:{role:"tool",content:f},transferPreamble:d}}async function r(a,b,c){if(b.metadata?.pendingOutput){let{pendingOutput:a,...c}=b.metadata,d={toolResponse:{name:b.toolRequest.name,ref:b.toolRequest.ref,output:a},metadata:{...c,source:"pending"}};return(0,i.stripUndefinedProps)({toolResponse:d,toolRequest:{...b,metadata:c}})}let d=function(a,b){let c=b.toolRequest?.name||b.toolResponse?.name,d=b.toolRequest?.ref||b.toolResponse?.ref;return a.find(a=>a.toolResponse?.name===c&&a.toolResponse?.ref===d)}(a.resume?.respond||[],b);if(d){let{interrupt:a,...c}=b.metadata||{};return(0,i.stripUndefinedProps)({toolResponse:d,toolRequest:{...b,metadata:{...c,resolvedInterrupt:a}}})}let e=function(a,b){let c=b.toolRequest?.name||b.toolResponse?.name,d=b.toolRequest?.ref||b.toolResponse?.ref;return a.find(a=>a.toolRequest?.name===c&&a.toolRequest?.ref===d)}(a.resume?.restart||[],b);if(e){let{response:d,interrupt:f,preamble:g}=await p(a,e,c);if(g)throw new i.GenkitError({status:"INTERNAL",message:`Prompt tool '${e.toolRequest.name}' executed inside 'restart' resolution. This should never happen.`});if(f)return{interrupt:f};if(d){let{interrupt:a,...c}=b.metadata||{};return(0,i.stripUndefinedProps)({toolResponse:d,toolRequest:{...b,metadata:{...c,resolvedInterrupt:a}}})}}throw new i.GenkitError({status:"INVALID_ARGUMENT",message:`Unresolved tool request '${b.toolRequest.name}${b.toolRequest.ref?`#${b.toolRequest.ref}`:""}' was not handled by the 'resume' argument. You must supply replies or restarts for all interrupted tool requests.'`})}async function s(a,b){if(!b.resume)return{revisedRequest:b};let c=m(await (0,l.resolveTools)(a,b.tools)),d=b.messages,e=d.at(-1);if(!e||"model"!==e.role||!e.content.find(a=>a.toolRequest))throw new i.GenkitError({status:"FAILED_PRECONDITION",message:"Cannot 'resume' generation unless the previous message is a model message with at least one tool request."});let f=[],g=!1;if(e.content=await Promise.all(e.content.map(async a=>{if(!(0,l.isToolRequest)(a))return a;let d=await r(b,a,c);return d.interrupt?(g=!0,d.interrupt):(f.push(d.toolResponse),d.toolRequest)})),g)return{interruptedResponse:{finishReason:"interrupted",finishMessage:"One or more tools triggered interrupts while resuming generation. The model was not called.",message:e}};let h=e.content.filter(a=>!!a.toolRequest).length;if(f.length!==h)throw new i.GenkitError({status:"FAILED_PRECONDITION",message:`Expected ${h} tool responses but resolved to ${f.length}.`,detail:{toolResponses:f,message:e}});let j={role:"tool",content:f,metadata:{resumed:b.resume.metadata||!0}};return(0,i.stripUndefinedProps)({revisedRequest:{...b,resume:void 0,messages:[...d,j]},toolMessage:j})}async function t(a,b){let c=m(await (0,l.resolveTools)(a,b.tools)),d=b.messages.at(-1);if(!d||"model"!==d.role)return[];let e=d.content.filter(a=>a.toolRequest&&a.metadata?.resumed);return await Promise.all(e.map(async a=>{let{response:d,interrupt:e}=await p(b,a,c);return e||o(a,d)}))}},36008:(a,b,c)=>{"use strict";c.d(b,{n:()=>f});var d=c(79361),e=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(){function a(a){var b;void 0===a&&(a={}),this._propagators=null!=(b=a.propagators)?b:[],this._fields=Array.from(new Set(this._propagators.map(function(a){return"function"==typeof a.fields?a.fields():[]}).reduce(function(a,b){return a.concat(b)},[])))}return a.prototype.inject=function(a,b,c){var f,g;try{for(var h=e(this._propagators),i=h.next();!i.done;i=h.next()){var j=i.value;try{j.inject(a,b,c)}catch(a){d.s.warn("Failed to inject with "+j.constructor.name+". Err: "+a.message)}}}catch(a){f={error:a}}finally{try{i&&!i.done&&(g=h.return)&&g.call(h)}finally{if(f)throw f.error}}},a.prototype.extract=function(a,b,c){return this._propagators.reduce(function(a,e){try{return e.extract(a,b,c)}catch(a){d.s.warn("Failed to inject with "+e.constructor.name+". Err: "+a.message)}return a},a)},a.prototype.fields=function(){return this._fields.slice()},a}()},36204:(a,b,c)=>{"use strict";var d=c(61710).h;function e(a,b,c){for(;b.length<c;)b=a+b;return b}function f(a){return a>31&&a<127?String.fromCharCode(a):d(".","black+bold")}a.exports.coloredHeadSep=d(":","cyan")+" ",a.exports.coloredOptions={headSep:a.exports.coloredHeadSep,renderHuman:f},a.exports.pad=e,a.exports.byte2hex=function(a){return e("0",a.toString(16),2)},a.exports.byte2char=function(a){return a>31&&a<127?String.fromCharCode(a):"."},a.exports.renderHuman=f,a.exports.stripColor=function(a){for(;;){var b=a.indexOf("\x1b[");if(b<0)return a;var c=a.indexOf("m",b);if(c<0)return a;a=a.slice(0,b)+a.slice(c+1)}}},36769:(a,b,c)=>{"use strict";function d(a){a.unref()}c.d(b,{K:()=>d})},37048:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WeightedRoundRobinLoadBalancingConfig=void 0,b.setup=function(){(0,g.registerLoadBalancerType)(o,t,r)};let d=c(80158),e=c(56458),f=c(27615),g=c(20606),h=c(8557),i=c(38702),j=c(35696),k=c(96269),l=c(17249),m=c(41835);function n(a){i.trace(e.LogVerbosity.DEBUG,"weighted_round_robin",a)}let o="weighted_round_robin";function p(a,b,c){if(b in a&&void 0!==a[b]&&typeof a[b]!==c)throw Error(`weighted round robin config ${b} parse error: expected ${c}, got ${typeof a[b]}`)}function q(a,b){if(b in a&&void 0!==a[b]&&null!==a[b]){let c;if((0,f.isDuration)(a[b]))c=a[b];else if((0,f.isDurationMessage)(a[b]))c=(0,f.durationMessageToDuration)(a[b]);else if("string"==typeof a[b]){let d=(0,f.parseDuration)(a[b]);if(!d)throw Error(`weighted round robin config ${b}: failed to parse duration string ${a[b]}`);c=d}else throw Error(`weighted round robin config ${b}: expected duration, got ${typeof a[b]}`);return(0,f.durationToMs)(c)}return null}class r{constructor(a,b,c,d,e,f){this.enableOobLoadReport=null!=a&&a,this.oobLoadReportingPeriodMs=null!=b?b:1e4,this.blackoutPeriodMs=null!=c?c:1e4,this.weightExpirationPeriodMs=null!=d?d:18e4,this.weightUpdatePeriodMs=Math.max(null!=e?e:1e3,100),this.errorUtilizationPenalty=null!=f?f:1}getLoadBalancerName(){return o}toJsonObject(){return{enable_oob_load_report:this.enableOobLoadReport,oob_load_reporting_period:(0,f.durationToString)((0,f.msToDuration)(this.oobLoadReportingPeriodMs)),blackout_period:(0,f.durationToString)((0,f.msToDuration)(this.blackoutPeriodMs)),weight_expiration_period:(0,f.durationToString)((0,f.msToDuration)(this.weightExpirationPeriodMs)),weight_update_period:(0,f.durationToString)((0,f.msToDuration)(this.weightUpdatePeriodMs)),error_utilization_penalty:this.errorUtilizationPenalty}}static createFromJson(a){if(p(a,"enable_oob_load_report","boolean"),p(a,"error_utilization_penalty","number"),a.error_utilization_penalty<0)throw Error("weighted round robin config error_utilization_penalty < 0");return new r(a.enable_oob_load_report,q(a,"oob_load_reporting_period"),q(a,"blackout_period"),q(a,"weight_expiration_period"),q(a,"weight_update_period"),a.error_utilization_penalty)}getEnableOobLoadReport(){return this.enableOobLoadReport}getOobLoadReportingPeriodMs(){return this.oobLoadReportingPeriodMs}getBlackoutPeriodMs(){return this.blackoutPeriodMs}getWeightExpirationPeriodMs(){return this.weightExpirationPeriodMs}getWeightUpdatePeriodMs(){return this.weightUpdatePeriodMs}getErrorUtilizationPenalty(){return this.errorUtilizationPenalty}}b.WeightedRoundRobinLoadBalancingConfig=r;class s{constructor(a,b){let c;this.metricsHandler=b,this.queue=new l.PriorityQueue((a,b)=>a.deadline<b.deadline);let d=a.filter(a=>a.weight>0);if(d.length<2)c=1;else{let a=0;for(let{weight:b}of d)a+=b;c=a/d.length}for(let b of a){let a=b.weight>0?1/b.weight:c;this.queue.push({endpointName:b.endpointName,picker:b.picker,period:a,deadline:Math.random()*a})}}pick(a){let b=this.queue.pop();this.queue.push(Object.assign(Object.assign({},b),{deadline:b.deadline+b.period}));let c=b.picker.pick(a);if(c.pickResultType!==k.PickResultType.COMPLETE)return c;if(this.metricsHandler)return Object.assign(Object.assign({},c),{onCallEnded:(0,j.createMetricsReader)(a=>this.metricsHandler(a,b.endpointName),c.onCallEnded)});{let a=c.subchannel;return Object.assign(Object.assign({},c),{subchannel:a.getWrappedSubchannel()})}}}class t{constructor(a){this.channelControlHelper=a,this.latestConfig=null,this.children=new Map,this.currentState=d.ConnectivityState.IDLE,this.updatesPaused=!1,this.lastError=null,this.weightUpdateTimer=null}countChildrenWithState(a){let b=0;for(let c of this.children.values())c.child.getConnectivityState()===a&&(b+=1);return b}updateWeight(a,b){var c,d;let e=b.rps_fractional,f=b.application_utilization;f>0&&e>0&&(f+=b.eps/e*(null!=(d=null==(c=this.latestConfig)?void 0:c.getErrorUtilizationPenalty())?d:0));let g=0===f?0:e/f;if(0===g)return;let h=new Date;null===a.nonEmptySince&&(a.nonEmptySince=h),a.lastUpdated=h,a.weight=g}getWeight(a){if(!this.latestConfig)return 0;let b=new Date().getTime();if(b-a.lastUpdated.getTime()>=this.latestConfig.getWeightExpirationPeriodMs())return a.nonEmptySince=null,0;let c=this.latestConfig.getBlackoutPeriodMs();return c>0&&(null===a.nonEmptySince||b-a.nonEmptySince.getTime()<c)?0:a.weight}calculateAndUpdateState(){if(!this.updatesPaused&&this.latestConfig){if(this.countChildrenWithState(d.ConnectivityState.READY)>0){let a,b=[];for(let[a,c]of this.children)c.child.getConnectivityState()===d.ConnectivityState.READY&&b.push({endpointName:a,picker:c.child.getPicker(),weight:this.getWeight(c)});n("Created picker with weights: "+b.map(a=>a.endpointName+":"+a.weight).join(",")),a=this.latestConfig.getEnableOobLoadReport()?null:(a,b)=>{let c=this.children.get(b);c&&this.updateWeight(c,a)},this.updateState(d.ConnectivityState.READY,new s(b,a),null)}else if(this.countChildrenWithState(d.ConnectivityState.CONNECTING)>0)this.updateState(d.ConnectivityState.CONNECTING,new k.QueuePicker(this),null);else if(this.countChildrenWithState(d.ConnectivityState.TRANSIENT_FAILURE)>0){let a=`weighted_round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(d.ConnectivityState.TRANSIENT_FAILURE,new k.UnavailablePicker({details:a}),a)}else this.updateState(d.ConnectivityState.IDLE,new k.QueuePicker(this),null);for(let{child:a}of this.children.values())a.getConnectivityState()===d.ConnectivityState.IDLE&&a.exitIdle()}}updateState(a,b,c){n(d.ConnectivityState[this.currentState]+" -> "+d.ConnectivityState[a]),this.currentState=a,this.channelControlHelper.updateState(a,b,c)}updateAddressList(a,b,c,e){var f,i;if(!(b instanceof r))return!1;if(!a.ok)return 0===this.children.size&&this.updateState(d.ConnectivityState.TRANSIENT_FAILURE,new k.UnavailablePicker(a.error),a.error.details),!0;if(0===a.value.length){let a=`No addresses resolved. Resolution note: ${e}`;return this.updateState(d.ConnectivityState.TRANSIENT_FAILURE,new k.UnavailablePicker({details:a}),a),!1}n("Connect to endpoint list "+a.value.map(m.endpointToString));let l=new Date,o=new Set;for(let f of(this.updatesPaused=!0,this.latestConfig=b,a.value)){let a=(0,m.endpointToString)(f);o.add(a);let i=this.children.get(a);i||(i={child:new h.LeafLoadBalancer(f,(0,g.createChildChannelControlHelper)(this.channelControlHelper,{updateState:(a,b,c)=>{this.currentState===d.ConnectivityState.READY&&a!==d.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),a===d.ConnectivityState.READY&&(i.nonEmptySince=null),c&&(this.lastError=c),this.calculateAndUpdateState()},createSubchannel:(a,b)=>{let c=this.channelControlHelper.createSubchannel(a,b);return(null==i?void 0:i.oobMetricsListener)?new j.OrcaOobMetricsSubchannelWrapper(c,i.oobMetricsListener,this.latestConfig.getOobLoadReportingPeriodMs()):c}}),c,e),lastUpdated:l,nonEmptySince:null,weight:0,oobMetricsListener:null},this.children.set(a,i)),b.getEnableOobLoadReport()?i.oobMetricsListener=a=>{this.updateWeight(i,a)}:i.oobMetricsListener=null}for(let[a,b]of this.children)o.has(a)?b.child.startConnecting():(b.child.destroy(),this.children.delete(a));return this.updatesPaused=!1,this.calculateAndUpdateState(),this.weightUpdateTimer&&clearInterval(this.weightUpdateTimer),this.weightUpdateTimer=null==(i=(f=setInterval(()=>{this.currentState===d.ConnectivityState.READY&&this.calculateAndUpdateState()},b.getWeightUpdatePeriodMs())).unref)?void 0:i.call(f),!0}exitIdle(){}resetBackoff(){}destroy(){for(let a of this.children.values())a.child.destroy();this.children.clear(),this.weightUpdateTimer&&clearInterval(this.weightUpdateTimer)}getTypeName(){return o}}},37381:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SingleSubchannelChannel=void 0;let d=c(25479),e=c(49682),f=c(22354),g=c(80158),h=c(56458),i=c(16390),j=c(8319),k=c(27398),l=c(33604),m=c(43313),n=c(9413);class o{constructor(a,b,c,d,e){var f,g;this.subchannel=a,this.method=b,this.options=d,this.callNumber=e,this.childCall=null,this.pendingMessage=null,this.readPending=!1,this.halfClosePending=!1,this.pendingStatus=null,this.readFilterPending=!1,this.writeFilterPending=!1;let i=this.method.split("/"),k="";i.length>=2&&(k=i[1]);let l=null!=(g=null==(f=(0,n.splitHostPort)(this.options.host))?void 0:f.host)?g:"localhost";this.serviceUrl=`https://${l}/${k}`;let m=(0,j.getRelativeTimeout)(d.deadline);m!==1/0&&(m<=0?this.cancelWithStatus(h.Status.DEADLINE_EXCEEDED,"Deadline exceeded"):setTimeout(()=>{this.cancelWithStatus(h.Status.DEADLINE_EXCEEDED,"Deadline exceeded")},m)),this.filterStack=c.createFilter()}cancelWithStatus(a,b){this.childCall?this.childCall.cancelWithStatus(a,b):this.pendingStatus={code:a,details:b,metadata:new l.Metadata}}getPeer(){var a,b;return null!=(b=null==(a=this.childCall)?void 0:a.getPeer())?b:this.subchannel.getAddress()}async start(a,b){let c;if(this.pendingStatus)return void b.onReceiveStatus(this.pendingStatus);if(this.subchannel.getConnectivityState()!==g.ConnectivityState.READY)return void b.onReceiveStatus({code:h.Status.UNAVAILABLE,details:"Subchannel not ready",metadata:new l.Metadata});let d=await this.filterStack.sendMetadata(Promise.resolve(a));try{c=await this.subchannel.getCallCredentials().generateMetadata({method_name:this.method,service_url:this.serviceUrl})}catch(d){let{code:a,details:c}=(0,i.restrictControlPlaneStatusCode)("number"==typeof d.code?d.code:h.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${d.message}`);b.onReceiveStatus({code:a,details:c,metadata:new l.Metadata});return}c.merge(d),this.childCall=this.subchannel.createCall(c,this.options.host,this.method,{onReceiveMetadata:async a=>{b.onReceiveMetadata(await this.filterStack.receiveMetadata(a))},onReceiveMessage:async a=>{this.readFilterPending=!0;let c=await this.filterStack.receiveMessage(a);this.readFilterPending=!1,b.onReceiveMessage(c),this.pendingStatus&&b.onReceiveStatus(this.pendingStatus)},onReceiveStatus:async a=>{let c=await this.filterStack.receiveTrailers(a);this.readFilterPending?this.pendingStatus=c:b.onReceiveStatus(c)}}),this.readPending&&this.childCall.startRead(),this.pendingMessage&&this.childCall.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.halfClosePending&&!this.writeFilterPending&&this.childCall.halfClose()}async sendMessageWithContext(a,b){this.writeFilterPending=!0;let c=await this.filterStack.sendMessage(Promise.resolve({message:b,flags:a.flags}));this.writeFilterPending=!1,this.childCall?(this.childCall.sendMessageWithContext(a,c.message),this.halfClosePending&&this.childCall.halfClose()):this.pendingMessage={context:a,message:c.message}}startRead(){this.childCall?this.childCall.startRead():this.readPending=!0}halfClose(){this.childCall&&!this.writeFilterPending?this.childCall.halfClose():this.halfClosePending=!0}getCallNumber(){return this.callNumber}setCredentials(a){throw Error("Method not implemented.")}getAuthContext(){return this.childCall?this.childCall.getAuthContext():null}}class p{constructor(a,b,c){this.subchannel=a,this.target=b,this.channelzEnabled=!1,this.channelzTrace=new e.ChannelzTrace,this.callTracker=new e.ChannelzCallTracker,this.childrenTracker=new e.ChannelzChildrenTracker,this.channelzEnabled=0!==c["grpc.enable_channelz"],this.channelzRef=(0,e.registerChannelzChannel)((0,n.uriToString)(b),()=>({target:`${(0,n.uriToString)(b)} (${a.getAddress()})`,state:this.subchannel.getConnectivityState(),trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}),this.channelzEnabled),this.channelzEnabled&&this.childrenTracker.refChild(a.getChannelzRef()),this.filterStackFactory=new k.FilterStackFactory([new f.CompressionFilterFactory(this,c)])}close(){this.channelzEnabled&&this.childrenTracker.unrefChild(this.subchannel.getChannelzRef()),(0,e.unregisterChannelzRef)(this.channelzRef)}getTarget(){return(0,n.uriToString)(this.target)}getConnectivityState(a){throw Error("Method not implemented.")}watchConnectivityState(a,b,c){throw Error("Method not implemented.")}getChannelzRef(){return this.channelzRef}createCall(a,b){let c={deadline:b,host:(0,m.getDefaultAuthority)(this.target),flags:h.Propagate.DEFAULTS,parentCall:null};return new o(this.subchannel,a,this.filterStackFactory,c,(0,d.getNextCallNumber)())}}b.SingleSubchannelChannel=p},37451:(a,b,c)=>{"use strict";var d=c(12412),e=c(8193);function f(a,b,c,e){if(!(this instanceof f))return new f(a,b,c,e);a&&b&&c?(d("function"==typeof a,"expected byteLength to be function"),d("function"==typeof b,"expected readFrom to be function"),d("function"==typeof c,"expected writeInto to be function"),e?(this.poolByteLength=a,this.poolReadFrom=b,this.poolWriteInto=c):(this.byteLength=a,this.readFrom=b,this.writeInto=c)):(d(this.poolReadFrom!==f.prototype.poolReadFrom||this.readFrom!==f.prototype.readFrom,"expected either poolReadFrom or readFrom to be overriden"),d(this.poolWriteInto!==f.prototype.poolWriteInto||this.writeInto!==f.prototype.writeInto,"expected either poolWriteInto or writeInto to be overriden"),d(this.poolByteLength!==f.prototype.poolByteLength||this.byteLength!==f.prototype.byteLength,"expected either poolByteLength or byteLength to be overriden"))}function g(a,b){this.err=a||null,this.length=b||0}function h(a,b){this.err=a||null,this.offset=b||0}function i(a,b,c){this.err=a||null,this.offset=b||0,this.value=void 0===c?null:c}a.exports.BufferRW=f,a.exports.LengthResult=g,a.exports.WriteResult=h,a.exports.ReadResult=i,f.prototype.readFrom=function(a,b,c){d(this.poolReadFrom!==f.prototype.poolReadFrom,"poolReadFrom is overridden");var e=new i;return this.poolReadFrom(e,a,b,c),e},f.prototype.writeInto=function(a,b,c){d(this.poolWriteInto!==f.prototype.poolWriteInto,"poolWriteInto is overridden");var e=new h;return this.poolWriteInto(e,a,b,c),e},f.prototype.byteLength=function(a,b,c){d(this.poolbyteLength!==f.prototype.poolByteLength,"poolByteLength is overridden");var e=new g;return this.poolByteLength(e,a,b,c),e},f.prototype.poolReadFrom=function(a,b,c,d){var e=this.readFrom(b,c,d);return a.copyFrom(e)},f.prototype.poolWriteInto=function(a,b,c,d){var e=this.writeInto(b,c,d);return a.copyFrom(e)},f.prototype.poolByteLength=function(a,b,c,d){var e=this.byteLength(b,c,d);return a.copyFrom(e)},g.prototype.reset=function(a,b){return this.err=a,this.length=b,this},g.prototype.copyFrom=function(a){return this.err=a.err,this.length=a.length,this},g.error=function(a,b){return new g(a,b)},g.just=function(a){return new g(null,a)},h.prototype.reset=function(a,b){return this.err=a,this.offset=b,this},h.prototype.copyFrom=function(a){this.err=a.err,this.offset=a.offset},h.error=function(a,b){return new h(a,b)},h.poolRangedError=function(a,b,c,e,f){return d("object"==typeof a&&"WriteResult"===a.constructor.name),b.offest=c,b.endOffset=e,a.reset(b,c,f)},h.rangedError=function(a,b,c,d){return h.poolRangedError(new h,b,c,d)},h.just=function(a){return new h(null,a)},h.shortError=function(a,b,c){return h.poolShortError(new h,a,b,c)},h.poolShortError=function(a,b,c,f){return d("object"==typeof a&&"WriteResult"===a.constructor.name),a.reset(new e.ShortBuffer({expected:b,actual:c,offset:f}),f)},i.prototype.copyFrom=function(a){return this.err=a.err,this.offset=a.offset,this.value=a.value,this},i.prototype.reset=function(a,b,c){return this.err=a,this.offset=b,this.value=c,this},i.error=function(a,b,c){return new i(a,b,c)},i.poolRangedError=function(a,b,c,e,f){return d("object"==typeof a&&"ReadResult"===a.constructor.name),b.offest=c,b.endOffset=e,a.reset(b,c,f)},i.rangedError=function(a,b,c,d){return i.poolRangedError(new i,a,b,c,d)},i.just=function(a,b){return new i(null,a,b)},i.shortError=function(a,b,c,d,e){return i.poolShortError(new i,b,c,d,e)},i.poolShortError=function(a,b,c,f,g){var h;return d("object"==typeof a&&"ReadResult"===a.constructor.name),h=void 0===g?new e.ShortBuffer({expected:b,actual:c,offset:f}):new e.ShortBufferRanged({expected:b,actual:c,offset:f,endOffset:g}),a.reset(h,f)}},37579:(a,b,c)=>{"use strict";c.d(b,{Nq:()=>o,Uz:()=>m,V:()=>l,aE:()=>i,fv:()=>j,h9:()=>k});var d=c(38380),e=c(23615),f=["OTEL_SDK_DISABLED"],g=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"],h=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"],i=1/0,j=128,k=128,l=128,m={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:d.u.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:i,OTEL_ATTRIBUTE_COUNT_LIMIT:j,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:i,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:j,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:i,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:j,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:k,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:l,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:e.R.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"},n={ALL:d.u.ALL,VERBOSE:d.u.VERBOSE,DEBUG:d.u.DEBUG,INFO:d.u.INFO,WARN:d.u.WARN,ERROR:d.u.ERROR,NONE:d.u.NONE};function o(a){var b={};for(var c in m)if("OTEL_LOG_LEVEL"===c)!function(a,b,c){var d=c[a];if("string"==typeof d){var e=n[d.toUpperCase()];null!=e&&(b[a]=e)}}(c,b,a);else if(f.indexOf(c)>-1)!function(a,b,c){if(void 0!==c[a]){var d=String(c[a]);b[a]="true"===d.toLowerCase()}}(c,b,a);else if(g.indexOf(c)>-1)!function(a,b,c,d,e){if(void 0===d&&(d=-1/0),void 0===e&&(e=1/0),void 0!==c[a]){var f=Number(c[a]);isNaN(f)||(f<d?b[a]=d:f>e?b[a]=e:b[a]=f)}}(c,b,a);else if(h.indexOf(c)>-1)!function(a,b,c,d){void 0===d&&(d=",");var e=c[a];"string"==typeof e&&(b[a]=e.split(d).map(function(a){return a.trim()}))}(c,b,a);else{var d=a[c];null!=d&&(b[c]=String(d))}return b}},37699:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.StatusBuilder=void 0;class c{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(a){return this.code=a,this}withDetails(a){return this.details=a,this}withMetadata(a){return this.metadata=a,this}build(){let a={};return null!==this.code&&(a.code=this.code),null!==this.details&&(a.details=this.details),null!==this.metadata&&(a.metadata=this.metadata),a}}b.StatusBuilder=c},37712:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0})},37719:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{ATTR_PREFIX:()=>n,BaseDataPointSchema:()=>p,BaseEvalDataPointSchema:()=>q,EVALUATOR_METADATA_KEY_DEFINITION:()=>v,EVALUATOR_METADATA_KEY_DISPLAY_NAME:()=>u,EVALUATOR_METADATA_KEY_IS_BILLED:()=>w,EvalResponseSchema:()=>x,EvalResponsesSchema:()=>y,EvalStatusEnum:()=>s,EvaluatorInfoSchema:()=>D,SPAN_STATE_ATTR:()=>o,ScoreSchema:()=>t,defineEvaluator:()=>A,evaluate:()=>C,evaluator:()=>B,evaluatorRef:()=>E}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(42656),k=c(76944),l=c(64089),m=c(55511);let n="genkit",o=n+":state",p=i.z.object({input:i.z.unknown(),output:i.z.unknown().optional(),context:i.z.array(i.z.unknown()).optional(),reference:i.z.unknown().optional(),testCaseId:i.z.string().optional(),traceIds:i.z.array(i.z.string()).optional()}),q=p.extend({testCaseId:i.z.string()}),r=i.z.enum(["UNKNOWN","PASS","FAIL"]);var s=(a=>(a.UNKNOWN="UNKNOWN",a.PASS="PASS",a.FAIL="FAIL",a))(s||{});let t=i.z.object({id:i.z.string().describe("Optional ID to differentiate different scores if applying in a single evaluation").optional(),score:i.z.union([i.z.number(),i.z.string(),i.z.boolean()]).optional(),status:r.optional(),error:i.z.string().optional(),details:i.z.object({reasoning:i.z.string().optional()}).passthrough().optional()}),u="evaluatorDisplayName",v="evaluatorDefinition",w="evaluatorIsBilled",x=i.z.object({sampleIndex:i.z.number().optional(),testCaseId:i.z.string(),traceId:i.z.string().optional(),spanId:i.z.string().optional(),evaluation:i.z.union([t,i.z.array(t)])}),y=i.z.array(x),z=i.z.object({dataset:i.z.array(p),evalRunId:i.z.string(),options:i.z.unknown()});function A(a,b,c){let d=B(b,c);return a.registerAction("evaluator",d),d}function B(a,b){var c,d,e;let f={};return f[w]=void 0==a.isBilled||a.isBilled,f[u]=a.displayName,f[v]=a.definition,a.configSchema&&(f.customOptions=(0,k.toJsonSchema)({schema:a.configSchema})),c=(0,i.action)({actionType:"evaluator",name:a.name,inputSchema:z.extend({dataset:a.dataPointType?i.z.array(a.dataPointType):i.z.array(p),options:a.configSchema??i.z.unknown(),evalRunId:i.z.string(),batchSize:i.z.number().optional()}),outputSchema:y,metadata:{type:"evaluator",evaluator:f}},async a=>{let c=[],d=function(a,b){let c;c=b||1;let d=[];for(var e=0;e<a.length;e+=c)d.push(a.slice(e,e+c).map(a=>({...a,testCaseId:a.testCaseId??(0,m.randomUUID)()})));return d}(a.dataset,a.batchSize);for(let e=0;e<d.length;e++){let f=d[e];try{await (0,l.runInNewSpan)({metadata:{name:a.batchSize?`Batch ${e}`:`Test Case ${f[0].testCaseId}`,metadata:{"evaluator:evalRunId":a.evalRunId}},labels:{[l.SPAN_TYPE_ATTR]:"evaluator"}},async(d,g)=>{let h=g.spanContext().spanId,i=g.spanContext().traceId,j=f.map((c,f)=>{let g=a.batchSize?a.batchSize*e+f:e;return d.input={input:c.input,output:c.output,context:c.context},b(c,a.options).then(a=>({...a,traceId:i,spanId:h,sampleIndex:g})).catch(a=>({sampleIndex:g,spanId:h,traceId:i,testCaseId:c.testCaseId,evaluation:{error:`Evaluation of test case ${c.testCaseId} failed: 
${a}`}}))}),k=await Promise.all(j);d.output=1===k.length?k[0]:k,k.map(a=>{c.push(a)})})}catch(a){j.logger.error(`Evaluation of batch ${e} failed: 
${a.stack}`);continue}}return c}),d=a.dataPointType,e=a.configSchema,c.__dataPointType=d,c.__configSchema=e,c}async function C(a,b){let c;if(!(c="string"==typeof b.evaluator?await a.lookupAction(`/evaluator/${b.evaluator}`):Object.hasOwnProperty.call(b.evaluator,"info")?await a.lookupAction(`/evaluator/${b.evaluator.name}`):b.evaluator))throw Error("Unable to utilize the provided evaluator");return await c({dataset:b.dataset,options:b.options,evalRunId:b.evalRunId??(0,m.randomUUID)()})}let D=i.z.object({label:i.z.string().optional(),metrics:i.z.array(i.z.string())});function E(a){return{...a}}},37905:(a,b,c)=>{"use strict";let d=c(78871),e=c(24346);a.exports=(a,b,c)=>{let f=null,g=null,h=null;try{h=new e(b,c)}catch(a){return null}return a.forEach(a=>{h.test(a)&&(!f||1===g.compare(a))&&(g=new d(f=a,c))}),f}},38157:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{BaseDataPointSchema:()=>i.BaseDataPointSchema,Chat:()=>j.Chat,Document:()=>i.Document,DocumentDataSchema:()=>i.DocumentDataSchema,GENKIT_CLIENT_HEADER:()=>m.GENKIT_CLIENT_HEADER,GENKIT_VERSION:()=>m.GENKIT_VERSION,GenerateResponse:()=>i.GenerateResponse,GenerateResponseChunk:()=>i.GenerateResponseChunk,GenerationBlockedError:()=>i.GenerationBlockedError,GenerationCommonConfigSchema:()=>i.GenerationCommonConfigSchema,GenerationResponseError:()=>i.GenerationResponseError,GenkitError:()=>m.GenkitError,LlmResponseSchema:()=>i.LlmResponseSchema,LlmStatsSchema:()=>i.LlmStatsSchema,Message:()=>i.Message,MessageSchema:()=>i.MessageSchema,ModelRequestSchema:()=>i.ModelRequestSchema,ModelResponseSchema:()=>i.ModelResponseSchema,OperationSchema:()=>m.OperationSchema,PartSchema:()=>i.PartSchema,ReflectionServer:()=>m.ReflectionServer,RoleSchema:()=>i.RoleSchema,Session:()=>k.Session,StatusCodes:()=>m.StatusCodes,StatusSchema:()=>m.StatusSchema,ToolCallSchema:()=>i.ToolCallSchema,ToolInterruptError:()=>i.ToolInterruptError,ToolSchema:()=>i.ToolSchema,UserFacingError:()=>m.UserFacingError,defineJsonSchema:()=>m.defineJsonSchema,defineSchema:()=>m.defineSchema,dynamicResource:()=>i.dynamicResource,dynamicTool:()=>l.dynamicTool,embedderActionMetadata:()=>i.embedderActionMetadata,embedderRef:()=>i.embedderRef,evaluatorRef:()=>i.evaluatorRef,getClientHeader:()=>m.getClientHeader,getCurrentEnv:()=>m.getCurrentEnv,getStreamingCallback:()=>m.getStreamingCallback,indexerRef:()=>i.indexerRef,isDevEnv:()=>m.isDevEnv,modelActionMetadata:()=>i.modelActionMetadata,modelRef:()=>i.modelRef,rerankerRef:()=>i.rerankerRef,resource:()=>i.resource,retrieverRef:()=>i.retrieverRef,runWithStreamingCallback:()=>m.runWithStreamingCallback,tool:()=>l.tool,z:()=>m.z}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(72300),j=c(44066),k=c(50300),l=c(50438),m=c(40979);(0,c(23017).initNodeFeatures)()},38623:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(12383),e=c(58704),f=c(86224),g=function(){function a(){}return a.prototype.startSpan=function(a,b){if(void 0===b&&(b={}),b.childOf){var c=d.childOf(b.childOf);b.references?b.references.push(c):b.references=[c],delete b.childOf}return this._startSpan(a,b)},a.prototype.inject=function(a,b,c){return a instanceof f.default&&(a=a.context()),this._inject(a,b,c)},a.prototype.extract=function(a,b){return this._extract(a,b)},a.prototype._startSpan=function(a,b){return e.span},a.prototype._inject=function(a,b,c){},a.prototype._extract=function(a,b){return e.spanContext},a}();b.Tracer=g,b.default=g},38702:(a,b,c)=>{"use strict";var d,e,f,g;Object.defineProperty(b,"__esModule",{value:!0}),b.log=b.setLoggerVerbosity=b.setLogger=b.getLogger=void 0,b.trace=function(a,c,d){q(c)&&(0,b.log)(a,new Date().toISOString()+" | v"+j+" "+i.pid+" | "+c+" | "+d)},b.isTracerEnabled=q;let h=c(56458),i=c(19771),j=c(19092).rE,k={error:(a,...b)=>{console.error("E "+a,...b)},info:(a,...b)=>{console.error("I "+a,...b)},debug:(a,...b)=>{console.error("D "+a,...b)}},l=h.LogVerbosity.ERROR;switch((null!=(e=null!=(d=process.env.GRPC_NODE_VERBOSITY)?d:process.env.GRPC_VERBOSITY)?e:"").toUpperCase()){case"DEBUG":l=h.LogVerbosity.DEBUG;break;case"INFO":l=h.LogVerbosity.INFO;break;case"ERROR":l=h.LogVerbosity.ERROR;break;case"NONE":l=h.LogVerbosity.NONE}b.getLogger=()=>k,b.setLogger=a=>{k=a},b.setLoggerVerbosity=a=>{l=a},b.log=(a,...b)=>{let c;if(a>=l){switch(a){case h.LogVerbosity.DEBUG:c=k.debug;break;case h.LogVerbosity.INFO:c=k.info;break;case h.LogVerbosity.ERROR:c=k.error}c||(c=k.error),c&&c.bind(k)(...b)}};let m=null!=(g=null!=(f=process.env.GRPC_NODE_TRACE)?f:process.env.GRPC_TRACE)?g:"",n=new Set,o=new Set;for(let a of m.split(","))a.startsWith("-")?o.add(a.substring(1)):n.add(a);let p=n.has("all");function q(a){return!o.has(a)&&(p||n.has(a))}},38785:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904);b.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:a,schemaCode:b})=>(0,d.str)`must NOT have ${"maxItems"===a?"more":"fewer"} than ${b} items`,params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a,f="maxItems"===b?d.operators.GT:d.operators.LT;a.fail$data((0,d._)`${c}.length ${f} ${e}`)}}},38904:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.or=b.and=b.not=b.CodeGen=b.operators=b.varKinds=b.ValueScopeName=b.ValueScope=b.Scope=b.Name=b.regexpCode=b.stringify=b.getProperty=b.nil=b.strConcat=b.str=b._=void 0;let d=c(60007),e=c(32344);var f=c(60007);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(b,"strConcat",{enumerable:!0,get:function(){return f.strConcat}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(b,"getProperty",{enumerable:!0,get:function(){return f.getProperty}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(b,"regexpCode",{enumerable:!0,get:function(){return f.regexpCode}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return f.Name}});var g=c(32344);Object.defineProperty(b,"Scope",{enumerable:!0,get:function(){return g.Scope}}),Object.defineProperty(b,"ValueScope",{enumerable:!0,get:function(){return g.ValueScope}}),Object.defineProperty(b,"ValueScopeName",{enumerable:!0,get:function(){return g.ValueScopeName}}),Object.defineProperty(b,"varKinds",{enumerable:!0,get:function(){return g.varKinds}}),b.operators={GT:new d._Code(">"),GTE:new d._Code(">="),LT:new d._Code("<"),LTE:new d._Code("<="),EQ:new d._Code("==="),NEQ:new d._Code("!=="),NOT:new d._Code("!"),OR:new d._Code("||"),AND:new d._Code("&&"),ADD:new d._Code("+")};class h{optimizeNodes(){return this}optimizeNames(a,b){return this}}class i extends h{constructor(a,b,c){super(),this.varKind=a,this.name=b,this.rhs=c}render({es5:a,_n:b}){let c=a?e.varKinds.var:this.varKind,d=void 0===this.rhs?"":` = ${this.rhs}`;return`${c} ${this.name}${d};`+b}optimizeNames(a,b){if(a[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,a,b)),this}get names(){return this.rhs instanceof d._CodeOrName?this.rhs.names:{}}}class j extends h{constructor(a,b,c){super(),this.lhs=a,this.rhs=b,this.sideEffects=c}render({_n:a}){return`${this.lhs} = ${this.rhs};`+a}optimizeNames(a,b){if(!(this.lhs instanceof d.Name)||a[this.lhs.str]||this.sideEffects)return this.rhs=G(this.rhs,a,b),this}get names(){return F(this.lhs instanceof d.Name?{}:{...this.lhs.names},this.rhs)}}class k extends j{constructor(a,b,c,d){super(a,c,d),this.op=b}render({_n:a}){return`${this.lhs} ${this.op}= ${this.rhs};`+a}}class l extends h{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){return`${this.label}:`+a}}class m extends h{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){let b=this.label?` ${this.label}`:"";return`break${b};`+a}}class n extends h{constructor(a){super(),this.error=a}render({_n:a}){return`throw ${this.error};`+a}get names(){return this.error.names}}class o extends h{constructor(a){super(),this.code=a}render({_n:a}){return`${this.code};`+a}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(a,b){return this.code=G(this.code,a,b),this}get names(){return this.code instanceof d._CodeOrName?this.code.names:{}}}class p extends h{constructor(a=[]){super(),this.nodes=a}render(a){return this.nodes.reduce((b,c)=>b+c.render(a),"")}optimizeNodes(){let{nodes:a}=this,b=a.length;for(;b--;){let c=a[b].optimizeNodes();Array.isArray(c)?a.splice(b,1,...c):c?a[b]=c:a.splice(b,1)}return a.length>0?this:void 0}optimizeNames(a,b){let{nodes:c}=this,d=c.length;for(;d--;){let e=c[d];e.optimizeNames(a,b)||(function(a,b){for(let c in b)a[c]=(a[c]||0)-(b[c]||0)}(a,e.names),c.splice(d,1))}return c.length>0?this:void 0}get names(){return this.nodes.reduce((a,b)=>E(a,b.names),{})}}class q extends p{render(a){return"{"+a._n+super.render(a)+"}"+a._n}}class r extends p{}class s extends q{}s.kind="else";class t extends q{constructor(a,b){super(b),this.condition=a}render(a){let b=`if(${this.condition})`+super.render(a);return this.else&&(b+="else "+this.else.render(a)),b}optimizeNodes(){super.optimizeNodes();let a=this.condition;if(!0===a)return this.nodes;let b=this.else;if(b){let a=b.optimizeNodes();b=this.else=Array.isArray(a)?new s(a):a}return b?!1===a?b instanceof t?b:b.nodes:this.nodes.length?this:new t(H(a),b instanceof t?[b]:b.nodes):!1!==a&&this.nodes.length?this:void 0}optimizeNames(a,b){var c;if(this.else=null==(c=this.else)?void 0:c.optimizeNames(a,b),super.optimizeNames(a,b)||this.else)return this.condition=G(this.condition,a,b),this}get names(){let a=super.names;return F(a,this.condition),this.else&&E(a,this.else.names),a}}t.kind="if";class u extends q{}u.kind="for";class v extends u{constructor(a){super(),this.iteration=a}render(a){return`for(${this.iteration})`+super.render(a)}optimizeNames(a,b){if(super.optimizeNames(a,b))return this.iteration=G(this.iteration,a,b),this}get names(){return E(super.names,this.iteration.names)}}class w extends u{constructor(a,b,c,d){super(),this.varKind=a,this.name=b,this.from=c,this.to=d}render(a){let b=a.es5?e.varKinds.var:this.varKind,{name:c,from:d,to:f}=this;return`for(${b} ${c}=${d}; ${c}<${f}; ${c}++)`+super.render(a)}get names(){let a=F(super.names,this.from);return F(a,this.to)}}class x extends u{constructor(a,b,c,d){super(),this.loop=a,this.varKind=b,this.name=c,this.iterable=d}render(a){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(a)}optimizeNames(a,b){if(super.optimizeNames(a,b))return this.iterable=G(this.iterable,a,b),this}get names(){return E(super.names,this.iterable.names)}}class y extends q{constructor(a,b,c){super(),this.name=a,this.args=b,this.async=c}render(a){let b=this.async?"async ":"";return`${b}function ${this.name}(${this.args})`+super.render(a)}}y.kind="func";class z extends p{render(a){return"return "+super.render(a)}}z.kind="return";class A extends q{render(a){let b="try"+super.render(a);return this.catch&&(b+=this.catch.render(a)),this.finally&&(b+=this.finally.render(a)),b}optimizeNodes(){var a,b;return super.optimizeNodes(),null==(a=this.catch)||a.optimizeNodes(),null==(b=this.finally)||b.optimizeNodes(),this}optimizeNames(a,b){var c,d;return super.optimizeNames(a,b),null==(c=this.catch)||c.optimizeNames(a,b),null==(d=this.finally)||d.optimizeNames(a,b),this}get names(){let a=super.names;return this.catch&&E(a,this.catch.names),this.finally&&E(a,this.finally.names),a}}class B extends q{constructor(a){super(),this.error=a}render(a){return`catch(${this.error})`+super.render(a)}}B.kind="catch";class C extends q{render(a){return"finally"+super.render(a)}}C.kind="finally";class D{constructor(a,b={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...b,_n:b.lines?"\n":""},this._extScope=a,this._scope=new e.Scope({parent:a}),this._nodes=[new r]}toString(){return this._root.render(this.opts)}name(a){return this._scope.name(a)}scopeName(a){return this._extScope.name(a)}scopeValue(a,b){let c=this._extScope.value(a,b);return(this._values[c.prefix]||(this._values[c.prefix]=new Set)).add(c),c}getScopeValue(a,b){return this._extScope.getValue(a,b)}scopeRefs(a){return this._extScope.scopeRefs(a,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(a,b,c,d){let e=this._scope.toName(b);return void 0!==c&&d&&(this._constants[e.str]=c),this._leafNode(new i(a,e,c)),e}const(a,b,c){return this._def(e.varKinds.const,a,b,c)}let(a,b,c){return this._def(e.varKinds.let,a,b,c)}var(a,b,c){return this._def(e.varKinds.var,a,b,c)}assign(a,b,c){return this._leafNode(new j(a,b,c))}add(a,c){return this._leafNode(new k(a,b.operators.ADD,c))}code(a){return"function"==typeof a?a():a!==d.nil&&this._leafNode(new o(a)),this}object(...a){let b=["{"];for(let[c,e]of a)b.length>1&&b.push(","),b.push(c),(c!==e||this.opts.es5)&&(b.push(":"),(0,d.addCodeArg)(b,e));return b.push("}"),new d._Code(b)}if(a,b,c){if(this._blockNode(new t(a)),b&&c)this.code(b).else().code(c).endIf();else if(b)this.code(b).endIf();else if(c)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(a){return this._elseNode(new t(a))}else(){return this._elseNode(new s)}endIf(){return this._endBlockNode(t,s)}_for(a,b){return this._blockNode(a),b&&this.code(b).endFor(),this}for(a,b){return this._for(new v(a),b)}forRange(a,b,c,d,f=this.opts.es5?e.varKinds.var:e.varKinds.let){let g=this._scope.toName(a);return this._for(new w(f,g,b,c),()=>d(g))}forOf(a,b,c,f=e.varKinds.const){let g=this._scope.toName(a);if(this.opts.es5){let a=b instanceof d.Name?b:this.var("_arr",b);return this.forRange("_i",0,(0,d._)`${a}.length`,b=>{this.var(g,(0,d._)`${a}[${b}]`),c(g)})}return this._for(new x("of",f,g,b),()=>c(g))}forIn(a,b,c,f=this.opts.es5?e.varKinds.var:e.varKinds.const){if(this.opts.ownProperties)return this.forOf(a,(0,d._)`Object.keys(${b})`,c);let g=this._scope.toName(a);return this._for(new x("in",f,g,b),()=>c(g))}endFor(){return this._endBlockNode(u)}label(a){return this._leafNode(new l(a))}break(a){return this._leafNode(new m(a))}return(a){let b=new z;if(this._blockNode(b),this.code(a),1!==b.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(z)}try(a,b,c){if(!b&&!c)throw Error('CodeGen: "try" without "catch" and "finally"');let d=new A;if(this._blockNode(d),this.code(a),b){let a=this.name("e");this._currNode=d.catch=new B(a),b(a)}return c&&(this._currNode=d.finally=new C,this.code(c)),this._endBlockNode(B,C)}throw(a){return this._leafNode(new n(a))}block(a,b){return this._blockStarts.push(this._nodes.length),a&&this.code(a).endBlock(b),this}endBlock(a){let b=this._blockStarts.pop();if(void 0===b)throw Error("CodeGen: not in self-balancing block");let c=this._nodes.length-b;if(c<0||void 0!==a&&c!==a)throw Error(`CodeGen: wrong number of nodes: ${c} vs ${a} expected`);return this._nodes.length=b,this}func(a,b=d.nil,c,e){return this._blockNode(new y(a,b,c)),e&&this.code(e).endFunc(),this}endFunc(){return this._endBlockNode(y)}optimize(a=1){for(;a-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(a){return this._currNode.nodes.push(a),this}_blockNode(a){this._currNode.nodes.push(a),this._nodes.push(a)}_endBlockNode(a,b){let c=this._currNode;if(c instanceof a||b&&c instanceof b)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${b?`${a.kind}/${b.kind}`:a.kind}"`)}_elseNode(a){let b=this._currNode;if(!(b instanceof t))throw Error('CodeGen: "else" without "if"');return this._currNode=b.else=a,this}get _root(){return this._nodes[0]}get _currNode(){let a=this._nodes;return a[a.length-1]}set _currNode(a){let b=this._nodes;b[b.length-1]=a}}function E(a,b){for(let c in b)a[c]=(a[c]||0)+(b[c]||0);return a}function F(a,b){return b instanceof d._CodeOrName?E(a,b.names):a}function G(a,b,c){var e;if(a instanceof d.Name)return f(a);if(!((e=a)instanceof d._Code&&e._items.some(a=>a instanceof d.Name&&1===b[a.str]&&void 0!==c[a.str])))return a;return new d._Code(a._items.reduce((a,b)=>(b instanceof d.Name&&(b=f(b)),b instanceof d._Code?a.push(...b._items):a.push(b),a),[]));function f(a){let d=c[a.str];return void 0===d||1!==b[a.str]?a:(delete b[a.str],d)}}function H(a){return"boolean"==typeof a||"number"==typeof a||null===a?!a:(0,d._)`!${L(a)}`}b.CodeGen=D,b.not=H;let I=K(b.operators.AND);b.and=function(...a){return a.reduce(I)};let J=K(b.operators.OR);function K(a){return(b,c)=>b===d.nil?c:c===d.nil?b:(0,d._)`${L(b)} ${a} ${L(c)}`}function L(a){return a instanceof d.Name?a:(0,d._)`(${a})`}b.or=function(...a){return a.reduce(J)}},39547:(a,b,c)=>{"use strict";var d=c(28354),e=c(89220),f=c(76019),g=c(82740),h=c(8193);function i(){e.Base.call(this)}function j(){}d.inherits(i,e.Base),i.prototype.lengthResult=e.LengthResult.just(8),i.prototype.poolByteLength=function(a,b){return a.reset(null,8)},i.prototype.poolWriteInto=function(a,b,c,d){if(b instanceof Buffer)return this.writeBufferInt64Into(a,b,c,d);if("number"==typeof b){var e=f.fromNumber(b);return c.writeInt32BE(e.high,d,!0),c.writeInt32BE(e.low,d+4,!0),a.reset(null,d+8)}if(Array.isArray(b))return this.writeArrayInt64Into(a,b,c,d);if("string"==typeof b)return this.writeStringInt64Into(a,b,c,d);if(b&&"object"==typeof b)return this.writeObjectInt64Into(a,b,c,d);else return a.reset(h.expected(b,"i64 representation"))},i.prototype.writeBufferInt64Into=function(a,b,c,d){return b.copy(c,d,0,8),a.reset(null,d+8)},i.prototype.writeObjectInt64Into=function(a,b,c,d){return"number"!=typeof b.high&&"number"!=typeof b.hi?a.reset(h.expected(b,"{hi[gh], lo[w]} with high bits, or other i64 representation"),null):"number"!=typeof b.low&&"number"!=typeof b.lo?a.reset(h.expected(b,"{hi[gh], lo[w]} with low bits, or other i64 representation"),null):(c.writeInt32BE(b.high||b.hi,d,!0),c.writeInt32BE(b.low||b.lo,d+4,!0),a.reset(null,d+8))},i.prototype.writeArrayInt64Into=function(a,b,c,d){if(8!==b.length)return a.reset(h.expected(b,"an array of 8 bytes, or other i64 representation"),null);for(var e=0;e<8;e++)c[d+e]=255&b[e];return a.reset(null,d+8)},i.prototype.writeStringInt64Into=function(a,b,c,d){if(16!==b.length)return a.reset(h.expected(b,"a string of 16 hex characters, or other i64 representation"),null);var e=parseInt(b.slice(0,8),16);if(e!=e)return a.reset(h.expected(b,"a string of hex characters, or other i64 representation"),null);var f=parseInt(b.slice(8,16),16);return f!=f?a.reset(h.expected(b,"a string of hex characters, or other i64 representation"),null):(c.writeInt32BE(e,d),c.writeInt32BE(f,d+4),a.reset(null,d+8))},d.inherits(j,i),j.prototype.poolReadFrom=function(a,b,c){var d=f.fromBits(b.readInt32BE(c+4,4,!0),b.readInt32BE(c,4,!0));return a.reset(null,c+8,d)};var k=new j;function l(){}d.inherits(l,i),l.prototype.poolReadFrom=function(a,b,c){var d=new Date(f.fromBits(b.readInt32BE(c+4,4,!0),b.readInt32BE(c+0,4,!0)).toNumber());return a.reset(null,c+8,d)},l.prototype.poolWriteInto=function(a,b,c,d){return b instanceof Buffer?this.writeBufferInt64Into(a,b,c,d):Array.isArray(b)?this.writeArrayInt64Into(a,b,c,d):("string"==typeof b&&(b=Date.parse(b)),b=f.fromNumber(+b),this.writeObjectInt64Into(a,b,c,d))};var m=new l;function n(){}d.inherits(n,i),n.prototype.poolReadFrom=function(a,b,c){var d=new Buffer(8);return b.copy(d,0,c,c+8),a.reset(null,c+8,d)};var o=new n;function p(a){a&&"Long"===a["js.type"]?(this.rw=k,this.surface=f):a&&"Date"===a["js.type"]?(this.rw=m,this.surface=Date):(this.rw=o,this.surface=Buffer),this.annotations=a}p.prototype.name="i64",p.prototype.typeid=g.I64,p.prototype.models="type",a.exports.I64RW=i,a.exports.ThriftI64=p},39584:(a,b)=>{"use strict";b.__esModule=!0,b.default=function(){var a,b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=f[h];break;case 9:this.$={type:"CommentStatement",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[h-3],params:f[h-2],hash:f[h-1],indent:"",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 29:this.$={type:"SubExpression",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 35:this.$={type:"StringLiteral",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===f[h],original:"true"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:d.locInfo(this._$)};break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:f[h-1].push(f[h]);break;case 98:case 100:this.$=[f[h]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(a,b){throw Error(a)},parse:function(a){var b=this,c=[0],d=[null],e=[],f=this.table,g="",h=0,i=0,j=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var k=this.lexer.yylloc;e.push(k);var l=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var m,n,o,p,q,r,s,t,u,v={};;){if(o=c[c.length-1],this.defaultActions[o]?p=this.defaultActions[o]:(null==m&&(m=function(){var a;return"number"!=typeof(a=b.lexer.lex()||1)&&(a=b.symbols_[a]||a),a}()),p=f[o]&&f[o][m]),void 0===p||!p.length||!p[0]){var w="";if(!j){for(r in u=[],f[o])this.terminals_[r]&&r>2&&u.push("'"+this.terminals_[r]+"'");w=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+u.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(w,{text:this.lexer.match,token:this.terminals_[m]||m,line:this.lexer.yylineno,loc:k,expected:u})}}if(p[0]instanceof Array&&p.length>1)throw Error("Parse Error: multiple actions possible at state: "+o+", token: "+m);switch(p[0]){case 1:c.push(m),d.push(this.lexer.yytext),e.push(this.lexer.yylloc),c.push(p[1]),m=null,n?(m=n,n=null):(i=this.lexer.yyleng,g=this.lexer.yytext,h=this.lexer.yylineno,k=this.lexer.yylloc,j>0&&j--);break;case 2:if(s=this.productions_[p[1]][1],v.$=d[d.length-s],v._$={first_line:e[e.length-(s||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(s||1)].first_column,last_column:e[e.length-1].last_column},l&&(v._$.range=[e[e.length-(s||1)].range[0],e[e.length-1].range[1]]),void 0!==(q=this.performAction.call(v,g,i,h,this.yy,p[1],d,e)))return q;s&&(c=c.slice(0,-1*s*2),d=d.slice(0,-1*s),e=e.slice(0,-1*s)),c.push(this.productions_[p[1]][0]),d.push(v.$),e.push(v._$),t=f[c[c.length-2]][c[c.length-1]],c.push(t);break;case 3:return!0}}return!0}};function c(){this.yy={}}return(a={EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];return this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a,a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a,b,c,d,e,f=this._currentRules(),g=0;g<f.length&&(!(c=this._input.match(this.rules[f[g]]))||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?((e=b[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a)?a:void 0:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return void 0!==a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}}).options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substring(a,b.yyleng-c+a)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:if(this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1])return 15;return e(5,9),"END_RAW_BLOCK";case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},b.lexer=a,c.prototype=b,b.Parser=c,new c}(),a.exports=b.default},39813:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(46178);b.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:a,parentSchema:b,it:c}){void 0===b.if&&(0,d.checkStrictMode)(c,`"${a}" without "if" is ignored`)}}},39838:(a,b,c)=>{"use strict";var d=c(82740),e=c(76750).MapObjectRW,f=c(85).MapEntriesRW,g=c(32437);function h(a,b,c){this.rw=null,this.surface=null;var d=c["js.type"]||"object";if("object"===d)this.rw=new e(a,b),this.surface=Object;else if("entries"===d)this.rw=new f(a,b),this.surface=Array;else throw g.UnexpectedMapTypeAnnotation({mapType:d});this.annotations=c}h.prototype.name="map",h.prototype.typeid=d.MAP,h.prototype.models="type",a.exports.U=h},40369:(a,b)=>{"use strict";b.__esModule=!0,b.wrapHelper=function(a,b){return"function"!=typeof a?a:function(){var c=arguments[arguments.length-1];return arguments[arguments.length-1]=b(c),a.apply(this,arguments)}}},40613:(a,b,c)=>{"use strict";var d=c(54726),e=c(68042),f=c(62806);b.resolveBlockSeq=function({composeNode:a,composeEmptyNode:b},c,g,h,i){let j=new(i?.nodeClass??d.YAMLSeq)(c.schema);c.atRoot&&(c.atRoot=!1),c.atKey&&(c.atKey=!1);let k=g.offset,l=null;for(let{start:d,value:i}of g.items){let m=e.resolveProps(d,{indicator:"seq-item-ind",next:i,offset:k,onError:h,parentIndent:g.indent,startOnNewline:!0});if(!m.found)if(m.anchor||m.tag||i)i&&"block-seq"===i.type?h(m.end,"BAD_INDENT","All sequence items must start at the same column"):h(k,"MISSING_CHAR","Sequence item without - indicator");else{l=m.end,m.comment&&(j.comment=m.comment);continue}let n=i?a(c,i,m,h):b(c,m.end,d,null,m,h);c.schema.compat&&f.flowIndentCheck(g.indent,i,h),k=n.range[2],j.items.push(n)}return j.range=[g.offset,k,l??k],j}},40979:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=(a,b,c)=>(h(a,b,"default"),c&&h(c,b,"default")),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{GENKIT_CLIENT_HEADER:()=>u,GENKIT_REFLECTION_API_SPEC_VERSION:()=>v,GENKIT_VERSION:()=>t,GenkitError:()=>q.GenkitError,OperationSchema:()=>n.OperationSchema,UnstableApiError:()=>q.UnstableApiError,UserFacingError:()=>q.UserFacingError,apiKey:()=>o.apiKey,assertUnstable:()=>q.assertUnstable,backgroundAction:()=>n.backgroundAction,defineBackgroundAction:()=>n.defineBackgroundAction,defineDynamicActionProvider:()=>p.defineDynamicActionProvider,defineFlow:()=>r.defineFlow,defineJsonSchema:()=>s.defineJsonSchema,defineSchema:()=>s.defineSchema,flow:()=>r.flow,getAsyncContext:()=>m.getAsyncContext,getCallableJSON:()=>q.getCallableJSON,getClientHeader:()=>x,getContext:()=>o.getContext,getHttpStatus:()=>q.getHttpStatus,isBackgroundAction:()=>n.isBackgroundAction,registerBackgroundAction:()=>n.registerBackgroundAction,run:()=>r.run,runWithContext:()=>o.runWithContext,setClientHeader:()=>y,z:()=>l.z}),a.exports=h(d({},"__esModule",{value:!0}),j);var k=c(31843),l=c(62934);i(j,c(24275),a.exports);var m=c(50673),n=c(49528),o=c(58482),p=c(71639),q=c(53369),r=c(51925);i(j,c(77924),a.exports),i(j,c(20790),a.exports);var s=c(76944);i(j,c(94829),a.exports),i(j,c(49176),a.exports);let t=k.version,u=`genkit-node/${t} gl-node/${process.versions.node}`,v=1,w="__genkit_ClientHeader";function x(){return global[w]?u+" "+global[w]:u}function y(a){global[w]=a}},41082:(a,b)=>{"use strict";let c="block",d="quoted";function e(a,b,c){let d=b,e=b+1,f=a[e];for(;" "===f||"	"===f;)if(b<e+c)f=a[++b];else{do f=a[++b];while(f&&"\n"!==f);d=b,f=a[e=b+1]}return d}b.FOLD_BLOCK=c,b.FOLD_FLOW="flow",b.FOLD_QUOTED=d,b.foldFlowLines=function(a,b,f="flow",{indentAtStart:g,lineWidth:h=80,minContentWidth:i=20,onFold:j,onOverflow:k}={}){let l,m,n;if(!h||h<0)return a;h<i&&(i=0);let o=Math.max(1+i,1+h-b.length);if(a.length<=o)return a;let p=[],q={},r=h-b.length;"number"==typeof g&&(g>h-Math.max(2,i)?p.push(0):r=h-g);let s=!1,t=-1,u=-1,v=-1;for(f===c&&-1!==(t=e(a,t,b.length))&&(r=t+o);n=a[t+=1];){if(f===d&&"\\"===n){switch(u=t,a[t+1]){case"x":t+=3;break;case"u":t+=5;break;case"U":t+=9;break;default:t+=1}v=t}if("\n"===n)f===c&&(t=e(a,t,b.length)),r=t+b.length+o,l=void 0;else{if(" "===n&&m&&" "!==m&&"\n"!==m&&"	"!==m){let b=a[t+1];b&&" "!==b&&"\n"!==b&&"	"!==b&&(l=t)}if(t>=r)if(l)p.push(l),r=l+o,l=void 0;else if(f===d){for(;" "===m||"	"===m;)m=n,n=a[t+=1],s=!0;let b=t>v+1?t-2:u-1;if(q[b])return a;p.push(b),q[b]=!0,r=b+o,l=void 0}else s=!0}m=n}if(s&&k&&k(),0===p.length)return a;j&&j();let w=a.slice(0,p[0]);for(let c=0;c<p.length;++c){let e=p[c],g=p[c+1]||a.length;0===e?w=`
${b}${a.slice(0,g)}`:(f===d&&q[e]&&(w+=`${a[e]}\\`),w+=`
${b}${a.slice(e+1,g)}`)}return w}},41310:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(46178);b.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(a){let{gen:b,schema:c,it:e}=a;if((0,d.alwaysValidSchema)(e,c))return void a.fail();let f=b.name("valid");a.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},f),a.failResult(f,()=>a.reset(),()=>a.error())},error:{message:"must NOT be valid"}}},41490:(a,b,c)=>{"use strict";var d=c(20861),e=d.Reader,f=d.Writer,g=d.util,h=d.roots.default||(d.roots.default={});h.opentelemetry=function(){var a,b,c,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F={};return a={},b={},(c={}).AnyValue=function(){var a;function b(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.stringValue=null,b.prototype.boolValue=null,b.prototype.intValue=null,b.prototype.doubleValue=null,b.prototype.arrayValue=null,b.prototype.kvlistValue=null,b.prototype.bytesValue=null,Object.defineProperty(b.prototype,"value",{get:g.oneOfGetter(a=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){return b||(b=f.create()),null!=a.stringValue&&Object.hasOwnProperty.call(a,"stringValue")&&b.uint32(10).string(a.stringValue),null!=a.boolValue&&Object.hasOwnProperty.call(a,"boolValue")&&b.uint32(16).bool(a.boolValue),null!=a.intValue&&Object.hasOwnProperty.call(a,"intValue")&&b.uint32(24).int64(a.intValue),null!=a.doubleValue&&Object.hasOwnProperty.call(a,"doubleValue")&&b.uint32(33).double(a.doubleValue),null!=a.arrayValue&&Object.hasOwnProperty.call(a,"arrayValue")&&h.opentelemetry.proto.common.v1.ArrayValue.encode(a.arrayValue,b.uint32(42).fork()).ldelim(),null!=a.kvlistValue&&Object.hasOwnProperty.call(a,"kvlistValue")&&h.opentelemetry.proto.common.v1.KeyValueList.encode(a.kvlistValue,b.uint32(50).fork()).ldelim(),null!=a.bytesValue&&Object.hasOwnProperty.call(a,"bytesValue")&&b.uint32(58).bytes(a.bytesValue),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.common.v1.AnyValue;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.stringValue=a.string();break;case 2:d.boolValue=a.bool();break;case 3:d.intValue=a.int64();break;case 4:d.doubleValue=a.double();break;case 5:d.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.decode(a,a.uint32());break;case 6:d.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.decode(a,a.uint32());break;case 7:d.bytesValue=a.bytes();break;default:a.skipType(7&f)}}return d},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.stringValue&&a.hasOwnProperty("stringValue")&&(b.value=1,!g.isString(a.stringValue)))return"stringValue: string expected";if(null!=a.boolValue&&a.hasOwnProperty("boolValue")){if(1===b.value)return"value: multiple values";if(b.value=1,"boolean"!=typeof a.boolValue)return"boolValue: boolean expected"}if(null!=a.intValue&&a.hasOwnProperty("intValue")){if(1===b.value)return"value: multiple values";if(b.value=1,!g.isInteger(a.intValue)&&!(a.intValue&&g.isInteger(a.intValue.low)&&g.isInteger(a.intValue.high)))return"intValue: integer|Long expected"}if(null!=a.doubleValue&&a.hasOwnProperty("doubleValue")){if(1===b.value)return"value: multiple values";if(b.value=1,"number"!=typeof a.doubleValue)return"doubleValue: number expected"}if(null!=a.arrayValue&&a.hasOwnProperty("arrayValue")){if(1===b.value)return"value: multiple values";b.value=1;var c=h.opentelemetry.proto.common.v1.ArrayValue.verify(a.arrayValue);if(c)return"arrayValue."+c}if(null!=a.kvlistValue&&a.hasOwnProperty("kvlistValue")){if(1===b.value)return"value: multiple values";b.value=1;var c=h.opentelemetry.proto.common.v1.KeyValueList.verify(a.kvlistValue);if(c)return"kvlistValue."+c}if(null!=a.bytesValue&&a.hasOwnProperty("bytesValue")){if(1===b.value)return"value: multiple values";if(b.value=1,!(a.bytesValue&&"number"==typeof a.bytesValue.length||g.isString(a.bytesValue)))return"bytesValue: buffer expected"}return null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.AnyValue)return a;var b=new h.opentelemetry.proto.common.v1.AnyValue;if(null!=a.stringValue&&(b.stringValue=String(a.stringValue)),null!=a.boolValue&&(b.boolValue=!!a.boolValue),null!=a.intValue&&(g.Long?(b.intValue=g.Long.fromValue(a.intValue)).unsigned=!1:"string"==typeof a.intValue?b.intValue=parseInt(a.intValue,10):"number"==typeof a.intValue?b.intValue=a.intValue:"object"==typeof a.intValue&&(b.intValue=new g.LongBits(a.intValue.low>>>0,a.intValue.high>>>0).toNumber())),null!=a.doubleValue&&(b.doubleValue=Number(a.doubleValue)),null!=a.arrayValue){if("object"!=typeof a.arrayValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");b.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.fromObject(a.arrayValue)}if(null!=a.kvlistValue){if("object"!=typeof a.kvlistValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");b.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.fromObject(a.kvlistValue)}return null!=a.bytesValue&&("string"==typeof a.bytesValue?g.base64.decode(a.bytesValue,b.bytesValue=g.newBuffer(g.base64.length(a.bytesValue)),0):a.bytesValue.length>=0&&(b.bytesValue=a.bytesValue)),b},b.toObject=function(a,b){b||(b={});var c={};return null!=a.stringValue&&a.hasOwnProperty("stringValue")&&(c.stringValue=a.stringValue,b.oneofs&&(c.value="stringValue")),null!=a.boolValue&&a.hasOwnProperty("boolValue")&&(c.boolValue=a.boolValue,b.oneofs&&(c.value="boolValue")),null!=a.intValue&&a.hasOwnProperty("intValue")&&("number"==typeof a.intValue?c.intValue=b.longs===String?String(a.intValue):a.intValue:c.intValue=b.longs===String?g.Long.prototype.toString.call(a.intValue):b.longs===Number?new g.LongBits(a.intValue.low>>>0,a.intValue.high>>>0).toNumber():a.intValue,b.oneofs&&(c.value="intValue")),null!=a.doubleValue&&a.hasOwnProperty("doubleValue")&&(c.doubleValue=b.json&&!isFinite(a.doubleValue)?String(a.doubleValue):a.doubleValue,b.oneofs&&(c.value="doubleValue")),null!=a.arrayValue&&a.hasOwnProperty("arrayValue")&&(c.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.toObject(a.arrayValue,b),b.oneofs&&(c.value="arrayValue")),null!=a.kvlistValue&&a.hasOwnProperty("kvlistValue")&&(c.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.toObject(a.kvlistValue,b),b.oneofs&&(c.value="kvlistValue")),null!=a.bytesValue&&a.hasOwnProperty("bytesValue")&&(c.bytesValue=b.bytes===String?g.base64.encode(a.bytesValue,0,a.bytesValue.length):b.bytes===Array?Array.prototype.slice.call(a.bytesValue):a.bytesValue,b.oneofs&&(c.value="bytesValue")),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.AnyValue"},b}(),c.ArrayValue=function(){function a(a){if(this.values=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.values=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.values&&a.values.length)for(var c=0;c<a.values.length;++c)h.opentelemetry.proto.common.v1.AnyValue.encode(a.values[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.common.v1.ArrayValue;a.pos<c;){var f=a.uint32();f>>>3==1?(d.values&&d.values.length||(d.values=[]),d.values.push(h.opentelemetry.proto.common.v1.AnyValue.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.values&&a.hasOwnProperty("values")){if(!Array.isArray(a.values))return"values: array expected";for(var b=0;b<a.values.length;++b){var c=h.opentelemetry.proto.common.v1.AnyValue.verify(a.values[b]);if(c)return"values."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.ArrayValue)return a;var b=new h.opentelemetry.proto.common.v1.ArrayValue;if(a.values){if(!Array.isArray(a.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");b.values=[];for(var c=0;c<a.values.length;++c){if("object"!=typeof a.values[c])throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");b.values[c]=h.opentelemetry.proto.common.v1.AnyValue.fromObject(a.values[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.values=[]),a.values&&a.values.length){c.values=[];for(var d=0;d<a.values.length;++d)c.values[d]=h.opentelemetry.proto.common.v1.AnyValue.toObject(a.values[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.ArrayValue"},a}(),c.KeyValueList=function(){function a(a){if(this.values=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.values=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.values&&a.values.length)for(var c=0;c<a.values.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.values[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.common.v1.KeyValueList;a.pos<c;){var f=a.uint32();f>>>3==1?(d.values&&d.values.length||(d.values=[]),d.values.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.values&&a.hasOwnProperty("values")){if(!Array.isArray(a.values))return"values: array expected";for(var b=0;b<a.values.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.values[b]);if(c)return"values."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.KeyValueList)return a;var b=new h.opentelemetry.proto.common.v1.KeyValueList;if(a.values){if(!Array.isArray(a.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");b.values=[];for(var c=0;c<a.values.length;++c){if("object"!=typeof a.values[c])throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");b.values[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.values[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.values=[]),a.values&&a.values.length){c.values=[];for(var d=0;d<a.values.length;++d)c.values[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.values[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.KeyValueList"},a}(),c.KeyValue=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.key=null,a.prototype.value=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.key&&Object.hasOwnProperty.call(a,"key")&&b.uint32(10).string(a.key),null!=a.value&&Object.hasOwnProperty.call(a,"value")&&h.opentelemetry.proto.common.v1.AnyValue.encode(a.value,b.uint32(18).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.common.v1.KeyValue;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.key=a.string();break;case 2:d.value=h.opentelemetry.proto.common.v1.AnyValue.decode(a,a.uint32());break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.key&&a.hasOwnProperty("key")&&!g.isString(a.key))return"key: string expected";if(null!=a.value&&a.hasOwnProperty("value")){var b=h.opentelemetry.proto.common.v1.AnyValue.verify(a.value);if(b)return"value."+b}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.KeyValue)return a;var b=new h.opentelemetry.proto.common.v1.KeyValue;if(null!=a.key&&(b.key=String(a.key)),null!=a.value){if("object"!=typeof a.value)throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");b.value=h.opentelemetry.proto.common.v1.AnyValue.fromObject(a.value)}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.key="",c.value=null),null!=a.key&&a.hasOwnProperty("key")&&(c.key=a.key),null!=a.value&&a.hasOwnProperty("value")&&(c.value=h.opentelemetry.proto.common.v1.AnyValue.toObject(a.value,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.KeyValue"},a}(),c.InstrumentationScope=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.name=null,a.prototype.version=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.name&&Object.hasOwnProperty.call(a,"name")&&b.uint32(10).string(a.name),null!=a.version&&Object.hasOwnProperty.call(a,"version")&&b.uint32(18).string(a.version),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(26).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(32).uint32(a.droppedAttributesCount),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.common.v1.InstrumentationScope;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.name=a.string();break;case 2:d.version=a.string();break;case 3:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 4:d.droppedAttributesCount=a.uint32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.name&&a.hasOwnProperty("name")&&!g.isString(a.name))return"name: string expected";if(null!=a.version&&a.hasOwnProperty("version")&&!g.isString(a.version))return"version: string expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.InstrumentationScope)return a;var b=new h.opentelemetry.proto.common.v1.InstrumentationScope;if(null!=a.name&&(b.name=String(a.name)),null!=a.version&&(b.version=String(a.version)),a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults&&(c.name="",c.version="",c.droppedAttributesCount=0),null!=a.name&&a.hasOwnProperty("name")&&(c.name=a.name),null!=a.version&&a.hasOwnProperty("version")&&(c.version=a.version),a.attributes&&a.attributes.length){c.attributes=[];for(var d=0;d<a.attributes.length;++d)c.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[d],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.InstrumentationScope"},a}(),b.v1=c,a.common=b,i={},(j={}).Resource=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(10).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(16).uint32(a.droppedAttributesCount),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.resource.v1.Resource;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:d.droppedAttributesCount=a.uint32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.resource.v1.Resource)return a;var b=new h.opentelemetry.proto.resource.v1.Resource;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults&&(c.droppedAttributesCount=0),a.attributes&&a.attributes.length){c.attributes=[];for(var d=0;d<a.attributes.length;++d)c.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[d],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.resource.v1.Resource"},a}(),i.v1=j,a.resource=i,k={},(l={}).TracesData=function(){function a(a){if(this.resourceSpans=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceSpans=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceSpans&&a.resourceSpans.length)for(var c=0;c<a.resourceSpans.length;++c)h.opentelemetry.proto.trace.v1.ResourceSpans.encode(a.resourceSpans[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.TracesData;a.pos<c;){var f=a.uint32();f>>>3==1?(d.resourceSpans&&d.resourceSpans.length||(d.resourceSpans=[]),d.resourceSpans.push(h.opentelemetry.proto.trace.v1.ResourceSpans.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceSpans&&a.hasOwnProperty("resourceSpans")){if(!Array.isArray(a.resourceSpans))return"resourceSpans: array expected";for(var b=0;b<a.resourceSpans.length;++b){var c=h.opentelemetry.proto.trace.v1.ResourceSpans.verify(a.resourceSpans[b]);if(c)return"resourceSpans."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.TracesData)return a;var b=new h.opentelemetry.proto.trace.v1.TracesData;if(a.resourceSpans){if(!Array.isArray(a.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");b.resourceSpans=[];for(var c=0;c<a.resourceSpans.length;++c){if("object"!=typeof a.resourceSpans[c])throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");b.resourceSpans[c]=h.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(a.resourceSpans[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceSpans=[]),a.resourceSpans&&a.resourceSpans.length){c.resourceSpans=[];for(var d=0;d<a.resourceSpans.length;++d)c.resourceSpans[d]=h.opentelemetry.proto.trace.v1.ResourceSpans.toObject(a.resourceSpans[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.TracesData"},a}(),l.ResourceSpans=function(){function a(a){if(this.scopeSpans=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resource=null,a.prototype.scopeSpans=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resource&&Object.hasOwnProperty.call(a,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(a.resource,b.uint32(10).fork()).ldelim(),null!=a.scopeSpans&&a.scopeSpans.length)for(var c=0;c<a.scopeSpans.length;++c)h.opentelemetry.proto.trace.v1.ScopeSpans.encode(a.scopeSpans[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.ResourceSpans;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.resource=h.opentelemetry.proto.resource.v1.Resource.decode(a,a.uint32());break;case 2:d.scopeSpans&&d.scopeSpans.length||(d.scopeSpans=[]),d.scopeSpans.push(h.opentelemetry.proto.trace.v1.ScopeSpans.decode(a,a.uint32()));break;case 3:d.schemaUrl=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resource&&a.hasOwnProperty("resource")){var b=h.opentelemetry.proto.resource.v1.Resource.verify(a.resource);if(b)return"resource."+b}if(null!=a.scopeSpans&&a.hasOwnProperty("scopeSpans")){if(!Array.isArray(a.scopeSpans))return"scopeSpans: array expected";for(var c=0;c<a.scopeSpans.length;++c){var b=h.opentelemetry.proto.trace.v1.ScopeSpans.verify(a.scopeSpans[c]);if(b)return"scopeSpans."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.ResourceSpans)return a;var b=new h.opentelemetry.proto.trace.v1.ResourceSpans;if(null!=a.resource){if("object"!=typeof a.resource)throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");b.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(a.resource)}if(a.scopeSpans){if(!Array.isArray(a.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");b.scopeSpans=[];for(var c=0;c<a.scopeSpans.length;++c){if("object"!=typeof a.scopeSpans[c])throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");b.scopeSpans[c]=h.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(a.scopeSpans[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.scopeSpans=[]),b.defaults&&(c.resource=null,c.schemaUrl=""),null!=a.resource&&a.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(a.resource,b)),a.scopeSpans&&a.scopeSpans.length){c.scopeSpans=[];for(var d=0;d<a.scopeSpans.length;++d)c.scopeSpans[d]=h.opentelemetry.proto.trace.v1.ScopeSpans.toObject(a.scopeSpans[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.ResourceSpans"},a}(),l.ScopeSpans=function(){function a(a){if(this.spans=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.scope=null,a.prototype.spans=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.scope&&Object.hasOwnProperty.call(a,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(a.scope,b.uint32(10).fork()).ldelim(),null!=a.spans&&a.spans.length)for(var c=0;c<a.spans.length;++c)h.opentelemetry.proto.trace.v1.Span.encode(a.spans[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.ScopeSpans;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(a,a.uint32());break;case 2:d.spans&&d.spans.length||(d.spans=[]),d.spans.push(h.opentelemetry.proto.trace.v1.Span.decode(a,a.uint32()));break;case 3:d.schemaUrl=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.scope&&a.hasOwnProperty("scope")){var b=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(a.scope);if(b)return"scope."+b}if(null!=a.spans&&a.hasOwnProperty("spans")){if(!Array.isArray(a.spans))return"spans: array expected";for(var c=0;c<a.spans.length;++c){var b=h.opentelemetry.proto.trace.v1.Span.verify(a.spans[c]);if(b)return"spans."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.ScopeSpans)return a;var b=new h.opentelemetry.proto.trace.v1.ScopeSpans;if(null!=a.scope){if("object"!=typeof a.scope)throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");b.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(a.scope)}if(a.spans){if(!Array.isArray(a.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");b.spans=[];for(var c=0;c<a.spans.length;++c){if("object"!=typeof a.spans[c])throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");b.spans[c]=h.opentelemetry.proto.trace.v1.Span.fromObject(a.spans[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.spans=[]),b.defaults&&(c.scope=null,c.schemaUrl=""),null!=a.scope&&a.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(a.scope,b)),a.spans&&a.spans.length){c.spans=[];for(var d=0;d<a.spans.length;++d)c.spans[d]=h.opentelemetry.proto.trace.v1.Span.toObject(a.spans[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.ScopeSpans"},a}(),l.Span=function(){var a,b;function c(a){if(this.attributes=[],this.events=[],this.links=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return c.prototype.traceId=null,c.prototype.spanId=null,c.prototype.traceState=null,c.prototype.parentSpanId=null,c.prototype.name=null,c.prototype.kind=null,c.prototype.startTimeUnixNano=null,c.prototype.endTimeUnixNano=null,c.prototype.attributes=g.emptyArray,c.prototype.droppedAttributesCount=null,c.prototype.events=g.emptyArray,c.prototype.droppedEventsCount=null,c.prototype.links=g.emptyArray,c.prototype.droppedLinksCount=null,c.prototype.status=null,c.create=function(a){return new c(a)},c.encode=function(a,b){if(b||(b=f.create()),null!=a.traceId&&Object.hasOwnProperty.call(a,"traceId")&&b.uint32(10).bytes(a.traceId),null!=a.spanId&&Object.hasOwnProperty.call(a,"spanId")&&b.uint32(18).bytes(a.spanId),null!=a.traceState&&Object.hasOwnProperty.call(a,"traceState")&&b.uint32(26).string(a.traceState),null!=a.parentSpanId&&Object.hasOwnProperty.call(a,"parentSpanId")&&b.uint32(34).bytes(a.parentSpanId),null!=a.name&&Object.hasOwnProperty.call(a,"name")&&b.uint32(42).string(a.name),null!=a.kind&&Object.hasOwnProperty.call(a,"kind")&&b.uint32(48).int32(a.kind),null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(57).fixed64(a.startTimeUnixNano),null!=a.endTimeUnixNano&&Object.hasOwnProperty.call(a,"endTimeUnixNano")&&b.uint32(65).fixed64(a.endTimeUnixNano),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(74).fork()).ldelim();if(null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(80).uint32(a.droppedAttributesCount),null!=a.events&&a.events.length)for(var c=0;c<a.events.length;++c)h.opentelemetry.proto.trace.v1.Span.Event.encode(a.events[c],b.uint32(90).fork()).ldelim();if(null!=a.droppedEventsCount&&Object.hasOwnProperty.call(a,"droppedEventsCount")&&b.uint32(96).uint32(a.droppedEventsCount),null!=a.links&&a.links.length)for(var c=0;c<a.links.length;++c)h.opentelemetry.proto.trace.v1.Span.Link.encode(a.links[c],b.uint32(106).fork()).ldelim();return null!=a.droppedLinksCount&&Object.hasOwnProperty.call(a,"droppedLinksCount")&&b.uint32(112).uint32(a.droppedLinksCount),null!=a.status&&Object.hasOwnProperty.call(a,"status")&&h.opentelemetry.proto.trace.v1.Status.encode(a.status,b.uint32(122).fork()).ldelim(),b},c.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},c.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.Span;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.traceId=a.bytes();break;case 2:d.spanId=a.bytes();break;case 3:d.traceState=a.string();break;case 4:d.parentSpanId=a.bytes();break;case 5:d.name=a.string();break;case 6:d.kind=a.int32();break;case 7:d.startTimeUnixNano=a.fixed64();break;case 8:d.endTimeUnixNano=a.fixed64();break;case 9:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 10:d.droppedAttributesCount=a.uint32();break;case 11:d.events&&d.events.length||(d.events=[]),d.events.push(h.opentelemetry.proto.trace.v1.Span.Event.decode(a,a.uint32()));break;case 12:d.droppedEventsCount=a.uint32();break;case 13:d.links&&d.links.length||(d.links=[]),d.links.push(h.opentelemetry.proto.trace.v1.Span.Link.decode(a,a.uint32()));break;case 14:d.droppedLinksCount=a.uint32();break;case 15:d.status=h.opentelemetry.proto.trace.v1.Status.decode(a,a.uint32());break;default:a.skipType(7&f)}}return d},c.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},c.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.traceId&&a.hasOwnProperty("traceId")&&!(a.traceId&&"number"==typeof a.traceId.length||g.isString(a.traceId)))return"traceId: buffer expected";if(null!=a.spanId&&a.hasOwnProperty("spanId")&&!(a.spanId&&"number"==typeof a.spanId.length||g.isString(a.spanId)))return"spanId: buffer expected";if(null!=a.traceState&&a.hasOwnProperty("traceState")&&!g.isString(a.traceState))return"traceState: string expected";if(null!=a.parentSpanId&&a.hasOwnProperty("parentSpanId")&&!(a.parentSpanId&&"number"==typeof a.parentSpanId.length||g.isString(a.parentSpanId)))return"parentSpanId: buffer expected";if(null!=a.name&&a.hasOwnProperty("name")&&!g.isString(a.name))return"name: string expected";if(null!=a.kind&&a.hasOwnProperty("kind"))switch(a.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.endTimeUnixNano&&a.hasOwnProperty("endTimeUnixNano")&&!g.isInteger(a.endTimeUnixNano)&&!(a.endTimeUnixNano&&g.isInteger(a.endTimeUnixNano.low)&&g.isInteger(a.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}if(null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(null!=a.events&&a.hasOwnProperty("events")){if(!Array.isArray(a.events))return"events: array expected";for(var b=0;b<a.events.length;++b){var c=h.opentelemetry.proto.trace.v1.Span.Event.verify(a.events[b]);if(c)return"events."+c}}if(null!=a.droppedEventsCount&&a.hasOwnProperty("droppedEventsCount")&&!g.isInteger(a.droppedEventsCount))return"droppedEventsCount: integer expected";if(null!=a.links&&a.hasOwnProperty("links")){if(!Array.isArray(a.links))return"links: array expected";for(var b=0;b<a.links.length;++b){var c=h.opentelemetry.proto.trace.v1.Span.Link.verify(a.links[b]);if(c)return"links."+c}}if(null!=a.droppedLinksCount&&a.hasOwnProperty("droppedLinksCount")&&!g.isInteger(a.droppedLinksCount))return"droppedLinksCount: integer expected";if(null!=a.status&&a.hasOwnProperty("status")){var c=h.opentelemetry.proto.trace.v1.Status.verify(a.status);if(c)return"status."+c}return null},c.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.Span)return a;var b=new h.opentelemetry.proto.trace.v1.Span;switch(null!=a.traceId&&("string"==typeof a.traceId?g.base64.decode(a.traceId,b.traceId=g.newBuffer(g.base64.length(a.traceId)),0):a.traceId.length>=0&&(b.traceId=a.traceId)),null!=a.spanId&&("string"==typeof a.spanId?g.base64.decode(a.spanId,b.spanId=g.newBuffer(g.base64.length(a.spanId)),0):a.spanId.length>=0&&(b.spanId=a.spanId)),null!=a.traceState&&(b.traceState=String(a.traceState)),null!=a.parentSpanId&&("string"==typeof a.parentSpanId?g.base64.decode(a.parentSpanId,b.parentSpanId=g.newBuffer(g.base64.length(a.parentSpanId)),0):a.parentSpanId.length>=0&&(b.parentSpanId=a.parentSpanId)),null!=a.name&&(b.name=String(a.name)),a.kind){default:"number"==typeof a.kind&&(b.kind=a.kind);break;case"SPAN_KIND_UNSPECIFIED":case 0:b.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:b.kind=1;break;case"SPAN_KIND_SERVER":case 2:b.kind=2;break;case"SPAN_KIND_CLIENT":case 3:b.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:b.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:b.kind=5}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.endTimeUnixNano&&(g.Long?(b.endTimeUnixNano=g.Long.fromValue(a.endTimeUnixNano)).unsigned=!1:"string"==typeof a.endTimeUnixNano?b.endTimeUnixNano=parseInt(a.endTimeUnixNano,10):"number"==typeof a.endTimeUnixNano?b.endTimeUnixNano=a.endTimeUnixNano:"object"==typeof a.endTimeUnixNano&&(b.endTimeUnixNano=new g.LongBits(a.endTimeUnixNano.low>>>0,a.endTimeUnixNano.high>>>0).toNumber())),a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),a.events){if(!Array.isArray(a.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");b.events=[];for(var c=0;c<a.events.length;++c){if("object"!=typeof a.events[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");b.events[c]=h.opentelemetry.proto.trace.v1.Span.Event.fromObject(a.events[c])}}if(null!=a.droppedEventsCount&&(b.droppedEventsCount=a.droppedEventsCount>>>0),a.links){if(!Array.isArray(a.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");b.links=[];for(var c=0;c<a.links.length;++c){if("object"!=typeof a.links[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");b.links[c]=h.opentelemetry.proto.trace.v1.Span.Link.fromObject(a.links[c])}}if(null!=a.droppedLinksCount&&(b.droppedLinksCount=a.droppedLinksCount>>>0),null!=a.status){if("object"!=typeof a.status)throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");b.status=h.opentelemetry.proto.trace.v1.Status.fromObject(a.status)}return b},c.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[],c.events=[],c.links=[]),b.defaults){if(b.bytes===String?c.traceId="":(c.traceId=[],b.bytes!==Array&&(c.traceId=g.newBuffer(c.traceId))),b.bytes===String?c.spanId="":(c.spanId=[],b.bytes!==Array&&(c.spanId=g.newBuffer(c.spanId))),c.traceState="",b.bytes===String?c.parentSpanId="":(c.parentSpanId=[],b.bytes!==Array&&(c.parentSpanId=g.newBuffer(c.parentSpanId))),c.name="",c.kind=b.enums===String?"SPAN_KIND_UNSPECIFIED":0,g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.endTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.endTimeUnixNano=b.longs===String?"0":0;c.droppedAttributesCount=0,c.droppedEventsCount=0,c.droppedLinksCount=0,c.status=null}if(null!=a.traceId&&a.hasOwnProperty("traceId")&&(c.traceId=b.bytes===String?g.base64.encode(a.traceId,0,a.traceId.length):b.bytes===Array?Array.prototype.slice.call(a.traceId):a.traceId),null!=a.spanId&&a.hasOwnProperty("spanId")&&(c.spanId=b.bytes===String?g.base64.encode(a.spanId,0,a.spanId.length):b.bytes===Array?Array.prototype.slice.call(a.spanId):a.spanId),null!=a.traceState&&a.hasOwnProperty("traceState")&&(c.traceState=a.traceState),null!=a.parentSpanId&&a.hasOwnProperty("parentSpanId")&&(c.parentSpanId=b.bytes===String?g.base64.encode(a.parentSpanId,0,a.parentSpanId.length):b.bytes===Array?Array.prototype.slice.call(a.parentSpanId):a.parentSpanId),null!=a.name&&a.hasOwnProperty("name")&&(c.name=a.name),null!=a.kind&&a.hasOwnProperty("kind")&&(c.kind=b.enums===String?void 0===h.opentelemetry.proto.trace.v1.Span.SpanKind[a.kind]?a.kind:h.opentelemetry.proto.trace.v1.Span.SpanKind[a.kind]:a.kind),null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.endTimeUnixNano&&a.hasOwnProperty("endTimeUnixNano")&&("number"==typeof a.endTimeUnixNano?c.endTimeUnixNano=b.longs===String?String(a.endTimeUnixNano):a.endTimeUnixNano:c.endTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.endTimeUnixNano):b.longs===Number?new g.LongBits(a.endTimeUnixNano.low>>>0,a.endTimeUnixNano.high>>>0).toNumber():a.endTimeUnixNano),a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}if(null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),a.events&&a.events.length){c.events=[];for(var e=0;e<a.events.length;++e)c.events[e]=h.opentelemetry.proto.trace.v1.Span.Event.toObject(a.events[e],b)}if(null!=a.droppedEventsCount&&a.hasOwnProperty("droppedEventsCount")&&(c.droppedEventsCount=a.droppedEventsCount),a.links&&a.links.length){c.links=[];for(var e=0;e<a.links.length;++e)c.links[e]=h.opentelemetry.proto.trace.v1.Span.Link.toObject(a.links[e],b)}return null!=a.droppedLinksCount&&a.hasOwnProperty("droppedLinksCount")&&(c.droppedLinksCount=a.droppedLinksCount),null!=a.status&&a.hasOwnProperty("status")&&(c.status=h.opentelemetry.proto.trace.v1.Status.toObject(a.status,b)),c},c.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},c.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.Span"},(b=Object.create(a={}))[a[0]="SPAN_KIND_UNSPECIFIED"]=0,b[a[1]="SPAN_KIND_INTERNAL"]=1,b[a[2]="SPAN_KIND_SERVER"]=2,b[a[3]="SPAN_KIND_CLIENT"]=3,b[a[4]="SPAN_KIND_PRODUCER"]=4,b[a[5]="SPAN_KIND_CONSUMER"]=5,c.SpanKind=b,c.Event=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.timeUnixNano=null,a.prototype.name=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(9).fixed64(a.timeUnixNano),null!=a.name&&Object.hasOwnProperty.call(a,"name")&&b.uint32(18).string(a.name),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(26).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(32).uint32(a.droppedAttributesCount),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.Span.Event;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.timeUnixNano=a.fixed64();break;case 2:d.name=a.string();break;case 3:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 4:d.droppedAttributesCount=a.uint32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.name&&a.hasOwnProperty("name")&&!g.isString(a.name))return"name: string expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.Span.Event)return a;var b=new h.opentelemetry.proto.trace.v1.Span.Event;if(null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.name&&(b.name=String(a.name)),a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;c.name="",c.droppedAttributesCount=0}if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.name&&a.hasOwnProperty("name")&&(c.name=a.name),a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.Span.Event"},a}(),c.Link=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.traceId&&Object.hasOwnProperty.call(a,"traceId")&&b.uint32(10).bytes(a.traceId),null!=a.spanId&&Object.hasOwnProperty.call(a,"spanId")&&b.uint32(18).bytes(a.spanId),null!=a.traceState&&Object.hasOwnProperty.call(a,"traceState")&&b.uint32(26).string(a.traceState),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(34).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(40).uint32(a.droppedAttributesCount),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.Span.Link;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.traceId=a.bytes();break;case 2:d.spanId=a.bytes();break;case 3:d.traceState=a.string();break;case 4:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 5:d.droppedAttributesCount=a.uint32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.traceId&&a.hasOwnProperty("traceId")&&!(a.traceId&&"number"==typeof a.traceId.length||g.isString(a.traceId)))return"traceId: buffer expected";if(null!=a.spanId&&a.hasOwnProperty("spanId")&&!(a.spanId&&"number"==typeof a.spanId.length||g.isString(a.spanId)))return"spanId: buffer expected";if(null!=a.traceState&&a.hasOwnProperty("traceState")&&!g.isString(a.traceState))return"traceState: string expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.Span.Link)return a;var b=new h.opentelemetry.proto.trace.v1.Span.Link;if(null!=a.traceId&&("string"==typeof a.traceId?g.base64.decode(a.traceId,b.traceId=g.newBuffer(g.base64.length(a.traceId)),0):a.traceId.length>=0&&(b.traceId=a.traceId)),null!=a.spanId&&("string"==typeof a.spanId?g.base64.decode(a.spanId,b.spanId=g.newBuffer(g.base64.length(a.spanId)),0):a.spanId.length>=0&&(b.spanId=a.spanId)),null!=a.traceState&&(b.traceState=String(a.traceState)),a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults&&(b.bytes===String?c.traceId="":(c.traceId=[],b.bytes!==Array&&(c.traceId=g.newBuffer(c.traceId))),b.bytes===String?c.spanId="":(c.spanId=[],b.bytes!==Array&&(c.spanId=g.newBuffer(c.spanId))),c.traceState="",c.droppedAttributesCount=0),null!=a.traceId&&a.hasOwnProperty("traceId")&&(c.traceId=b.bytes===String?g.base64.encode(a.traceId,0,a.traceId.length):b.bytes===Array?Array.prototype.slice.call(a.traceId):a.traceId),null!=a.spanId&&a.hasOwnProperty("spanId")&&(c.spanId=b.bytes===String?g.base64.encode(a.spanId,0,a.spanId.length):b.bytes===Array?Array.prototype.slice.call(a.spanId):a.spanId),null!=a.traceState&&a.hasOwnProperty("traceState")&&(c.traceState=a.traceState),a.attributes&&a.attributes.length){c.attributes=[];for(var d=0;d<a.attributes.length;++d)c.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[d],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.Span.Link"},a}(),c}(),l.Status=function(){var a,b;function c(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return c.prototype.message=null,c.prototype.code=null,c.create=function(a){return new c(a)},c.encode=function(a,b){return b||(b=f.create()),null!=a.message&&Object.hasOwnProperty.call(a,"message")&&b.uint32(18).string(a.message),null!=a.code&&Object.hasOwnProperty.call(a,"code")&&b.uint32(24).int32(a.code),b},c.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},c.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.trace.v1.Status;a.pos<c;){var f=a.uint32();switch(f>>>3){case 2:d.message=a.string();break;case 3:d.code=a.int32();break;default:a.skipType(7&f)}}return d},c.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},c.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.message&&a.hasOwnProperty("message")&&!g.isString(a.message))return"message: string expected";if(null!=a.code&&a.hasOwnProperty("code"))switch(a.code){default:return"code: enum value expected";case 0:case 1:case 2:}return null},c.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.Status)return a;var b=new h.opentelemetry.proto.trace.v1.Status;switch(null!=a.message&&(b.message=String(a.message)),a.code){default:"number"==typeof a.code&&(b.code=a.code);break;case"STATUS_CODE_UNSET":case 0:b.code=0;break;case"STATUS_CODE_OK":case 1:b.code=1;break;case"STATUS_CODE_ERROR":case 2:b.code=2}return b},c.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.message="",c.code=b.enums===String?"STATUS_CODE_UNSET":0),null!=a.message&&a.hasOwnProperty("message")&&(c.message=a.message),null!=a.code&&a.hasOwnProperty("code")&&(c.code=b.enums===String?void 0===h.opentelemetry.proto.trace.v1.Status.StatusCode[a.code]?a.code:h.opentelemetry.proto.trace.v1.Status.StatusCode[a.code]:a.code),c},c.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},c.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.Status"},(b=Object.create(a={}))[a[0]="STATUS_CODE_UNSET"]=0,b[a[1]="STATUS_CODE_OK"]=1,b[a[2]="STATUS_CODE_ERROR"]=2,c.StatusCode=b,c}(),k.v1=l,a.trace=k,m={},n={},(o={}).TraceService=function(){function a(a,b,c){d.rpc.Service.call(this,a,b,c)}return(a.prototype=Object.create(d.rpc.Service.prototype)).constructor=a,a.create=function(a,b,c){return new this(a,b,c)},Object.defineProperty(a.prototype.export=function a(b,c){return this.rpcCall(a,h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,b,c)},"name",{value:"Export"}),a}(),o.ExportTraceServiceRequest=function(){function a(a){if(this.resourceSpans=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceSpans=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceSpans&&a.resourceSpans.length)for(var c=0;c<a.resourceSpans.length;++c)h.opentelemetry.proto.trace.v1.ResourceSpans.encode(a.resourceSpans[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;a.pos<c;){var f=a.uint32();f>>>3==1?(d.resourceSpans&&d.resourceSpans.length||(d.resourceSpans=[]),d.resourceSpans.push(h.opentelemetry.proto.trace.v1.ResourceSpans.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceSpans&&a.hasOwnProperty("resourceSpans")){if(!Array.isArray(a.resourceSpans))return"resourceSpans: array expected";for(var b=0;b<a.resourceSpans.length;++b){var c=h.opentelemetry.proto.trace.v1.ResourceSpans.verify(a.resourceSpans[b]);if(c)return"resourceSpans."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return a;var b=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(a.resourceSpans){if(!Array.isArray(a.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");b.resourceSpans=[];for(var c=0;c<a.resourceSpans.length;++c){if("object"!=typeof a.resourceSpans[c])throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");b.resourceSpans[c]=h.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(a.resourceSpans[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceSpans=[]),a.resourceSpans&&a.resourceSpans.length){c.resourceSpans=[];for(var d=0;d<a.resourceSpans.length;++d)c.resourceSpans[d]=h.opentelemetry.proto.trace.v1.ResourceSpans.toObject(a.resourceSpans[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},a}(),o.ExportTraceServiceResponse=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.partialSuccess=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.partialSuccess&&Object.hasOwnProperty.call(a,"partialSuccess")&&h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(a.partialSuccess,b.uint32(10).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;a.pos<c;){var f=a.uint32();f>>>3==1?d.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(a,a.uint32()):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")){var b=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(a.partialSuccess);if(b)return"partialSuccess."+b}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return a;var b=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(null!=a.partialSuccess){if("object"!=typeof a.partialSuccess)throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");b.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(a.partialSuccess)}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.partialSuccess=null),null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")&&(c.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(a.partialSuccess,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},a}(),o.ExportTracePartialSuccess=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.rejectedSpans=null,a.prototype.errorMessage=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.rejectedSpans&&Object.hasOwnProperty.call(a,"rejectedSpans")&&b.uint32(8).int64(a.rejectedSpans),null!=a.errorMessage&&Object.hasOwnProperty.call(a,"errorMessage")&&b.uint32(18).string(a.errorMessage),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.rejectedSpans=a.int64();break;case 2:d.errorMessage=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.rejectedSpans&&a.hasOwnProperty("rejectedSpans")&&!g.isInteger(a.rejectedSpans)&&!(a.rejectedSpans&&g.isInteger(a.rejectedSpans.low)&&g.isInteger(a.rejectedSpans.high))?"rejectedSpans: integer|Long expected":null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&!g.isString(a.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return a;var b=new h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return null!=a.rejectedSpans&&(g.Long?(b.rejectedSpans=g.Long.fromValue(a.rejectedSpans)).unsigned=!1:"string"==typeof a.rejectedSpans?b.rejectedSpans=parseInt(a.rejectedSpans,10):"number"==typeof a.rejectedSpans?b.rejectedSpans=a.rejectedSpans:"object"==typeof a.rejectedSpans&&(b.rejectedSpans=new g.LongBits(a.rejectedSpans.low>>>0,a.rejectedSpans.high>>>0).toNumber())),null!=a.errorMessage&&(b.errorMessage=String(a.errorMessage)),b},a.toObject=function(a,b){b||(b={});var c={};if(b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.rejectedSpans=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.rejectedSpans=b.longs===String?"0":0;c.errorMessage=""}return null!=a.rejectedSpans&&a.hasOwnProperty("rejectedSpans")&&("number"==typeof a.rejectedSpans?c.rejectedSpans=b.longs===String?String(a.rejectedSpans):a.rejectedSpans:c.rejectedSpans=b.longs===String?g.Long.prototype.toString.call(a.rejectedSpans):b.longs===Number?new g.LongBits(a.rejectedSpans.low>>>0,a.rejectedSpans.high>>>0).toNumber():a.rejectedSpans),null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&(c.errorMessage=a.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},a}(),n.v1=o,m.trace=n,p={},(q={}).MetricsService=function(){function a(a,b,c){d.rpc.Service.call(this,a,b,c)}return(a.prototype=Object.create(d.rpc.Service.prototype)).constructor=a,a.create=function(a,b,c){return new this(a,b,c)},Object.defineProperty(a.prototype.export=function a(b,c){return this.rpcCall(a,h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,b,c)},"name",{value:"Export"}),a}(),q.ExportMetricsServiceRequest=function(){function a(a){if(this.resourceMetrics=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceMetrics=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceMetrics&&a.resourceMetrics.length)for(var c=0;c<a.resourceMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(a.resourceMetrics[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;a.pos<c;){var f=a.uint32();f>>>3==1?(d.resourceMetrics&&d.resourceMetrics.length||(d.resourceMetrics=[]),d.resourceMetrics.push(h.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceMetrics&&a.hasOwnProperty("resourceMetrics")){if(!Array.isArray(a.resourceMetrics))return"resourceMetrics: array expected";for(var b=0;b<a.resourceMetrics.length;++b){var c=h.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(a.resourceMetrics[b]);if(c)return"resourceMetrics."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return a;var b=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(a.resourceMetrics){if(!Array.isArray(a.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");b.resourceMetrics=[];for(var c=0;c<a.resourceMetrics.length;++c){if("object"!=typeof a.resourceMetrics[c])throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");b.resourceMetrics[c]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(a.resourceMetrics[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceMetrics=[]),a.resourceMetrics&&a.resourceMetrics.length){c.resourceMetrics=[];for(var d=0;d<a.resourceMetrics.length;++d)c.resourceMetrics[d]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(a.resourceMetrics[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},a}(),q.ExportMetricsServiceResponse=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.partialSuccess=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.partialSuccess&&Object.hasOwnProperty.call(a,"partialSuccess")&&h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(a.partialSuccess,b.uint32(10).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;a.pos<c;){var f=a.uint32();f>>>3==1?d.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(a,a.uint32()):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")){var b=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(a.partialSuccess);if(b)return"partialSuccess."+b}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return a;var b=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(null!=a.partialSuccess){if("object"!=typeof a.partialSuccess)throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");b.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(a.partialSuccess)}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.partialSuccess=null),null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")&&(c.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(a.partialSuccess,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},a}(),q.ExportMetricsPartialSuccess=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.rejectedDataPoints=null,a.prototype.errorMessage=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.rejectedDataPoints&&Object.hasOwnProperty.call(a,"rejectedDataPoints")&&b.uint32(8).int64(a.rejectedDataPoints),null!=a.errorMessage&&Object.hasOwnProperty.call(a,"errorMessage")&&b.uint32(18).string(a.errorMessage),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.rejectedDataPoints=a.int64();break;case 2:d.errorMessage=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.rejectedDataPoints&&a.hasOwnProperty("rejectedDataPoints")&&!g.isInteger(a.rejectedDataPoints)&&!(a.rejectedDataPoints&&g.isInteger(a.rejectedDataPoints.low)&&g.isInteger(a.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&!g.isString(a.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return a;var b=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return null!=a.rejectedDataPoints&&(g.Long?(b.rejectedDataPoints=g.Long.fromValue(a.rejectedDataPoints)).unsigned=!1:"string"==typeof a.rejectedDataPoints?b.rejectedDataPoints=parseInt(a.rejectedDataPoints,10):"number"==typeof a.rejectedDataPoints?b.rejectedDataPoints=a.rejectedDataPoints:"object"==typeof a.rejectedDataPoints&&(b.rejectedDataPoints=new g.LongBits(a.rejectedDataPoints.low>>>0,a.rejectedDataPoints.high>>>0).toNumber())),null!=a.errorMessage&&(b.errorMessage=String(a.errorMessage)),b},a.toObject=function(a,b){b||(b={});var c={};if(b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.rejectedDataPoints=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.rejectedDataPoints=b.longs===String?"0":0;c.errorMessage=""}return null!=a.rejectedDataPoints&&a.hasOwnProperty("rejectedDataPoints")&&("number"==typeof a.rejectedDataPoints?c.rejectedDataPoints=b.longs===String?String(a.rejectedDataPoints):a.rejectedDataPoints:c.rejectedDataPoints=b.longs===String?g.Long.prototype.toString.call(a.rejectedDataPoints):b.longs===Number?new g.LongBits(a.rejectedDataPoints.low>>>0,a.rejectedDataPoints.high>>>0).toNumber():a.rejectedDataPoints),null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&(c.errorMessage=a.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},a}(),p.v1=q,m.metrics=p,r={},(s={}).LogsService=function(){function a(a,b,c){d.rpc.Service.call(this,a,b,c)}return(a.prototype=Object.create(d.rpc.Service.prototype)).constructor=a,a.create=function(a,b,c){return new this(a,b,c)},Object.defineProperty(a.prototype.export=function a(b,c){return this.rpcCall(a,h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,b,c)},"name",{value:"Export"}),a}(),s.ExportLogsServiceRequest=function(){function a(a){if(this.resourceLogs=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceLogs=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceLogs&&a.resourceLogs.length)for(var c=0;c<a.resourceLogs.length;++c)h.opentelemetry.proto.logs.v1.ResourceLogs.encode(a.resourceLogs[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;a.pos<c;){var f=a.uint32();f>>>3==1?(d.resourceLogs&&d.resourceLogs.length||(d.resourceLogs=[]),d.resourceLogs.push(h.opentelemetry.proto.logs.v1.ResourceLogs.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceLogs&&a.hasOwnProperty("resourceLogs")){if(!Array.isArray(a.resourceLogs))return"resourceLogs: array expected";for(var b=0;b<a.resourceLogs.length;++b){var c=h.opentelemetry.proto.logs.v1.ResourceLogs.verify(a.resourceLogs[b]);if(c)return"resourceLogs."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return a;var b=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(a.resourceLogs){if(!Array.isArray(a.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");b.resourceLogs=[];for(var c=0;c<a.resourceLogs.length;++c){if("object"!=typeof a.resourceLogs[c])throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");b.resourceLogs[c]=h.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(a.resourceLogs[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceLogs=[]),a.resourceLogs&&a.resourceLogs.length){c.resourceLogs=[];for(var d=0;d<a.resourceLogs.length;++d)c.resourceLogs[d]=h.opentelemetry.proto.logs.v1.ResourceLogs.toObject(a.resourceLogs[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},a}(),s.ExportLogsServiceResponse=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.partialSuccess=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.partialSuccess&&Object.hasOwnProperty.call(a,"partialSuccess")&&h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(a.partialSuccess,b.uint32(10).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;a.pos<c;){var f=a.uint32();f>>>3==1?d.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(a,a.uint32()):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")){var b=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(a.partialSuccess);if(b)return"partialSuccess."+b}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return a;var b=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(null!=a.partialSuccess){if("object"!=typeof a.partialSuccess)throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");b.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(a.partialSuccess)}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.partialSuccess=null),null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")&&(c.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(a.partialSuccess,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},a}(),s.ExportLogsPartialSuccess=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.rejectedLogRecords=null,a.prototype.errorMessage=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.rejectedLogRecords&&Object.hasOwnProperty.call(a,"rejectedLogRecords")&&b.uint32(8).int64(a.rejectedLogRecords),null!=a.errorMessage&&Object.hasOwnProperty.call(a,"errorMessage")&&b.uint32(18).string(a.errorMessage),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.rejectedLogRecords=a.int64();break;case 2:d.errorMessage=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.rejectedLogRecords&&a.hasOwnProperty("rejectedLogRecords")&&!g.isInteger(a.rejectedLogRecords)&&!(a.rejectedLogRecords&&g.isInteger(a.rejectedLogRecords.low)&&g.isInteger(a.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&!g.isString(a.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return a;var b=new h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return null!=a.rejectedLogRecords&&(g.Long?(b.rejectedLogRecords=g.Long.fromValue(a.rejectedLogRecords)).unsigned=!1:"string"==typeof a.rejectedLogRecords?b.rejectedLogRecords=parseInt(a.rejectedLogRecords,10):"number"==typeof a.rejectedLogRecords?b.rejectedLogRecords=a.rejectedLogRecords:"object"==typeof a.rejectedLogRecords&&(b.rejectedLogRecords=new g.LongBits(a.rejectedLogRecords.low>>>0,a.rejectedLogRecords.high>>>0).toNumber())),null!=a.errorMessage&&(b.errorMessage=String(a.errorMessage)),b},a.toObject=function(a,b){b||(b={});var c={};if(b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.rejectedLogRecords=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.rejectedLogRecords=b.longs===String?"0":0;c.errorMessage=""}return null!=a.rejectedLogRecords&&a.hasOwnProperty("rejectedLogRecords")&&("number"==typeof a.rejectedLogRecords?c.rejectedLogRecords=b.longs===String?String(a.rejectedLogRecords):a.rejectedLogRecords:c.rejectedLogRecords=b.longs===String?g.Long.prototype.toString.call(a.rejectedLogRecords):b.longs===Number?new g.LongBits(a.rejectedLogRecords.low>>>0,a.rejectedLogRecords.high>>>0).toNumber():a.rejectedLogRecords),null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&(c.errorMessage=a.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},a}(),r.v1=s,m.logs=r,a.collector=m,t={},(u={}).MetricsData=function(){function a(a){if(this.resourceMetrics=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceMetrics=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceMetrics&&a.resourceMetrics.length)for(var c=0;c<a.resourceMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(a.resourceMetrics[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.MetricsData;a.pos<c;){var f=a.uint32();f>>>3==1?(d.resourceMetrics&&d.resourceMetrics.length||(d.resourceMetrics=[]),d.resourceMetrics.push(h.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceMetrics&&a.hasOwnProperty("resourceMetrics")){if(!Array.isArray(a.resourceMetrics))return"resourceMetrics: array expected";for(var b=0;b<a.resourceMetrics.length;++b){var c=h.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(a.resourceMetrics[b]);if(c)return"resourceMetrics."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.MetricsData)return a;var b=new h.opentelemetry.proto.metrics.v1.MetricsData;if(a.resourceMetrics){if(!Array.isArray(a.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");b.resourceMetrics=[];for(var c=0;c<a.resourceMetrics.length;++c){if("object"!=typeof a.resourceMetrics[c])throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");b.resourceMetrics[c]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(a.resourceMetrics[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceMetrics=[]),a.resourceMetrics&&a.resourceMetrics.length){c.resourceMetrics=[];for(var d=0;d<a.resourceMetrics.length;++d)c.resourceMetrics[d]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(a.resourceMetrics[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.MetricsData"},a}(),u.ResourceMetrics=function(){function a(a){if(this.scopeMetrics=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resource=null,a.prototype.scopeMetrics=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resource&&Object.hasOwnProperty.call(a,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(a.resource,b.uint32(10).fork()).ldelim(),null!=a.scopeMetrics&&a.scopeMetrics.length)for(var c=0;c<a.scopeMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(a.scopeMetrics[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.ResourceMetrics;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.resource=h.opentelemetry.proto.resource.v1.Resource.decode(a,a.uint32());break;case 2:d.scopeMetrics&&d.scopeMetrics.length||(d.scopeMetrics=[]),d.scopeMetrics.push(h.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(a,a.uint32()));break;case 3:d.schemaUrl=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resource&&a.hasOwnProperty("resource")){var b=h.opentelemetry.proto.resource.v1.Resource.verify(a.resource);if(b)return"resource."+b}if(null!=a.scopeMetrics&&a.hasOwnProperty("scopeMetrics")){if(!Array.isArray(a.scopeMetrics))return"scopeMetrics: array expected";for(var c=0;c<a.scopeMetrics.length;++c){var b=h.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(a.scopeMetrics[c]);if(b)return"scopeMetrics."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ResourceMetrics)return a;var b=new h.opentelemetry.proto.metrics.v1.ResourceMetrics;if(null!=a.resource){if("object"!=typeof a.resource)throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");b.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(a.resource)}if(a.scopeMetrics){if(!Array.isArray(a.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");b.scopeMetrics=[];for(var c=0;c<a.scopeMetrics.length;++c){if("object"!=typeof a.scopeMetrics[c])throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");b.scopeMetrics[c]=h.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(a.scopeMetrics[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.scopeMetrics=[]),b.defaults&&(c.resource=null,c.schemaUrl=""),null!=a.resource&&a.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(a.resource,b)),a.scopeMetrics&&a.scopeMetrics.length){c.scopeMetrics=[];for(var d=0;d<a.scopeMetrics.length;++d)c.scopeMetrics[d]=h.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(a.scopeMetrics[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},a}(),u.ScopeMetrics=function(){function a(a){if(this.metrics=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.scope=null,a.prototype.metrics=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.scope&&Object.hasOwnProperty.call(a,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(a.scope,b.uint32(10).fork()).ldelim(),null!=a.metrics&&a.metrics.length)for(var c=0;c<a.metrics.length;++c)h.opentelemetry.proto.metrics.v1.Metric.encode(a.metrics[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.ScopeMetrics;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(a,a.uint32());break;case 2:d.metrics&&d.metrics.length||(d.metrics=[]),d.metrics.push(h.opentelemetry.proto.metrics.v1.Metric.decode(a,a.uint32()));break;case 3:d.schemaUrl=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.scope&&a.hasOwnProperty("scope")){var b=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(a.scope);if(b)return"scope."+b}if(null!=a.metrics&&a.hasOwnProperty("metrics")){if(!Array.isArray(a.metrics))return"metrics: array expected";for(var c=0;c<a.metrics.length;++c){var b=h.opentelemetry.proto.metrics.v1.Metric.verify(a.metrics[c]);if(b)return"metrics."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ScopeMetrics)return a;var b=new h.opentelemetry.proto.metrics.v1.ScopeMetrics;if(null!=a.scope){if("object"!=typeof a.scope)throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");b.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(a.scope)}if(a.metrics){if(!Array.isArray(a.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");b.metrics=[];for(var c=0;c<a.metrics.length;++c){if("object"!=typeof a.metrics[c])throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");b.metrics[c]=h.opentelemetry.proto.metrics.v1.Metric.fromObject(a.metrics[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.metrics=[]),b.defaults&&(c.scope=null,c.schemaUrl=""),null!=a.scope&&a.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(a.scope,b)),a.metrics&&a.metrics.length){c.metrics=[];for(var d=0;d<a.metrics.length;++d)c.metrics[d]=h.opentelemetry.proto.metrics.v1.Metric.toObject(a.metrics[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},a}(),u.Metric=function(){var a;function b(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.name=null,b.prototype.description=null,b.prototype.unit=null,b.prototype.gauge=null,b.prototype.sum=null,b.prototype.histogram=null,b.prototype.exponentialHistogram=null,b.prototype.summary=null,Object.defineProperty(b.prototype,"data",{get:g.oneOfGetter(a=["gauge","sum","histogram","exponentialHistogram","summary"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){return b||(b=f.create()),null!=a.name&&Object.hasOwnProperty.call(a,"name")&&b.uint32(10).string(a.name),null!=a.description&&Object.hasOwnProperty.call(a,"description")&&b.uint32(18).string(a.description),null!=a.unit&&Object.hasOwnProperty.call(a,"unit")&&b.uint32(26).string(a.unit),null!=a.gauge&&Object.hasOwnProperty.call(a,"gauge")&&h.opentelemetry.proto.metrics.v1.Gauge.encode(a.gauge,b.uint32(42).fork()).ldelim(),null!=a.sum&&Object.hasOwnProperty.call(a,"sum")&&h.opentelemetry.proto.metrics.v1.Sum.encode(a.sum,b.uint32(58).fork()).ldelim(),null!=a.histogram&&Object.hasOwnProperty.call(a,"histogram")&&h.opentelemetry.proto.metrics.v1.Histogram.encode(a.histogram,b.uint32(74).fork()).ldelim(),null!=a.exponentialHistogram&&Object.hasOwnProperty.call(a,"exponentialHistogram")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(a.exponentialHistogram,b.uint32(82).fork()).ldelim(),null!=a.summary&&Object.hasOwnProperty.call(a,"summary")&&h.opentelemetry.proto.metrics.v1.Summary.encode(a.summary,b.uint32(90).fork()).ldelim(),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.Metric;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.name=a.string();break;case 2:d.description=a.string();break;case 3:d.unit=a.string();break;case 5:d.gauge=h.opentelemetry.proto.metrics.v1.Gauge.decode(a,a.uint32());break;case 7:d.sum=h.opentelemetry.proto.metrics.v1.Sum.decode(a,a.uint32());break;case 9:d.histogram=h.opentelemetry.proto.metrics.v1.Histogram.decode(a,a.uint32());break;case 10:d.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(a,a.uint32());break;case 11:d.summary=h.opentelemetry.proto.metrics.v1.Summary.decode(a,a.uint32());break;default:a.skipType(7&f)}}return d},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.name&&a.hasOwnProperty("name")&&!g.isString(a.name))return"name: string expected";if(null!=a.description&&a.hasOwnProperty("description")&&!g.isString(a.description))return"description: string expected";if(null!=a.unit&&a.hasOwnProperty("unit")&&!g.isString(a.unit))return"unit: string expected";if(null!=a.gauge&&a.hasOwnProperty("gauge")){b.data=1;var c=h.opentelemetry.proto.metrics.v1.Gauge.verify(a.gauge);if(c)return"gauge."+c}if(null!=a.sum&&a.hasOwnProperty("sum")){if(1===b.data)return"data: multiple values";b.data=1;var c=h.opentelemetry.proto.metrics.v1.Sum.verify(a.sum);if(c)return"sum."+c}if(null!=a.histogram&&a.hasOwnProperty("histogram")){if(1===b.data)return"data: multiple values";b.data=1;var c=h.opentelemetry.proto.metrics.v1.Histogram.verify(a.histogram);if(c)return"histogram."+c}if(null!=a.exponentialHistogram&&a.hasOwnProperty("exponentialHistogram")){if(1===b.data)return"data: multiple values";b.data=1;var c=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(a.exponentialHistogram);if(c)return"exponentialHistogram."+c}if(null!=a.summary&&a.hasOwnProperty("summary")){if(1===b.data)return"data: multiple values";b.data=1;var c=h.opentelemetry.proto.metrics.v1.Summary.verify(a.summary);if(c)return"summary."+c}return null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Metric)return a;var b=new h.opentelemetry.proto.metrics.v1.Metric;if(null!=a.name&&(b.name=String(a.name)),null!=a.description&&(b.description=String(a.description)),null!=a.unit&&(b.unit=String(a.unit)),null!=a.gauge){if("object"!=typeof a.gauge)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");b.gauge=h.opentelemetry.proto.metrics.v1.Gauge.fromObject(a.gauge)}if(null!=a.sum){if("object"!=typeof a.sum)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");b.sum=h.opentelemetry.proto.metrics.v1.Sum.fromObject(a.sum)}if(null!=a.histogram){if("object"!=typeof a.histogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");b.histogram=h.opentelemetry.proto.metrics.v1.Histogram.fromObject(a.histogram)}if(null!=a.exponentialHistogram){if("object"!=typeof a.exponentialHistogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");b.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(a.exponentialHistogram)}if(null!=a.summary){if("object"!=typeof a.summary)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");b.summary=h.opentelemetry.proto.metrics.v1.Summary.fromObject(a.summary)}return b},b.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.name="",c.description="",c.unit=""),null!=a.name&&a.hasOwnProperty("name")&&(c.name=a.name),null!=a.description&&a.hasOwnProperty("description")&&(c.description=a.description),null!=a.unit&&a.hasOwnProperty("unit")&&(c.unit=a.unit),null!=a.gauge&&a.hasOwnProperty("gauge")&&(c.gauge=h.opentelemetry.proto.metrics.v1.Gauge.toObject(a.gauge,b),b.oneofs&&(c.data="gauge")),null!=a.sum&&a.hasOwnProperty("sum")&&(c.sum=h.opentelemetry.proto.metrics.v1.Sum.toObject(a.sum,b),b.oneofs&&(c.data="sum")),null!=a.histogram&&a.hasOwnProperty("histogram")&&(c.histogram=h.opentelemetry.proto.metrics.v1.Histogram.toObject(a.histogram,b),b.oneofs&&(c.data="histogram")),null!=a.exponentialHistogram&&a.hasOwnProperty("exponentialHistogram")&&(c.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(a.exponentialHistogram,b),b.oneofs&&(c.data="exponentialHistogram")),null!=a.summary&&a.hasOwnProperty("summary")&&(c.summary=h.opentelemetry.proto.metrics.v1.Summary.toObject(a.summary,b),b.oneofs&&(c.data="summary")),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Metric"},b}(),u.Gauge=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.Gauge;a.pos<c;){var f=a.uint32();f>>>3==1?(d.dataPoints&&d.dataPoints.length||(d.dataPoints=[]),d.dataPoints.push(h.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Gauge)return a;var b=new h.opentelemetry.proto.metrics.v1.Gauge;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(a.dataPoints[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(a.dataPoints[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Gauge"},a}(),u.Sum=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.prototype.aggregationTemporality=null,a.prototype.isMonotonic=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return null!=a.aggregationTemporality&&Object.hasOwnProperty.call(a,"aggregationTemporality")&&b.uint32(16).int32(a.aggregationTemporality),null!=a.isMonotonic&&Object.hasOwnProperty.call(a,"isMonotonic")&&b.uint32(24).bool(a.isMonotonic),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.Sum;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.dataPoints&&d.dataPoints.length||(d.dataPoints=[]),d.dataPoints.push(h.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(a,a.uint32()));break;case 2:d.aggregationTemporality=a.int32();break;case 3:d.isMonotonic=a.bool();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}if(null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality"))switch(a.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null!=a.isMonotonic&&a.hasOwnProperty("isMonotonic")&&"boolean"!=typeof a.isMonotonic?"isMonotonic: boolean expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Sum)return a;var b=new h.opentelemetry.proto.metrics.v1.Sum;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(a.dataPoints[c])}}switch(a.aggregationTemporality){default:"number"==typeof a.aggregationTemporality&&(b.aggregationTemporality=a.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:b.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:b.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:b.aggregationTemporality=2}return null!=a.isMonotonic&&(b.isMonotonic=!!a.isMonotonic),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),b.defaults&&(c.aggregationTemporality=b.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,c.isMonotonic=!1),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(a.dataPoints[d],b)}return null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=b.enums===String?void 0===h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]?a.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]:a.aggregationTemporality),null!=a.isMonotonic&&a.hasOwnProperty("isMonotonic")&&(c.isMonotonic=a.isMonotonic),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Sum"},a}(),u.Histogram=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.prototype.aggregationTemporality=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return null!=a.aggregationTemporality&&Object.hasOwnProperty.call(a,"aggregationTemporality")&&b.uint32(16).int32(a.aggregationTemporality),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.Histogram;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.dataPoints&&d.dataPoints.length||(d.dataPoints=[]),d.dataPoints.push(h.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(a,a.uint32()));break;case 2:d.aggregationTemporality=a.int32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}if(null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality"))switch(a.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Histogram)return a;var b=new h.opentelemetry.proto.metrics.v1.Histogram;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(a.dataPoints[c])}}switch(a.aggregationTemporality){default:"number"==typeof a.aggregationTemporality&&(b.aggregationTemporality=a.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:b.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:b.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:b.aggregationTemporality=2}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),b.defaults&&(c.aggregationTemporality=b.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(a.dataPoints[d],b)}return null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=b.enums===String?void 0===h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]?a.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]:a.aggregationTemporality),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Histogram"},a}(),u.ExponentialHistogram=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.prototype.aggregationTemporality=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return null!=a.aggregationTemporality&&Object.hasOwnProperty.call(a,"aggregationTemporality")&&b.uint32(16).int32(a.aggregationTemporality),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.ExponentialHistogram;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.dataPoints&&d.dataPoints.length||(d.dataPoints=[]),d.dataPoints.push(h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(a,a.uint32()));break;case 2:d.aggregationTemporality=a.int32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}if(null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality"))switch(a.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogram)return a;var b=new h.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(a.dataPoints[c])}}switch(a.aggregationTemporality){default:"number"==typeof a.aggregationTemporality&&(b.aggregationTemporality=a.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:b.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:b.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:b.aggregationTemporality=2}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),b.defaults&&(c.aggregationTemporality=b.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(a.dataPoints[d],b)}return null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=b.enums===String?void 0===h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]?a.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]:a.aggregationTemporality),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},a}(),u.Summary=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.Summary;a.pos<c;){var f=a.uint32();f>>>3==1?(d.dataPoints&&d.dataPoints.length||(d.dataPoints=[]),d.dataPoints.push(h.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Summary)return a;var b=new h.opentelemetry.proto.metrics.v1.Summary;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(a.dataPoints[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(a.dataPoints[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Summary"},a}(),(w=Object.create(v={}))[v[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,w[v[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,w[v[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,u.AggregationTemporality=w,(y=Object.create(x={}))[x[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,y[x[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,u.DataPointFlags=y,u.NumberDataPoint=function(){var a;function b(a){if(this.attributes=[],this.exemplars=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.attributes=g.emptyArray,b.prototype.startTimeUnixNano=null,b.prototype.timeUnixNano=null,b.prototype.asDouble=null,b.prototype.asInt=null,b.prototype.exemplars=g.emptyArray,b.prototype.flags=null,Object.defineProperty(b.prototype,"value",{get:g.oneOfGetter(a=["asDouble","asInt"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(17).fixed64(a.startTimeUnixNano),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(25).fixed64(a.timeUnixNano),null!=a.asDouble&&Object.hasOwnProperty.call(a,"asDouble")&&b.uint32(33).double(a.asDouble),null!=a.exemplars&&a.exemplars.length)for(var c=0;c<a.exemplars.length;++c)h.opentelemetry.proto.metrics.v1.Exemplar.encode(a.exemplars[c],b.uint32(42).fork()).ldelim();if(null!=a.asInt&&Object.hasOwnProperty.call(a,"asInt")&&b.uint32(49).sfixed64(a.asInt),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(58).fork()).ldelim();return null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(64).uint32(a.flags),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.NumberDataPoint;a.pos<c;){var f=a.uint32();switch(f>>>3){case 7:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:d.startTimeUnixNano=a.fixed64();break;case 3:d.timeUnixNano=a.fixed64();break;case 4:d.asDouble=a.double();break;case 6:d.asInt=a.sfixed64();break;case 5:d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(a,a.uint32()));break;case 8:d.flags=a.uint32();break;default:a.skipType(7&f)}}return d},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var c=0;c<a.attributes.length;++c){var d=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[c]);if(d)return"attributes."+d}}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.asDouble&&a.hasOwnProperty("asDouble")&&(b.value=1,"number"!=typeof a.asDouble))return"asDouble: number expected";if(null!=a.asInt&&a.hasOwnProperty("asInt")){if(1===b.value)return"value: multiple values";if(b.value=1,!g.isInteger(a.asInt)&&!(a.asInt&&g.isInteger(a.asInt.low)&&g.isInteger(a.asInt.high)))return"asInt: integer|Long expected"}if(null!=a.exemplars&&a.hasOwnProperty("exemplars")){if(!Array.isArray(a.exemplars))return"exemplars: array expected";for(var c=0;c<a.exemplars.length;++c){var d=h.opentelemetry.proto.metrics.v1.Exemplar.verify(a.exemplars[c]);if(d)return"exemplars."+d}}return null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.NumberDataPoint)return a;var b=new h.opentelemetry.proto.metrics.v1.NumberDataPoint;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.asDouble&&(b.asDouble=Number(a.asDouble)),null!=a.asInt&&(g.Long?(b.asInt=g.Long.fromValue(a.asInt)).unsigned=!1:"string"==typeof a.asInt?b.asInt=parseInt(a.asInt,10):"number"==typeof a.asInt?b.asInt=a.asInt:"object"==typeof a.asInt&&(b.asInt=new g.LongBits(a.asInt.low>>>0,a.asInt.high>>>0).toNumber())),a.exemplars){if(!Array.isArray(a.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");b.exemplars=[];for(var c=0;c<a.exemplars.length;++c){if("object"!=typeof a.exemplars[c])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");b.exemplars[c]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(a.exemplars[c])}}return null!=a.flags&&(b.flags=a.flags>>>0),b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.exemplars=[],c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;c.flags=0}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.asDouble&&a.hasOwnProperty("asDouble")&&(c.asDouble=b.json&&!isFinite(a.asDouble)?String(a.asDouble):a.asDouble,b.oneofs&&(c.value="asDouble")),a.exemplars&&a.exemplars.length){c.exemplars=[];for(var e=0;e<a.exemplars.length;++e)c.exemplars[e]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(a.exemplars[e],b)}if(null!=a.asInt&&a.hasOwnProperty("asInt")&&("number"==typeof a.asInt?c.asInt=b.longs===String?String(a.asInt):a.asInt:c.asInt=b.longs===String?g.Long.prototype.toString.call(a.asInt):b.longs===Number?new g.LongBits(a.asInt.low>>>0,a.asInt.high>>>0).toNumber():a.asInt,b.oneofs&&(c.value="asInt")),a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},b}(),u.HistogramDataPoint=function(){var a;function b(a){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.attributes=g.emptyArray,b.prototype.startTimeUnixNano=null,b.prototype.timeUnixNano=null,b.prototype.count=null,b.prototype.sum=null,b.prototype.bucketCounts=g.emptyArray,b.prototype.explicitBounds=g.emptyArray,b.prototype.exemplars=g.emptyArray,b.prototype.flags=null,b.prototype.min=null,b.prototype.max=null,Object.defineProperty(b.prototype,"_sum",{get:g.oneOfGetter(a=["sum"]),set:g.oneOfSetter(a)}),Object.defineProperty(b.prototype,"_min",{get:g.oneOfGetter(a=["min"]),set:g.oneOfSetter(a)}),Object.defineProperty(b.prototype,"_max",{get:g.oneOfGetter(a=["max"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(17).fixed64(a.startTimeUnixNano),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(25).fixed64(a.timeUnixNano),null!=a.count&&Object.hasOwnProperty.call(a,"count")&&b.uint32(33).fixed64(a.count),null!=a.sum&&Object.hasOwnProperty.call(a,"sum")&&b.uint32(41).double(a.sum),null!=a.bucketCounts&&a.bucketCounts.length){b.uint32(50).fork();for(var c=0;c<a.bucketCounts.length;++c)b.fixed64(a.bucketCounts[c]);b.ldelim()}if(null!=a.explicitBounds&&a.explicitBounds.length){b.uint32(58).fork();for(var c=0;c<a.explicitBounds.length;++c)b.double(a.explicitBounds[c]);b.ldelim()}if(null!=a.exemplars&&a.exemplars.length)for(var c=0;c<a.exemplars.length;++c)h.opentelemetry.proto.metrics.v1.Exemplar.encode(a.exemplars[c],b.uint32(66).fork()).ldelim();if(null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(74).fork()).ldelim();return null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(80).uint32(a.flags),null!=a.min&&Object.hasOwnProperty.call(a,"min")&&b.uint32(89).double(a.min),null!=a.max&&Object.hasOwnProperty.call(a,"max")&&b.uint32(97).double(a.max),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.HistogramDataPoint;a.pos<c;){var f=a.uint32();switch(f>>>3){case 9:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:d.startTimeUnixNano=a.fixed64();break;case 3:d.timeUnixNano=a.fixed64();break;case 4:d.count=a.fixed64();break;case 5:d.sum=a.double();break;case 6:if(d.bucketCounts&&d.bucketCounts.length||(d.bucketCounts=[]),(7&f)==2)for(var g=a.uint32()+a.pos;a.pos<g;)d.bucketCounts.push(a.fixed64());else d.bucketCounts.push(a.fixed64());break;case 7:if(d.explicitBounds&&d.explicitBounds.length||(d.explicitBounds=[]),(7&f)==2)for(var g=a.uint32()+a.pos;a.pos<g;)d.explicitBounds.push(a.double());else d.explicitBounds.push(a.double());break;case 8:d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(a,a.uint32()));break;case 10:d.flags=a.uint32();break;case 11:d.min=a.double();break;case 12:d.max=a.double();break;default:a.skipType(7&f)}}return d},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var c=0;c<a.attributes.length;++c){var d=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[c]);if(d)return"attributes."+d}}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.count&&a.hasOwnProperty("count")&&!g.isInteger(a.count)&&!(a.count&&g.isInteger(a.count.low)&&g.isInteger(a.count.high)))return"count: integer|Long expected";if(null!=a.sum&&a.hasOwnProperty("sum")&&(b._sum=1,"number"!=typeof a.sum))return"sum: number expected";if(null!=a.bucketCounts&&a.hasOwnProperty("bucketCounts")){if(!Array.isArray(a.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<a.bucketCounts.length;++c)if(!g.isInteger(a.bucketCounts[c])&&!(a.bucketCounts[c]&&g.isInteger(a.bucketCounts[c].low)&&g.isInteger(a.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}if(null!=a.explicitBounds&&a.hasOwnProperty("explicitBounds")){if(!Array.isArray(a.explicitBounds))return"explicitBounds: array expected";for(var c=0;c<a.explicitBounds.length;++c)if("number"!=typeof a.explicitBounds[c])return"explicitBounds: number[] expected"}if(null!=a.exemplars&&a.hasOwnProperty("exemplars")){if(!Array.isArray(a.exemplars))return"exemplars: array expected";for(var c=0;c<a.exemplars.length;++c){var d=h.opentelemetry.proto.metrics.v1.Exemplar.verify(a.exemplars[c]);if(d)return"exemplars."+d}}return null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null!=a.min&&a.hasOwnProperty("min")&&(b._min=1,"number"!=typeof a.min)?"min: number expected":null!=a.max&&a.hasOwnProperty("max")&&(b._max=1,"number"!=typeof a.max)?"max: number expected":null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.HistogramDataPoint)return a;var b=new h.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.count&&(g.Long?(b.count=g.Long.fromValue(a.count)).unsigned=!1:"string"==typeof a.count?b.count=parseInt(a.count,10):"number"==typeof a.count?b.count=a.count:"object"==typeof a.count&&(b.count=new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber())),null!=a.sum&&(b.sum=Number(a.sum)),a.bucketCounts){if(!Array.isArray(a.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");b.bucketCounts=[];for(var c=0;c<a.bucketCounts.length;++c)g.Long?(b.bucketCounts[c]=g.Long.fromValue(a.bucketCounts[c])).unsigned=!1:"string"==typeof a.bucketCounts[c]?b.bucketCounts[c]=parseInt(a.bucketCounts[c],10):"number"==typeof a.bucketCounts[c]?b.bucketCounts[c]=a.bucketCounts[c]:"object"==typeof a.bucketCounts[c]&&(b.bucketCounts[c]=new g.LongBits(a.bucketCounts[c].low>>>0,a.bucketCounts[c].high>>>0).toNumber())}if(a.explicitBounds){if(!Array.isArray(a.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");b.explicitBounds=[];for(var c=0;c<a.explicitBounds.length;++c)b.explicitBounds[c]=Number(a.explicitBounds[c])}if(a.exemplars){if(!Array.isArray(a.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");b.exemplars=[];for(var c=0;c<a.exemplars.length;++c){if("object"!=typeof a.exemplars[c])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");b.exemplars[c]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(a.exemplars[c])}}return null!=a.flags&&(b.flags=a.flags>>>0),null!=a.min&&(b.min=Number(a.min)),null!=a.max&&(b.max=Number(a.max)),b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.bucketCounts=[],c.explicitBounds=[],c.exemplars=[],c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.count=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.count=b.longs===String?"0":0;c.flags=0}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.count&&a.hasOwnProperty("count")&&("number"==typeof a.count?c.count=b.longs===String?String(a.count):a.count:c.count=b.longs===String?g.Long.prototype.toString.call(a.count):b.longs===Number?new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber():a.count),null!=a.sum&&a.hasOwnProperty("sum")&&(c.sum=b.json&&!isFinite(a.sum)?String(a.sum):a.sum,b.oneofs&&(c._sum="sum")),a.bucketCounts&&a.bucketCounts.length){c.bucketCounts=[];for(var e=0;e<a.bucketCounts.length;++e)"number"==typeof a.bucketCounts[e]?c.bucketCounts[e]=b.longs===String?String(a.bucketCounts[e]):a.bucketCounts[e]:c.bucketCounts[e]=b.longs===String?g.Long.prototype.toString.call(a.bucketCounts[e]):b.longs===Number?new g.LongBits(a.bucketCounts[e].low>>>0,a.bucketCounts[e].high>>>0).toNumber():a.bucketCounts[e]}if(a.explicitBounds&&a.explicitBounds.length){c.explicitBounds=[];for(var e=0;e<a.explicitBounds.length;++e)c.explicitBounds[e]=b.json&&!isFinite(a.explicitBounds[e])?String(a.explicitBounds[e]):a.explicitBounds[e]}if(a.exemplars&&a.exemplars.length){c.exemplars=[];for(var e=0;e<a.exemplars.length;++e)c.exemplars[e]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(a.exemplars[e],b)}if(a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),null!=a.min&&a.hasOwnProperty("min")&&(c.min=b.json&&!isFinite(a.min)?String(a.min):a.min,b.oneofs&&(c._min="min")),null!=a.max&&a.hasOwnProperty("max")&&(c.max=b.json&&!isFinite(a.max)?String(a.max):a.max,b.oneofs&&(c._max="max")),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},b}(),u.ExponentialHistogramDataPoint=function(){var a;function b(a){if(this.attributes=[],this.exemplars=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.attributes=g.emptyArray,b.prototype.startTimeUnixNano=null,b.prototype.timeUnixNano=null,b.prototype.count=null,b.prototype.sum=null,b.prototype.scale=null,b.prototype.zeroCount=null,b.prototype.positive=null,b.prototype.negative=null,b.prototype.flags=null,b.prototype.exemplars=g.emptyArray,b.prototype.min=null,b.prototype.max=null,b.prototype.zeroThreshold=null,Object.defineProperty(b.prototype,"_sum",{get:g.oneOfGetter(a=["sum"]),set:g.oneOfSetter(a)}),Object.defineProperty(b.prototype,"_min",{get:g.oneOfGetter(a=["min"]),set:g.oneOfSetter(a)}),Object.defineProperty(b.prototype,"_max",{get:g.oneOfGetter(a=["max"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(10).fork()).ldelim();if(null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(17).fixed64(a.startTimeUnixNano),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(25).fixed64(a.timeUnixNano),null!=a.count&&Object.hasOwnProperty.call(a,"count")&&b.uint32(33).fixed64(a.count),null!=a.sum&&Object.hasOwnProperty.call(a,"sum")&&b.uint32(41).double(a.sum),null!=a.scale&&Object.hasOwnProperty.call(a,"scale")&&b.uint32(48).sint32(a.scale),null!=a.zeroCount&&Object.hasOwnProperty.call(a,"zeroCount")&&b.uint32(57).fixed64(a.zeroCount),null!=a.positive&&Object.hasOwnProperty.call(a,"positive")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(a.positive,b.uint32(66).fork()).ldelim(),null!=a.negative&&Object.hasOwnProperty.call(a,"negative")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(a.negative,b.uint32(74).fork()).ldelim(),null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(80).uint32(a.flags),null!=a.exemplars&&a.exemplars.length)for(var c=0;c<a.exemplars.length;++c)h.opentelemetry.proto.metrics.v1.Exemplar.encode(a.exemplars[c],b.uint32(90).fork()).ldelim();return null!=a.min&&Object.hasOwnProperty.call(a,"min")&&b.uint32(97).double(a.min),null!=a.max&&Object.hasOwnProperty.call(a,"max")&&b.uint32(105).double(a.max),null!=a.zeroThreshold&&Object.hasOwnProperty.call(a,"zeroThreshold")&&b.uint32(113).double(a.zeroThreshold),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:d.startTimeUnixNano=a.fixed64();break;case 3:d.timeUnixNano=a.fixed64();break;case 4:d.count=a.fixed64();break;case 5:d.sum=a.double();break;case 6:d.scale=a.sint32();break;case 7:d.zeroCount=a.fixed64();break;case 8:d.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(a,a.uint32());break;case 9:d.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(a,a.uint32());break;case 10:d.flags=a.uint32();break;case 11:d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(a,a.uint32()));break;case 12:d.min=a.double();break;case 13:d.max=a.double();break;case 14:d.zeroThreshold=a.double();break;default:a.skipType(7&f)}}return d},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var c=0;c<a.attributes.length;++c){var d=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[c]);if(d)return"attributes."+d}}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.count&&a.hasOwnProperty("count")&&!g.isInteger(a.count)&&!(a.count&&g.isInteger(a.count.low)&&g.isInteger(a.count.high)))return"count: integer|Long expected";if(null!=a.sum&&a.hasOwnProperty("sum")&&(b._sum=1,"number"!=typeof a.sum))return"sum: number expected";if(null!=a.scale&&a.hasOwnProperty("scale")&&!g.isInteger(a.scale))return"scale: integer expected";if(null!=a.zeroCount&&a.hasOwnProperty("zeroCount")&&!g.isInteger(a.zeroCount)&&!(a.zeroCount&&g.isInteger(a.zeroCount.low)&&g.isInteger(a.zeroCount.high)))return"zeroCount: integer|Long expected";if(null!=a.positive&&a.hasOwnProperty("positive")){var d=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(a.positive);if(d)return"positive."+d}if(null!=a.negative&&a.hasOwnProperty("negative")){var d=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(a.negative);if(d)return"negative."+d}if(null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags))return"flags: integer expected";if(null!=a.exemplars&&a.hasOwnProperty("exemplars")){if(!Array.isArray(a.exemplars))return"exemplars: array expected";for(var c=0;c<a.exemplars.length;++c){var d=h.opentelemetry.proto.metrics.v1.Exemplar.verify(a.exemplars[c]);if(d)return"exemplars."+d}}return null!=a.min&&a.hasOwnProperty("min")&&(b._min=1,"number"!=typeof a.min)?"min: number expected":null!=a.max&&a.hasOwnProperty("max")&&(b._max=1,"number"!=typeof a.max)?"max: number expected":null!=a.zeroThreshold&&a.hasOwnProperty("zeroThreshold")&&"number"!=typeof a.zeroThreshold?"zeroThreshold: number expected":null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return a;var b=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.count&&(g.Long?(b.count=g.Long.fromValue(a.count)).unsigned=!1:"string"==typeof a.count?b.count=parseInt(a.count,10):"number"==typeof a.count?b.count=a.count:"object"==typeof a.count&&(b.count=new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber())),null!=a.sum&&(b.sum=Number(a.sum)),null!=a.scale&&(b.scale=0|a.scale),null!=a.zeroCount&&(g.Long?(b.zeroCount=g.Long.fromValue(a.zeroCount)).unsigned=!1:"string"==typeof a.zeroCount?b.zeroCount=parseInt(a.zeroCount,10):"number"==typeof a.zeroCount?b.zeroCount=a.zeroCount:"object"==typeof a.zeroCount&&(b.zeroCount=new g.LongBits(a.zeroCount.low>>>0,a.zeroCount.high>>>0).toNumber())),null!=a.positive){if("object"!=typeof a.positive)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");b.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(a.positive)}if(null!=a.negative){if("object"!=typeof a.negative)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");b.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(a.negative)}if(null!=a.flags&&(b.flags=a.flags>>>0),a.exemplars){if(!Array.isArray(a.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");b.exemplars=[];for(var c=0;c<a.exemplars.length;++c){if("object"!=typeof a.exemplars[c])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");b.exemplars[c]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(a.exemplars[c])}}return null!=a.min&&(b.min=Number(a.min)),null!=a.max&&(b.max=Number(a.max)),null!=a.zeroThreshold&&(b.zeroThreshold=Number(a.zeroThreshold)),b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[],c.exemplars=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.count=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.count=b.longs===String?"0":0;if(c.scale=0,g.Long){var d=new g.Long(0,0,!1);c.zeroCount=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.zeroCount=b.longs===String?"0":0;c.positive=null,c.negative=null,c.flags=0,c.zeroThreshold=0}if(a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.count&&a.hasOwnProperty("count")&&("number"==typeof a.count?c.count=b.longs===String?String(a.count):a.count:c.count=b.longs===String?g.Long.prototype.toString.call(a.count):b.longs===Number?new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber():a.count),null!=a.sum&&a.hasOwnProperty("sum")&&(c.sum=b.json&&!isFinite(a.sum)?String(a.sum):a.sum,b.oneofs&&(c._sum="sum")),null!=a.scale&&a.hasOwnProperty("scale")&&(c.scale=a.scale),null!=a.zeroCount&&a.hasOwnProperty("zeroCount")&&("number"==typeof a.zeroCount?c.zeroCount=b.longs===String?String(a.zeroCount):a.zeroCount:c.zeroCount=b.longs===String?g.Long.prototype.toString.call(a.zeroCount):b.longs===Number?new g.LongBits(a.zeroCount.low>>>0,a.zeroCount.high>>>0).toNumber():a.zeroCount),null!=a.positive&&a.hasOwnProperty("positive")&&(c.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(a.positive,b)),null!=a.negative&&a.hasOwnProperty("negative")&&(c.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(a.negative,b)),null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),a.exemplars&&a.exemplars.length){c.exemplars=[];for(var e=0;e<a.exemplars.length;++e)c.exemplars[e]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(a.exemplars[e],b)}return null!=a.min&&a.hasOwnProperty("min")&&(c.min=b.json&&!isFinite(a.min)?String(a.min):a.min,b.oneofs&&(c._min="min")),null!=a.max&&a.hasOwnProperty("max")&&(c.max=b.json&&!isFinite(a.max)?String(a.max):a.max,b.oneofs&&(c._max="max")),null!=a.zeroThreshold&&a.hasOwnProperty("zeroThreshold")&&(c.zeroThreshold=b.json&&!isFinite(a.zeroThreshold)?String(a.zeroThreshold):a.zeroThreshold),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},b.Buckets=function(){function a(a){if(this.bucketCounts=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.offset=null,a.prototype.bucketCounts=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.offset&&Object.hasOwnProperty.call(a,"offset")&&b.uint32(8).sint32(a.offset),null!=a.bucketCounts&&a.bucketCounts.length){b.uint32(18).fork();for(var c=0;c<a.bucketCounts.length;++c)b.uint64(a.bucketCounts[c]);b.ldelim()}return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.offset=a.sint32();break;case 2:if(d.bucketCounts&&d.bucketCounts.length||(d.bucketCounts=[]),(7&f)==2)for(var g=a.uint32()+a.pos;a.pos<g;)d.bucketCounts.push(a.uint64());else d.bucketCounts.push(a.uint64());break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.offset&&a.hasOwnProperty("offset")&&!g.isInteger(a.offset))return"offset: integer expected";if(null!=a.bucketCounts&&a.hasOwnProperty("bucketCounts")){if(!Array.isArray(a.bucketCounts))return"bucketCounts: array expected";for(var b=0;b<a.bucketCounts.length;++b)if(!g.isInteger(a.bucketCounts[b])&&!(a.bucketCounts[b]&&g.isInteger(a.bucketCounts[b].low)&&g.isInteger(a.bucketCounts[b].high)))return"bucketCounts: integer|Long[] expected"}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return a;var b=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(null!=a.offset&&(b.offset=0|a.offset),a.bucketCounts){if(!Array.isArray(a.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");b.bucketCounts=[];for(var c=0;c<a.bucketCounts.length;++c)g.Long?(b.bucketCounts[c]=g.Long.fromValue(a.bucketCounts[c])).unsigned=!0:"string"==typeof a.bucketCounts[c]?b.bucketCounts[c]=parseInt(a.bucketCounts[c],10):"number"==typeof a.bucketCounts[c]?b.bucketCounts[c]=a.bucketCounts[c]:"object"==typeof a.bucketCounts[c]&&(b.bucketCounts[c]=new g.LongBits(a.bucketCounts[c].low>>>0,a.bucketCounts[c].high>>>0).toNumber(!0))}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.bucketCounts=[]),b.defaults&&(c.offset=0),null!=a.offset&&a.hasOwnProperty("offset")&&(c.offset=a.offset),a.bucketCounts&&a.bucketCounts.length){c.bucketCounts=[];for(var d=0;d<a.bucketCounts.length;++d)"number"==typeof a.bucketCounts[d]?c.bucketCounts[d]=b.longs===String?String(a.bucketCounts[d]):a.bucketCounts[d]:c.bucketCounts[d]=b.longs===String?g.Long.prototype.toString.call(a.bucketCounts[d]):b.longs===Number?new g.LongBits(a.bucketCounts[d].low>>>0,a.bucketCounts[d].high>>>0).toNumber(!0):a.bucketCounts[d]}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},a}(),b}(),u.SummaryDataPoint=function(){function a(a){if(this.attributes=[],this.quantileValues=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.attributes=g.emptyArray,a.prototype.startTimeUnixNano=null,a.prototype.timeUnixNano=null,a.prototype.count=null,a.prototype.sum=null,a.prototype.quantileValues=g.emptyArray,a.prototype.flags=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(17).fixed64(a.startTimeUnixNano),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(25).fixed64(a.timeUnixNano),null!=a.count&&Object.hasOwnProperty.call(a,"count")&&b.uint32(33).fixed64(a.count),null!=a.sum&&Object.hasOwnProperty.call(a,"sum")&&b.uint32(41).double(a.sum),null!=a.quantileValues&&a.quantileValues.length)for(var c=0;c<a.quantileValues.length;++c)h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(a.quantileValues[c],b.uint32(50).fork()).ldelim();if(null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(58).fork()).ldelim();return null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(64).uint32(a.flags),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint;a.pos<c;){var f=a.uint32();switch(f>>>3){case 7:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:d.startTimeUnixNano=a.fixed64();break;case 3:d.timeUnixNano=a.fixed64();break;case 4:d.count=a.fixed64();break;case 5:d.sum=a.double();break;case 6:d.quantileValues&&d.quantileValues.length||(d.quantileValues=[]),d.quantileValues.push(h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(a,a.uint32()));break;case 8:d.flags=a.uint32();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.count&&a.hasOwnProperty("count")&&!g.isInteger(a.count)&&!(a.count&&g.isInteger(a.count.low)&&g.isInteger(a.count.high)))return"count: integer|Long expected";if(null!=a.sum&&a.hasOwnProperty("sum")&&"number"!=typeof a.sum)return"sum: number expected";if(null!=a.quantileValues&&a.hasOwnProperty("quantileValues")){if(!Array.isArray(a.quantileValues))return"quantileValues: array expected";for(var b=0;b<a.quantileValues.length;++b){var c=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(a.quantileValues[b]);if(c)return"quantileValues."+c}}return null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.SummaryDataPoint)return a;var b=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.count&&(g.Long?(b.count=g.Long.fromValue(a.count)).unsigned=!1:"string"==typeof a.count?b.count=parseInt(a.count,10):"number"==typeof a.count?b.count=a.count:"object"==typeof a.count&&(b.count=new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber())),null!=a.sum&&(b.sum=Number(a.sum)),a.quantileValues){if(!Array.isArray(a.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");b.quantileValues=[];for(var c=0;c<a.quantileValues.length;++c){if("object"!=typeof a.quantileValues[c])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");b.quantileValues[c]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(a.quantileValues[c])}}return null!=a.flags&&(b.flags=a.flags>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.quantileValues=[],c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.count=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.count=b.longs===String?"0":0;c.sum=0,c.flags=0}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.count&&a.hasOwnProperty("count")&&("number"==typeof a.count?c.count=b.longs===String?String(a.count):a.count:c.count=b.longs===String?g.Long.prototype.toString.call(a.count):b.longs===Number?new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber():a.count),null!=a.sum&&a.hasOwnProperty("sum")&&(c.sum=b.json&&!isFinite(a.sum)?String(a.sum):a.sum),a.quantileValues&&a.quantileValues.length){c.quantileValues=[];for(var e=0;e<a.quantileValues.length;++e)c.quantileValues[e]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(a.quantileValues[e],b)}if(a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},a.ValueAtQuantile=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.quantile=null,a.prototype.value=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.quantile&&Object.hasOwnProperty.call(a,"quantile")&&b.uint32(9).double(a.quantile),null!=a.value&&Object.hasOwnProperty.call(a,"value")&&b.uint32(17).double(a.value),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.quantile=a.double();break;case 2:d.value=a.double();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.quantile&&a.hasOwnProperty("quantile")&&"number"!=typeof a.quantile?"quantile: number expected":null!=a.value&&a.hasOwnProperty("value")&&"number"!=typeof a.value?"value: number expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return a;var b=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return null!=a.quantile&&(b.quantile=Number(a.quantile)),null!=a.value&&(b.value=Number(a.value)),b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.quantile=0,c.value=0),null!=a.quantile&&a.hasOwnProperty("quantile")&&(c.quantile=b.json&&!isFinite(a.quantile)?String(a.quantile):a.quantile),null!=a.value&&a.hasOwnProperty("value")&&(c.value=b.json&&!isFinite(a.value)?String(a.value):a.value),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},a}(),a}(),u.Exemplar=function(){var a;function b(a){if(this.filteredAttributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.filteredAttributes=g.emptyArray,b.prototype.timeUnixNano=null,b.prototype.asDouble=null,b.prototype.asInt=null,b.prototype.spanId=null,b.prototype.traceId=null,Object.defineProperty(b.prototype,"value",{get:g.oneOfGetter(a=["asDouble","asInt"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(17).fixed64(a.timeUnixNano),null!=a.asDouble&&Object.hasOwnProperty.call(a,"asDouble")&&b.uint32(25).double(a.asDouble),null!=a.spanId&&Object.hasOwnProperty.call(a,"spanId")&&b.uint32(34).bytes(a.spanId),null!=a.traceId&&Object.hasOwnProperty.call(a,"traceId")&&b.uint32(42).bytes(a.traceId),null!=a.asInt&&Object.hasOwnProperty.call(a,"asInt")&&b.uint32(49).sfixed64(a.asInt),null!=a.filteredAttributes&&a.filteredAttributes.length)for(var c=0;c<a.filteredAttributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.filteredAttributes[c],b.uint32(58).fork()).ldelim();return b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.metrics.v1.Exemplar;a.pos<c;){var f=a.uint32();switch(f>>>3){case 7:d.filteredAttributes&&d.filteredAttributes.length||(d.filteredAttributes=[]),d.filteredAttributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:d.timeUnixNano=a.fixed64();break;case 3:d.asDouble=a.double();break;case 6:d.asInt=a.sfixed64();break;case 4:d.spanId=a.bytes();break;case 5:d.traceId=a.bytes();break;default:a.skipType(7&f)}}return d},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.filteredAttributes&&a.hasOwnProperty("filteredAttributes")){if(!Array.isArray(a.filteredAttributes))return"filteredAttributes: array expected";for(var c=0;c<a.filteredAttributes.length;++c){var d=h.opentelemetry.proto.common.v1.KeyValue.verify(a.filteredAttributes[c]);if(d)return"filteredAttributes."+d}}if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.asDouble&&a.hasOwnProperty("asDouble")&&(b.value=1,"number"!=typeof a.asDouble))return"asDouble: number expected";if(null!=a.asInt&&a.hasOwnProperty("asInt")){if(1===b.value)return"value: multiple values";if(b.value=1,!g.isInteger(a.asInt)&&!(a.asInt&&g.isInteger(a.asInt.low)&&g.isInteger(a.asInt.high)))return"asInt: integer|Long expected"}return null!=a.spanId&&a.hasOwnProperty("spanId")&&!(a.spanId&&"number"==typeof a.spanId.length||g.isString(a.spanId))?"spanId: buffer expected":null!=a.traceId&&a.hasOwnProperty("traceId")&&!(a.traceId&&"number"==typeof a.traceId.length||g.isString(a.traceId))?"traceId: buffer expected":null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Exemplar)return a;var b=new h.opentelemetry.proto.metrics.v1.Exemplar;if(a.filteredAttributes){if(!Array.isArray(a.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");b.filteredAttributes=[];for(var c=0;c<a.filteredAttributes.length;++c){if("object"!=typeof a.filteredAttributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");b.filteredAttributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.filteredAttributes[c])}}return null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.asDouble&&(b.asDouble=Number(a.asDouble)),null!=a.asInt&&(g.Long?(b.asInt=g.Long.fromValue(a.asInt)).unsigned=!1:"string"==typeof a.asInt?b.asInt=parseInt(a.asInt,10):"number"==typeof a.asInt?b.asInt=a.asInt:"object"==typeof a.asInt&&(b.asInt=new g.LongBits(a.asInt.low>>>0,a.asInt.high>>>0).toNumber())),null!=a.spanId&&("string"==typeof a.spanId?g.base64.decode(a.spanId,b.spanId=g.newBuffer(g.base64.length(a.spanId)),0):a.spanId.length>=0&&(b.spanId=a.spanId)),null!=a.traceId&&("string"==typeof a.traceId?g.base64.decode(a.traceId,b.traceId=g.newBuffer(g.base64.length(a.traceId)),0):a.traceId.length>=0&&(b.traceId=a.traceId)),b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.filteredAttributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;b.bytes===String?c.spanId="":(c.spanId=[],b.bytes!==Array&&(c.spanId=g.newBuffer(c.spanId))),b.bytes===String?c.traceId="":(c.traceId=[],b.bytes!==Array&&(c.traceId=g.newBuffer(c.traceId)))}if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.asDouble&&a.hasOwnProperty("asDouble")&&(c.asDouble=b.json&&!isFinite(a.asDouble)?String(a.asDouble):a.asDouble,b.oneofs&&(c.value="asDouble")),null!=a.spanId&&a.hasOwnProperty("spanId")&&(c.spanId=b.bytes===String?g.base64.encode(a.spanId,0,a.spanId.length):b.bytes===Array?Array.prototype.slice.call(a.spanId):a.spanId),null!=a.traceId&&a.hasOwnProperty("traceId")&&(c.traceId=b.bytes===String?g.base64.encode(a.traceId,0,a.traceId.length):b.bytes===Array?Array.prototype.slice.call(a.traceId):a.traceId),null!=a.asInt&&a.hasOwnProperty("asInt")&&("number"==typeof a.asInt?c.asInt=b.longs===String?String(a.asInt):a.asInt:c.asInt=b.longs===String?g.Long.prototype.toString.call(a.asInt):b.longs===Number?new g.LongBits(a.asInt.low>>>0,a.asInt.high>>>0).toNumber():a.asInt,b.oneofs&&(c.value="asInt")),a.filteredAttributes&&a.filteredAttributes.length){c.filteredAttributes=[];for(var e=0;e<a.filteredAttributes.length;++e)c.filteredAttributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.filteredAttributes[e],b)}return c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Exemplar"},b}(),t.v1=u,a.metrics=t,z={},(A={}).LogsData=function(){function a(a){if(this.resourceLogs=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceLogs=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceLogs&&a.resourceLogs.length)for(var c=0;c<a.resourceLogs.length;++c)h.opentelemetry.proto.logs.v1.ResourceLogs.encode(a.resourceLogs[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.logs.v1.LogsData;a.pos<c;){var f=a.uint32();f>>>3==1?(d.resourceLogs&&d.resourceLogs.length||(d.resourceLogs=[]),d.resourceLogs.push(h.opentelemetry.proto.logs.v1.ResourceLogs.decode(a,a.uint32()))):a.skipType(7&f)}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceLogs&&a.hasOwnProperty("resourceLogs")){if(!Array.isArray(a.resourceLogs))return"resourceLogs: array expected";for(var b=0;b<a.resourceLogs.length;++b){var c=h.opentelemetry.proto.logs.v1.ResourceLogs.verify(a.resourceLogs[b]);if(c)return"resourceLogs."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.logs.v1.LogsData)return a;var b=new h.opentelemetry.proto.logs.v1.LogsData;if(a.resourceLogs){if(!Array.isArray(a.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");b.resourceLogs=[];for(var c=0;c<a.resourceLogs.length;++c){if("object"!=typeof a.resourceLogs[c])throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");b.resourceLogs[c]=h.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(a.resourceLogs[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceLogs=[]),a.resourceLogs&&a.resourceLogs.length){c.resourceLogs=[];for(var d=0;d<a.resourceLogs.length;++d)c.resourceLogs[d]=h.opentelemetry.proto.logs.v1.ResourceLogs.toObject(a.resourceLogs[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.logs.v1.LogsData"},a}(),A.ResourceLogs=function(){function a(a){if(this.scopeLogs=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resource=null,a.prototype.scopeLogs=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resource&&Object.hasOwnProperty.call(a,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(a.resource,b.uint32(10).fork()).ldelim(),null!=a.scopeLogs&&a.scopeLogs.length)for(var c=0;c<a.scopeLogs.length;++c)h.opentelemetry.proto.logs.v1.ScopeLogs.encode(a.scopeLogs[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.logs.v1.ResourceLogs;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.resource=h.opentelemetry.proto.resource.v1.Resource.decode(a,a.uint32());break;case 2:d.scopeLogs&&d.scopeLogs.length||(d.scopeLogs=[]),d.scopeLogs.push(h.opentelemetry.proto.logs.v1.ScopeLogs.decode(a,a.uint32()));break;case 3:d.schemaUrl=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resource&&a.hasOwnProperty("resource")){var b=h.opentelemetry.proto.resource.v1.Resource.verify(a.resource);if(b)return"resource."+b}if(null!=a.scopeLogs&&a.hasOwnProperty("scopeLogs")){if(!Array.isArray(a.scopeLogs))return"scopeLogs: array expected";for(var c=0;c<a.scopeLogs.length;++c){var b=h.opentelemetry.proto.logs.v1.ScopeLogs.verify(a.scopeLogs[c]);if(b)return"scopeLogs."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.logs.v1.ResourceLogs)return a;var b=new h.opentelemetry.proto.logs.v1.ResourceLogs;if(null!=a.resource){if("object"!=typeof a.resource)throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");b.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(a.resource)}if(a.scopeLogs){if(!Array.isArray(a.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");b.scopeLogs=[];for(var c=0;c<a.scopeLogs.length;++c){if("object"!=typeof a.scopeLogs[c])throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");b.scopeLogs[c]=h.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(a.scopeLogs[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.scopeLogs=[]),b.defaults&&(c.resource=null,c.schemaUrl=""),null!=a.resource&&a.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(a.resource,b)),a.scopeLogs&&a.scopeLogs.length){c.scopeLogs=[];for(var d=0;d<a.scopeLogs.length;++d)c.scopeLogs[d]=h.opentelemetry.proto.logs.v1.ScopeLogs.toObject(a.scopeLogs[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.logs.v1.ResourceLogs"},a}(),A.ScopeLogs=function(){function a(a){if(this.logRecords=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.scope=null,a.prototype.logRecords=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.scope&&Object.hasOwnProperty.call(a,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(a.scope,b.uint32(10).fork()).ldelim(),null!=a.logRecords&&a.logRecords.length)for(var c=0;c<a.logRecords.length;++c)h.opentelemetry.proto.logs.v1.LogRecord.encode(a.logRecords[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.logs.v1.ScopeLogs;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(a,a.uint32());break;case 2:d.logRecords&&d.logRecords.length||(d.logRecords=[]),d.logRecords.push(h.opentelemetry.proto.logs.v1.LogRecord.decode(a,a.uint32()));break;case 3:d.schemaUrl=a.string();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.scope&&a.hasOwnProperty("scope")){var b=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(a.scope);if(b)return"scope."+b}if(null!=a.logRecords&&a.hasOwnProperty("logRecords")){if(!Array.isArray(a.logRecords))return"logRecords: array expected";for(var c=0;c<a.logRecords.length;++c){var b=h.opentelemetry.proto.logs.v1.LogRecord.verify(a.logRecords[c]);if(b)return"logRecords."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.logs.v1.ScopeLogs)return a;var b=new h.opentelemetry.proto.logs.v1.ScopeLogs;if(null!=a.scope){if("object"!=typeof a.scope)throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");b.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(a.scope)}if(a.logRecords){if(!Array.isArray(a.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");b.logRecords=[];for(var c=0;c<a.logRecords.length;++c){if("object"!=typeof a.logRecords[c])throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");b.logRecords[c]=h.opentelemetry.proto.logs.v1.LogRecord.fromObject(a.logRecords[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.logRecords=[]),b.defaults&&(c.scope=null,c.schemaUrl=""),null!=a.scope&&a.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(a.scope,b)),a.logRecords&&a.logRecords.length){c.logRecords=[];for(var d=0;d<a.logRecords.length;++d)c.logRecords[d]=h.opentelemetry.proto.logs.v1.LogRecord.toObject(a.logRecords[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.logs.v1.ScopeLogs"},a}(),(C=Object.create(B={}))[B[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,C[B[1]="SEVERITY_NUMBER_TRACE"]=1,C[B[2]="SEVERITY_NUMBER_TRACE2"]=2,C[B[3]="SEVERITY_NUMBER_TRACE3"]=3,C[B[4]="SEVERITY_NUMBER_TRACE4"]=4,C[B[5]="SEVERITY_NUMBER_DEBUG"]=5,C[B[6]="SEVERITY_NUMBER_DEBUG2"]=6,C[B[7]="SEVERITY_NUMBER_DEBUG3"]=7,C[B[8]="SEVERITY_NUMBER_DEBUG4"]=8,C[B[9]="SEVERITY_NUMBER_INFO"]=9,C[B[10]="SEVERITY_NUMBER_INFO2"]=10,C[B[11]="SEVERITY_NUMBER_INFO3"]=11,C[B[12]="SEVERITY_NUMBER_INFO4"]=12,C[B[13]="SEVERITY_NUMBER_WARN"]=13,C[B[14]="SEVERITY_NUMBER_WARN2"]=14,C[B[15]="SEVERITY_NUMBER_WARN3"]=15,C[B[16]="SEVERITY_NUMBER_WARN4"]=16,C[B[17]="SEVERITY_NUMBER_ERROR"]=17,C[B[18]="SEVERITY_NUMBER_ERROR2"]=18,C[B[19]="SEVERITY_NUMBER_ERROR3"]=19,C[B[20]="SEVERITY_NUMBER_ERROR4"]=20,C[B[21]="SEVERITY_NUMBER_FATAL"]=21,C[B[22]="SEVERITY_NUMBER_FATAL2"]=22,C[B[23]="SEVERITY_NUMBER_FATAL3"]=23,C[B[24]="SEVERITY_NUMBER_FATAL4"]=24,A.SeverityNumber=C,(E=Object.create(D={}))[D[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,E[D[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,A.LogRecordFlags=E,A.LogRecord=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.timeUnixNano=null,a.prototype.observedTimeUnixNano=null,a.prototype.severityNumber=null,a.prototype.severityText=null,a.prototype.body=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.prototype.flags=null,a.prototype.traceId=null,a.prototype.spanId=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(9).fixed64(a.timeUnixNano),null!=a.severityNumber&&Object.hasOwnProperty.call(a,"severityNumber")&&b.uint32(16).int32(a.severityNumber),null!=a.severityText&&Object.hasOwnProperty.call(a,"severityText")&&b.uint32(26).string(a.severityText),null!=a.body&&Object.hasOwnProperty.call(a,"body")&&h.opentelemetry.proto.common.v1.AnyValue.encode(a.body,b.uint32(42).fork()).ldelim(),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(50).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(56).uint32(a.droppedAttributesCount),null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(69).fixed32(a.flags),null!=a.traceId&&Object.hasOwnProperty.call(a,"traceId")&&b.uint32(74).bytes(a.traceId),null!=a.spanId&&Object.hasOwnProperty.call(a,"spanId")&&b.uint32(82).bytes(a.spanId),null!=a.observedTimeUnixNano&&Object.hasOwnProperty.call(a,"observedTimeUnixNano")&&b.uint32(89).fixed64(a.observedTimeUnixNano),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b){a instanceof e||(a=e.create(a));for(var c=void 0===b?a.len:a.pos+b,d=new h.opentelemetry.proto.logs.v1.LogRecord;a.pos<c;){var f=a.uint32();switch(f>>>3){case 1:d.timeUnixNano=a.fixed64();break;case 11:d.observedTimeUnixNano=a.fixed64();break;case 2:d.severityNumber=a.int32();break;case 3:d.severityText=a.string();break;case 5:d.body=h.opentelemetry.proto.common.v1.AnyValue.decode(a,a.uint32());break;case 6:d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 7:d.droppedAttributesCount=a.uint32();break;case 8:d.flags=a.fixed32();break;case 9:d.traceId=a.bytes();break;case 10:d.spanId=a.bytes();break;default:a.skipType(7&f)}}return d},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.observedTimeUnixNano&&a.hasOwnProperty("observedTimeUnixNano")&&!g.isInteger(a.observedTimeUnixNano)&&!(a.observedTimeUnixNano&&g.isInteger(a.observedTimeUnixNano.low)&&g.isInteger(a.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(null!=a.severityNumber&&a.hasOwnProperty("severityNumber"))switch(a.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:}if(null!=a.severityText&&a.hasOwnProperty("severityText")&&!g.isString(a.severityText))return"severityText: string expected";if(null!=a.body&&a.hasOwnProperty("body")){var b=h.opentelemetry.proto.common.v1.AnyValue.verify(a.body);if(b)return"body."+b}if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var c=0;c<a.attributes.length;++c){var b=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[c]);if(b)return"attributes."+b}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null!=a.traceId&&a.hasOwnProperty("traceId")&&!(a.traceId&&"number"==typeof a.traceId.length||g.isString(a.traceId))?"traceId: buffer expected":null!=a.spanId&&a.hasOwnProperty("spanId")&&!(a.spanId&&"number"==typeof a.spanId.length||g.isString(a.spanId))?"spanId: buffer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.logs.v1.LogRecord)return a;var b=new h.opentelemetry.proto.logs.v1.LogRecord;switch(null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.observedTimeUnixNano&&(g.Long?(b.observedTimeUnixNano=g.Long.fromValue(a.observedTimeUnixNano)).unsigned=!1:"string"==typeof a.observedTimeUnixNano?b.observedTimeUnixNano=parseInt(a.observedTimeUnixNano,10):"number"==typeof a.observedTimeUnixNano?b.observedTimeUnixNano=a.observedTimeUnixNano:"object"==typeof a.observedTimeUnixNano&&(b.observedTimeUnixNano=new g.LongBits(a.observedTimeUnixNano.low>>>0,a.observedTimeUnixNano.high>>>0).toNumber())),a.severityNumber){default:"number"==typeof a.severityNumber&&(b.severityNumber=a.severityNumber);break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:b.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:b.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:b.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:b.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:b.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:b.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:b.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:b.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:b.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:b.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:b.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:b.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:b.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:b.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:b.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:b.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:b.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:b.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:b.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:b.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:b.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:b.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:b.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:b.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:b.severityNumber=24}if(null!=a.severityText&&(b.severityText=String(a.severityText)),null!=a.body){if("object"!=typeof a.body)throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");b.body=h.opentelemetry.proto.common.v1.AnyValue.fromObject(a.body)}if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),null!=a.flags&&(b.flags=a.flags>>>0),null!=a.traceId&&("string"==typeof a.traceId?g.base64.decode(a.traceId,b.traceId=g.newBuffer(g.base64.length(a.traceId)),0):a.traceId.length>=0&&(b.traceId=a.traceId)),null!=a.spanId&&("string"==typeof a.spanId?g.base64.decode(a.spanId,b.spanId=g.newBuffer(g.base64.length(a.spanId)),0):a.spanId.length>=0&&(b.spanId=a.spanId)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;if(c.severityNumber=b.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,c.severityText="",c.body=null,c.droppedAttributesCount=0,c.flags=0,b.bytes===String?c.traceId="":(c.traceId=[],b.bytes!==Array&&(c.traceId=g.newBuffer(c.traceId))),b.bytes===String?c.spanId="":(c.spanId=[],b.bytes!==Array&&(c.spanId=g.newBuffer(c.spanId))),g.Long){var d=new g.Long(0,0,!1);c.observedTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.observedTimeUnixNano=b.longs===String?"0":0}if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.severityNumber&&a.hasOwnProperty("severityNumber")&&(c.severityNumber=b.enums===String?void 0===h.opentelemetry.proto.logs.v1.SeverityNumber[a.severityNumber]?a.severityNumber:h.opentelemetry.proto.logs.v1.SeverityNumber[a.severityNumber]:a.severityNumber),null!=a.severityText&&a.hasOwnProperty("severityText")&&(c.severityText=a.severityText),null!=a.body&&a.hasOwnProperty("body")&&(c.body=h.opentelemetry.proto.common.v1.AnyValue.toObject(a.body,b)),a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),null!=a.traceId&&a.hasOwnProperty("traceId")&&(c.traceId=b.bytes===String?g.base64.encode(a.traceId,0,a.traceId.length):b.bytes===Array?Array.prototype.slice.call(a.traceId):a.traceId),null!=a.spanId&&a.hasOwnProperty("spanId")&&(c.spanId=b.bytes===String?g.base64.encode(a.spanId,0,a.spanId.length):b.bytes===Array?Array.prototype.slice.call(a.spanId):a.spanId),null!=a.observedTimeUnixNano&&a.hasOwnProperty("observedTimeUnixNano")&&("number"==typeof a.observedTimeUnixNano?c.observedTimeUnixNano=b.longs===String?String(a.observedTimeUnixNano):a.observedTimeUnixNano:c.observedTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.observedTimeUnixNano):b.longs===Number?new g.LongBits(a.observedTimeUnixNano.low>>>0,a.observedTimeUnixNano.high>>>0).toNumber():a.observedTimeUnixNano),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.logs.v1.LogRecord"},a}(),z.v1=A,a.logs=z,F.proto=a,F}(),a.exports=h},41604:(a,b,c)=>{"use strict";let d;var e=c(8408),f=c(41082);let g=(a,b)=>({indentAtStart:b?a.indent.length:a.indentAtStart,lineWidth:a.options.lineWidth,minContentWidth:a.options.minContentWidth}),h=a=>/^(%|---|\.\.\.)/m.test(a);function i(a,b){let c=JSON.stringify(a);if(b.options.doubleQuotedAsJSON)return c;let{implicitKey:d}=b,e=b.options.doubleQuotedMinMultiLineLength,i=b.indent||(h(a)?"  ":""),j="",k=0;for(let a=0,b=c[a];b;b=c[++a])if(" "===b&&"\\"===c[a+1]&&"n"===c[a+2]&&(j+=c.slice(k,a)+"\\ ",a+=1,k=a,b="\\"),"\\"===b)switch(c[a+1]){case"u":{j+=c.slice(k,a);let b=c.substr(a+2,4);switch(b){case"0000":j+="\\0";break;case"0007":j+="\\a";break;case"000b":j+="\\v";break;case"001b":j+="\\e";break;case"0085":j+="\\N";break;case"00a0":j+="\\_";break;case"2028":j+="\\L";break;case"2029":j+="\\P";break;default:"00"===b.substr(0,2)?j+="\\x"+b.substr(2):j+=c.substr(a,6)}a+=5,k=a+1}break;case"n":if(d||'"'===c[a+2]||c.length<e)a+=1;else{for(j+=c.slice(k,a)+"\n\n";"\\"===c[a+2]&&"n"===c[a+3]&&'"'!==c[a+4];)j+="\n",a+=2;j+=i," "===c[a+2]&&(j+="\\"),a+=1,k=a+1}break;default:a+=1}return j=k?j+c.slice(k):c,d?j:f.foldFlowLines(j,i,f.FOLD_QUOTED,g(b,!1))}function j(a,b){if(!1===b.options.singleQuote||b.implicitKey&&a.includes("\n")||/[ \t]\n|\n[ \t]/.test(a))return i(a,b);let c=b.indent||(h(a)?"  ":""),d="'"+a.replace(/'/g,"''").replace(/\n+/g,`$&
${c}`)+"'";return b.implicitKey?d:f.foldFlowLines(d,c,f.FOLD_FLOW,g(b,!1))}function k(a,b){let c,{singleQuote:d}=b.options;if(!1===d)c=i;else{let b=a.includes('"'),e=a.includes("'");c=b&&!e?j:e&&!b?i:d?j:i}return c(a,b)}try{d=RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{d=/\n+(?!\n|$)/g}function l({comment:a,type:b,value:c},i,j,l){let m,n,o,{blockQuote:p,commentString:q,lineWidth:r}=i.options;if(!p||/\n[\t ]+$/.test(c))return k(c,i);let s=i.indent||(i.forceBlockIndent||h(c)?"  ":""),t="literal"===p||"folded"!==p&&b!==e.Scalar.BLOCK_FOLDED&&(b===e.Scalar.BLOCK_LITERAL||!function(a,b,c){if(!b||b<0)return!1;let d=b-c,e=a.length;if(e<=d)return!1;for(let b=0,c=0;b<e;++b)if("\n"===a[b]){if(b-c>d)return!0;if(e-(c=b+1)<=d)return!1}return!0}(c,r,s.length));if(!c)return t?"|\n":">\n";for(n=c.length;n>0;--n){let a=c[n-1];if("\n"!==a&&"	"!==a&&" "!==a)break}let u=c.substring(n),v=u.indexOf("\n");-1===v?m="-":c===u||v!==u.length-1?(m="+",l&&l()):m="",u&&(c=c.slice(0,-u.length),"\n"===u[u.length-1]&&(u=u.slice(0,-1)),u=u.replace(d,`$&${s}`));let w=!1,x=-1;for(o=0;o<c.length;++o){let a=c[o];if(" "===a)w=!0;else if("\n"===a)x=o;else break}let y=c.substring(0,x<o?x+1:o);y&&(c=c.substring(y.length),y=y.replace(/\n+/g,`$&${s}`));let z=s?"2":"1",A=(w?z:"")+m;if(a&&(A+=" "+q(a.replace(/ ?[\r\n]+/g," ")),j&&j()),!t){let a=c.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${s}`),d=!1,h=g(i,!0);"folded"!==p&&b!==e.Scalar.BLOCK_FOLDED&&(h.onOverflow=()=>{d=!0});let j=f.foldFlowLines(`${y}${a}${u}`,s,f.FOLD_BLOCK,h);if(!d)return`>${A}
${s}${j}`}return c=c.replace(/\n+/g,`$&${s}`),`|${A}
${s}${y}${c}${u}`}b.stringifyString=function(a,b,c,d){let{implicitKey:m,inFlow:n}=b,o="string"==typeof a.value?a:Object.assign({},a,{value:String(a.value)}),{type:p}=a;p!==e.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(p=e.Scalar.QUOTE_DOUBLE);let q=a=>{switch(a){case e.Scalar.BLOCK_FOLDED:case e.Scalar.BLOCK_LITERAL:return m||n?k(o.value,b):l(o,b,c,d);case e.Scalar.QUOTE_DOUBLE:return i(o.value,b);case e.Scalar.QUOTE_SINGLE:return j(o.value,b);case e.Scalar.PLAIN:return function(a,b,c,d){let{type:i,value:j}=a,{actualString:m,implicitKey:n,indent:o,indentStep:p,inFlow:q}=b;if(n&&j.includes("\n")||q&&/[[\]{},]/.test(j))return k(j,b);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(j))return n||q||!j.includes("\n")?k(j,b):l(a,b,c,d);if(!n&&!q&&i!==e.Scalar.PLAIN&&j.includes("\n"))return l(a,b,c,d);if(h(j)){if(""===o)return b.forceBlockIndent=!0,l(a,b,c,d);else if(n&&o===p)return k(j,b)}let r=j.replace(/\n+/g,`$&
${o}`);if(m){let a=a=>a.default&&"tag:yaml.org,2002:str"!==a.tag&&a.test?.test(r),{compat:c,tags:d}=b.doc.schema;if(d.some(a)||c?.some(a))return k(j,b)}return n?r:f.foldFlowLines(r,o,f.FOLD_FLOW,g(b,!1))}(o,b,c,d);default:return null}},r=q(p);if(null===r){let{defaultKeyType:a,defaultStringType:c}=b.options,d=m&&a||c;if(null===(r=q(d)))throw Error(`Unsupported default string type ${d}`)}return r}},41625:(a,b,c)=>{"use strict";c.r(b),c.d(b,{AlwaysOffSampler:()=>D,AlwaysOnSampler:()=>E,AnchoredClock:()=>f,BindOnceFuture:()=>U.I,CompositePropagator:()=>w.n,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>M.fv,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>M.aE,DEFAULT_ENVIRONMENT:()=>M.Uz,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>M.h9,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>M.V,ExportResultCode:()=>l.V,ParentBasedSampler:()=>I,RPCType:()=>d,RandomIdGenerator:()=>q,SDK_INFO:()=>u.q,TRACE_PARENT_HEADER:()=>x.ZS,TRACE_STATE_HEADER:()=>x.UD,TimeoutError:()=>P.M,TraceIdRatioBasedSampler:()=>J,TraceState:()=>L.n,TracesSamplerValues:()=>O.R,VERSION:()=>V.x,W3CBaggagePropagator:()=>e.t,W3CTraceContextPropagator:()=>x.lm,_globalThis:()=>o,addHrTimes:()=>j.mw,baggageUtils:()=>m,callWithTimeout:()=>P.o,deleteRPCMetadata:()=>A,getEnv:()=>n._,getEnvWithoutDefaults:()=>n.w,getRPCMetadata:()=>B,getTimeOrigin:()=>j.uc,globalErrorHandler:()=>h.s,hexToBase64:()=>p,hexToBinary:()=>k.Q,hrTime:()=>j._5,hrTimeDuration:()=>j.W5,hrTimeToMicroseconds:()=>j.w_,hrTimeToMilliseconds:()=>j.JU,hrTimeToNanoseconds:()=>j.u5,hrTimeToTimeStamp:()=>j.tq,internal:()=>X,isAttributeKey:()=>g.oU,isAttributeValue:()=>g.m,isTimeInput:()=>j.Ir,isTimeInputHrTime:()=>j.VL,isTracingSuppressed:()=>K.Zf,isUrlIgnored:()=>S,isWrapped:()=>T,loggingErrorHandler:()=>i.o,merge:()=>N.h,millisToHrTime:()=>j.lg,otperformance:()=>t.u,parseEnvironment:()=>M.Nq,parseTraceParent:()=>x.ZI,sanitizeAttributes:()=>g.L,setGlobalErrorHandler:()=>h.u,setRPCMetadata:()=>z,suppressTracing:()=>K.M1,timeInputToHrTime:()=>j.KJ,unrefTimer:()=>v.K,unsuppressTracing:()=>K.FU,urlMatches:()=>R});var d,e=c(69580),f=function(){function a(a,b){this._monotonicClock=b,this._epochMillis=a.now(),this._performanceMillis=b.now()}return a.prototype.now=function(){var a=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+a},a}(),g=c(32823),h=c(49127),i=c(89309),j=c(99591),k=c(61367),l=c(4875),m=c(24774),n=c(66336),o="object"==typeof globalThis?globalThis:global;function p(a){return Buffer.from((0,k.Q)(a)).toString("base64")}var q=function(){this.generateTraceId=s(16),this.generateSpanId=s(8)},r=Buffer.allocUnsafe(16);function s(a){return function(){for(var b=0;b<a/4;b++)r.writeUInt32BE(0x100000000*Math.random()>>>0,4*b);for(var b=0;b<a;b++)if(r[b]>0)break;else b===a-1&&(r[a-1]=1);return r.toString("hex",0,a)}}var t=c(27845),u=c(47314),v=c(36769),w=c(36008),x=c(51354),y=(0,c(76956).n)("OpenTelemetry SDK Context Key RPC_METADATA");function z(a,b){return a.setValue(y,b)}function A(a){return a.deleteValue(y)}function B(a){return a.getValue(y)}(d||(d={})).HTTP="http";var C=c(37425),D=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:C.i.NOT_RECORD}},a.prototype.toString=function(){return"AlwaysOffSampler"},a}(),E=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:C.i.RECORD_AND_SAMPLED}},a.prototype.toString=function(){return"AlwaysOnSampler"},a}(),F=c(88018),G=c(58746),H=c(54616),I=function(){function a(a){var b,c,d,e;this._root=a.root,this._root||((0,h.s)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new E),this._remoteParentSampled=null!=(b=a.remoteParentSampled)?b:new E,this._remoteParentNotSampled=null!=(c=a.remoteParentNotSampled)?c:new D,this._localParentSampled=null!=(d=a.localParentSampled)?d:new E,this._localParentNotSampled=null!=(e=a.localParentNotSampled)?e:new D}return a.prototype.shouldSample=function(a,b,c,d,e,f){var g=F.u.getSpanContext(a);return g&&(0,G.YA)(g)?g.isRemote?g.traceFlags&H.X.SAMPLED?this._remoteParentSampled.shouldSample(a,b,c,d,e,f):this._remoteParentNotSampled.shouldSample(a,b,c,d,e,f):g.traceFlags&H.X.SAMPLED?this._localParentSampled.shouldSample(a,b,c,d,e,f):this._localParentNotSampled.shouldSample(a,b,c,d,e,f):this._root.shouldSample(a,b,c,d,e,f)},a.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},a}(),J=function(){function a(a){void 0===a&&(a=0),this._ratio=a,this._ratio=this._normalize(a),this._upperBound=Math.floor(0xffffffff*this._ratio)}return a.prototype.shouldSample=function(a,b){return{decision:(0,G.hX)(b)&&this._accumulate(b)<this._upperBound?C.i.RECORD_AND_SAMPLED:C.i.NOT_RECORD}},a.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},a.prototype._normalize=function(a){return"number"!=typeof a||isNaN(a)?0:a>=1?1:a<=0?0:a},a.prototype._accumulate=function(a){for(var b=0,c=0;c<a.length/8;c++){var d=8*c;b=(b^parseInt(a.slice(d,d+8),16))>>>0}return b},a}(),K=c(81588),L=c(23733),M=c(37579),N=c(35025),O=c(23615),P=c(24321),Q=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};function R(a,b){return"string"==typeof b?a===b:!!a.match(b)}function S(a,b){var c,d;if(!b)return!1;try{for(var e=Q(b),f=e.next();!f.done;f=e.next()){var g=f.value;if(R(a,g))return!0}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}return!1}function T(a){return"function"==typeof a&&"function"==typeof a.__original&&"function"==typeof a.__unwrap&&!0===a.__wrapped}var U=c(51064),V=c(46862),W=c(20531),X={_export:function(a,b){return new Promise(function(c){W._.with((0,K.M1)(W._.active()),function(){a.export(b,function(a){c(a)})})})}}},41835:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EndpointMap=void 0,b.isTcpSubchannelAddress=e,b.subchannelAddressEqual=f,b.subchannelAddressToString=g,b.stringToSubchannelAddress=function(a,b){return(0,d.isIP)(a)?{host:a,port:null!=b?b:443}:{path:a}},b.endpointEqual=function(a,b){if(a.addresses.length!==b.addresses.length)return!1;for(let c=0;c<a.addresses.length;c++)if(!f(a.addresses[c],b.addresses[c]))return!1;return!0},b.endpointToString=function(a){return"["+a.addresses.map(g).join(", ")+"]"},b.endpointHasAddress=h;let d=c(91645);function e(a){return"port"in a}function f(a,b){return!a&&!b||!!a&&!!b&&(e(a)?e(b)&&a.host===b.host&&a.port===b.port:!e(b)&&a.path===b.path)}function g(a){return e(a)?(0,d.isIPv6)(a.host)?"["+a.host+"]:"+a.port:a.host+":"+a.port:a.path}function h(a,b){for(let c of a.addresses)if(f(c,b))return!0;return!1}function i(a,b){if(a.addresses.length!==b.addresses.length)return!1;for(let c of a.addresses){let a=!1;for(let d of b.addresses)if(f(c,d)){a=!0;break}if(!a)return!1}return!0}class j{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(a){for(let b of this.map)if(h(b.key,a))return b.value}deleteMissing(a){let b=[];for(let c of this.map){let d=!1;for(let b of a)i(b,c.key)&&(d=!0);d||(b.push(c.value),this.map.delete(c))}return b}get(a){for(let b of this.map)if(i(a,b.key))return b.value}set(a,b){for(let c of this.map)if(i(a,c.key)){c.value=b;return}this.map.add({key:a,value:b})}delete(a){for(let b of this.map)if(i(a,b.key))return void this.map.delete(b)}has(a){for(let b of this.map)if(i(a,b.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(let a of this.map)yield a.key}*values(){for(let a of this.map)yield a.value}*entries(){for(let a of this.map)yield[a.key,a.value]}}b.EndpointMap=j},42218:(a,b)=>{"use strict";let c=Symbol.for("yaml.alias"),d=Symbol.for("yaml.document"),e=Symbol.for("yaml.map"),f=Symbol.for("yaml.pair"),g=Symbol.for("yaml.scalar"),h=Symbol.for("yaml.seq"),i=Symbol.for("yaml.node.type"),j=a=>!!a&&"object"==typeof a&&a[i]===g;function k(a){if(a&&"object"==typeof a)switch(a[i]){case e:case h:return!0}return!1}b.ALIAS=c,b.DOC=d,b.MAP=e,b.NODE_TYPE=i,b.PAIR=f,b.SCALAR=g,b.SEQ=h,b.hasAnchor=a=>(j(a)||k(a))&&!!a.anchor,b.isAlias=a=>!!a&&"object"==typeof a&&a[i]===c,b.isCollection=k,b.isDocument=a=>!!a&&"object"==typeof a&&a[i]===d,b.isMap=a=>!!a&&"object"==typeof a&&a[i]===e,b.isNode=function(a){if(a&&"object"==typeof a)switch(a[i]){case c:case e:case g:case h:return!0}return!1},b.isPair=a=>!!a&&"object"==typeof a&&a[i]===f,b.isScalar=j,b.isSeq=a=>!!a&&"object"==typeof a&&a[i]===h},42592:(a,b,c)=>{"use strict";var d,e,f,g,h,i,j,k,l,m=c(29021);class n extends Error{constructor(a){super(`[GoogleGenerativeAI Error]: ${a}`)}}class o extends n{constructor(a,b,c,d){super(a),this.status=b,this.statusText=c,this.errorDetails=d}}class p extends n{}class q extends n{}let r="https://generativelanguage.googleapis.com",s="v1beta";async function t(a,b,c=fetch){let d;try{d=await c(a,b)}catch(c){var e=c,f=a;let b=e;throw"AbortError"===b.name?(b=new q(`Request aborted when fetching ${f.toString()}: ${e.message}`)).stack=e.stack:e instanceof o||e instanceof p||((b=new n(`Error fetching from ${f.toString()}: ${e.message}`)).stack=e.stack),b}return d.ok||await u(d,a),d}async function u(a,b){let c,d="";try{let b=await a.json();d=b.error.message,b.error.details&&(d+=` ${JSON.stringify(b.error.details)}`,c=b.error.details)}catch(a){}throw new o(`Error fetching from ${b.toString()}: [${a.status} ${a.statusText}] ${d}`,a.status,a.statusText,c)}!function(a){a.GENERATE_CONTENT="generateContent",a.STREAM_GENERATE_CONTENT="streamGenerateContent",a.COUNT_TOKENS="countTokens",a.EMBED_CONTENT="embedContent",a.BATCH_EMBED_CONTENTS="batchEmbedContents"}(d||(d={})),!function(a){a.UPLOAD="upload",a.LIST="list",a.GET="get",a.DELETE="delete",a.UPDATE="update",a.CREATE="create"}(e||(e={}));let v={[e.UPLOAD]:"POST",[e.LIST]:"GET",[e.GET]:"GET",[e.DELETE]:"DELETE",[e.UPDATE]:"PATCH",[e.CREATE]:"POST"};class w{constructor(a,b,c){this.task=a,this.apiKey=b,this.requestOptions=c}appendPath(a){this._url.pathname=this._url.pathname+`/${a}`}appendParam(a,b){this._url.searchParams.append(a,b)}toString(){return this._url.toString()}}class x extends w{constructor(a,b,c){var d,e;super(a,b,c),this.task=a,this.apiKey=b,this.requestOptions=c;let f=(null==(d=this.requestOptions)?void 0:d.apiVersion)||s,g=(null==(e=this.requestOptions)?void 0:e.baseUrl)||r;g+=`/${f}/cachedContents`,this._url=new URL(g)}}class y extends w{constructor(a,b,c){var d,f;super(a,b,c),this.task=a,this.apiKey=b,this.requestOptions=c;let g=(null==(d=this.requestOptions)?void 0:d.apiVersion)||s,h=(null==(f=this.requestOptions)?void 0:f.baseUrl)||r;this.task===e.UPLOAD&&(h+="/upload"),h+=`/${g}/files`,this._url=new URL(h)}}function z(a){var b;let c=new Headers;c.append("x-goog-api-client",function(a){let b=[];return(null==a?void 0:a.apiClient)&&b.push(a.apiClient),b.push("genai-js/0.24.1"),b.join(" ")}(a.requestOptions)),c.append("x-goog-api-key",a.apiKey);let d=null==(b=a.requestOptions)?void 0:b.customHeaders;if(d){if(!(d instanceof Headers))try{d=new Headers(d)}catch(a){throw new p(`unable to convert customHeaders value ${JSON.stringify(d)} to Headers: ${a.message}`)}for(let[a,b]of d.entries()){if("x-goog-api-key"===a)throw new p(`Cannot set reserved header name ${a}`);if("x-goog-api-client"===a)throw new p(`Header name ${a} can only be set using the apiClient field`);c.append(a,b)}}return c}async function A(a,b,c,d=fetch){let e={method:v[a.task],headers:b};c&&(e.body=c);let f=function(a){if((null==a?void 0:a.signal)!==void 0||(null==a?void 0:a.timeout)>=0){let b=new AbortController;return(null==a?void 0:a.timeout)>=0&&setTimeout(()=>b.abort(),a.timeout),a.signal&&a.signal.addEventListener("abort",()=>{b.abort()}),b.signal}}(a.requestOptions);return f&&(e.signal=f),t(a.toString(),e,d)}class B{constructor(a,b={}){this.apiKey=a,this._requestOptions=b}async uploadFile(a,b){let c=a instanceof Buffer?a:m.readFileSync(a),d=new y(e.UPLOAD,this.apiKey,this._requestOptions),f=z(d),g=function(){let a="";for(let b=0;b<2;b++)a+=Math.random().toString().slice(2);return a}();f.append("X-Goog-Upload-Protocol","multipart"),f.append("Content-Type",`multipart/related; boundary=${g}`);let h=new Blob(["--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+JSON.stringify({file:function(a){if(!a.mimeType)throw new p("Must provide a mimeType.");let b={mimeType:a.mimeType,displayName:a.displayName};return a.name&&(b.name=a.name.includes("/")?a.name:`files/${a.name}`),b}(b)})+"\r\n--"+g+"\r\nContent-Type: "+b.mimeType+"\r\n\r\n",c,"\r\n--"+g+"--"]);return(await A(d,f,h)).json()}async listFiles(a,b={}){let c=Object.assign(Object.assign({},this._requestOptions),b),d=new y(e.LIST,this.apiKey,c);(null==a?void 0:a.pageSize)&&d.appendParam("pageSize",a.pageSize.toString()),(null==a?void 0:a.pageToken)&&d.appendParam("pageToken",a.pageToken);let f=z(d);return(await A(d,f)).json()}async getFile(a,b={}){let c=Object.assign(Object.assign({},this._requestOptions),b),d=new y(e.GET,this.apiKey,c);d.appendPath(C(a));let f=z(d);return(await A(d,f)).json()}async deleteFile(a){let b=new y(e.DELETE,this.apiKey,this._requestOptions);b.appendPath(C(a));let c=z(b);await A(b,c)}}function C(a){if(a.startsWith("files/"))return a.split("files/")[1];if(!a)throw new n(`Invalid fileId ${a}. Must be in the format "files/filename" or "filename"`);return a}class D{constructor(a,b){this.apiKey=a,this._requestOptions=b}async create(a){let b=Object.assign({},a);if(a.ttlSeconds){if(a.expireTime)throw new p("You cannot specify both `ttlSeconds` and `expireTime` when creating a content cache. You must choose one.");b.ttl=a.ttlSeconds.toString()+"s",delete b.ttlSeconds}if(a.systemInstruction&&(b.systemInstruction=function(a){if(null!=a){if("string"==typeof a)return{role:"system",parts:[{text:a}]};if(a.text)return{role:"system",parts:[a]};if(a.parts)if(!a.role)return{role:"system",parts:a.parts};else return a}}(a.systemInstruction)),!b.model)throw new p("Cached content must contain a `model` field.");b.model.includes("/")||(b.model=`models/${b.model}`);let c=new x(e.CREATE,this.apiKey,this._requestOptions),d=z(c);return(await A(c,d,JSON.stringify(b))).json()}async list(a){let b=new x(e.LIST,this.apiKey,this._requestOptions);(null==a?void 0:a.pageSize)&&b.appendParam("pageSize",a.pageSize.toString()),(null==a?void 0:a.pageToken)&&b.appendParam("pageToken",a.pageToken);let c=z(b);return(await A(b,c)).json()}async get(a){let b=new x(e.GET,this.apiKey,this._requestOptions);b.appendPath(E(a));let c=z(b);return(await A(b,c)).json()}async update(a,b){let c=new x(e.UPDATE,this.apiKey,this._requestOptions);c.appendPath(E(a));let d=z(c),f=Object.assign({},b.cachedContent);return b.cachedContent.ttlSeconds&&(f.ttl=b.cachedContent.ttlSeconds.toString()+"s",delete f.ttlSeconds),b.updateMask&&c.appendParam("update_mask",b.updateMask.map(a=>a.replace(/[A-Z]/g,a=>`_${a.toLowerCase()}`)).join(",")),(await A(c,d,JSON.stringify(f))).json()}async delete(a){let b=new x(e.DELETE,this.apiKey,this._requestOptions);b.appendPath(E(a));let c=z(b);await A(b,c)}}function E(a){if(a.startsWith("cachedContents/"))return a.split("cachedContents/")[1];if(!a)throw new n(`Invalid name ${a}. Must be in the format "cachedContents/name" or "name"`);return a}b.FileState=void 0,function(a){a.STATE_UNSPECIFIED="STATE_UNSPECIFIED",a.PROCESSING="PROCESSING",a.ACTIVE="ACTIVE",a.FAILED="FAILED"}(b.FileState||(b.FileState={})),b.SchemaType=void 0,function(a){a.STRING="string",a.NUMBER="number",a.INTEGER="integer",a.BOOLEAN="boolean",a.ARRAY="array",a.OBJECT="object"}(b.SchemaType||(b.SchemaType={})),b.ExecutableCodeLanguage=void 0,function(a){a.LANGUAGE_UNSPECIFIED="language_unspecified",a.PYTHON="python"}(b.ExecutableCodeLanguage||(b.ExecutableCodeLanguage={})),b.Outcome=void 0,function(a){a.OUTCOME_UNSPECIFIED="outcome_unspecified",a.OUTCOME_OK="outcome_ok",a.OUTCOME_FAILED="outcome_failed",a.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(b.Outcome||(b.Outcome={})),function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(f||(f={})),function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"}(g||(g={})),function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"}(h||(h={})),function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER"}(i||(i={})),function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.OTHER="OTHER"}(j||(j={})),function(a){a.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",a.RETRIEVAL_QUERY="RETRIEVAL_QUERY",a.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",a.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",a.CLASSIFICATION="CLASSIFICATION",a.CLUSTERING="CLUSTERING"}(k||(k={})),b.FunctionCallingMode=void 0,function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"}(b.FunctionCallingMode||(b.FunctionCallingMode={})),function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"}(l||(l={})),b.GoogleAICacheManager=D,b.GoogleAIFileManager=B},42656:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{logger:()=>l}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);let g=["debug","info","warn","error"],h="__genkit_logger",i={shouldLog(a){return g.indexOf(this.level)<=g.indexOf(a)},debug(...a){this.shouldLog("debug")&&console.debug(...a)},info(...a){this.shouldLog("info")&&console.info(...a)},warn(...a){this.shouldLog("warn")&&console.warn(...a)},error(...a){this.shouldLog("error")&&console.error(...a)},level:"info"};function j(){return global[h]||(global[h]=i),global[h]}class k{defaultLogger=i;init(a){global[h]=a}info(...a){j().info.apply(j(),a)}debug(...a){j().debug.apply(j(),a)}error(...a){j().error.apply(j(),a)}warn(...a){j().warn.apply(j(),a)}setLogLevel(a){j().level=a}logStructured(a,b){j().info(a,b)}logStructuredError(a,b){j().error(a,b)}}let l=new k},42697:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Http2SubchannelCall=void 0;let d=c(73496),e=c(21820),f=c(56458),g=c(33604),h=c(15999),i=c(38702),j=c(56458);function k(a){let b,c=`Received HTTP status code ${a}`;switch(a){case 400:b=f.Status.INTERNAL;break;case 401:b=f.Status.UNAUTHENTICATED;break;case 403:b=f.Status.PERMISSION_DENIED;break;case 404:b=f.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:b=f.Status.UNAVAILABLE;break;default:b=f.Status.UNKNOWN}return{code:b,details:c,metadata:new g.Metadata}}class l{constructor(a,b,c,i,j){var l;this.http2Stream=a,this.callEventTracker=b,this.listener=c,this.transport=i,this.callId=j,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1,this.connectionDropped=!1;let m=null!=(l=i.getOptions()["grpc.max_receive_message_length"])?l:f.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new h.StreamDecoder(m),a.on("response",(a,b)=>{let c="";for(let b of Object.keys(a))c+="		"+b+": "+a[b]+"\n";if(this.trace("Received server headers:\n"+c),this.httpStatusCode=a[":status"],b&d.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(a);else{let b;try{b=g.Metadata.fromHttp2Headers(a)}catch(a){this.endCall({code:f.Status.UNKNOWN,details:a.message,metadata:new g.Metadata});return}this.listener.onReceiveMetadata(b)}}),a.on("trailers",a=>{this.handleTrailers(a)}),a.on("data",a=>{let b;if(!this.statusOutput){this.trace("receive HTTP/2 data frame of length "+a.length);try{b=this.decoder.write(a)}catch(a){if(void 0!==this.httpStatusCode&&200!==this.httpStatusCode){let a=k(this.httpStatusCode);this.cancelWithStatus(a.code,a.details)}else this.cancelWithStatus(f.Status.RESOURCE_EXHAUSTED,a.message);return}for(let a of b)this.trace("parsed message of length "+a.length),this.callEventTracker.addMessageReceived(),this.tryPush(a)}}),a.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),a.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var b;let c;if(this.trace("HTTP/2 stream closed with code "+a.rstCode),(null==(b=this.finalStatus)?void 0:b.code)===f.Status.OK)return;let e="";switch(a.rstCode){case d.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;if(this.httpStatusCode&&200!==this.httpStatusCode){let a=k(this.httpStatusCode);c=a.code,e=a.details}else c=f.Status.INTERNAL,e=`Received RST_STREAM with code ${a.rstCode} (Call ended without gRPC status)`;break;case d.constants.NGHTTP2_REFUSED_STREAM:c=f.Status.UNAVAILABLE,e="Stream refused by server";break;case d.constants.NGHTTP2_CANCEL:this.connectionDropped?(c=f.Status.UNAVAILABLE,e="Connection dropped"):(c=f.Status.CANCELLED,e="Call cancelled");break;case d.constants.NGHTTP2_ENHANCE_YOUR_CALM:c=f.Status.RESOURCE_EXHAUSTED,e="Bandwidth exhausted or memory limit exceeded";break;case d.constants.NGHTTP2_INADEQUATE_SECURITY:c=f.Status.PERMISSION_DENIED,e="Protocol not secure enough";break;case d.constants.NGHTTP2_INTERNAL_ERROR:c=f.Status.INTERNAL,null===this.internalError?e=`Received RST_STREAM with code ${a.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(c=f.Status.UNAVAILABLE,e=this.internalError.message):e=`Received RST_STREAM with code ${a.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:c=f.Status.INTERNAL,e=`Received RST_STREAM with code ${a.rstCode}`}this.endCall({code:c,details:e,metadata:new g.Metadata,rstCode:a.rstCode})})}),a.on("error",a=>{"ERR_HTTP2_STREAM_ERROR"!==a.code&&(this.trace("Node error event: message="+a.message+" code="+a.code+" errno="+function(a){for(let[b,c]of Object.entries(e.constants.errno))if(c===a)return b;return"Unknown system error "+a}(a.errno)+" syscall="+a.syscall),this.internalError=a),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.connectionDropped=!0,setImmediate(()=>{this.endCall({code:f.Status.UNAVAILABLE,details:"Connection dropped",metadata:new g.Metadata})})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(a){i.trace(j.LogVerbosity.DEBUG,"subchannel_call","["+this.callId+"] "+a)}endCall(a){(null===this.finalStatus||this.finalStatus.code===f.Status.OK)&&(this.finalStatus=a,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===f.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(a){this.trace("pushing to reader message of length "+(a instanceof Buffer?a.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(a),this.maybeOutputStatus())})}tryPush(a){this.canPush?(this.http2Stream.pause(),this.push(a)):(this.trace("unpushedReadMessages.push message of length "+a.length),this.unpushedReadMessages.push(a))}handleTrailers(a){let b,c;this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let d="";for(let b of Object.keys(a))d+="		"+b+": "+a[b]+"\n";this.trace("Received server trailers:\n"+d);try{b=g.Metadata.fromHttp2Headers(a)}catch(a){b=new g.Metadata}let e=b.getMap();if("string"==typeof e["grpc-status"]){let a=Number(e["grpc-status"]);this.trace("received status code "+a+" from server"),b.remove("grpc-status");let d="";if("string"==typeof e["grpc-message"]){try{d=decodeURI(e["grpc-message"])}catch(a){d=e["grpc-message"]}b.remove("grpc-message"),this.trace('received status details string "'+d+'" from server')}c={code:a,details:d,metadata:b}}else this.httpStatusCode?(c=k(this.httpStatusCode)).metadata=b:c={code:f.Status.UNKNOWN,details:"No status information received",metadata:b};this.endCall(c)}destroyHttp2Stream(){var a;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let b;b=(null==(a=this.finalStatus)?void 0:a.code)===f.Status.OK?d.constants.NGHTTP2_NO_ERROR:d.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+b),this.http2Stream.close(b)}}cancelWithStatus(a,b){this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),this.endCall({code:a,details:b,metadata:new g.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}getAuthContext(){return this.transport.getAuthContext()}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==f.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let a=this.unpushedReadMessages.shift();this.push(a);return}this.http2Stream.resume()}sendMessageWithContext(a,b){this.trace("write() called with message of length "+b.length);let c=b=>{process.nextTick(()=>{var c;let d=f.Status.UNAVAILABLE;(null==b?void 0:b.code)==="ERR_STREAM_WRITE_AFTER_END"&&(d=f.Status.INTERNAL),b&&this.cancelWithStatus(d,`Write error: ${b.message}`),null==(c=a.callback)||c.call(a)})};this.trace("sending data chunk of length "+b.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(b,c)}catch(a){this.endCall({code:f.Status.UNAVAILABLE,details:`Write failed with error ${a.message}`,metadata:new g.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}b.Http2SubchannelCall=l},43103:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AsyncHooksContextManager=void 0;let d=c(68948),e=c(84297),f=c(73501);class g extends f.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=e.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var a;return null!=(a=this._stack[this._stack.length-1])?a:d.ROOT_CONTEXT}with(a,b,c,...d){this._enterContext(a);try{return b.call(c,...d)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(a,b){if("TIMERWRAP"===b)return;let c=this._stack[this._stack.length-1];void 0!==c&&this._contexts.set(a,c)}_destroy(a){this._contexts.delete(a)}_before(a){let b=this._contexts.get(a);void 0!==b&&this._enterContext(b)}_after(){this._exitContext()}_enterContext(a){this._stack.push(a)}_exitContext(){this._stack.pop()}}b.AsyncHooksContextManager=g},43204:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(23737),e=c(55832),f=c(46178),g=c(92391);b.default={keyword:"properties",type:"object",schemaType:"object",code(a){let{gen:b,schema:c,parentSchema:h,data:i,it:j}=a;"all"===j.opts.removeAdditional&&void 0===h.additionalProperties&&g.default.code(new d.KeywordCxt(j,g.default,"additionalProperties"));let k=(0,e.allSchemaProperties)(c);for(let a of k)j.definedProperties.add(a);j.opts.unevaluated&&k.length&&!0!==j.props&&(j.props=f.mergeEvaluated.props(b,(0,f.toHash)(k),j.props));let l=k.filter(a=>!(0,f.alwaysValidSchema)(j,c[a]));if(0===l.length)return;let m=b.name("valid");for(let d of l){var n;(n=d,j.opts.useDefaults&&!j.compositeRule&&void 0!==c[n].default)?o(d):(b.if((0,e.propertyInData)(b,i,d,j.opts.ownProperties)),o(d),j.allErrors||b.else().var(m,!0),b.endIf()),a.it.definedProperties.add(d),a.ok(m)}function o(b){a.subschema({keyword:"properties",schemaProp:b,dataProp:b},m)}}}},43264:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{SPAN_TYPE_ATTR:()=>i.SPAN_TYPE_ATTR,SpanContextSchema:()=>i.SpanContextSchema,SpanDataSchema:()=>i.SpanDataSchema,SpanMetadataSchema:()=>i.SpanMetadataSchema,SpanStatusSchema:()=>i.SpanStatusSchema,TimeEventSchema:()=>i.TimeEventSchema,TraceDataSchema:()=>i.TraceDataSchema,TraceMetadataSchema:()=>i.TraceMetadataSchema,TraceServerExporter:()=>i.TraceServerExporter,appendSpan:()=>i.appendSpan,disableOTelRootSpanDetection:()=>i.disableOTelRootSpanDetection,enableTelemetry:()=>i.enableTelemetry,flushTracing:()=>i.flushTracing,runInNewSpan:()=>i.runInNewSpan,setCustomMetadataAttribute:()=>i.setCustomMetadataAttribute,setCustomMetadataAttributes:()=>i.setCustomMetadataAttributes,setTelemetryServerUrl:()=>i.setTelemetryServerUrl,toDisplayPath:()=>i.toDisplayPath}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(64089)},43313:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=void 0,b.registerResolver=function(a,b){e[a]=b},b.registerDefaultScheme=function(a){f=a},b.createResolver=function(a,b,c){if(void 0!==a.scheme&&a.scheme in e)return new e[a.scheme](a,b,c);throw Error(`No resolver could be created for target ${(0,d.uriToString)(a)}`)},b.getDefaultAuthority=function(a){if(void 0!==a.scheme&&a.scheme in e)return e[a.scheme].getDefaultAuthority(a);throw Error(`Invalid target ${(0,d.uriToString)(a)}`)},b.mapUriDefaultScheme=function(a){if(void 0===a.scheme||!(a.scheme in e))if(null!==f)return{scheme:f,authority:void 0,path:(0,d.uriToString)(a)};else return null;return a};let d=c(9413);b.CHANNEL_ARGS_CONFIG_SELECTOR_KEY="grpc.internal.config_selector";let e={},f=null},43316:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseNullDef=void 0,b.parseNullDef=function(a){return"openApi3"===a.target?{enum:["null"],nullable:!0}:{type:"null"}}},43381:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.assignDefaults=void 0;let d=c(38904),e=c(46178);function f(a,b,c){let{gen:f,compositeRule:g,data:h,opts:i}=a;if(void 0===c)return;let j=(0,d._)`${h}${(0,d.getProperty)(b)}`;if(g)return void(0,e.checkStrictMode)(a,`default is ignored for: ${j}`);let k=(0,d._)`${j} === undefined`;"empty"===i.useDefaults&&(k=(0,d._)`${k} || ${j} === null || ${j} === ""`),f.if(k,(0,d._)`${j} = ${(0,d.stringify)(c)}`)}b.assignDefaults=function(a,b){let{properties:c,items:d}=a.schema;if("object"===b&&c)for(let b in c)f(a,b,c[b].default);else"array"===b&&Array.isArray(d)&&d.forEach((b,c)=>f(a,c,b.default))}},43638:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseObjectDef=void 0;let d=c(31958);b.parseObjectDef=function(a,b){let c="openAi"===b.target,e={type:"object",properties:{}},f=[],g=a.shape();for(let a in g){let h=g[a];if(void 0===h||void 0===h._def)continue;let i=function(a){try{return a.isOptional()}catch{return!0}}(h);i&&c&&("ZodOptional"===h._def.typeName&&(h=h._def.innerType),h.isNullable()||(h=h.nullable()),i=!1);let j=(0,d.parseDef)(h._def,{...b,currentPath:[...b.currentPath,"properties",a],propertyPath:[...b.currentPath,"properties",a]});void 0!==j&&(e.properties[a]=j,i||f.push(a))}f.length&&(e.required=f);let h=function(a,b){if("ZodNever"!==a.catchall._def.typeName)return(0,d.parseDef)(a.catchall._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]});switch(a.unknownKeys){case"passthrough":return b.allowedAdditionalProperties;case"strict":return b.rejectedAdditionalProperties;case"strip":return"strict"===b.removeAdditionalStrategy?b.allowedAdditionalProperties:b.rejectedAdditionalProperties}}(a,b);return void 0!==h&&(e.additionalProperties=h),e}},43909:a=>{"use strict";function b(){this.name=null,this.valueDefinition=null,this.to=null,this.rw=null,this.annotations=null}b.prototype.models="type",b.prototype.compile=function(a,b){this.name=a.id.name,this.valueDefinition=a.valueType,this.annotations=a.annotations},b.prototype.link=function(a){return this.to||(this.to=a.resolve(this.valueDefinition)),this.rw=this.to.rw,a.typedefs[this.name]=this.to.surface,this.to},a.exports.n=b},44037:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{logger:()=>i.logger}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(42656)},44066:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{Chat:()=>p,MAIN_THREAD:()=>m,SESSION_ID_ATTR:()=>n,THREAD_NAME_ATTR:()=>o}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(2799),j=c(64089),k=c(72300),l=c(50300);let m="main",n=`${j.ATTR_PREFIX}:sessionId`,o=`${j.ATTR_PREFIX}:threadName`;class p{constructor(a,b,c){this.session=a,this.sessionId=c.id,this.threadName=c.thread,this.requestBase=b?.then(a=>{var b,d;let e={...a};if(e&&e.prompt){let a,b=e.prompt;a="string"==typeof b?{role:"user",content:[{text:b}]}:Array.isArray(b)?{role:"user",content:b}:{role:"user",content:[b]},e.messages=[...e.messages??[],a]}return(b=e.messages,b?.find(a=>a.metadata?.preamble))?e.messages=[...(d=e.messages,d?.filter(a=>a.metadata?.preamble)??[]),...q(c.messages)??[],...q(e.messages)??[]]:e.messages=[...c.messages??[],...e.messages??[]],this._messages=e.messages,e}),this._messages=c.messages}requestBase;sessionId;_messages;threadName;async send(a){return(0,l.runWithSession)(this.session.registry,this.session,()=>(0,j.runInNewSpan)(this.session.registry,{metadata:{name:"send"},labels:{[j.SPAN_TYPE_ATTR]:"helper",[n]:this.session.id,[o]:this.threadName}},async b=>{let c,d=r(a);(d.onChunk||d.streamingCallback)&&(c=d.onChunk??d.streamingCallback);let e={...await this.requestBase,messages:this.messages,...d};b.input=d;let f=await (0,k.generate)(this.session.registry,{...e,onChunk:c});return this.requestBase=Promise.resolve({...await this.requestBase,tools:f?.request?.tools?.map(a=>a.name),toolChoice:f?.request?.toolChoice,config:f?.request?.config}),await this.updateMessages(f.messages),b.output=JSON.stringify(f),f}))}sendStream(a){let b=new i.Channel,c=r(a),d=this.send({...c,onChunk:a=>b.send(a)});return d.then(()=>b.close(),a=>b.error(a)),{response:d,stream:b}}get messages(){return this._messages??[]}async updateMessages(a){this._messages=a,await this.session.updateMessages(this.threadName,a)}}function q(a){return a?.filter(a=>!a.metadata?.preamble)}function r(a){return"string"==typeof a||Array.isArray(a)?{prompt:a}:a}},44080:(a,b,c)=>{"use strict";c.d(b,{K:()=>k});var d=c(53205),e=c(25020),f=c(28364),g=c(16426),h=c(76673),i=c(60012);function j(a,b){return a.dataPoints.map(function(c){var e=a.descriptor.valueType,f={attributes:(0,h.Zs)(c.attributes),startTimeUnixNano:b.encodeHrTime(c.startTime),timeUnixNano:b.encodeHrTime(c.endTime)};switch(e){case d.e.INT:f.asInt=c.value;break;case d.e.DOUBLE:f.asDouble=c.value}return f})}function k(a,b){return{resourceMetrics:a.map(function(a){var c,d,k;return c=(0,g.Az)(b),{resource:(0,i.Z)(a.resource),schemaUrl:void 0,scopeMetrics:(d=a.scopeMetrics,k=c,Array.from(d.map(function(a){return{scope:(0,h.d1)(a.scope),metrics:a.metrics.map(function(a){return function(a,b){var c,d,g,i,k={name:a.descriptor.name,description:a.descriptor.description,unit:a.descriptor.unit},l=function(a){switch(a){case f.h.DELTA:return 1;case f.h.CUMULATIVE:return 2}}(a.aggregationTemporality);switch(a.dataPointType){case e.n.SUM:k.sum={aggregationTemporality:l,isMonotonic:a.isMonotonic,dataPoints:j(a,b)};break;case e.n.GAUGE:k.gauge={dataPoints:j(a,b)};break;case e.n.HISTOGRAM:k.histogram={aggregationTemporality:l,dataPoints:(c=a,d=b,c.dataPoints.map(function(a){var b=a.value;return{attributes:(0,h.Zs)(a.attributes),bucketCounts:b.buckets.counts,explicitBounds:b.buckets.boundaries,count:b.count,sum:b.sum,min:b.min,max:b.max,startTimeUnixNano:d.encodeHrTime(a.startTime),timeUnixNano:d.encodeHrTime(a.endTime)}}))};break;case e.n.EXPONENTIAL_HISTOGRAM:k.exponentialHistogram={aggregationTemporality:l,dataPoints:(g=a,i=b,g.dataPoints.map(function(a){var b=a.value;return{attributes:(0,h.Zs)(a.attributes),count:b.count,min:b.min,max:b.max,sum:b.sum,positive:{offset:b.positive.offset,bucketCounts:b.positive.bucketCounts},negative:{offset:b.negative.offset,bucketCounts:b.negative.bucketCounts},scale:b.scale,zeroCount:b.zeroCount,startTimeUnixNano:i.encodeHrTime(a.startTime),timeUnixNano:i.encodeHrTime(a.endTime)}}))}}return k}(a,k)}),schemaUrl:a.scope.schemaUrl}})))}})}}},44175:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(k,{extractItems:()=>p,extractJson:()=>o,parsePartialJson:()=>n}),a.exports=j(e({},"__esModule",{value:!0}),k);var l=((a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)))(c(17191)),m=c(86459);function n(a){return l.default.parse(JSON.stringify((0,m.parse)(a,m.Allow.ALL)))}function o(a,b){let c,d,e,f=0,g=!1,h=!1;for(let b=0;b<a.length;b++){let i=a[b].replace(/\u00A0/g," ");if(h){h=!1;continue}if("\\"===i){h=!0;continue}if('"'===i){g=!g;continue}if(!g)if(c||"{"!==i&&"["!==i){if(i===c)f++;else if(i===d&&!--f)return l.default.parse(a.substring(e||0,b+1))}else c=i,d="{"===i?"}":"]",e=b,f++}if(void 0!==e&&f>0)try{return n(a.substring(e))}catch{if(b)throw Error(`Invalid JSON extracted from model output: ${a}`);return null}if(b)throw Error(`Invalid JSON extracted from model output: ${a}`);return null}function p(a,b=0){let c=[],d=b;if(0===b){let b=a.indexOf("[");if(-1===b)return{items:[],cursor:a.length};d=b+1}let e=-1,f=0,g=!1,h=!1;for(let b=d;b<a.length;b++){let i=a[b];if(h){h=!1;continue}if("\\"===i){h=!0;continue}if('"'===i){g=!g;continue}if(!g){if("{"===i)0===f&&(e=b),f++;else if("}"===i){if(0==--f&&-1!==e)try{let f=l.default.parse(a.substring(e,b+1));c.push(f),d=b+1,e=-1}catch{}}else if("]"===i&&0===f)break}}return{items:c,cursor:d}}},44917:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createServiceClientConstructor=void 0;let d=c(47265);b.createServiceClientConstructor=function(a,b){return d.makeGenericClientConstructor({export:{path:a,requestStream:!1,responseStream:!1,requestSerialize:a=>a,requestDeserialize:a=>a,responseSerialize:a=>a,responseDeserialize:a=>a}},b)}},45053:a=>{"use strict";a.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||0x1fffffffffffff,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},45055:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseMapDef=void 0;let d=c(31958),e=c(32044),f=c(10715);b.parseMapDef=function(a,b){return"record"===b.mapStrategy?(0,e.parseRecordDef)(a,b):{type:"array",maxItems:125,items:{type:"array",items:[(0,d.parseDef)(a.keyType._def,{...b,currentPath:[...b.currentPath,"items","items","0"]})||(0,f.parseAnyDef)(b),(0,d.parseDef)(a.valueType._def,{...b,currentPath:[...b.currentPath,"items","items","1"]})||(0,f.parseAnyDef)(b)],minItems:2,maxItems:2}}}},45545:(a,b,c)=>{a.exports=g;var d=c(28354).inherits,e=c(37451).ReadResult,f=c(10499);function g(a,b){if(!(this instanceof g))return new g(a,b);this.fill=b||0,f.call(this,a)}d(g,f),g.prototype.poolByteLength=function(a){return a.reset(null,this.length)},g.prototype.poolWriteInto=function(a,b,c,d){var e=d+this.length;return c.fill(this.fill,d,e),a.reset(null,e)},g.prototype.poolReadFrom=function(a,b,c){var d=c+this.length;return d>b.length?e.poolShortError(a,this.length,b.length-c,c):a.reset(null,d,null)}},45644:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{NodeAsyncContext:()=>k,initNodeAsyncContext:()=>l}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(16698),j=c(50673);class k{asls={};getStore(a){return this.asls[a]?.getStore()}run(a,b,c){return this.asls[a]||(this.asls[a]=new i.AsyncLocalStorage),this.asls[a].run(b,c)}}function l(){(0,j.setAsyncContext)(new k)}},45810:(a,b,c)=>{"use strict";var d=c(65444),e=c(63268),f=c(955),g=c(68042);b.composeDoc=function(a,b,{offset:c,start:h,value:i,end:j},k){let l=Object.assign({_directives:b},a),m=new d.Document(void 0,l),n={atKey:!1,atRoot:!0,directives:m.directives,options:m.options,schema:m.schema},o=g.resolveProps(h,{indicator:"doc-start",next:i??j?.[0],offset:c,onError:k,parentIndent:0,startOnNewline:!0});o.found&&(m.directives.docStart=!0,i&&("block-map"===i.type||"block-seq"===i.type)&&!o.hasNewline&&k(o.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),m.contents=i?e.composeNode(n,i,o,k):e.composeEmptyNode(n,o.end,h,null,o,k);let p=m.contents.range[2],q=f.resolveEnd(j,p,!1,k);return q.comment&&(m.comment=q.comment),m.range=[c,p,q.offset],m}},46129:(a,b,c)=>{"use strict";var d=c(8408);function e({value:a,source:b},c){let d=a?f:g;return b&&d.test.test(b)?b:a?c.options.trueStr:c.options.falseStr}let f={identify:a=>!0===a,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new d.Scalar(!0),stringify:e},g={identify:a=>!1===a,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new d.Scalar(!1),stringify:e};b.falseTag=g,b.trueTag=f},46178:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.checkStrictMode=b.getErrorPath=b.Type=b.useFunc=b.setEvaluated=b.evaluatedPropsToName=b.mergeEvaluated=b.eachItem=b.unescapeJsonPointer=b.escapeJsonPointer=b.escapeFragment=b.unescapeFragment=b.schemaRefOrVal=b.schemaHasRulesButRef=b.schemaHasRules=b.checkUnknownRules=b.alwaysValidSchema=b.toHash=void 0;let e=c(38904),f=c(60007);function g(a,b=a.schema){let{opts:c,self:d}=a;if(!c.strictSchema||"boolean"==typeof b)return;let e=d.RULES.keywords;for(let c in b)e[c]||o(a,`unknown keyword: "${c}"`)}function h(a,b){if("boolean"==typeof a)return!a;for(let c in a)if(b[c])return!0;return!1}function i(a){return"number"==typeof a?`${a}`:a.replace(/~/g,"~0").replace(/\//g,"~1")}function j(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}function k({mergeNames:a,mergeToName:b,mergeValues:c,resultToName:d}){return(f,g,h,i)=>{let j=void 0===h?g:h instanceof e.Name?(g instanceof e.Name?a(f,g,h):b(f,g,h),h):g instanceof e.Name?(b(f,h,g),g):c(g,h);return i!==e.Name||j instanceof e.Name?j:d(f,j)}}function l(a,b){if(!0===b)return a.var("props",!0);let c=a.var("props",(0,e._)`{}`);return void 0!==b&&m(a,c,b),c}function m(a,b,c){Object.keys(c).forEach(c=>a.assign((0,e._)`${b}${(0,e.getProperty)(c)}`,!0))}b.toHash=function(a){let b={};for(let c of a)b[c]=!0;return b},b.alwaysValidSchema=function(a,b){return"boolean"==typeof b?b:0===Object.keys(b).length||(g(a,b),!h(b,a.self.RULES.all))},b.checkUnknownRules=g,b.schemaHasRules=h,b.schemaHasRulesButRef=function(a,b){if("boolean"==typeof a)return!a;for(let c in a)if("$ref"!==c&&b.all[c])return!0;return!1},b.schemaRefOrVal=function({topSchemaRef:a,schemaPath:b},c,d,f){if(!f){if("number"==typeof c||"boolean"==typeof c)return c;if("string"==typeof c)return(0,e._)`${c}`}return(0,e._)`${a}${b}${(0,e.getProperty)(d)}`},b.unescapeFragment=function(a){return j(decodeURIComponent(a))},b.escapeFragment=function(a){return encodeURIComponent(i(a))},b.escapeJsonPointer=i,b.unescapeJsonPointer=j,b.eachItem=function(a,b){if(Array.isArray(a))for(let c of a)b(c);else b(a)},b.mergeEvaluated={props:k({mergeNames:(a,b,c)=>a.if((0,e._)`${c} !== true && ${b} !== undefined`,()=>{a.if((0,e._)`${b} === true`,()=>a.assign(c,!0),()=>a.assign(c,(0,e._)`${c} || {}`).code((0,e._)`Object.assign(${c}, ${b})`))}),mergeToName:(a,b,c)=>a.if((0,e._)`${c} !== true`,()=>{!0===b?a.assign(c,!0):(a.assign(c,(0,e._)`${c} || {}`),m(a,c,b))}),mergeValues:(a,b)=>!0===a||{...a,...b},resultToName:l}),items:k({mergeNames:(a,b,c)=>a.if((0,e._)`${c} !== true && ${b} !== undefined`,()=>a.assign(c,(0,e._)`${b} === true ? true : ${c} > ${b} ? ${c} : ${b}`)),mergeToName:(a,b,c)=>a.if((0,e._)`${c} !== true`,()=>a.assign(c,!0===b||(0,e._)`${c} > ${b} ? ${c} : ${b}`)),mergeValues:(a,b)=>!0===a||Math.max(a,b),resultToName:(a,b)=>a.var("items",b)})},b.evaluatedPropsToName=l,b.setEvaluated=m;let n={};function o(a,b,c=a.opts.strictSchema){if(c){if(b=`strict mode: ${b}`,!0===c)throw Error(b);a.self.logger.warn(b)}}b.useFunc=function(a,b){return a.scopeValue("func",{ref:b,code:n[b.code]||(n[b.code]=new f._Code(b.code))})},function(a){a[a.Num=0]="Num",a[a.Str=1]="Str"}(d||(b.Type=d={})),b.getErrorPath=function(a,b,c){if(a instanceof e.Name){let f=b===d.Num;return c?f?(0,e._)`"[" + ${a} + "]"`:(0,e._)`"['" + ${a} + "']"`:f?(0,e._)`"/" + ${a}`:(0,e._)`"/" + ${a}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return c?(0,e.getProperty)(a).toString():"/"+i(a)},b.checkStrictMode=o},46226:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.resolveSchema=b.getCompilingSchema=b.resolveRef=b.compileSchema=b.SchemaEnv=void 0;let d=c(38904),e=c(77009),f=c(82746),g=c(24206),h=c(46178),i=c(23737);class j{constructor(a){var b;let c;this.refs={},this.dynamicAnchors={},"object"==typeof a.schema&&(c=a.schema),this.schema=a.schema,this.schemaId=a.schemaId,this.root=a.root||this,this.baseId=null!=(b=a.baseId)?b:(0,g.normalizeId)(null==c?void 0:c[a.schemaId||"$id"]),this.schemaPath=a.schemaPath,this.localRefs=a.localRefs,this.meta=a.meta,this.$async=null==c?void 0:c.$async,this.refs={}}}function k(a){let b,c,h=m.call(this,a);if(h)return h;let j=(0,g.getFullPath)(this.opts.uriResolver,a.root.baseId),{es5:k,lines:l}=this.opts.code,{ownProperties:n}=this.opts,o=new d.CodeGen(this.scope,{es5:k,lines:l,ownProperties:n});a.$async&&(b=o.scopeValue("Error",{ref:e.default,code:(0,d._)`require("ajv/dist/runtime/validation_error").default`}));let p=o.scopeName("validate");a.validateName=p;let q={gen:o,allErrors:this.opts.allErrors,data:f.default.data,parentData:f.default.parentData,parentDataProperty:f.default.parentDataProperty,dataNames:[f.default.data],dataPathArr:[d.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",!0===this.opts.code.source?{ref:a.schema,code:(0,d.stringify)(a.schema)}:{ref:a.schema}),validateName:p,ValidationError:b,schema:a.schema,schemaEnv:a,rootId:j,baseId:a.baseId||j,schemaPath:d.nil,errSchemaPath:a.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,d._)`""`,opts:this.opts,self:this};try{this._compilations.add(a),(0,i.validateFunctionCode)(q),o.optimize(this.opts.code.optimize);let b=o.toString();c=`${o.scopeRefs(f.default.scope)}return ${b}`,this.opts.code.process&&(c=this.opts.code.process(c,a));let e=Function(`${f.default.self}`,`${f.default.scope}`,c)(this,this.scope.get());if(this.scope.value(p,{ref:e}),e.errors=null,e.schema=a.schema,e.schemaEnv=a,a.$async&&(e.$async=!0),!0===this.opts.code.source&&(e.source={validateName:p,validateCode:b,scopeValues:o._values}),this.opts.unevaluated){let{props:a,items:b}=q;e.evaluated={props:a instanceof d.Name?void 0:a,items:b instanceof d.Name?void 0:b,dynamicProps:a instanceof d.Name,dynamicItems:b instanceof d.Name},e.source&&(e.source.evaluated=(0,d.stringify)(e.evaluated))}return a.validate=e,a}catch(b){throw delete a.validate,delete a.validateName,c&&this.logger.error("Error compiling schema, function code:",c),b}finally{this._compilations.delete(a)}}function l(a){return(0,g.inlineRef)(a.schema,this.opts.inlineRefs)?a.schema:a.validate?a:k.call(this,a)}function m(a){for(let d of this._compilations){var b,c;if(b=d,c=a,b.schema===c.schema&&b.root===c.root&&b.baseId===c.baseId)return d}}function n(a,b){let c;for(;"string"==typeof(c=this.refs[b]);)b=c;return c||this.schemas[b]||o.call(this,a,b)}function o(a,b){let c=this.opts.uriResolver.parse(b),d=(0,g._getFullPath)(this.opts.uriResolver,c),e=(0,g.getFullPath)(this.opts.uriResolver,a.baseId,void 0);if(Object.keys(a.schema).length>0&&d===e)return q.call(this,c,a);let f=(0,g.normalizeId)(d),h=this.refs[f]||this.schemas[f];if("string"==typeof h){let b=o.call(this,a,h);if("object"!=typeof(null==b?void 0:b.schema))return;return q.call(this,c,b)}if("object"==typeof(null==h?void 0:h.schema)){if(h.validate||k.call(this,h),f===(0,g.normalizeId)(b)){let{schema:b}=h,{schemaId:c}=this.opts,d=b[c];return d&&(e=(0,g.resolveUrl)(this.opts.uriResolver,e,d)),new j({schema:b,schemaId:c,root:a,baseId:e})}return q.call(this,c,h)}}b.SchemaEnv=j,b.compileSchema=k,b.resolveRef=function(a,b,c){var d;c=(0,g.resolveUrl)(this.opts.uriResolver,b,c);let e=a.refs[c];if(e)return e;let f=n.call(this,a,c);if(void 0===f){let e=null==(d=a.localRefs)?void 0:d[c],{schemaId:g}=this.opts;e&&(f=new j({schema:e,schemaId:g,root:a,baseId:b}))}if(void 0!==f)return a.refs[c]=l.call(this,f)},b.getCompilingSchema=m,b.resolveSchema=o;let p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function q(a,{baseId:b,schema:c,root:d}){var e;let f;if((null==(e=a.fragment)?void 0:e[0])!=="/")return;for(let d of a.fragment.slice(1).split("/")){if("boolean"==typeof c)return;let a=c[(0,h.unescapeFragment)(d)];if(void 0===a)return;let e="object"==typeof(c=a)&&c[this.opts.schemaId];!p.has(d)&&e&&(b=(0,g.resolveUrl)(this.opts.uriResolver,b,e))}if("boolean"!=typeof c&&c.$ref&&!(0,h.schemaHasRulesButRef)(c,this.RULES)){let a=(0,g.resolveUrl)(this.opts.uriResolver,b,c.$ref);f=o.call(this,d,a)}let{schemaId:i}=this.opts;if((f=f||new j({schema:c,schemaId:i,root:d,baseId:b})).schema!==f.root.schema)return f}},46543:(a,b,c)=>{"use strict";b.__esModule=!0,b.registerDefaultDecorators=function(a){d.default(a)};var d=function(a){return a&&a.__esModule?a:{default:a}}(c(6305))},46585:(a,b,c)=>{"use strict";var d=c(24024),e=c(53365).QB,f=c(53365).n;function g(a){this.name=a.name,this.service=a.service,this.fullName=this.service.name+"::"+this.name,this.model=a.model,this.args=null,this.result=null,this.strict=a.strict,this.linked=!1}function h(a){this.name=null,this.functions=[],this.functionsByName=Object.create(null),this.surface=this.functionsByName,this.strict=a.strict,this.baseService=null,this.linked=!1,this.annotations=null}g.prototype.compile=function(a,b){this.def=a,this.name=a.id.name;var c=new d.Identifier(this.name+"_args");c.as=this.fullName+"_args";var e=new d.Struct(c,a.fields);e.isArgument=!0,this.args=b.compileStruct(e);var f=a.returns,g=a.throws||[];if("BaseType"!==f.type||"void"!==f.baseType){var h=new d.FieldIdentifier(0),i=new d.Field(h,a.returns,"success");i.required=!1,i.optional=!0,i.isResult=!0,g.unshift(i)}var j=new d.Identifier(this.name+"_result");j.as=this.fullName+"_result";var k=new d.Struct(j,g);k.isResult=!0,this.result=b.compileStruct(k),this.oneway=a.oneway,this.annotations=a.annotations},g.prototype.link=function(a){this.args.link(a),this.result.link(a),this.Arguments=this.args.Constructor,this.Result=this.result.Constructor;var b=this.oneway?"ONEWAY":"CALL";this.ArgumentsMessage=this.makeMessageConstructor(this.name,b),this.ResultMessage=this.makeMessageConstructor(this.name,"REPLY"),this.argumentsMessageRW=new f(this.args.rw,a.exception.rw),this.resultMessageRW=new f(this.result.rw,a.exception.rw)},g.prototype.makeMessageConstructor=function(a,b){return function(c){e.call(this,c),this.name=c.name||a,this.type=c.type||b}},h.prototype.models="service",h.prototype.compile=function(a,b){this.name=a.id.name;for(var c=0;c<a.functions.length;c++)this.compileFunction(a.functions[c],b);this.baseService=a.baseService,this.annotations=a.annotations},h.prototype.compileFunction=function(a,b){var c=new g({name:a.id.name,service:this,strict:this.strict});c.compile(a,b),this.addFunction(c)},h.prototype.addFunction=function(a,b){if(this.functions.push(a),this.functionsByName[a.name])throw Error(this.name+"."+a.name+" already inherited from baseService");this.functionsByName[a.name]=a,b&&(b.define(this.name+"::"+a.args.name,a.def,a.args),b.define(this.name+"::"+a.result.name,a.def,a.result))},h.prototype.link=function(a){var b=0;if(this.linked)return this;if(this.linked=!0,this.baseService){var c=a.resolveIdentifier(this.baseService,this.baseService.name,"service");for(c.link(a),b=0;b<c.functions.length;b++){var d=c.functions[b];this.addFunction(d,a)}}for(b=0;b<this.functions.length;b++)this.functions[b].link(a);return a.services[this.name]=this.surface,/^[a-z]/.test(this.name)||(a[this.name]=this.surface),this},a.exports.P=h},46596:(a,b,c)=>{"use strict";c.d(b,{D:()=>h});var d=c(19771),e=c(13590),f=c(79361),g=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}};function h(){var a,b,c,h;return a=this,b=void 0,c=void 0,h=function(){var a,b,c,h;return g(this,function(g){switch(g.label){case 0:a="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",b="%windir%\\System32\\REG.exe","ia32"===d.arch&&"PROCESSOR_ARCHITEW6432"in d.env&&(b="%windir%\\sysnative\\cmd.exe /c "+b),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,(0,e.q)(b+" "+a)];case 2:if(2===(c=g.sent().stdout.split("REG_SZ")).length)return[2,c[1].trim()];return[3,4];case 3:return h=g.sent(),f.s.debug("error reading machine id: "+h),[3,4];case 4:return[2,""]}})},new(c||(c=Promise))(function(d,e){function f(a){try{i(h.next(a))}catch(a){e(a)}}function g(a){try{i(h.throw(a))}catch(a){e(a)}}function i(a){var b;a.done?d(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(f,g)}i((h=h.apply(a,b||[])).next())})}},46626:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0,b.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=(null!=(c=process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)?c:"false")==="true"},46638:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LoadBalancingCall=void 0;let d=c(80158),e=c(56458),f=c(8319),g=c(33604),h=c(96269),i=c(9413),j=c(38702),k=c(16390),l=c(73496);class m{constructor(a,b,c,d,e,f,g){var h,j;this.channel=a,this.callConfig=b,this.methodName=c,this.host=d,this.credentials=e,this.deadline=f,this.callNumber=g,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let k=this.methodName.split("/"),l="";k.length>=2&&(l=k[1]);let m=null!=(j=null==(h=(0,i.splitHostPort)(this.host))?void 0:h.host)?j:"localhost";this.serviceUrl=`https://${m}/${l}`,this.startTime=new Date}getDeadlineInfo(){var a,b;let c=[];return this.childStartTime?(this.childStartTime>this.startTime&&((null==(a=this.metadata)?void 0:a.getOptions().waitForReady)&&c.push("wait_for_ready"),c.push(`LB pick: ${(0,f.formatDateDifference)(this.startTime,this.childStartTime)}`)),c.push(...this.child.getDeadlineInfo())):((null==(b=this.metadata)?void 0:b.getOptions().waitForReady)&&c.push("wait_for_ready"),c.push("Waiting for LB pick")),c}trace(a){j.trace(e.LogVerbosity.DEBUG,"load_balancing_call","["+this.callNumber+"] "+a)}outputStatus(a,b){var c,d;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+a.code+' details="'+a.details+'" start time='+this.startTime.toISOString());let e=Object.assign(Object.assign({},a),{progress:b});null==(c=this.listener)||c.onReceiveStatus(e),null==(d=this.onCallEnded)||d.call(this,e.code,e.details,e.metadata)}}doPick(){var a,b;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let c=this.metadata.clone(),i=this.channel.doPick(c,this.callConfig.pickInformation),j=i.subchannel?"("+i.subchannel.getChannelzRef().id+") "+i.subchannel.getAddress():""+i.subchannel;switch(this.trace("Pick result: "+h.PickResultType[i.pickResultType]+" subchannel: "+j+" status: "+(null==(a=i.status)?void 0:a.code)+" "+(null==(b=i.status)?void 0:b.details)),i.pickResultType){case h.PickResultType.COMPLETE:this.credentials.compose(i.subchannel.getCallCredentials()).generateMetadata({method_name:this.methodName,service_url:this.serviceUrl}).then(a=>{var b;if(this.ended)return void this.trace("Credentials metadata generation finished after call ended");if(c.merge(a),c.get("authorization").length>1&&this.outputStatus({code:e.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new g.Metadata},"PROCESSED"),i.subchannel.getConnectivityState()!==d.ConnectivityState.READY){this.trace("Picked subchannel "+j+" has state "+d.ConnectivityState[i.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&c.set("grpc-timeout",(0,f.getDeadlineTimeoutString)(this.deadline));try{this.child=i.subchannel.getRealSubchannel().createCall(c,this.host,this.methodName,{onReceiveMetadata:a=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(a)},onReceiveMessage:a=>{this.trace("Received message"),this.listener.onReceiveMessage(a)},onReceiveStatus:a=>{this.trace("Received status"),a.rstCode===l.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(a,"REFUSED"):this.outputStatus(a,"PROCESSED")}}),this.childStartTime=new Date}catch(a){this.trace("Failed to start call on picked subchannel "+j+" with error "+a.message),this.outputStatus({code:e.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+a.message,metadata:new g.Metadata},"NOT_STARTED");return}null==(b=i.onCallStarted)||b.call(i),this.onCallEnded=i.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},a=>{let{code:b,details:c}=(0,k.restrictControlPlaneStatusCode)("number"==typeof a.code?a.code:e.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${a.message}`);this.outputStatus({code:b,details:c,metadata:new g.Metadata},"PROCESSED")});break;case h.PickResultType.DROP:let{code:m,details:n}=(0,k.restrictControlPlaneStatusCode)(i.status.code,i.status.details);setImmediate(()=>{this.outputStatus({code:m,details:n,metadata:i.status.metadata},"DROP")});break;case h.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:a,details:b}=(0,k.restrictControlPlaneStatusCode)(i.status.code,i.status.details);setImmediate(()=>{this.outputStatus({code:a,details:b,metadata:i.status.metadata},"PROCESSED")})}break;case h.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(a,b){var c;this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),null==(c=this.child)||c.cancelWithStatus(a,b),this.outputStatus({code:a,details:b,metadata:new g.Metadata},"PROCESSED")}getPeer(){var a,b;return null!=(b=null==(a=this.child)?void 0:a.getPeer())?b:this.channel.getTarget()}start(a,b){this.trace("start called"),this.listener=b,this.metadata=a,this.doPick()}sendMessageWithContext(a,b){this.trace("write() called with message of length "+b.length),this.child?this.child.sendMessageWithContext(a,b):this.pendingMessage={context:a,message:b}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(a){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}getAuthContext(){return this.child?this.child.getAuthContext():null}}b.LoadBalancingCall=m},46687:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.OutlierDetectionLoadBalancer=b.OutlierDetectionLoadBalancingConfig=void 0,b.setup=function(){q&&(0,h.registerLoadBalancerType)(p,B,w)};let e=c(80158),f=c(56458),g=c(27615),h=c(7261),i=c(20606),j=c(89092),k=c(96269),l=c(41835),m=c(35210),n=c(38702);function o(a){n.trace(f.LogVerbosity.DEBUG,"outlier_detection",a)}let p="outlier_detection",q=(null!=(d=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)?d:"true")==="true",r={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},s={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function t(a,b,c,d){if(b in a&&void 0!==a[b]&&typeof a[b]!==c){let e=d?`${d}.${b}`:b;throw Error(`outlier detection config ${e} parse error: expected ${c}, got ${typeof a[b]}`)}}function u(a,b,c){let d=c?`${c}.${b}`:b;if(b in a&&void 0!==a[b]){if(!(0,g.isDuration)(a[b]))throw Error(`outlier detection config ${d} parse error: expected Duration, got ${typeof a[b]}`);if(!(a[b].seconds>=0&&a[b].seconds<=315576e6&&a[b].nanos>=0&&a[b].nanos<=0x3b9ac9ff))throw Error(`outlier detection config ${d} parse error: values out of range for non-negative Duaration`)}}function v(a,b,c){let d=c?`${c}.${b}`:b;if(t(a,b,"number",c),b in a&&void 0!==a[b]&&!(a[b]>=0&&a[b]<=100))throw Error(`outlier detection config ${d} parse error: value out of range for percentage (0-100)`)}class w{constructor(a,b,c,d,e,f,g){if(this.childPolicy=g,"pick_first"===g.getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=a?a:1e4,this.baseEjectionTimeMs=null!=b?b:3e4,this.maxEjectionTimeMs=null!=c?c:3e5,this.maxEjectionPercent=null!=d?d:10,this.successRateEjection=e?Object.assign(Object.assign({},r),e):null,this.failurePercentageEjection=f?Object.assign(Object.assign({},s),f):null}getLoadBalancerName(){return p}toJsonObject(){var a,b;return{outlier_detection:{interval:(0,g.msToDuration)(this.intervalMs),base_ejection_time:(0,g.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,g.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:null!=(a=this.successRateEjection)?a:void 0,failure_percentage_ejection:null!=(b=this.failurePercentageEjection)?b:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(a){var b;if(u(a,"interval"),u(a,"base_ejection_time"),u(a,"max_ejection_time"),v(a,"max_ejection_percent"),"success_rate_ejection"in a&&void 0!==a.success_rate_ejection){if("object"!=typeof a.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");t(a.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),v(a.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),t(a.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),t(a.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in a&&void 0!==a.failure_percentage_ejection){if("object"!=typeof a.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");v(a.failure_percentage_ejection,"threshold","failure_percentage_ejection"),v(a.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),t(a.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),t(a.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in a)||!Array.isArray(a.child_policy))throw Error("outlier detection config child_policy must be an array");let c=(0,i.selectLbConfigFromList)(a.child_policy);if(!c)throw Error("outlier detection config child_policy: no valid recognized policy found");return new w(a.interval?(0,g.durationToMs)(a.interval):null,a.base_ejection_time?(0,g.durationToMs)(a.base_ejection_time):null,a.max_ejection_time?(0,g.durationToMs)(a.max_ejection_time):null,null!=(b=a.max_ejection_percent)?b:null,a.success_rate_ejection,a.failure_percentage_ejection,c)}}b.OutlierDetectionLoadBalancingConfig=w;class x extends m.BaseSubchannelWrapper{constructor(a,b){super(a),this.mapEntry=b,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let a=this.mapEntry.subchannelWrappers.indexOf(this);a>=0&&this.mapEntry.subchannelWrappers.splice(a,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function y(){return{success:0,failure:0}}class z{constructor(){this.activeBucket=y(),this.inactiveBucket=y()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=y()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class A{constructor(a,b){this.wrappedPicker=a,this.countCalls=b}pick(a){let b=this.wrappedPicker.pick(a);if(b.pickResultType!==k.PickResultType.COMPLETE)return b;{let a=b.subchannel,c=a.getMapEntry();if(!c)return Object.assign(Object.assign({},b),{subchannel:a.getWrappedSubchannel()});{let d=b.onCallEnded;return this.countCalls&&(d=(a,d,e)=>{var g;a===f.Status.OK?c.counter.addSuccess():c.counter.addFailure(),null==(g=b.onCallEnded)||g.call(b,a,d,e)}),Object.assign(Object.assign({},b),{subchannel:a.getWrappedSubchannel(),onCallEnded:d})}}}}class B{constructor(a){this.entryMap=new l.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new j.ChildLoadBalancerHandler((0,h.createChildChannelControlHelper)(a,{createSubchannel:(b,c)=>{let d=a.createSubchannel(b,c),e=this.entryMap.getForSubchannelAddress(b),f=new x(d,e);return(null==e?void 0:e.currentEjectionTimestamp)!==null&&f.eject(),null==e||e.subchannelWrappers.push(f),f},updateState:(b,c,d)=>{b===e.ConnectivityState.READY?a.updateState(b,new A(c,this.isCountingEnabled()),d):a.updateState(b,c,d)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let a=0;for(let b of this.entryMap.values())null!==b.currentEjectionTimestamp&&(a+=1);return 100*a/this.entryMap.size}runSuccessRateCheck(a){if(!this.latestConfig)return;let b=this.latestConfig.getSuccessRateEjectionConfig();if(!b)return;o("Running success rate check");let c=b.request_volume,d=0,e=[];for(let[a,b]of this.entryMap.entries()){let f=b.counter.getLastSuccesses(),g=b.counter.getLastFailures();o("Stats for "+(0,l.endpointToString)(a)+": successes="+f+" failures="+g+" targetRequestVolume="+c),f+g>=c&&(d+=1,e.push(f/(f+g)))}if(o("Found "+d+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+e+"]"),d<b.minimum_hosts)return;let f=e.reduce((a,b)=>a+b)/e.length,g=0;for(let a of e){let b=a-f;g+=b*b}let h=Math.sqrt(g/e.length),i=f-h*(b.stdev_factor/1e3);for(let[d,e]of(o("stdev="+h+" ejectionThreshold="+i),this.entryMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let f=e.counter.getLastSuccesses(),g=e.counter.getLastFailures();if(f+g<c)continue;let h=f/(f+g);if(o("Checking candidate "+d+" successRate="+h),h<i){let c=100*Math.random();o("Candidate "+d+" randomNumber="+c+" enforcement_percentage="+b.enforcement_percentage),c<b.enforcement_percentage&&(o("Ejecting candidate "+d),this.eject(e,a))}}}runFailurePercentageCheck(a){if(!this.latestConfig)return;let b=this.latestConfig.getFailurePercentageEjectionConfig();if(!b)return;o("Running failure percentage check. threshold="+b.threshold+" request volume threshold="+b.request_volume);let c=0;for(let a of this.entryMap.values())a.counter.getLastSuccesses()+a.counter.getLastFailures()>=b.request_volume&&(c+=1);if(!(c<b.minimum_hosts))for(let[c,d]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let e=d.counter.getLastSuccesses(),f=d.counter.getLastFailures();if((o("Candidate successes="+e+" failures="+f),!(e+f<b.request_volume))&&100*f/(f+e)>b.threshold){let e=100*Math.random();o("Candidate "+c+" randomNumber="+e+" enforcement_percentage="+b.enforcement_percentage),e<b.enforcement_percentage&&(o("Ejecting candidate "+c),this.eject(d,a))}}}eject(a,b){for(let b of(a.currentEjectionTimestamp=new Date,a.ejectionTimeMultiplier+=1,a.subchannelWrappers))b.eject()}uneject(a){for(let b of(a.currentEjectionTimestamp=null,a.subchannelWrappers))b.uneject()}switchAllBuckets(){for(let a of this.entryMap.values())a.counter.switchBuckets()}startTimer(a){var b,c;this.ejectionTimer=setTimeout(()=>this.runChecks(),a),null==(c=(b=this.ejectionTimer).unref)||c.call(b)}runChecks(){let a=new Date;if(o("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[b,c]of(this.timerStartTime=a,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(a),this.runFailurePercentageCheck(a),this.entryMap.entries()))if(null===c.currentEjectionTimestamp)c.ejectionTimeMultiplier>0&&(c.ejectionTimeMultiplier-=1);else{let a=this.latestConfig.getBaseEjectionTimeMs(),d=this.latestConfig.getMaxEjectionTimeMs(),e=new Date(c.currentEjectionTimestamp.getTime());e.setMilliseconds(e.getMilliseconds()+Math.min(a*c.ejectionTimeMultiplier,Math.max(a,d))),e<new Date&&(o("Unejecting "+b),this.uneject(c))}}updateAddressList(a,b,c,d){if(!(b instanceof w))return!1;if(o("Received update with config: "+JSON.stringify(b.toJsonObject(),void 0,2)),a.ok){for(let b of a.value)this.entryMap.has(b)||(o("Adding map entry for "+(0,l.endpointToString)(b)),this.entryMap.set(b,{counter:new z,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(a.value)}let e=b.getChildPolicy();if(this.childBalancer.updateAddressList(a,e,c,d),b.getSuccessRateEjectionConfig()||b.getFailurePercentageEjectionConfig())if(this.timerStartTime){o("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let a=b.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(a)}else o("Starting new timer"),this.timerStartTime=new Date,this.startTimer(b.getIntervalMs()),this.switchAllBuckets();else for(let a of(o("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.entryMap.values()))this.uneject(a),a.ejectionTimeMultiplier=0;return this.latestConfig=b,!0}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return p}}b.OutlierDetectionLoadBalancer=B},46727:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ESpanKind:()=>d,JsonLogsSerializer:()=>j.Go,JsonMetricsSerializer:()=>j.Ko,JsonTraceSerializer:()=>j.U1,ProtobufLogsSerializer:()=>i.xc,ProtobufMetricsSerializer:()=>i.Dm,ProtobufTraceSerializer:()=>i.nW,createExportLogsServiceRequest:()=>h.W,createExportMetricsServiceRequest:()=>g.K,createExportTraceServiceRequest:()=>f.s,encodeAsLongBits:()=>e.z3,encodeAsString:()=>e.SP,getOtlpEncoder:()=>e.Az,hrTimeToNanos:()=>e.qd,toLongBits:()=>e.II});var d,e=c(16426);!function(a){a[a.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",a[a.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",a[a.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",a[a.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",a[a.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",a[a.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"}(d||(d={}));var f=c(80764),g=c(44080),h=c(28392),i=c(20795),j=c(30648)},46862:(a,b,c)=>{"use strict";c.d(b,{x:()=>d});var d="1.25.1"},46923:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SPAN_KIND="span.kind",b.SPAN_KIND_RPC_CLIENT="client",b.SPAN_KIND_RPC_SERVER="server",b.SPAN_KIND_MESSAGING_PRODUCER="producer",b.SPAN_KIND_MESSAGING_CONSUMER="consumer",b.ERROR="error",b.COMPONENT="component",b.SAMPLING_PRIORITY="sampling.priority",b.PEER_SERVICE="peer.service",b.PEER_HOSTNAME="peer.hostname",b.PEER_ADDRESS="peer.address",b.PEER_HOST_IPV4="peer.ipv4",b.PEER_HOST_IPV6="peer.ipv6",b.PEER_PORT="peer.port",b.HTTP_URL="http.url",b.HTTP_METHOD="http.method",b.HTTP_STATUS_CODE="http.status_code",b.MESSAGE_BUS_DESTINATION="message_bus.destination",b.DB_INSTANCE="db.instance",b.DB_STATEMENT="db.statement",b.DB_TYPE="db.type",b.DB_USER="db.user"},47160:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55832),e=c(38904),f=c(46178),g=c(46178);b.default={keyword:"patternProperties",type:"object",schemaType:"object",code(a){let{gen:b,schema:c,data:h,parentSchema:i,it:j}=a,{opts:k}=j,l=(0,d.allSchemaProperties)(c),m=l.filter(a=>(0,f.alwaysValidSchema)(j,c[a]));if(0===l.length||m.length===l.length&&(!j.opts.unevaluated||!0===j.props))return;let n=k.strictSchema&&!k.allowMatchingProperties&&i.properties,o=b.name("valid");!0===j.props||j.props instanceof e.Name||(j.props=(0,g.evaluatedPropsToName)(b,j.props));let{props:p}=j;for(let a of l)n&&function(a){for(let b in n)new RegExp(a).test(b)&&(0,f.checkStrictMode)(j,`property ${b} matches pattern ${a} (use allowMatchingProperties)`)}(a),j.allErrors?q(a):(b.var(o,!0),q(a),b.if(o));function q(c){b.forIn("key",h,f=>{b.if((0,e._)`${(0,d.usePattern)(a,c)}.test(${f})`,()=>{let d=m.includes(c);d||a.subschema({keyword:"patternProperties",schemaProp:c,dataProp:f,dataPropType:g.Type.Str},o),j.opts.unevaluated&&!0!==p?b.assign((0,e._)`${p}[${f}]`,!0):d||j.allErrors||b.if((0,e.not)(o),()=>b.break())})})}}}},47265:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.experimental=b.ServerMetricRecorder=b.ServerInterceptingCall=b.ResponderBuilder=b.ServerListenerBuilder=b.addAdminServicesToServer=b.getChannelzHandlers=b.getChannelzServiceDefinition=b.InterceptorConfigurationError=b.InterceptingCall=b.RequesterBuilder=b.ListenerBuilder=b.StatusBuilder=b.getClientChannel=b.ServerCredentials=b.Server=b.setLogVerbosity=b.setLogger=b.load=b.loadObject=b.CallCredentials=b.ChannelCredentials=b.waitForClientReady=b.closeClient=b.Channel=b.makeGenericClientConstructor=b.makeClientConstructor=b.loadPackageDefinition=b.Client=b.compressionAlgorithms=b.propagate=b.connectivityState=b.status=b.logVerbosity=b.Metadata=b.credentials=void 0;let d=c(32970);Object.defineProperty(b,"CallCredentials",{enumerable:!0,get:function(){return d.CallCredentials}});let e=c(83640);Object.defineProperty(b,"Channel",{enumerable:!0,get:function(){return e.ChannelImplementation}});let f=c(81842);Object.defineProperty(b,"compressionAlgorithms",{enumerable:!0,get:function(){return f.CompressionAlgorithms}});let g=c(80158);Object.defineProperty(b,"connectivityState",{enumerable:!0,get:function(){return g.ConnectivityState}});let h=c(97945);Object.defineProperty(b,"ChannelCredentials",{enumerable:!0,get:function(){return h.ChannelCredentials}});let i=c(12582);Object.defineProperty(b,"Client",{enumerable:!0,get:function(){return i.Client}});let j=c(56458);Object.defineProperty(b,"logVerbosity",{enumerable:!0,get:function(){return j.LogVerbosity}}),Object.defineProperty(b,"status",{enumerable:!0,get:function(){return j.Status}}),Object.defineProperty(b,"propagate",{enumerable:!0,get:function(){return j.Propagate}});let k=c(38702),l=c(89439);Object.defineProperty(b,"loadPackageDefinition",{enumerable:!0,get:function(){return l.loadPackageDefinition}}),Object.defineProperty(b,"makeClientConstructor",{enumerable:!0,get:function(){return l.makeClientConstructor}}),Object.defineProperty(b,"makeGenericClientConstructor",{enumerable:!0,get:function(){return l.makeClientConstructor}});let m=c(33604);Object.defineProperty(b,"Metadata",{enumerable:!0,get:function(){return m.Metadata}});let n=c(26850);Object.defineProperty(b,"Server",{enumerable:!0,get:function(){return n.Server}});let o=c(65875);Object.defineProperty(b,"ServerCredentials",{enumerable:!0,get:function(){return o.ServerCredentials}});let p=c(37699);Object.defineProperty(b,"StatusBuilder",{enumerable:!0,get:function(){return p.StatusBuilder}}),b.credentials={combineChannelCredentials:(a,...b)=>b.reduce((a,b)=>a.compose(b),a),combineCallCredentials:(a,...b)=>b.reduce((a,b)=>a.compose(b),a),createInsecure:h.ChannelCredentials.createInsecure,createSsl:h.ChannelCredentials.createSsl,createFromSecureContext:h.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:d.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:d.CallCredentials.createFromGoogleCredential,createEmpty:d.CallCredentials.createEmpty},b.closeClient=a=>a.close(),b.waitForClientReady=(a,b,c)=>a.waitForReady(b,c),b.loadObject=(a,b)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},b.load=(a,b,c)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},b.setLogger=a=>{k.setLogger(a)},b.setLogVerbosity=a=>{k.setLoggerVerbosity(a)},b.getClientChannel=a=>i.Client.prototype.getChannel.call(a);var q=c(73475);Object.defineProperty(b,"ListenerBuilder",{enumerable:!0,get:function(){return q.ListenerBuilder}}),Object.defineProperty(b,"RequesterBuilder",{enumerable:!0,get:function(){return q.RequesterBuilder}}),Object.defineProperty(b,"InterceptingCall",{enumerable:!0,get:function(){return q.InterceptingCall}}),Object.defineProperty(b,"InterceptorConfigurationError",{enumerable:!0,get:function(){return q.InterceptorConfigurationError}});var r=c(49682);Object.defineProperty(b,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return r.getChannelzServiceDefinition}}),Object.defineProperty(b,"getChannelzHandlers",{enumerable:!0,get:function(){return r.getChannelzHandlers}});var s=c(10272);Object.defineProperty(b,"addAdminServicesToServer",{enumerable:!0,get:function(){return s.addAdminServicesToServer}});var t=c(53567);Object.defineProperty(b,"ServerListenerBuilder",{enumerable:!0,get:function(){return t.ServerListenerBuilder}}),Object.defineProperty(b,"ResponderBuilder",{enumerable:!0,get:function(){return t.ResponderBuilder}}),Object.defineProperty(b,"ServerInterceptingCall",{enumerable:!0,get:function(){return t.ServerInterceptingCall}});var u=c(35696);Object.defineProperty(b,"ServerMetricRecorder",{enumerable:!0,get:function(){return u.ServerMetricRecorder}}),b.experimental=c(7261);let v=c(67463),w=c(2276),x=c(53849),y=c(8557),z=c(85786),A=c(46687),B=c(37048),C=c(49682);v.setup(),w.setup(),x.setup(),y.setup(),z.setup(),A.setup(),B.setup(),C.setup()},47314:(a,b,c)=>{"use strict";c.d(b,{q:()=>f});var d,e=c(46862),f=((d={})["telemetry.sdk.name"]="opentelemetry",d["process.runtime.name"]="node",d["telemetry.sdk.language"]="nodejs",d["telemetry.sdk.version"]=e.x,d)},47338:(a,b,c)=>{"use strict";function d(a){for(var b={},c=a.length,d=0;d<c;d++){var e=a[d];e&&(b[String(e).toUpperCase().replace(/[-.]/g,"_")]=e)}return b}c.r(b),c.d(b,{AWSECSLAUNCHTYPEVALUES_EC2:()=>ks,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>kt,AwsEcsLaunchtypeValues:()=>ku,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>j9,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>ka,CLOUDPLATFORMVALUES_AWS_EC2:()=>kb,CLOUDPLATFORMVALUES_AWS_ECS:()=>kc,CLOUDPLATFORMVALUES_AWS_EKS:()=>kd,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>kf,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>ke,CLOUDPLATFORMVALUES_AZURE_AKS:()=>ki,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>kk,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>kh,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>kj,CLOUDPLATFORMVALUES_AZURE_VM:()=>kg,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>kp,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>ko,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>km,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>kl,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>kn,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>jP,CLOUDPROVIDERVALUES_AWS:()=>jQ,CLOUDPROVIDERVALUES_AZURE:()=>jR,CLOUDPROVIDERVALUES_GCP:()=>jS,CloudPlatformValues:()=>kq,CloudProviderValues:()=>jT,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>eZ,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>e5,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>e$,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>e4,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>e0,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>e7,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>e1,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>e_,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>e6,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>e3,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>e2,DBSYSTEMVALUES_ADABAS:()=>en,DBSYSTEMVALUES_CACHE:()=>em,DBSYSTEMVALUES_CASSANDRA:()=>eE,DBSYSTEMVALUES_CLOUDSCAPE:()=>ee,DBSYSTEMVALUES_COCKROACHDB:()=>eQ,DBSYSTEMVALUES_COLDFUSION:()=>eD,DBSYSTEMVALUES_COSMOSDB:()=>eK,DBSYSTEMVALUES_COUCHBASE:()=>eI,DBSYSTEMVALUES_COUCHDB:()=>eJ,DBSYSTEMVALUES_DB2:()=>ea,DBSYSTEMVALUES_DERBY:()=>ep,DBSYSTEMVALUES_DYNAMODB:()=>eL,DBSYSTEMVALUES_EDB:()=>el,DBSYSTEMVALUES_ELASTICSEARCH:()=>eO,DBSYSTEMVALUES_FILEMAKER:()=>eq,DBSYSTEMVALUES_FIREBIRD:()=>eo,DBSYSTEMVALUES_FIRSTSQL:()=>ek,DBSYSTEMVALUES_GEODE:()=>eN,DBSYSTEMVALUES_H2:()=>eC,DBSYSTEMVALUES_HANADB:()=>ei,DBSYSTEMVALUES_HBASE:()=>eF,DBSYSTEMVALUES_HIVE:()=>ed,DBSYSTEMVALUES_HSQLDB:()=>ef,DBSYSTEMVALUES_INFORMIX:()=>er,DBSYSTEMVALUES_INGRES:()=>ej,DBSYSTEMVALUES_INSTANTDB:()=>es,DBSYSTEMVALUES_INTERBASE:()=>et,DBSYSTEMVALUES_MARIADB:()=>eu,DBSYSTEMVALUES_MAXDB:()=>eh,DBSYSTEMVALUES_MEMCACHED:()=>eP,DBSYSTEMVALUES_MONGODB:()=>eG,DBSYSTEMVALUES_MSSQL:()=>d7,DBSYSTEMVALUES_MYSQL:()=>d8,DBSYSTEMVALUES_NEO4J:()=>eM,DBSYSTEMVALUES_NETEZZA:()=>ev,DBSYSTEMVALUES_ORACLE:()=>d9,DBSYSTEMVALUES_OTHER_SQL:()=>d6,DBSYSTEMVALUES_PERVASIVE:()=>ew,DBSYSTEMVALUES_POINTBASE:()=>ex,DBSYSTEMVALUES_POSTGRESQL:()=>eb,DBSYSTEMVALUES_PROGRESS:()=>eg,DBSYSTEMVALUES_REDIS:()=>eH,DBSYSTEMVALUES_REDSHIFT:()=>ec,DBSYSTEMVALUES_SQLITE:()=>ey,DBSYSTEMVALUES_SYBASE:()=>ez,DBSYSTEMVALUES_TERADATA:()=>eA,DBSYSTEMVALUES_VERTICA:()=>eB,DbCassandraConsistencyLevelValues:()=>e8,DbSystemValues:()=>eR,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>fp,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>fo,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>fn,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>ft,FAASINVOKEDPROVIDERVALUES_AWS:()=>fu,FAASINVOKEDPROVIDERVALUES_AZURE:()=>fv,FAASINVOKEDPROVIDERVALUES_GCP:()=>fw,FAASTRIGGERVALUES_DATASOURCE:()=>fe,FAASTRIGGERVALUES_HTTP:()=>ff,FAASTRIGGERVALUES_OTHER:()=>fi,FAASTRIGGERVALUES_PUBSUB:()=>fg,FAASTRIGGERVALUES_TIMER:()=>fh,FaasDocumentOperationValues:()=>fq,FaasInvokedProviderValues:()=>fx,FaasTriggerValues:()=>fj,HOSTARCHVALUES_AMD64:()=>kB,HOSTARCHVALUES_ARM32:()=>kC,HOSTARCHVALUES_ARM64:()=>kD,HOSTARCHVALUES_IA64:()=>kE,HOSTARCHVALUES_PPC32:()=>kF,HOSTARCHVALUES_PPC64:()=>kG,HOSTARCHVALUES_X86:()=>kH,HTTPFLAVORVALUES_HTTP_1_0:()=>gB,HTTPFLAVORVALUES_HTTP_1_1:()=>gC,HTTPFLAVORVALUES_HTTP_2_0:()=>gD,HTTPFLAVORVALUES_QUIC:()=>gF,HTTPFLAVORVALUES_SPDY:()=>gE,HostArchValues:()=>kI,HttpFlavorValues:()=>gG,MESSAGETYPEVALUES_RECEIVED:()=>ha,MESSAGETYPEVALUES_SENT:()=>g9,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>gJ,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>gK,MESSAGINGOPERATIONVALUES_PROCESS:()=>gP,MESSAGINGOPERATIONVALUES_RECEIVE:()=>gO,MessageTypeValues:()=>hb,MessagingDestinationKindValues:()=>gL,MessagingOperationValues:()=>gQ,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>gg,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>gj,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>ge,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>gq,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>gh,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>gi,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>go,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>gd,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>gs,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>gk,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>gm,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>gr,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>gl,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>gn,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>gu,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>gp,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>gx,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>gv,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>gw,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>gt,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>gf,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>fT,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>fU,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>fV,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>fR,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>fS,NETTRANSPORTVALUES_INPROC:()=>fJ,NETTRANSPORTVALUES_IP:()=>fG,NETTRANSPORTVALUES_IP_TCP:()=>fE,NETTRANSPORTVALUES_IP_UDP:()=>fF,NETTRANSPORTVALUES_OTHER:()=>fK,NETTRANSPORTVALUES_PIPE:()=>fI,NETTRANSPORTVALUES_UNIX:()=>fH,NetHostConnectionSubtypeValues:()=>gy,NetHostConnectionTypeValues:()=>fW,NetTransportValues:()=>fL,OSTYPEVALUES_AIX:()=>k_,OSTYPEVALUES_DARWIN:()=>kV,OSTYPEVALUES_DRAGONFLYBSD:()=>kZ,OSTYPEVALUES_FREEBSD:()=>kW,OSTYPEVALUES_HPUX:()=>k$,OSTYPEVALUES_LINUX:()=>kU,OSTYPEVALUES_NETBSD:()=>kX,OSTYPEVALUES_OPENBSD:()=>kY,OSTYPEVALUES_SOLARIS:()=>k0,OSTYPEVALUES_WINDOWS:()=>kT,OSTYPEVALUES_Z_OS:()=>k1,OsTypeValues:()=>k2,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>g_,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>gX,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>gS,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>g4,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>gV,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>g$,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>g2,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>gU,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>gW,RPCGRPCSTATUSCODEVALUES_OK:()=>gR,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>g0,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>gY,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>gZ,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>g5,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>g3,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>g1,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>gT,RpcGrpcStatusCodeValues:()=>g6,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>cH,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>cT,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>cE,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>cA,SEMATTRS_AWS_DYNAMODB_COUNT:()=>cR,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>cM,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>cK,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>cU,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>cI,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>cB,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>cG,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>cL,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>cF,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>cC,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>cD,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>cS,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>cO,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>cP,SEMATTRS_AWS_DYNAMODB_SELECT:()=>cJ,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>cN,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>cz,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>cQ,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>bo,SEMATTRS_CODE_FILEPATH:()=>ci,SEMATTRS_CODE_FUNCTION:()=>cg,SEMATTRS_CODE_LINENO:()=>cj,SEMATTRS_CODE_NAMESPACE:()=>ch,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>bz,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>bE,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>bD,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>bB,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>bx,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>by,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>bC,SEMATTRS_DB_CASSANDRA_TABLE:()=>bA,SEMATTRS_DB_CONNECTION_STRING:()=>bq,SEMATTRS_DB_HBASE_NAMESPACE:()=>bF,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>bs,SEMATTRS_DB_MONGODB_COLLECTION:()=>bH,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>bw,SEMATTRS_DB_NAME:()=>bt,SEMATTRS_DB_OPERATION:()=>bv,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>bG,SEMATTRS_DB_SQL_TABLE:()=>bI,SEMATTRS_DB_STATEMENT:()=>bu,SEMATTRS_DB_SYSTEM:()=>bp,SEMATTRS_DB_USER:()=>br,SEMATTRS_ENDUSER_ID:()=>cb,SEMATTRS_ENDUSER_ROLE:()=>cc,SEMATTRS_ENDUSER_SCOPE:()=>cd,SEMATTRS_EXCEPTION_ESCAPED:()=>bM,SEMATTRS_EXCEPTION_MESSAGE:()=>bK,SEMATTRS_EXCEPTION_STACKTRACE:()=>bL,SEMATTRS_EXCEPTION_TYPE:()=>bJ,SEMATTRS_FAAS_COLDSTART:()=>bV,SEMATTRS_FAAS_CRON:()=>bU,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>bP,SEMATTRS_FAAS_DOCUMENT_NAME:()=>bS,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>bQ,SEMATTRS_FAAS_DOCUMENT_TIME:()=>bR,SEMATTRS_FAAS_EXECUTION:()=>bO,SEMATTRS_FAAS_INVOKED_NAME:()=>bW,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>bX,SEMATTRS_FAAS_INVOKED_REGION:()=>bY,SEMATTRS_FAAS_TIME:()=>bT,SEMATTRS_FAAS_TRIGGER:()=>bN,SEMATTRS_HTTP_CLIENT_IP:()=>cy,SEMATTRS_HTTP_FLAVOR:()=>cq,SEMATTRS_HTTP_HOST:()=>cn,SEMATTRS_HTTP_METHOD:()=>ck,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>cs,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>ct,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>cu,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>cv,SEMATTRS_HTTP_ROUTE:()=>cx,SEMATTRS_HTTP_SCHEME:()=>co,SEMATTRS_HTTP_SERVER_NAME:()=>cw,SEMATTRS_HTTP_STATUS_CODE:()=>cp,SEMATTRS_HTTP_TARGET:()=>cm,SEMATTRS_HTTP_URL:()=>cl,SEMATTRS_HTTP_USER_AGENT:()=>cr,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>dm,SEMATTRS_MESSAGE_ID:()=>dl,SEMATTRS_MESSAGE_TYPE:()=>dk,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>dn,SEMATTRS_MESSAGING_CONSUMER_ID:()=>c5,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>c1,SEMATTRS_MESSAGING_DESTINATION:()=>cW,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>cX,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>c9,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>c8,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>c7,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>da,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>db,SEMATTRS_MESSAGING_MESSAGE_ID:()=>c0,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>c3,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>c2,SEMATTRS_MESSAGING_OPERATION:()=>c4,SEMATTRS_MESSAGING_PROTOCOL:()=>cZ,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>c$,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>c6,SEMATTRS_MESSAGING_SYSTEM:()=>cV,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>cY,SEMATTRS_MESSAGING_URL:()=>c_,SEMATTRS_NET_HOST_CARRIER_ICC:()=>b9,SEMATTRS_NET_HOST_CARRIER_MCC:()=>b7,SEMATTRS_NET_HOST_CARRIER_MNC:()=>b8,SEMATTRS_NET_HOST_CARRIER_NAME:()=>b6,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>b5,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>b4,SEMATTRS_NET_HOST_IP:()=>b1,SEMATTRS_NET_HOST_NAME:()=>b3,SEMATTRS_NET_HOST_PORT:()=>b2,SEMATTRS_NET_PEER_IP:()=>b$,SEMATTRS_NET_PEER_NAME:()=>b0,SEMATTRS_NET_PEER_PORT:()=>b_,SEMATTRS_NET_TRANSPORT:()=>bZ,SEMATTRS_PEER_SERVICE:()=>ca,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>df,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>di,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>dj,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>dh,SEMATTRS_RPC_JSONRPC_VERSION:()=>dg,SEMATTRS_RPC_METHOD:()=>de,SEMATTRS_RPC_SERVICE:()=>dd,SEMATTRS_RPC_SYSTEM:()=>dc,SEMATTRS_THREAD_ID:()=>ce,SEMATTRS_THREAD_NAME:()=>cf,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>iB,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>iA,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>iC,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>iD,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>iE,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>iF,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>iG,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>iI,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>iH,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>iK,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>iJ,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>iw,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>iy,SEMRESATTRS_CLOUD_PLATFORM:()=>iz,SEMRESATTRS_CLOUD_PROVIDER:()=>iv,SEMRESATTRS_CLOUD_REGION:()=>ix,SEMRESATTRS_CONTAINER_ID:()=>iM,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>iO,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>iP,SEMRESATTRS_CONTAINER_NAME:()=>iL,SEMRESATTRS_CONTAINER_RUNTIME:()=>iN,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>iQ,SEMRESATTRS_DEVICE_ID:()=>iR,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>iS,SEMRESATTRS_DEVICE_MODEL_NAME:()=>iT,SEMRESATTRS_FAAS_ID:()=>iV,SEMRESATTRS_FAAS_INSTANCE:()=>iX,SEMRESATTRS_FAAS_MAX_MEMORY:()=>iY,SEMRESATTRS_FAAS_NAME:()=>iU,SEMRESATTRS_FAAS_VERSION:()=>iW,SEMRESATTRS_HOST_ARCH:()=>i0,SEMRESATTRS_HOST_ID:()=>iZ,SEMRESATTRS_HOST_IMAGE_ID:()=>i2,SEMRESATTRS_HOST_IMAGE_NAME:()=>i1,SEMRESATTRS_HOST_IMAGE_VERSION:()=>i3,SEMRESATTRS_HOST_NAME:()=>i$,SEMRESATTRS_HOST_TYPE:()=>i_,SEMRESATTRS_K8S_CLUSTER_NAME:()=>i4,SEMRESATTRS_K8S_CONTAINER_NAME:()=>ja,SEMRESATTRS_K8S_CRONJOB_NAME:()=>jm,SEMRESATTRS_K8S_CRONJOB_UID:()=>jl,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>ji,SEMRESATTRS_K8S_DAEMONSET_UID:()=>jh,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>je,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>jd,SEMRESATTRS_K8S_JOB_NAME:()=>jk,SEMRESATTRS_K8S_JOB_UID:()=>jj,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>i7,SEMRESATTRS_K8S_NODE_NAME:()=>i5,SEMRESATTRS_K8S_NODE_UID:()=>i6,SEMRESATTRS_K8S_POD_NAME:()=>i9,SEMRESATTRS_K8S_POD_UID:()=>i8,SEMRESATTRS_K8S_REPLICASET_NAME:()=>jc,SEMRESATTRS_K8S_REPLICASET_UID:()=>jb,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>jg,SEMRESATTRS_K8S_STATEFULSET_UID:()=>jf,SEMRESATTRS_OS_DESCRIPTION:()=>jo,SEMRESATTRS_OS_NAME:()=>jp,SEMRESATTRS_OS_TYPE:()=>jn,SEMRESATTRS_OS_VERSION:()=>jq,SEMRESATTRS_PROCESS_COMMAND:()=>ju,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>jw,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>jv,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>js,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>jt,SEMRESATTRS_PROCESS_OWNER:()=>jx,SEMRESATTRS_PROCESS_PID:()=>jr,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>jA,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>jy,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>jz,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>jD,SEMRESATTRS_SERVICE_NAME:()=>jB,SEMRESATTRS_SERVICE_NAMESPACE:()=>jC,SEMRESATTRS_SERVICE_VERSION:()=>jE,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>jI,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>jG,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>jF,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>jH,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>jL,SEMRESATTRS_WEBENGINE_NAME:()=>jJ,SEMRESATTRS_WEBENGINE_VERSION:()=>jK,SemanticAttributes:()=>dp,SemanticResourceAttributes:()=>jM,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>la,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>lb,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>lc,TELEMETRYSDKLANGUAGEVALUES_GO:()=>ld,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>le,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>lf,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>lg,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>lh,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>li,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>lj,TelemetrySdkLanguageValues:()=>lk});var e="aws.lambda.invoked_arn",f="db.system",g="db.connection_string",h="db.user",i="db.jdbc.driver_classname",j="db.name",k="db.statement",l="db.operation",m="db.mssql.instance_name",n="db.cassandra.keyspace",o="db.cassandra.page_size",p="db.cassandra.consistency_level",q="db.cassandra.table",r="db.cassandra.idempotence",s="db.cassandra.speculative_execution_count",t="db.cassandra.coordinator.id",u="db.cassandra.coordinator.dc",v="db.hbase.namespace",w="db.redis.database_index",x="db.mongodb.collection",y="db.sql.table",z="exception.type",A="exception.message",B="exception.stacktrace",C="exception.escaped",D="faas.trigger",E="faas.execution",F="faas.document.collection",G="faas.document.operation",H="faas.document.time",I="faas.document.name",J="faas.time",K="faas.cron",L="faas.coldstart",M="faas.invoked_name",N="faas.invoked_provider",O="faas.invoked_region",P="net.transport",Q="net.peer.ip",R="net.peer.port",S="net.peer.name",T="net.host.ip",U="net.host.port",V="net.host.name",W="net.host.connection.type",X="net.host.connection.subtype",Y="net.host.carrier.name",Z="net.host.carrier.mcc",$="net.host.carrier.mnc",_="net.host.carrier.icc",aa="peer.service",ab="enduser.id",ac="enduser.role",ad="enduser.scope",ae="thread.id",af="thread.name",ag="code.function",ah="code.namespace",ai="code.filepath",aj="code.lineno",ak="http.method",al="http.url",am="http.target",an="http.host",ao="http.scheme",ap="http.status_code",aq="http.flavor",ar="http.user_agent",as="http.request_content_length",at="http.request_content_length_uncompressed",au="http.response_content_length",av="http.response_content_length_uncompressed",aw="http.server_name",ax="http.route",ay="http.client_ip",az="aws.dynamodb.table_names",aA="aws.dynamodb.consumed_capacity",aB="aws.dynamodb.item_collection_metrics",aC="aws.dynamodb.provisioned_read_capacity",aD="aws.dynamodb.provisioned_write_capacity",aE="aws.dynamodb.consistent_read",aF="aws.dynamodb.projection",aG="aws.dynamodb.limit",aH="aws.dynamodb.attributes_to_get",aI="aws.dynamodb.index_name",aJ="aws.dynamodb.select",aK="aws.dynamodb.global_secondary_indexes",aL="aws.dynamodb.local_secondary_indexes",aM="aws.dynamodb.exclusive_start_table",aN="aws.dynamodb.table_count",aO="aws.dynamodb.scan_forward",aP="aws.dynamodb.segment",aQ="aws.dynamodb.total_segments",aR="aws.dynamodb.count",aS="aws.dynamodb.scanned_count",aT="aws.dynamodb.attribute_definitions",aU="aws.dynamodb.global_secondary_index_updates",aV="messaging.system",aW="messaging.destination",aX="messaging.destination_kind",aY="messaging.temp_destination",aZ="messaging.protocol",a$="messaging.protocol_version",a_="messaging.url",a0="messaging.message_id",a1="messaging.conversation_id",a2="messaging.message_payload_size_bytes",a3="messaging.message_payload_compressed_size_bytes",a4="messaging.operation",a5="messaging.consumer_id",a6="messaging.rabbitmq.routing_key",a7="messaging.kafka.message_key",a8="messaging.kafka.consumer_group",a9="messaging.kafka.client_id",ba="messaging.kafka.partition",bb="messaging.kafka.tombstone",bc="rpc.system",bd="rpc.service",be="rpc.method",bf="rpc.grpc.status_code",bg="rpc.jsonrpc.version",bh="rpc.jsonrpc.request_id",bi="rpc.jsonrpc.error_code",bj="rpc.jsonrpc.error_message",bk="message.type",bl="message.id",bm="message.compressed_size",bn="message.uncompressed_size",bo=e,bp=f,bq=g,br=h,bs=i,bt=j,bu=k,bv=l,bw=m,bx=n,by=o,bz=p,bA=q,bB=r,bC=s,bD=t,bE=u,bF=v,bG=w,bH=x,bI=y,bJ=z,bK=A,bL=B,bM=C,bN=D,bO=E,bP=F,bQ=G,bR=H,bS=I,bT=J,bU=K,bV=L,bW=M,bX=N,bY=O,bZ=P,b$=Q,b_=R,b0=S,b1=T,b2=U,b3=V,b4=W,b5=X,b6=Y,b7=Z,b8=$,b9=_,ca=aa,cb=ab,cc=ac,cd=ad,ce=ae,cf=af,cg=ag,ch=ah,ci=ai,cj=aj,ck=ak,cl=al,cm=am,cn=an,co=ao,cp=ap,cq=aq,cr=ar,cs=as,ct=at,cu=au,cv=av,cw=aw,cx=ax,cy=ay,cz=az,cA=aA,cB=aB,cC=aC,cD=aD,cE=aE,cF=aF,cG=aG,cH=aH,cI=aI,cJ=aJ,cK=aK,cL=aL,cM=aM,cN=aN,cO=aO,cP=aP,cQ=aQ,cR=aR,cS=aS,cT=aT,cU=aU,cV=aV,cW=aW,cX=aX,cY=aY,cZ=aZ,c$=a$,c_=a_,c0=a0,c1=a1,c2=a2,c3=a3,c4=a4,c5=a5,c6=a6,c7=a7,c8=a8,c9=a9,da=ba,db=bb,dc=bc,dd=bd,de=be,df=bf,dg=bg,dh=bh,di=bi,dj=bj,dk=bk,dl=bl,dm=bm,dn=bn,dp=d([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a$,a_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn]),dq="other_sql",dr="mssql",ds="mysql",dt="oracle",du="postgresql",dv="redshift",dw="hive",dx="cloudscape",dy="hsqldb",dz="progress",dA="maxdb",dB="hanadb",dC="ingres",dD="firstsql",dE="cache",dF="adabas",dG="firebird",dH="derby",dI="filemaker",dJ="informix",dK="instantdb",dL="interbase",dM="mariadb",dN="netezza",dO="pervasive",dP="pointbase",dQ="sqlite",dR="sybase",dS="teradata",dT="vertica",dU="coldfusion",dV="cassandra",dW="hbase",dX="mongodb",dY="redis",dZ="couchbase",d$="couchdb",d_="cosmosdb",d0="dynamodb",d1="neo4j",d2="geode",d3="elasticsearch",d4="memcached",d5="cockroachdb",d6=dq,d7=dr,d8=ds,d9=dt,ea="db2",eb=du,ec=dv,ed=dw,ee=dx,ef=dy,eg=dz,eh=dA,ei=dB,ej=dC,ek=dD,el="edb",em=dE,en=dF,eo=dG,ep=dH,eq=dI,er=dJ,es=dK,et=dL,eu=dM,ev=dN,ew=dO,ex=dP,ey=dQ,ez=dR,eA=dS,eB=dT,eC="h2",eD=dU,eE=dV,eF=dW,eG=dX,eH=dY,eI=dZ,eJ=d$,eK=d_,eL=d0,eM=d1,eN=d2,eO=d3,eP=d4,eQ=d5,eR=d([dq,dr,ds,dt,"db2",du,dv,dw,dx,dy,dz,dA,dB,dC,dD,"edb",dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,"h2",dU,dV,dW,dX,dY,dZ,d$,d_,d0,d1,d2,d3,d4,d5]),eS="each_quorum",eT="quorum",eU="local_quorum",eV="three",eW="local_one",eX="serial",eY="local_serial",eZ="all",e$=eS,e_=eT,e0=eU,e1="one",e2="two",e3=eV,e4=eW,e5="any",e6=eX,e7=eY,e8=d(["all",eS,eT,eU,"one","two",eV,eW,"any",eX,eY]),e9="datasource",fa="http",fb="pubsub",fc="timer",fd="other",fe=e9,ff=fa,fg=fb,fh=fc,fi=fd,fj=d([e9,fa,fb,fc,fd]),fk="insert",fl="edit",fm="delete",fn=fk,fo=fl,fp=fm,fq=d([fk,fl,fm]),fr="alibaba_cloud",fs="azure",ft=fr,fu="aws",fv=fs,fw="gcp",fx=d([fr,"aws",fs,"gcp"]),fy="ip_tcp",fz="ip_udp",fA="unix",fB="pipe",fC="inproc",fD="other",fE=fy,fF=fz,fG="ip",fH=fA,fI=fB,fJ=fC,fK=fD,fL=d([fy,fz,"ip",fA,fB,fC,fD]),fM="wifi",fN="wired",fO="cell",fP="unavailable",fQ="unknown",fR=fM,fS=fN,fT=fO,fU=fP,fV=fQ,fW=d([fM,fN,fO,fP,fQ]),fX="gprs",fY="edge",fZ="umts",f$="cdma",f_="evdo_0",f0="evdo_a",f1="cdma2000_1xrtt",f2="hsdpa",f3="hsupa",f4="hspa",f5="iden",f6="evdo_b",f7="ehrpd",f8="hspap",f9="td_scdma",ga="iwlan",gb="nrnsa",gc="lte_ca",gd=fX,ge=fY,gf=fZ,gg=f$,gh=f_,gi=f0,gj=f1,gk=f2,gl=f3,gm=f4,gn=f5,go=f6,gp="lte",gq=f7,gr=f8,gs="gsm",gt=f9,gu=ga,gv="nr",gw=gb,gx=gc,gy=d([fX,fY,fZ,f$,f_,f0,f1,f2,f3,f4,f5,f6,"lte",f7,f8,"gsm",f9,ga,"nr",gb,gc]),gz="SPDY",gA="QUIC",gB="1.0",gC="1.1",gD="2.0",gE=gz,gF=gA,gG={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:gz,QUIC:gA},gH="queue",gI="topic",gJ=gH,gK=gI,gL=d([gH,gI]),gM="receive",gN="process",gO=gM,gP=gN,gQ=d([gM,gN]),gR=0,gS=1,gT=2,gU=3,gV=4,gW=5,gX=6,gY=7,gZ=8,g$=9,g_=10,g0=11,g1=12,g2=13,g3=14,g4=15,g5=16,g6={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},g7="SENT",g8="RECEIVED",g9=g7,ha=g8,hb=d([g7,g8]),hc="cloud.provider",hd="cloud.account.id",he="cloud.region",hf="cloud.availability_zone",hg="cloud.platform",hh="aws.ecs.container.arn",hi="aws.ecs.cluster.arn",hj="aws.ecs.launchtype",hk="aws.ecs.task.arn",hl="aws.ecs.task.family",hm="aws.ecs.task.revision",hn="aws.eks.cluster.arn",ho="aws.log.group.names",hp="aws.log.group.arns",hq="aws.log.stream.names",hr="aws.log.stream.arns",hs="container.name",ht="container.id",hu="container.runtime",hv="container.image.name",hw="container.image.tag",hx="deployment.environment",hy="device.id",hz="device.model.identifier",hA="device.model.name",hB="faas.name",hC="faas.id",hD="faas.version",hE="faas.instance",hF="faas.max_memory",hG="host.id",hH="host.name",hI="host.type",hJ="host.arch",hK="host.image.name",hL="host.image.id",hM="host.image.version",hN="k8s.cluster.name",hO="k8s.node.name",hP="k8s.node.uid",hQ="k8s.namespace.name",hR="k8s.pod.uid",hS="k8s.pod.name",hT="k8s.container.name",hU="k8s.replicaset.uid",hV="k8s.replicaset.name",hW="k8s.deployment.uid",hX="k8s.deployment.name",hY="k8s.statefulset.uid",hZ="k8s.statefulset.name",h$="k8s.daemonset.uid",h_="k8s.daemonset.name",h0="k8s.job.uid",h1="k8s.job.name",h2="k8s.cronjob.uid",h3="k8s.cronjob.name",h4="os.type",h5="os.description",h6="os.name",h7="os.version",h8="process.pid",h9="process.executable.name",ia="process.executable.path",ib="process.command",ic="process.command_line",id="process.command_args",ie="process.owner",ig="process.runtime.name",ih="process.runtime.version",ii="process.runtime.description",ij="service.name",ik="service.namespace",il="service.instance.id",im="service.version",io="telemetry.sdk.name",ip="telemetry.sdk.language",iq="telemetry.sdk.version",ir="telemetry.auto.version",is="webengine.name",it="webengine.version",iu="webengine.description",iv=hc,iw=hd,ix=he,iy=hf,iz=hg,iA=hh,iB=hi,iC=hj,iD=hk,iE=hl,iF=hm,iG=hn,iH=ho,iI=hp,iJ=hq,iK=hr,iL=hs,iM=ht,iN=hu,iO=hv,iP=hw,iQ=hx,iR=hy,iS=hz,iT=hA,iU=hB,iV=hC,iW=hD,iX=hE,iY=hF,iZ=hG,i$=hH,i_=hI,i0=hJ,i1=hK,i2=hL,i3=hM,i4=hN,i5=hO,i6=hP,i7=hQ,i8=hR,i9=hS,ja=hT,jb=hU,jc=hV,jd=hW,je=hX,jf=hY,jg=hZ,jh=h$,ji=h_,jj=h0,jk=h1,jl=h2,jm=h3,jn=h4,jo=h5,jp=h6,jq=h7,jr=h8,js=h9,jt=ia,ju=ib,jv=ic,jw=id,jx=ie,jy=ig,jz=ih,jA=ii,jB=ij,jC=ik,jD=il,jE=im,jF=io,jG=ip,jH=iq,jI=ir,jJ=is,jK=it,jL=iu,jM=d([hc,hd,he,hf,hg,hh,hi,hj,hk,hl,hm,hn,ho,hp,hq,hr,hs,ht,hu,hv,hw,hx,hy,hz,hA,hB,hC,hD,hE,hF,hG,hH,hI,hJ,hK,hL,hM,hN,hO,hP,hQ,hR,hS,hT,hU,hV,hW,hX,hY,hZ,h$,h_,h0,h1,h2,h3,h4,h5,h6,h7,h8,h9,ia,ib,ic,id,ie,ig,ih,ii,ij,ik,il,im,io,ip,iq,ir,is,it,iu]),jN="alibaba_cloud",jO="azure",jP=jN,jQ="aws",jR=jO,jS="gcp",jT=d([jN,"aws",jO,"gcp"]),jU="alibaba_cloud_ecs",jV="alibaba_cloud_fc",jW="aws_ec2",jX="aws_ecs",jY="aws_eks",jZ="aws_lambda",j$="aws_elastic_beanstalk",j_="azure_vm",j0="azure_container_instances",j1="azure_aks",j2="azure_functions",j3="azure_app_service",j4="gcp_compute_engine",j5="gcp_cloud_run",j6="gcp_kubernetes_engine",j7="gcp_cloud_functions",j8="gcp_app_engine",j9=jU,ka=jV,kb=jW,kc=jX,kd=jY,ke=jZ,kf=j$,kg=j_,kh=j0,ki=j1,kj=j2,kk=j3,kl=j4,km=j5,kn=j6,ko=j7,kp=j8,kq=d([jU,jV,jW,jX,jY,jZ,j$,j_,j0,j1,j2,j3,j4,j5,j6,j7,j8]),kr="fargate",ks="ec2",kt=kr,ku=d(["ec2",kr]),kv="amd64",kw="arm32",kx="arm64",ky="ia64",kz="ppc32",kA="ppc64",kB=kv,kC=kw,kD=kx,kE=ky,kF=kz,kG=kA,kH="x86",kI=d([kv,kw,kx,ky,kz,kA,"x86"]),kJ="windows",kK="linux",kL="darwin",kM="freebsd",kN="netbsd",kO="openbsd",kP="dragonflybsd",kQ="hpux",kR="solaris",kS="z_os",kT=kJ,kU=kK,kV=kL,kW=kM,kX=kN,kY=kO,kZ=kP,k$=kQ,k_="aix",k0=kR,k1=kS,k2=d([kJ,kK,kL,kM,kN,kO,kP,kQ,"aix",kR,kS]),k3="dotnet",k4="erlang",k5="java",k6="nodejs",k7="python",k8="ruby",k9="webjs",la="cpp",lb=k3,lc=k4,ld="go",le=k5,lf=k6,lg="php",lh=k7,li=k8,lj=k9,lk=d(["cpp",k3,k4,"go",k5,k6,"php",k7,k8,k9])},47443:(a,b,c)=>{"use strict";let d=c(24346);a.exports=(a,b,c)=>(a=new d(a,c),b=new d(b,c),a.intersects(b,c))},47539:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getRules=b.isJSONType=void 0;let c=new Set(["string","number","integer","boolean","null","object","array"]);b.isJSONType=function(a){return"string"==typeof a&&c.has(a)},b.getRules=function(){let a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}},47586:a=>{"use strict";let b=Object.freeze({loose:!0}),c=Object.freeze({});a.exports=a=>a?"object"!=typeof a?b:a:c},48089:(a,b,c)=>{"use strict";var d=c(76368),e=c(34709),f=c(68423),g=c(41604);function h(a,b){if(b)for(let c of b)switch(c.type){case"space":case"comment":a.push(c);break;case"newline":return a.push(c),!0}return!1}function i(a,b,c){switch(a.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":a.type=c,a.source=b;break;case"block-scalar":{let d=a.props.slice(1),e=b.length;for(let b of("block-scalar-header"===a.props[0].type&&(e-=a.props[0].source.length),d))b.offset+=e;delete a.props,Object.assign(a,{type:c,source:b,end:d});break}case"block-map":case"block-seq":{let d={type:"newline",offset:a.offset+b.length,indent:a.indent,source:"\n"};delete a.items,Object.assign(a,{type:c,source:b,end:[d]});break}default:{let d="indent"in a?a.indent:-1,e="end"in a&&Array.isArray(a.end)?a.end.filter(a=>"space"===a.type||"comment"===a.type||"newline"===a.type):[];for(let b of Object.keys(a))"type"!==b&&"offset"!==b&&delete a[b];Object.assign(a,{type:c,indent:d,source:b,end:e})}}}b.createScalarToken=function(a,b){let{implicitKey:c=!1,indent:d,inFlow:e=!1,offset:f=-1,type:i="PLAIN"}=b,j=g.stringifyString({type:i,value:a},{implicitKey:c,indent:d>0?" ".repeat(d):"",inFlow:e,options:{blockQuote:!0,lineWidth:-1}}),k=b.end??[{type:"newline",offset:-1,indent:d,source:"\n"}];switch(j[0]){case"|":case">":{let a=j.indexOf("\n"),b=j.substring(0,a),c=j.substring(a+1)+"\n",e=[{type:"block-scalar-header",offset:f,indent:d,source:b}];return h(e,k)||e.push({type:"newline",offset:-1,indent:d,source:"\n"}),{type:"block-scalar",offset:f,indent:d,props:e,source:c}}case'"':return{type:"double-quoted-scalar",offset:f,indent:d,source:j,end:k};case"'":return{type:"single-quoted-scalar",offset:f,indent:d,source:j,end:k};default:return{type:"scalar",offset:f,indent:d,source:j,end:k}}},b.resolveAsScalar=function(a,b=!0,c){if(a){let g=(a,b,d)=>{let e="number"==typeof a?a:Array.isArray(a)?a[0]:a.offset;if(c)c(e,b,d);else throw new f.YAMLParseError([e,e+1],b,d)};switch(a.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return e.resolveFlowScalar(a,b,g);case"block-scalar":return d.resolveBlockScalar({options:{strict:b}},a,g)}}return null},b.setScalarValue=function(a,b,c={}){let{afterKey:d=!1,implicitKey:e=!1,inFlow:f=!1,type:j}=c,k="indent"in a?a.indent:null;if(d&&"number"==typeof k&&(k+=2),!j)switch(a.type){case"single-quoted-scalar":j="QUOTE_SINGLE";break;case"double-quoted-scalar":j="QUOTE_DOUBLE";break;case"block-scalar":{let b=a.props[0];if("block-scalar-header"!==b.type)throw Error("Invalid block scalar header");j=">"===b.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:j="PLAIN"}let l=g.stringifyString({type:j,value:b},{implicitKey:e||null===k,indent:null!==k&&k>0?" ".repeat(k):"",inFlow:f,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":!function(a,b){let c=b.indexOf("\n"),d=b.substring(0,c),e=b.substring(c+1)+"\n";if("block-scalar"===a.type){let b=a.props[0];if("block-scalar-header"!==b.type)throw Error("Invalid block scalar header");b.source=d,a.source=e}else{let{offset:b}=a,c="indent"in a?a.indent:-1,f=[{type:"block-scalar-header",offset:b,indent:c,source:d}];for(let b of(h(f,"end"in a?a.end:void 0)||f.push({type:"newline",offset:-1,indent:c,source:"\n"}),Object.keys(a)))"type"!==b&&"offset"!==b&&delete a[b];Object.assign(a,{type:"block-scalar",indent:c,props:f,source:e})}}(a,l);break;case'"':i(a,l,"double-quoted-scalar");break;case"'":i(a,l,"single-quoted-scalar");break;default:i(a,l,"scalar")}}},48145:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{CandidateErrorSchema:()=>i.CandidateErrorSchema,CandidateSchema:()=>i.CandidateSchema,CustomPartSchema:()=>i.CustomPartSchema,DataPartSchema:()=>i.DataPartSchema,GenerateRequestSchema:()=>i.GenerateRequestSchema,GenerateResponseChunkSchema:()=>i.GenerateResponseChunkSchema,GenerateResponseSchema:()=>i.GenerateResponseSchema,GenerationCommonConfigDescriptions:()=>i.GenerationCommonConfigDescriptions,GenerationCommonConfigSchema:()=>i.GenerationCommonConfigSchema,GenerationUsageSchema:()=>i.GenerationUsageSchema,MediaPartSchema:()=>i.MediaPartSchema,MessageSchema:()=>i.MessageSchema,ModelInfoSchema:()=>i.ModelInfoSchema,ModelRequestSchema:()=>i.ModelRequestSchema,ModelResponseSchema:()=>i.ModelResponseSchema,PartSchema:()=>i.PartSchema,RoleSchema:()=>i.RoleSchema,TextPartSchema:()=>i.TextPartSchema,ToolDefinitionSchema:()=>i.ToolDefinitionSchema,ToolRequestPartSchema:()=>i.ToolRequestPartSchema,ToolResponsePartSchema:()=>i.ToolResponsePartSchema,getBasicUsageStats:()=>i.getBasicUsageStats,modelRef:()=>i.modelRef,simulateConstrainedGeneration:()=>i.simulateConstrainedGeneration}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(95403)},49127:(a,b,c)=>{"use strict";c.d(b,{s:()=>f,u:()=>e});var d=(0,c(89309).o)();function e(a){d=a}function f(a){try{d(a)}catch(a){}}},49176:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};function g(){return process.env.GENKIT_ENV||"prod"}function h(){return"dev"===g()}function i(a){return`feature:${a}`}((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{deleteUndefinedProps:()=>function a(b){for(let c in b)void 0===b[c]?delete b[c]:"object"==typeof b[c]&&a(b[c])},featureMetadataPrefix:()=>i,getCurrentEnv:()=>g,isDevEnv:()=>h,stripUndefinedProps:()=>function a(b){if(null==b||Array.isArray(b)||"object"!=typeof b)return b;let c={};for(let d in b)void 0!==b[d]&&(c[d]=a(b[d]));return c}}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f)},49528:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(k,{OperationSchema:()=>p,backgroundAction:()=>u,defineBackgroundAction:()=>s,isBackgroundAction:()=>v,lookupBackgroundAction:()=>q,registerBackgroundAction:()=>t}),a.exports=j(e({},"__esModule",{value:!0}),k);var l=((a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)))(c(62934)),m=c(24275),n=c(53369),o=c(76944);let p=l.object({action:l.string().optional(),id:l.string(),done:l.boolean().optional(),output:l.any().optional(),error:l.object({message:l.string()}).passthrough().optional(),metadata:l.record(l.string(),l.any()).optional()});async function q(a,b){let c=await a.lookupAction(b);if(!c)return;let d=b.substring(b.indexOf("/",1)+1);return new r(c,await a.lookupAction(`/check-operation/${d}/check`),await a.lookupAction(`/cancel-operation/${d}/cancel`))}class r{__action;startAction;checkAction;cancelAction;constructor(a,b,c){this.__action={name:a.__action.name,description:a.__action.description,inputSchema:a.__action.inputSchema,inputJsonSchema:a.__action.inputJsonSchema,metadata:a.__action.metadata,actionType:a.__action.actionType},this.startAction=a,this.checkAction=b,this.cancelAction=c}async start(a,b){return await this.startAction(a,b)}async check(a){return await this.checkAction(a)}get supportsCancel(){return!!this.cancelAction}async cancel(a){return this.cancelAction?await this.cancelAction(a):a}}function s(a,b){let c=u(b);return t(a,c),c}function t(a,b,c){a.registerAction(b.startAction.__action.actionType,b.startAction,c),a.registerAction(b.checkAction.__action.actionType,b.checkAction,c),b.cancelAction&&a.registerAction(b.cancelAction.__action.actionType,b.cancelAction,c)}function u(a){let b,c=(0,m.action)({actionType:a.actionType,name:a.name,description:a.description,inputSchema:a.inputSchema,inputJsonSchema:a.inputJsonSchema,outputSchema:p,metadata:{...a.metadata,outputSchema:(0,o.toJsonSchema)({schema:a.outputSchema,jsonSchema:a.outputJsonSchema})},use:a.use},async(b,c)=>{let d=await a.start(b,c);return d.action=`/${a.actionType}/${a.name}`,d}),d=(0,m.action)({actionType:"check-operation",name:`${a.name}/check`,description:a.description,inputSchema:p,inputJsonSchema:a.inputJsonSchema,outputSchema:p,metadata:{...a.metadata,outputSchema:(0,o.toJsonSchema)({schema:a.outputSchema,jsonSchema:a.outputJsonSchema})}},async b=>{let c=await a.check(b);return c.action=`/${a.actionType}/${a.name}`,c});return a.cancel&&(b=(0,m.action)({actionType:"cancel-operation",name:`${a.name}/cancel`,description:a.description,inputSchema:p,inputJsonSchema:a.inputJsonSchema,outputSchema:p,metadata:{...a.metadata,outputSchema:(0,o.toJsonSchema)({schema:a.outputSchema,jsonSchema:a.outputJsonSchema})}},async b=>{if(!a.cancel)throw new n.GenkitError({status:"UNAVAILABLE",message:`${a.name} does not support cancellation.`});let c=await a.cancel(b);return c.action=`/${a.actionType}/${a.name}`,c})),new r(c,d,b)}function v(a){return a instanceof r}},49682:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.registerChannelzSocket=b.registerChannelzServer=b.registerChannelzSubchannel=b.registerChannelzChannel=b.ChannelzCallTrackerStub=b.ChannelzCallTracker=b.ChannelzChildrenTrackerStub=b.ChannelzChildrenTracker=b.ChannelzTrace=b.ChannelzTraceStub=void 0,b.unregisterChannelzRef=function(a){t[a.kind].eraseElementByKey(a.id)},b.getChannelzHandlers=J,b.getChannelzServiceDefinition=L,b.setup=function(){(0,i.registerAdminService)(L,J)};let d=c(91645),e=c(87130),f=c(80158),g=c(56458),h=c(41835),i=c(10272),j=c(89439);function k(a){return{channel_id:a.id,name:a.name}}function l(a){return{subchannel_id:a.id,name:a.name}}function m(a){return{socket_id:a.id,name:a.name}}class n{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:y(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}}b.ChannelzTraceStub=n;class o{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(a,b,c){let d=new Date;this.events.push({description:b,severity:a,timestamp:d,childChannel:(null==c?void 0:c.kind)==="channel"?c:void 0,childSubchannel:(null==c?void 0:c.kind)==="subchannel"?c:void 0}),this.events.length>=64&&(this.events=this.events.slice(32)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:y(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(a=>({description:a.description,severity:a.severity,timestamp:y(a.timestamp),channel_ref:a.childChannel?k(a.childChannel):null,subchannel_ref:a.childSubchannel?l(a.childSubchannel):null}))}}}b.ChannelzTrace=o;class p{constructor(){this.channelChildren=new e.OrderedMap,this.subchannelChildren=new e.OrderedMap,this.socketChildren=new e.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(a){let b=this.trackerMap[a.kind],c=b.find(a.id);c.equals(b.end())?b.setElement(a.id,{ref:a,count:1},c):c.pointer[1].count+=1}unrefChild(a){let b=this.trackerMap[a.kind],c=b.getElementByKey(a.id);void 0!==c&&(c.count-=1,0===c.count&&b.eraseElementByKey(a.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}}b.ChannelzChildrenTracker=p;class q extends p{refChild(){}unrefChild(){}}b.ChannelzChildrenTrackerStub=q;class r{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}b.ChannelzCallTracker=r;class s extends r{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}}b.ChannelzCallTrackerStub=s;let t={channel:new e.OrderedMap,subchannel:new e.OrderedMap,server:new e.OrderedMap,socket:new e.OrderedMap},u=a=>{let b=1,c=t[a];return(d,e,f)=>{let g=b++,h={id:g,name:d,kind:a};return f&&c.setElement(g,{ref:h,getInfo:e}),h}};function v(a){return""===a?[]:[].concat(...a.split(":").map(a=>(function(a){let b=Number.parseInt(a,16);return[b/256|0,b%256]})(a)))}function w(a){return Buffer.from(Uint8Array.from(a.split(".").map(a=>Number.parseInt(a))))}function x(a){switch(a){case f.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case f.ConnectivityState.IDLE:return{state:"IDLE"};case f.ConnectivityState.READY:return{state:"READY"};case f.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case f.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function y(a){if(!a)return null;let b=a.getTime();return{seconds:b/1e3|0,nanos:b%1e3*1e6}}function z(a){let b=a.getInfo(),c=[],d=[];return b.children.channels.forEach(a=>{c.push(k(a[1].ref))}),b.children.subchannels.forEach(a=>{d.push(l(a[1].ref))}),{ref:k(a.ref),data:{target:b.target,state:x(b.state),calls_started:b.callTracker.callsStarted,calls_succeeded:b.callTracker.callsSucceeded,calls_failed:b.callTracker.callsFailed,last_call_started_timestamp:y(b.callTracker.lastCallStartedTimestamp),trace:b.trace.getTraceMessage()},channel_ref:c,subchannel_ref:d}}function A(a,b){let c=parseInt(a.request.channel_id,10),d=t.channel.getElementByKey(c);if(void 0===d)return void b({code:g.Status.NOT_FOUND,details:"No channel data found for id "+c});b(null,{channel:z(d)})}function B(a,b){let c,d=parseInt(a.request.max_results,10)||100,e=[],f=parseInt(a.request.start_channel_id,10),g=t.channel;for(c=g.lowerBound(f);!c.equals(g.end())&&e.length<d;c=c.next())e.push(z(c.pointer[1]));b(null,{channel:e,end:c.equals(g.end())})}function C(a){let b=a.getInfo(),c=[];return b.listenerChildren.sockets.forEach(a=>{c.push(m(a[1].ref))}),{ref:{server_id:a.ref.id},data:{calls_started:b.callTracker.callsStarted,calls_succeeded:b.callTracker.callsSucceeded,calls_failed:b.callTracker.callsFailed,last_call_started_timestamp:y(b.callTracker.lastCallStartedTimestamp),trace:b.trace.getTraceMessage()},listen_socket:c}}function D(a,b){let c=parseInt(a.request.server_id,10),d=t.server.getElementByKey(c);if(void 0===d)return void b({code:g.Status.NOT_FOUND,details:"No server data found for id "+c});b(null,{server:C(d)})}function E(a,b){let c,d=parseInt(a.request.max_results,10)||100,e=parseInt(a.request.start_server_id,10),f=t.server,g=[];for(c=f.lowerBound(e);!c.equals(f.end())&&g.length<d;c=c.next())g.push(C(c.pointer[1]));b(null,{server:g,end:c.equals(f.end())})}function F(a,b){let c=parseInt(a.request.subchannel_id,10),d=t.subchannel.getElementByKey(c);if(void 0===d)return void b({code:g.Status.NOT_FOUND,details:"No subchannel data found for id "+c});let e=d.getInfo(),f=[];e.children.sockets.forEach(a=>{f.push(m(a[1].ref))}),b(null,{subchannel:{ref:l(d.ref),data:{target:e.target,state:x(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:y(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},socket_ref:f}})}function G(a){var b;return(0,h.isTcpSubchannelAddress)(a)?{address:"tcpip_address",tcpip_address:{ip_address:null!=(b=function(a){if((0,d.isIPv4)(a))return w(a);if((0,d.isIPv6)(a)&&a.toLowerCase().startsWith("::ffff:")&&(0,d.isIPv4)(a.substring(7)))return w(a.substring(7));{let b,c;if(!(0,d.isIPv6)(a))return null;let e=a.indexOf("::");-1===e?(b=a,c=""):(b=a.substring(0,e),c=a.substring(e+2));let f=Buffer.from(v(b)),g=Buffer.from(v(c)),h=Buffer.alloc(16-f.length-g.length,0);return Buffer.concat([f,h,g])}}(a.host))?b:void 0,port:a.port}}:{address:"uds_address",uds_address:{filename:a.path}}}function H(a,b){var c,d,e,f,h;let i=parseInt(a.request.socket_id,10),j=t.socket.getElementByKey(i);if(void 0===j)return void b({code:g.Status.NOT_FOUND,details:"No socket data found for id "+i});let k=j.getInfo(),l=k.security?{model:"tls",tls:{cipher_suite:k.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!=(c=k.security.cipherSuiteStandardName)?c:void 0,other_name:null!=(d=k.security.cipherSuiteOtherName)?d:void 0,local_certificate:null!=(e=k.security.localCertificate)?e:void 0,remote_certificate:null!=(f=k.security.remoteCertificate)?f:void 0}}:null;b(null,{socket:{ref:m(j.ref),local:k.localAddress?G(k.localAddress):null,remote:k.remoteAddress?G(k.remoteAddress):null,remote_name:null!=(h=k.remoteName)?h:void 0,security:l,data:{keep_alives_sent:k.keepAlivesSent,streams_started:k.streamsStarted,streams_succeeded:k.streamsSucceeded,streams_failed:k.streamsFailed,last_local_stream_created_timestamp:y(k.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:y(k.lastRemoteStreamCreatedTimestamp),messages_received:k.messagesReceived,messages_sent:k.messagesSent,last_message_received_timestamp:y(k.lastMessageReceivedTimestamp),last_message_sent_timestamp:y(k.lastMessageSentTimestamp),local_flow_control_window:k.localFlowControlWindow?{value:k.localFlowControlWindow}:null,remote_flow_control_window:k.remoteFlowControlWindow?{value:k.remoteFlowControlWindow}:null}}})}function I(a,b){let c,d=parseInt(a.request.server_id,10),e=t.server.getElementByKey(d);if(void 0===e)return void b({code:g.Status.NOT_FOUND,details:"No server data found for id "+d});let f=parseInt(a.request.start_socket_id,10),h=parseInt(a.request.max_results,10)||100,i=e.getInfo().sessionChildren.sockets,j=[];for(c=i.lowerBound(f);!c.equals(i.end())&&j.length<h;c=c.next())j.push(m(c.pointer[1].ref));b(null,{socket_ref:j,end:c.equals(i.end())})}function J(){return{GetChannel:A,GetTopChannels:B,GetServer:D,GetServers:E,GetSubchannel:F,GetSocket:H,GetServerSockets:I}}b.registerChannelzChannel=u("channel"),b.registerChannelzSubchannel=u("subchannel"),b.registerChannelzServer=u("server"),b.registerChannelzSocket=u("socket");let K=null;function L(){if(K)return K;let a=(0,c(20672).Yi)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return K=(0,j.loadPackageDefinition)(a).grpc.channelz.v1.Channelz.service}},50130:(a,b)=>{"use strict";function c(a,b,c,d){d?.errorMessages&&c&&(a.errorMessage={...a.errorMessage,[b]:c})}Object.defineProperty(b,"__esModule",{value:!0}),b.setResponseValueAndErrors=b.addErrorMessage=void 0,b.addErrorMessage=c,b.setResponseValueAndErrors=function(a,b,d,e,f){a[b]=d,c(a,b,e,f)}},50212:(a,b)=>{"use strict";var c;b.SchemaType=void 0,function(a){a.STRING="string",a.NUMBER="number",a.INTEGER="integer",a.BOOLEAN="boolean",a.ARRAY="array",a.OBJECT="object"}(b.SchemaType||(b.SchemaType={})),b.ExecutableCodeLanguage=void 0,function(a){a.LANGUAGE_UNSPECIFIED="language_unspecified",a.PYTHON="python"}(b.ExecutableCodeLanguage||(b.ExecutableCodeLanguage={})),b.Outcome=void 0,function(a){a.OUTCOME_UNSPECIFIED="outcome_unspecified",a.OUTCOME_OK="outcome_ok",a.OUTCOME_FAILED="outcome_failed",a.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(b.Outcome||(b.Outcome={}));let d=["user","model","function","system"];b.HarmCategory=void 0,function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(b.HarmCategory||(b.HarmCategory={})),b.HarmBlockThreshold=void 0,function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"}(b.HarmBlockThreshold||(b.HarmBlockThreshold={})),b.HarmProbability=void 0,function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"}(b.HarmProbability||(b.HarmProbability={})),b.BlockReason=void 0,function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER"}(b.BlockReason||(b.BlockReason={})),b.FinishReason=void 0,function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.OTHER="OTHER"}(b.FinishReason||(b.FinishReason={})),b.TaskType=void 0,function(a){a.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",a.RETRIEVAL_QUERY="RETRIEVAL_QUERY",a.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",a.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",a.CLASSIFICATION="CLASSIFICATION",a.CLUSTERING="CLUSTERING"}(b.TaskType||(b.TaskType={})),b.FunctionCallingMode=void 0,function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"}(b.FunctionCallingMode||(b.FunctionCallingMode={})),b.DynamicRetrievalMode=void 0,function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"}(b.DynamicRetrievalMode||(b.DynamicRetrievalMode={}));class e extends Error{constructor(a){super(`[GoogleGenerativeAI Error]: ${a}`)}}class f extends e{constructor(a,b){super(a),this.response=b}}class g extends e{constructor(a,b,c,d){super(a),this.status=b,this.statusText=c,this.errorDetails=d}}class h extends e{}class i extends e{}!function(a){a.GENERATE_CONTENT="generateContent",a.STREAM_GENERATE_CONTENT="streamGenerateContent",a.COUNT_TOKENS="countTokens",a.EMBED_CONTENT="embedContent",a.BATCH_EMBED_CONTENTS="batchEmbedContents"}(c||(c={}));class j{constructor(a,b,c,d,e){this.model=a,this.task=b,this.apiKey=c,this.stream=d,this.requestOptions=e}toString(){var a,b;let c=(null==(a=this.requestOptions)?void 0:a.apiVersion)||"v1beta",d=(null==(b=this.requestOptions)?void 0:b.baseUrl)||"https://generativelanguage.googleapis.com",e=`${d}/${c}/${this.model}:${this.task}`;return this.stream&&(e+="?alt=sse"),e}}async function k(a){var b;let c=new Headers;c.append("Content-Type","application/json"),c.append("x-goog-api-client",function(a){let b=[];return(null==a?void 0:a.apiClient)&&b.push(a.apiClient),b.push("genai-js/0.24.1"),b.join(" ")}(a.requestOptions)),c.append("x-goog-api-key",a.apiKey);let d=null==(b=a.requestOptions)?void 0:b.customHeaders;if(d){if(!(d instanceof Headers))try{d=new Headers(d)}catch(a){throw new h(`unable to convert customHeaders value ${JSON.stringify(d)} to Headers: ${a.message}`)}for(let[a,b]of d.entries()){if("x-goog-api-key"===a)throw new h(`Cannot set reserved header name ${a}`);if("x-goog-api-client"===a)throw new h(`Header name ${a} can only be set using the apiClient field`);c.append(a,b)}}return c}async function l(a,b,c,d,e,f){let g=new j(a,b,c,d,f);return{url:g.toString(),fetchOptions:Object.assign(Object.assign({},function(a){let b={};if((null==a?void 0:a.signal)!==void 0||(null==a?void 0:a.timeout)>=0){let c=new AbortController;(null==a?void 0:a.timeout)>=0&&setTimeout(()=>c.abort(),a.timeout),(null==a?void 0:a.signal)&&a.signal.addEventListener("abort",()=>{c.abort()}),b.signal=c.signal}return b}(f)),{method:"POST",headers:await k(g),body:e})}}async function m(a,b,c,d,e,f={},g=fetch){let{url:h,fetchOptions:i}=await l(a,b,c,d,e,f);return n(h,i,g)}async function n(a,b,c=fetch){let d;try{d=await c(a,b)}catch(c){var f=c,j=a;let b=f;throw"AbortError"===b.name?(b=new i(`Request aborted when fetching ${j.toString()}: ${f.message}`)).stack=f.stack:f instanceof g||f instanceof h||((b=new e(`Error fetching from ${j.toString()}: ${f.message}`)).stack=f.stack),b}return d.ok||await o(d,a),d}async function o(a,b){let c,d="";try{let b=await a.json();d=b.error.message,b.error.details&&(d+=` ${JSON.stringify(b.error.details)}`,c=b.error.details)}catch(a){}throw new g(`Error fetching from ${b.toString()}: [${a.status} ${a.statusText}] ${d}`,a.status,a.statusText,c)}function p(a){return a.text=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),s(a.candidates[0]))throw new f(`${t(a)}`,a);return function(a){var b,c,d,e;let f=[];if(null==(c=null==(b=a.candidates)?void 0:b[0].content)?void 0:c.parts)for(let b of null==(e=null==(d=a.candidates)?void 0:d[0].content)?void 0:e.parts)b.text&&f.push(b.text),b.executableCode&&f.push("\n```"+b.executableCode.language+"\n"+b.executableCode.code+"\n```\n"),b.codeExecutionResult&&f.push("\n```\n"+b.codeExecutionResult.output+"\n```\n");return f.length>0?f.join(""):""}(a)}if(a.promptFeedback)throw new f(`Text not available. ${t(a)}`,a);return""},a.functionCall=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),s(a.candidates[0]))throw new f(`${t(a)}`,a);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),q(a)[0]}if(a.promptFeedback)throw new f(`Function call not available. ${t(a)}`,a)},a.functionCalls=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),s(a.candidates[0]))throw new f(`${t(a)}`,a);return q(a)}if(a.promptFeedback)throw new f(`Function call not available. ${t(a)}`,a)},a}function q(a){var b,c,d,e;let f=[];if(null==(c=null==(b=a.candidates)?void 0:b[0].content)?void 0:c.parts)for(let b of null==(e=null==(d=a.candidates)?void 0:d[0].content)?void 0:e.parts)b.functionCall&&f.push(b.functionCall);return f.length>0?f:void 0}let r=[b.FinishReason.RECITATION,b.FinishReason.SAFETY,b.FinishReason.LANGUAGE];function s(a){return!!a.finishReason&&r.includes(a.finishReason)}function t(a){var b,c,d;let e="";if((!a.candidates||0===a.candidates.length)&&a.promptFeedback)e+="Response was blocked",(null==(b=a.promptFeedback)?void 0:b.blockReason)&&(e+=` due to ${a.promptFeedback.blockReason}`),(null==(c=a.promptFeedback)?void 0:c.blockReasonMessage)&&(e+=`: ${a.promptFeedback.blockReasonMessage}`);else if(null==(d=a.candidates)?void 0:d[0]){let b=a.candidates[0];s(b)&&(e+=`Candidate was blocked due to ${b.finishReason}`,b.finishMessage&&(e+=`: ${b.finishMessage}`))}return e}function u(a){return this instanceof u?(this.v=a,this):new u(a)}"function"==typeof SuppressedError&&SuppressedError;let v=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;async function w(a){let b=[],c=a.getReader();for(;;){let{done:a,value:d}=await c.read();if(a)return p(function(a){let b=a[a.length-1],c={promptFeedback:null==b?void 0:b.promptFeedback};for(let b of a){if(b.candidates){let a=0;for(let d of b.candidates)if(c.candidates||(c.candidates=[]),c.candidates[a]||(c.candidates[a]={index:a}),c.candidates[a].citationMetadata=d.citationMetadata,c.candidates[a].groundingMetadata=d.groundingMetadata,c.candidates[a].finishReason=d.finishReason,c.candidates[a].finishMessage=d.finishMessage,c.candidates[a].safetyRatings=d.safetyRatings,d.content&&d.content.parts){c.candidates[a].content||(c.candidates[a].content={role:d.content.role||"user",parts:[]});let b={};for(let e of d.content.parts)e.text&&(b.text=e.text),e.functionCall&&(b.functionCall=e.functionCall),e.executableCode&&(b.executableCode=e.executableCode),e.codeExecutionResult&&(b.codeExecutionResult=e.codeExecutionResult),0===Object.keys(b).length&&(b.text=""),c.candidates[a].content.parts.push(b)}a++}b.usageMetadata&&(c.usageMetadata=b.usageMetadata)}return c}(b));b.push(d)}}async function x(a,b,d,f){let[g,h]=(function(a){let b=a.getReader();return new ReadableStream({start(a){let c="";return function d(){return b.read().then(({value:b,done:f})=>{let g;if(f)return c.trim()?void a.error(new e("Failed to parse stream")):void a.close();let h=(c+=b).match(v);for(;h;){try{g=JSON.parse(h[1])}catch(b){a.error(new e(`Error parsing JSON response: "${h[1]}"`));return}a.enqueue(g),h=(c=c.substring(h[0].length)).match(v)}return d()}).catch(a=>{let b=a;throw b.stack=a.stack,b="AbortError"===b.name?new i("Request aborted when reading from the stream"):new e("Error reading from the stream")})}()}})})((await m(b,c.STREAM_GENERATE_CONTENT,a,!0,JSON.stringify(d),f)).body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))).tee();return{stream:function(a){return function(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{var c;(c=e[a](b)).value instanceof u?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}(this,arguments,function*(){let b=a.getReader();for(;;){let{value:a,done:c}=yield u(b.read());if(c)break;yield yield u(p(a))}})}(g),response:w(h)}}async function y(a,b,d,e){let f=await m(b,c.GENERATE_CONTENT,a,!1,JSON.stringify(d),e);return{response:p(await f.json())}}function z(a){if(null!=a){if("string"==typeof a)return{role:"system",parts:[{text:a}]};if(a.text)return{role:"system",parts:[a]};if(a.parts)if(!a.role)return{role:"system",parts:a.parts};else return a}}function A(a){let b=[];if("string"==typeof a)b=[{text:a}];else for(let c of a)"string"==typeof c?b.push({text:c}):b.push(c);var c=b;let d={role:"user",parts:[]},f={role:"function",parts:[]},g=!1,h=!1;for(let a of c)"functionResponse"in a?(f.parts.push(a),h=!0):(d.parts.push(a),g=!0);if(g&&h)throw new e("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!g&&!h)throw new e("No content is provided for sending chat message.");return g?d:f}function B(a){let b;return b=a.contents?a:{contents:[A(a)]},a.systemInstruction&&(b.systemInstruction=z(a.systemInstruction)),b}let C=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],D={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function E(a){var b;if(void 0===a.candidates||0===a.candidates.length)return!1;let c=null==(b=a.candidates[0])?void 0:b.content;if(void 0===c||void 0===c.parts||0===c.parts.length)return!1;for(let a of c.parts)if(void 0===a||0===Object.keys(a).length||void 0!==a.text&&""===a.text)return!1;return!0}let F="SILENT_ERROR";class G{constructor(a,b,c,f={}){this.model=b,this.params=c,this._requestOptions=f,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=a,(null==c?void 0:c.history)&&(!function(a){let b=!1;for(let c of a){let{role:a,parts:f}=c;if(!b&&"user"!==a)throw new e(`First content should be with role 'user', got ${a}`);if(!d.includes(a))throw new e(`Each item should include role field. Got ${a} but valid roles are: ${JSON.stringify(d)}`);if(!Array.isArray(f))throw new e("Content should have 'parts' property with an array of Parts");if(0===f.length)throw new e("Each Content should have at least one part");let g={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let a of f)for(let b of C)b in a&&(g[b]+=1);let h=D[a];for(let b of C)if(!h.includes(b)&&g[b]>0)throw new e(`Content with role '${a}' can't contain '${b}' part`);b=!0}}(c.history),this._history=c.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(a,b={}){var c,d,e,f,g,h;let i;await this._sendPromise;let j=A(a),k={safetySettings:null==(c=this.params)?void 0:c.safetySettings,generationConfig:null==(d=this.params)?void 0:d.generationConfig,tools:null==(e=this.params)?void 0:e.tools,toolConfig:null==(f=this.params)?void 0:f.toolConfig,systemInstruction:null==(g=this.params)?void 0:g.systemInstruction,cachedContent:null==(h=this.params)?void 0:h.cachedContent,contents:[...this._history,j]},l=Object.assign(Object.assign({},this._requestOptions),b);return this._sendPromise=this._sendPromise.then(()=>y(this._apiKey,this.model,k,l)).then(a=>{var b;if(E(a.response)){this._history.push(j);let c=Object.assign({parts:[],role:"model"},null==(b=a.response.candidates)?void 0:b[0].content);this._history.push(c)}else{let b=t(a.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}i=a}).catch(a=>{throw this._sendPromise=Promise.resolve(),a}),await this._sendPromise,i}async sendMessageStream(a,b={}){var c,d,e,f,g,h;await this._sendPromise;let i=A(a),j={safetySettings:null==(c=this.params)?void 0:c.safetySettings,generationConfig:null==(d=this.params)?void 0:d.generationConfig,tools:null==(e=this.params)?void 0:e.tools,toolConfig:null==(f=this.params)?void 0:f.toolConfig,systemInstruction:null==(g=this.params)?void 0:g.systemInstruction,cachedContent:null==(h=this.params)?void 0:h.cachedContent,contents:[...this._history,i]},k=Object.assign(Object.assign({},this._requestOptions),b),l=x(this._apiKey,this.model,j,k);return this._sendPromise=this._sendPromise.then(()=>l).catch(a=>{throw Error(F)}).then(a=>a.response).then(a=>{if(E(a)){this._history.push(i);let b=Object.assign({},a.candidates[0].content);b.role||(b.role="model"),this._history.push(b)}else{let b=t(a);b&&console.warn(`sendMessageStream() was unsuccessful. ${b}. Inspect response object for details.`)}}).catch(a=>{a.message!==F&&console.error(a)}),l}}async function H(a,b,d,e){return(await m(b,c.COUNT_TOKENS,a,!1,JSON.stringify(d),e)).json()}async function I(a,b,d,e){return(await m(b,c.EMBED_CONTENT,a,!1,JSON.stringify(d),e)).json()}async function J(a,b,d,e){let f=d.requests.map(a=>Object.assign(Object.assign({},a),{model:b}));return(await m(b,c.BATCH_EMBED_CONTENTS,a,!1,JSON.stringify({requests:f}),e)).json()}class K{constructor(a,b,c={}){this.apiKey=a,this._requestOptions=c,b.model.includes("/")?this.model=b.model:this.model=`models/${b.model}`,this.generationConfig=b.generationConfig||{},this.safetySettings=b.safetySettings||[],this.tools=b.tools,this.toolConfig=b.toolConfig,this.systemInstruction=z(b.systemInstruction),this.cachedContent=b.cachedContent}async generateContent(a,b={}){var c;let d=B(a),e=Object.assign(Object.assign({},this._requestOptions),b);return y(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(c=this.cachedContent)?void 0:c.name},d),e)}async generateContentStream(a,b={}){var c;let d=B(a),e=Object.assign(Object.assign({},this._requestOptions),b);return x(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(c=this.cachedContent)?void 0:c.name},d),e)}startChat(a){var b;return new G(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(b=this.cachedContent)?void 0:b.name},a),this._requestOptions)}async countTokens(a,b={}){let c=function(a,b){var c;let d={model:null==b?void 0:b.model,generationConfig:null==b?void 0:b.generationConfig,safetySettings:null==b?void 0:b.safetySettings,tools:null==b?void 0:b.tools,toolConfig:null==b?void 0:b.toolConfig,systemInstruction:null==b?void 0:b.systemInstruction,cachedContent:null==(c=null==b?void 0:b.cachedContent)?void 0:c.name,contents:[]},e=null!=a.generateContentRequest;if(a.contents){if(e)throw new h("CountTokensRequest must have one of contents or generateContentRequest, not both.");d.contents=a.contents}else if(e)d=Object.assign(Object.assign({},d),a.generateContentRequest);else{let b=A(a);d.contents=[b]}return{generateContentRequest:d}}(a,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),d=Object.assign(Object.assign({},this._requestOptions),b);return H(this.apiKey,this.model,c,d)}async embedContent(a,b={}){let c="string"==typeof a||Array.isArray(a)?{content:A(a)}:a,d=Object.assign(Object.assign({},this._requestOptions),b);return I(this.apiKey,this.model,c,d)}async batchEmbedContents(a,b={}){let c=Object.assign(Object.assign({},this._requestOptions),b);return J(this.apiKey,this.model,a,c)}}class L{constructor(a){this.apiKey=a}getGenerativeModel(a,b){if(!a.model)throw new e("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new K(this.apiKey,a,b)}getGenerativeModelFromCachedContent(a,b,c){if(!a.name)throw new h("Cached content must contain a `name` field.");if(!a.model)throw new h("Cached content must contain a `model` field.");for(let c of["model","systemInstruction"])if((null==b?void 0:b[c])&&a[c]&&(null==b?void 0:b[c])!==a[c]){if("model"===c&&(b.model.startsWith("models/")?b.model.replace("models/",""):b.model)===(a.model.startsWith("models/")?a.model.replace("models/",""):a.model))continue;throw new h(`Different value for "${c}" specified in modelParams (${b[c]}) and cachedContent (${a[c]})`)}let d=Object.assign(Object.assign({},b),{model:a.model,tools:a.tools,toolConfig:a.toolConfig,systemInstruction:a.systemInstruction,cachedContent:a});return new K(this.apiKey,d,c)}}b.ChatSession=G,b.GenerativeModel=K,b.GoogleGenerativeAI=L,b.GoogleGenerativeAIAbortError=i,b.GoogleGenerativeAIError=e,b.GoogleGenerativeAIFetchError=g,b.GoogleGenerativeAIRequestInputError=h,b.GoogleGenerativeAIResponseError=f,b.POSSIBLE_ROLES=d},50227:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeTracerProvider=void 0;let d=c(18831),e=c(22351),f=c(51859),g=c(16260),h=c(84191);class i extends f.BasicTracerProvider{constructor(a={}){super(a)}register(a={}){void 0===a.contextManager&&(a.contextManager=new(g.gte(process.version,"14.8.0")?d.AsyncLocalStorageContextManager:d.AsyncHooksContextManager),a.contextManager.enable()),super.register(a)}}b.NodeTracerProvider=i,i._registeredPropagators=new Map([...f.BasicTracerProvider._registeredPropagators,["b3",()=>new e.B3Propagator({injectEncoding:e.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new e.B3Propagator({injectEncoding:e.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new h.JaegerPropagator]])},50300:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{Session:()=>m,SessionError:()=>q,getCurrentSession:()=>p,inMemorySessionStore:()=>r,runWithSession:()=>o}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(18395),k=c(44066),l=c(72300);class m{constructor(a,b){this.registry=a,this.id=b?.id??(0,j.v4)(),this.sessionData=b?.sessionData??{id:this.id},this.sessionData||(this.sessionData={id:this.id}),this.sessionData.threads||(this.sessionData.threads={}),this.store=b?.store??new s}id;sessionData;store;get state(){return this.sessionData.state}async updateState(a){let b=this.sessionData;b||(b={}),b.state=a,this.sessionData=b,await this.store.save(this.id,b)}async updateMessages(a,b){let c=this.sessionData;c||(c={}),c.threads||(c.threads={}),c.threads[a]=b.map(a=>a.toJSON?a.toJSON():a),this.sessionData=c,await this.store.save(this.id,c)}chat(a,b,c){return o(this.registry,this,()=>{let d,e,f,g=k.MAIN_THREAD;if(a&&("string"==typeof a?g=a:(0,l.isExecutablePrompt)(a)?e=a:d=a),b&&((0,l.isExecutablePrompt)(b)?e=b:d=b),c&&(d=c),e){let a=d;f=e.render(a?.input,a).then(a=>({...a,messages:(0,l.tagAsPreamble)(a?.messages)}))}else{let a={...d},b=[];a.system&&b.push({role:"system",content:l.Message.parseContent(a.system)}),delete a.system,a.messages&&b.push(...a.messages),a.messages=(0,l.tagAsPreamble)(b),f=Promise.resolve(a)}return new k.Chat(this,f,{thread:g,id:this.id,messages:(this.sessionData?.threads&&this.sessionData?.threads[g])??[]})})}run(a){return o(this.registry,this,a)}toJSON(){return this.sessionData}}let n="ai.session";function o(a,b,c){return(0,i.getAsyncContext)().run(n,b,c)}function p(a){return(0,i.getAsyncContext)().getStore(n)}class q extends Error{constructor(a){super(a)}}function r(){return new s}class s{data={};async get(a){return this.data[a]}async save(a,b){this.data[a]=b}}},50344:(a,b,c)=>{"use strict";c.d(b,{D:()=>g});var d=c(13590),e=c(79361),f=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}};function g(){var a,b,c,g;return a=this,b=void 0,c=void 0,g=function(){var a,b,c;return f(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,(0,d.q)('ioreg -rd1 -c "IOPlatformExpertDevice"')];case 1:if(!(a=f.sent().stdout.split("\n").find(function(a){return a.includes("IOPlatformUUID")})))return[2,""];if(2===(b=a.split('" = "')).length)return[2,b[1].slice(0,-1)];return[3,3];case 2:return c=f.sent(),e.s.debug("error reading machine id: "+c),[3,3];case 3:return[2,""]}})},new(c||(c=Promise))(function(d,e){function f(a){try{i(g.next(a))}catch(a){e(a)}}function h(a){try{i(g.throw(a))}catch(a){e(a)}}function i(a){var b;a.done?d(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(f,h)}i((g=g.apply(a,b||[])).next())})}},50403:(a,b,c)=>{"use strict";let d=Symbol("SemVer ANY");class e{static get ANY(){return d}constructor(a,b){if(b=f(b),a instanceof e)if(!!b.loose===a.loose)return a;else a=a.value;j("comparator",a=a.trim().split(/\s+/).join(" "),b),this.options=b,this.loose=!!b.loose,this.parse(a),this.semver===d?this.value="":this.value=this.operator+this.semver.version,j("comp",this)}parse(a){let b=this.options.loose?g[h.COMPARATORLOOSE]:g[h.COMPARATOR],c=a.match(b);if(!c)throw TypeError(`Invalid comparator: ${a}`);this.operator=void 0!==c[1]?c[1]:"","="===this.operator&&(this.operator=""),c[2]?this.semver=new k(c[2],this.options.loose):this.semver=d}toString(){return this.value}test(a){if(j("Comparator.test",a,this.options.loose),this.semver===d||a===d)return!0;if("string"==typeof a)try{a=new k(a,this.options)}catch(a){return!1}return i(a,this.operator,this.semver,this.options)}intersects(a,b){if(!(a instanceof e))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new l(a.value,b).test(this.value):""===a.operator?""===a.value||new l(this.value,b).test(a.semver):!((b=f(b)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===a.value)||!b.includePrerelease&&(this.value.startsWith("<0.0.0")||a.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&a.operator.startsWith(">")||this.operator.startsWith("<")&&a.operator.startsWith("<")||this.semver.version===a.semver.version&&this.operator.includes("=")&&a.operator.includes("=")||i(this.semver,"<",a.semver,b)&&this.operator.startsWith(">")&&a.operator.startsWith("<")||i(this.semver,">",a.semver,b)&&this.operator.startsWith("<")&&a.operator.startsWith(">"))}}a.exports=e;let f=c(47586),{safeRe:g,t:h}=c(62710),i=c(67418),j=c(50627),k=c(78871),l=c(24346)},50438:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{ToolInterruptError:()=>x,asTool:()=>m,defineInterrupt:()=>w,defineTool:()=>q,dynamicTool:()=>A,interrupt:()=>v,isDynamicTool:()=>u,isToolRequest:()=>s,isToolResponse:()=>t,lookupToolByName:()=>o,resolveTools:()=>n,toToolDefinition:()=>p,tool:()=>z}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(76944),k=c(64089),l=c(67842);function m(a,b){if(b.__action?.metadata?.type==="tool")return b;let c=a=>((0,k.setCustomMetadataAttributes)({subtype:"tool"}),b(a));return c.__action={...b.__action,metadata:{...b.__action.metadata,type:"tool"}},c}async function n(a,b){return b&&0!==b.length?await Promise.all(b.map(async b=>{if("string"==typeof b)return await o(a,b);if((0,i.isAction)(b))return m(a,b);if((0,l.isExecutablePrompt)(b))return await b.asTool();if(b.name)return await o(a,b.metadata?.originalName||b.name);throw Error("Tools must be strings, tool definitions, or actions.")})):[]}async function o(a,b){let c=await a.lookupAction(b)||await a.lookupAction(`/tool/${b}`)||await a.lookupAction(`/prompt/${b}`)||await a.lookupAction(`/dynamic-action-provider/${b}`);if(!c)throw Error(`Tool ${b} not found`);return c}function p(a){let b=a.__action.name,c=b;b.includes("/")&&(c=b.substring(b.lastIndexOf("/")+1));let d={name:c,description:a.__action.description||"",outputSchema:(0,j.toJsonSchema)({schema:a.__action.outputSchema??i.z.void(),jsonSchema:a.__action.outputJsonSchema}),inputSchema:(0,j.toJsonSchema)({schema:a.__action.inputSchema??i.z.void(),jsonSchema:a.__action.inputJsonSchema})};return b!==c&&(d.metadata={originalName:b}),d}function q(a,b,c){let d=(0,i.defineAction)(a,{...b,actionType:"tool",metadata:{...b.metadata||{},type:"tool"}},(b,d)=>c(b,{...d,context:{...d.context},interrupt:y(a)}));return r(d,b,a),d}function r(a,b,c){a.respond=(a,d,e)=>(c&&(0,i.assertUnstable)(c,"beta","The 'tool.reply' method is part of the 'interrupts' beta feature."),(0,j.parseSchema)(d,{jsonSchema:b.outputJsonSchema,schema:b.outputSchema}),{toolResponse:(0,i.stripUndefinedProps)({name:a.toolRequest.name,ref:a.toolRequest.ref,output:d}),metadata:{interruptResponse:e?.metadata||!0}}),a.restart=(a,d,e)=>{c&&(0,i.assertUnstable)(c,"beta","The 'tool.restart' method is part of the 'interrupts' beta feature.");let f=e?.replaceInput;return f&&(f=(0,j.parseSchema)(f,{schema:b.inputSchema,jsonSchema:b.inputJsonSchema})),{toolRequest:(0,i.stripUndefinedProps)({name:a.toolRequest.name,ref:a.toolRequest.ref,input:f||a.toolRequest.input}),metadata:(0,i.stripUndefinedProps)({...a.metadata,resumed:d||!0,replacedInput:f?a.toolRequest.input:void 0})}}}function s(a){return!!a.toolRequest}function t(a){return!!a.toolResponse}function u(a){return(0,i.isAction)(a)&&!a.__registry}function v(a){let{requestMetadata:b,...c}=a;return A(c,async(b,{interrupt:c})=>{a.requestMetadata?c("object"==typeof a.requestMetadata?a.requestMetadata:await Promise.resolve(a.requestMetadata(b))):c()})}function w(a,b){let c=v(b);return a.registerAction("tool",c),c}class x extends Error{constructor(a){super(),this.metadata=a,this.name="ToolInterruptError"}}function y(a){return b=>{throw a&&(0,i.assertUnstable)(a,"beta","Tool interrupts are a beta feature."),new x(b)}}function z(a,b){return A(a,b)}function A(a,b){let c=(0,i.action)({...a,actionType:"tool",metadata:{...a.metadata||{},type:"tool",dynamic:!0}},(a,c)=>{let d=y(c.registry);return b?b(a,{...c,context:{...c.context},interrupt:d}):d()});return r(c,a),c.attach=a=>c,c}},50496:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JaegerExporter=void 0;var d=c(63062);Object.defineProperty(b,"JaegerExporter",{enumerable:!0,get:function(){return d.JaegerExporter}})},50576:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904),e=c(46178);b.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,d._)`{propertyName: ${a.propertyName}}`},code(a){let{gen:b,schema:c,data:f,it:g}=a;if((0,e.alwaysValidSchema)(g,c))return;let h=b.name("valid");b.forIn("key",f,c=>{a.setParams({propertyName:c}),a.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},h),b.if((0,d.not)(h),()=>{a.error(!0),g.allErrors||b.break()})}),a.ok(h)}}},50613:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.tracing=b.resources=b.node=b.metrics=b.logs=b.core=b.contextBase=b.api=void 0,b.api=c(68948),b.contextBase=c(68948),b.core=c(41625),b.logs=c(62626),b.metrics=c(68345),b.node=c(19889),b.resources=c(80277),b.tracing=c(51859),e(c(53733),b),e(c(73174),b)},50627:a=>{"use strict";a.exports="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{}},50673:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{getAsyncContext:()=>k,setAsyncContext:()=>l}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(53369);let j="__genkit_AsyncContext";function k(){if(!global[j])throw new i.GenkitError({status:"FAILED_PRECONDITION",message:"Async context is not initialized."});return global[j]}function l(a){global[j]||(global[j]=a)}},51064:(a,b,c)=>{"use strict";c.d(b,{I:()=>g});var d=function(){function a(){var a=this;this._promise=new Promise(function(b,c){a._resolve=b,a._reject=c})}return Object.defineProperty(a.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),a.prototype.resolve=function(a){this._resolve(a)},a.prototype.reject=function(a){this._reject(a)},a}(),e=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},f=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},g=function(){function a(a,b){this._callback=a,this._that=b,this._isCalled=!1,this._deferred=new d}return Object.defineProperty(a.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),a.prototype.call=function(){for(var a,b=this,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((a=this._callback).call.apply(a,f([this._that],e(c),!1))).then(function(a){return b._deferred.resolve(a)},function(a){return b._deferred.reject(a)})}catch(a){this._deferred.reject(a)}}return this._deferred.promise},a}()},51139:(a,b,c)=>{"use strict";var d=c(41604);b.string={identify:a=>"string"==typeof a,default:!0,tag:"tag:yaml.org,2002:str",resolve:a=>a,stringify:(a,b,c,e)=>(b=Object.assign({actualString:!0},b),d.stringifyString(a,b,c,e))}},51227:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThriftReferenceType=b.HTTPSender=b.ThriftUtils=b.Utils=b.UDPSender=void 0,b.UDPSender=c(12788).default,b.Utils=c(24818).default,b.ThriftUtils=c(80579).default,b.HTTPSender=c(65353).default,function(a){a.CHILD_OF="CHILD_OF",a.FOLLOWS_FROM="FOLLOWS_FROM"}(b.ThriftReferenceType||(b.ThriftReferenceType={}))},51354:(a,b,c)=>{"use strict";c.d(b,{UD:()=>j,ZI:()=>l,ZS:()=>i,lm:()=>m});var d=c(88018),e=c(58746),f=c(54616),g=c(81588),h=c(23733),i="traceparent",j="tracestate",k=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function l(a){var b=k.exec(a);return!b||"00"===b[1]&&b[5]?null:{traceId:b[2],spanId:b[3],traceFlags:parseInt(b[4],16)}}var m=function(){function a(){}return a.prototype.inject=function(a,b,c){var h=d.u.getSpanContext(a);if(!(!h||(0,g.Zf)(a))&&(0,e.YA)(h)){var k="00-"+h.traceId+"-"+h.spanId+"-0"+Number(h.traceFlags||f.X.NONE).toString(16);c.set(b,i,k),h.traceState&&c.set(b,j,h.traceState.serialize())}},a.prototype.extract=function(a,b,c){var e=c.get(b,i);if(!e)return a;var f=Array.isArray(e)?e[0]:e;if("string"!=typeof f)return a;var g=l(f);if(!g)return a;g.isRemote=!0;var k=c.get(b,j);if(k){var m=Array.isArray(k)?k.join(","):k;g.traceState=new h.n("string"==typeof m?m:void 0)}return d.u.setSpanContext(a,g)},a.prototype.fields=function(){return[i,j]},a}()},51694:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FileWatcherCertificateProvider=void 0;let d=c(29021),e=c(38702),f=c(56458);function g(a){e.trace(f.LogVerbosity.DEBUG,"certificate_provider",a)}let h=(0,c(28354).promisify)(d.readFile);class i{constructor(a){if(this.config=a,this.refreshTimer=null,this.fileResultPromise=null,this.latestCaUpdate=void 0,this.caListeners=new Set,this.latestIdentityUpdate=void 0,this.identityListeners=new Set,this.lastUpdateTime=null,void 0===a.certificateFile!=(void 0===a.privateKeyFile))throw Error("certificateFile and privateKeyFile must be set or unset together");if(void 0===a.certificateFile&&void 0===a.caCertificateFile)throw Error("At least one of certificateFile and caCertificateFile must be set");g("File watcher constructed with config "+JSON.stringify(a))}updateCertificates(){this.fileResultPromise||(this.fileResultPromise=Promise.allSettled([this.config.certificateFile?h(this.config.certificateFile):Promise.reject(),this.config.privateKeyFile?h(this.config.privateKeyFile):Promise.reject(),this.config.caCertificateFile?h(this.config.caCertificateFile):Promise.reject()]),this.fileResultPromise.then(([a,b,c])=>{if(this.refreshTimer){for(let d of(g("File watcher read certificates certificate "+a.status+", privateKey "+b.status+", CA certificate "+c.status),this.lastUpdateTime=new Date,this.fileResultPromise=null,"fulfilled"===a.status&&"fulfilled"===b.status?this.latestIdentityUpdate={certificate:a.value,privateKey:b.value}:this.latestIdentityUpdate=null,"fulfilled"===c.status?this.latestCaUpdate={caCertificate:c.value}:this.latestCaUpdate=null,this.identityListeners))d(this.latestIdentityUpdate);for(let a of this.caListeners)a(this.latestCaUpdate)}}),g("File watcher initiated certificate update"))}maybeStartWatchingFiles(){if(!this.refreshTimer){let a=this.lastUpdateTime?new Date().getTime()-this.lastUpdateTime.getTime():1/0;a>this.config.refreshIntervalMs&&this.updateCertificates(),a>2*this.config.refreshIntervalMs&&(this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0),this.refreshTimer=setInterval(()=>this.updateCertificates(),this.config.refreshIntervalMs),g("File watcher started watching")}}maybeStopWatchingFiles(){0===this.caListeners.size&&0===this.identityListeners.size&&(this.fileResultPromise=null,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null))}addCaCertificateListener(a){this.caListeners.add(a),this.maybeStartWatchingFiles(),void 0!==this.latestCaUpdate&&process.nextTick(a,this.latestCaUpdate)}removeCaCertificateListener(a){this.caListeners.delete(a),this.maybeStopWatchingFiles()}addIdentityCertificateListener(a){this.identityListeners.add(a),this.maybeStartWatchingFiles(),void 0!==this.latestIdentityUpdate&&process.nextTick(a,this.latestIdentityUpdate)}removeIdentityCertificateListener(a){this.identityListeners.delete(a),this.maybeStopWatchingFiles()}}b.FileWatcherCertificateProvider=i},51809:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(3667),e=c(78404);b.default=(a,b)=>{let c;switch(a.code){case d.ZodIssueCode.invalid_type:c=a.received===e.ZodParsedType.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case d.ZodIssueCode.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,e.util.jsonStringifyReplacer)}`;break;case d.ZodIssueCode.unrecognized_keys:c=`Unrecognized key(s) in object: ${e.util.joinValues(a.keys,", ")}`;break;case d.ZodIssueCode.invalid_union:c="Invalid input";break;case d.ZodIssueCode.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${e.util.joinValues(a.options)}`;break;case d.ZodIssueCode.invalid_enum_value:c=`Invalid enum value. Expected ${e.util.joinValues(a.options)}, received '${a.received}'`;break;case d.ZodIssueCode.invalid_arguments:c="Invalid function arguments";break;case d.ZodIssueCode.invalid_return_type:c="Invalid function return type";break;case d.ZodIssueCode.invalid_date:c="Invalid date";break;case d.ZodIssueCode.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:e.util.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case d.ZodIssueCode.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case d.ZodIssueCode.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case d.ZodIssueCode.custom:c="Invalid input";break;case d.ZodIssueCode.invalid_intersection_types:c="Intersection results could not be merged";break;case d.ZodIssueCode.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case d.ZodIssueCode.not_finite:c="Number must be finite";break;default:c=b.defaultError,e.util.assertNever(a)}return{message:c}}},51859:(a,b,c)=>{"use strict";c.r(b),c.d(b,{AlwaysOffSampler:()=>z,AlwaysOnSampler:()=>A,BasicTracerProvider:()=>ac,BatchSpanProcessor:()=>ab,ConsoleSpanExporter:()=>ae,ForceFlushState:()=>e,InMemorySpanExporter:()=>ah,NoopSpanProcessor:()=>X,ParentBasedSampler:()=>D,RandomIdGenerator:()=>L,SamplingDecision:()=>d,SimpleSpanProcessor:()=>ak,Span:()=>w,TraceIdRatioBasedSampler:()=>E,Tracer:()=>O});var d,e,f=c(20531),g=c(88018),h=c(79361),i=c(27267),j=c(33890),k=c(37425),l=c(54616),m=c(81588),n=c(32823),o=c(86847),p=c(27845),q=c(99591),r="exception.type",s="exception.message",t=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},v=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},w=function(){function a(a,b,c,d,e,f,g,h,i,j){void 0===g&&(g=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:o.s.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=c,this._spanContext=d,this.parentSpanId=f,this.kind=e,this.links=g;var k=Date.now();this._performanceStartTime=p.u.now(),this._performanceOffset=k-(this._performanceStartTime+(0,q.uc)()),this._startTimeProvided=null!=h,this.startTime=this._getTime(null!=h?h:k),this.resource=a.resource,this.instrumentationLibrary=a.instrumentationLibrary,this._spanLimits=a.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=j&&this.setAttributes(j),this._spanProcessor=a.getActiveSpanProcessor(),this._spanProcessor.onStart(this,b)}return a.prototype.spanContext=function(){return this._spanContext},a.prototype.setAttribute=function(a,b){return null==b||this._isSpanEnded()||(0===a.length?h.s.warn("Invalid attribute key: "+a):(0,n.m)(b)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,a)?this._droppedAttributesCount++:this.attributes[a]=this._truncateToSize(b):h.s.warn("Invalid attribute value set for key: "+a)),this},a.prototype.setAttributes=function(a){var b,c;try{for(var d=t(Object.entries(a)),e=d.next();!e.done;e=d.next()){var f=u(e.value,2),g=f[0],h=f[1];this.setAttribute(g,h)}}catch(a){b={error:a}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}return this},a.prototype.addEvent=function(a,b,c){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return h.s.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&h.s.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,q.Ir)(b)&&((0,q.Ir)(c)||(c=b),b=void 0);var d=(0,n.L)(b);return this.events.push({name:a,attributes:d,time:this._getTime(c),droppedAttributesCount:0}),this},a.prototype.addLink=function(a){return this.links.push(a),this},a.prototype.addLinks=function(a){var b;return(b=this.links).push.apply(b,v([],u(a),!1)),this},a.prototype.setStatus=function(a){return this._isSpanEnded()||(this.status=a),this},a.prototype.updateName=function(a){return this._isSpanEnded()||(this.name=a),this},a.prototype.end=function(a){if(this._isSpanEnded())return void h.s.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");this._ended=!0,this.endTime=this._getTime(a),this._duration=(0,q.W5)(this.startTime,this.endTime),this._duration[0]<0&&(h.s.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&h.s.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},a.prototype._getTime=function(a){if("number"==typeof a&&a<p.u.now())return(0,q._5)(a+this._performanceOffset);if("number"==typeof a)return(0,q.lg)(a);if(a instanceof Date)return(0,q.lg)(a.getTime());if((0,q.VL)(a))return a;if(this._startTimeProvided)return(0,q.lg)(Date.now());var b=p.u.now()-this._performanceStartTime;return(0,q.mw)(this.startTime,(0,q.lg)(b))},a.prototype.isRecording=function(){return!1===this._ended},a.prototype.recordException=function(a,b){var c={};"string"==typeof a?c[s]=a:a&&(a.code?c[r]=a.code.toString():a.name&&(c[r]=a.name),a.message&&(c[s]=a.message),a.stack&&(c["exception.stacktrace"]=a.stack)),c[r]||c[s]?this.addEvent("exception",c,b):h.s.warn("Failed to record an exception "+a)},Object.defineProperty(a.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),a.prototype._isSpanEnded=function(){return this._ended&&h.s.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},a.prototype._truncateToLimitUtil=function(a,b){return a.length<=b?a:a.substr(0,b)},a.prototype._truncateToSize=function(a){var b=this,c=this._attributeValueLengthLimit;return c<=0?(h.s.warn("Attribute value limit must be positive, got "+c),a):"string"==typeof a?this._truncateToLimitUtil(a,c):Array.isArray(a)?a.map(function(a){return"string"==typeof a?b._truncateToLimitUtil(a,c):a}):a},a}(),x=c(66336),y=c(23615);!function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(d||(d={}));var z=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:d.NOT_RECORD}},a.prototype.toString=function(){return"AlwaysOffSampler"},a}(),A=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:d.RECORD_AND_SAMPLED}},a.prototype.toString=function(){return"AlwaysOnSampler"},a}(),B=c(58746),C=c(49127),D=function(){function a(a){var b,c,d,e;this._root=a.root,this._root||((0,C.s)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new A),this._remoteParentSampled=null!=(b=a.remoteParentSampled)?b:new A,this._remoteParentNotSampled=null!=(c=a.remoteParentNotSampled)?c:new z,this._localParentSampled=null!=(d=a.localParentSampled)?d:new A,this._localParentNotSampled=null!=(e=a.localParentNotSampled)?e:new z}return a.prototype.shouldSample=function(a,b,c,d,e,f){var h=g.u.getSpanContext(a);return h&&(0,B.YA)(h)?h.isRemote?h.traceFlags&l.X.SAMPLED?this._remoteParentSampled.shouldSample(a,b,c,d,e,f):this._remoteParentNotSampled.shouldSample(a,b,c,d,e,f):h.traceFlags&l.X.SAMPLED?this._localParentSampled.shouldSample(a,b,c,d,e,f):this._localParentNotSampled.shouldSample(a,b,c,d,e,f):this._root.shouldSample(a,b,c,d,e,f)},a.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},a}(),E=function(){function a(a){void 0===a&&(a=0),this._ratio=a,this._ratio=this._normalize(a),this._upperBound=Math.floor(0xffffffff*this._ratio)}return a.prototype.shouldSample=function(a,b){return{decision:(0,B.hX)(b)&&this._accumulate(b)<this._upperBound?d.RECORD_AND_SAMPLED:d.NOT_RECORD}},a.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},a.prototype._normalize=function(a){return"number"!=typeof a||isNaN(a)?0:a>=1?1:a<=0?0:a},a.prototype._accumulate=function(a){for(var b=0,c=0;c<a.length/8;c++){var d=8*c;b=(b^parseInt(a.slice(d,d+8),16))>>>0}return b},a}(),F=(0,x._)(),G=y.R.AlwaysOn;function H(){return{sampler:I(F),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,x._)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,x._)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,x._)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,x._)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,x._)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,x._)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,x._)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,x._)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function I(a){switch(void 0===a&&(a=(0,x._)()),a.OTEL_TRACES_SAMPLER){case y.R.AlwaysOn:return new A;case y.R.AlwaysOff:return new z;case y.R.ParentBasedAlwaysOn:return new D({root:new A});case y.R.ParentBasedAlwaysOff:return new D({root:new z});case y.R.TraceIdRatio:return new E(J(a));case y.R.ParentBasedTraceIdRatio:return new D({root:new E(J(a))});default:return h.s.error('OTEL_TRACES_SAMPLER value "'+a.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+G+'".'),new A}}function J(a){if(void 0===a.OTEL_TRACES_SAMPLER_ARG||""===a.OTEL_TRACES_SAMPLER_ARG)return h.s.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;var b=Number(a.OTEL_TRACES_SAMPLER_ARG);return isNaN(b)?(h.s.error("OTEL_TRACES_SAMPLER_ARG="+a.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to 1."),1):b<0||b>1?(h.s.error("OTEL_TRACES_SAMPLER_ARG="+a.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to 1."),1):b}var K=c(37579),L=function(){this.generateTraceId=N(16),this.generateSpanId=N(8)},M=Buffer.allocUnsafe(16);function N(a){return function(){for(var b=0;b<a/4;b++)M.writeUInt32BE(0x100000000*Math.random()>>>0,4*b);for(var b=0;b<a;b++)if(M[b]>0)break;else b===a-1&&(M[a-1]=1);return M.toString("hex",0,a)}}var O=function(){function a(a,b,c){this._tracerProvider=c;var d,e,f,g=(d={sampler:I()},(f=Object.assign({},e=H(),d,b)).generalLimits=Object.assign({},e.generalLimits,b.generalLimits||{}),f.spanLimits=Object.assign({},e.spanLimits,b.spanLimits||{}),f);this._sampler=g.sampler,this._generalLimits=g.generalLimits,this._spanLimits=g.spanLimits,this._idGenerator=b.idGenerator||new L,this.resource=c.resource,this.instrumentationLibrary=a}return a.prototype.startSpan=function(a,b,c){void 0===b&&(b={}),void 0===c&&(c=f._.active()),b.root&&(c=g.u.deleteSpan(c));var d,e,o,p,q,r,s=g.u.getSpan(c);if((0,m.Zf)(c)){h.s.debug("Instrumentation suppressed, returning Noop Span");var t=g.u.wrapSpanContext(i.dM);return t}var u=null==s?void 0:s.spanContext(),v=this._idGenerator.generateSpanId();u&&g.u.isSpanContextValid(u)?(p=u.traceId,q=u.traceState,r=u.spanId):p=this._idGenerator.generateTraceId();var x=null!=(d=b.kind)?d:j.v.INTERNAL,y=(null!=(e=b.links)?e:[]).map(function(a){return{context:a.context,attributes:(0,n.L)(a.attributes)}}),z=(0,n.L)(b.attributes),A=this._sampler.shouldSample(c,p,a,x,z,y);q=null!=(o=A.traceState)?o:q;var B={traceId:p,spanId:v,traceFlags:A.decision===k.i.RECORD_AND_SAMPLED?l.X.SAMPLED:l.X.NONE,traceState:q};if(A.decision===k.i.NOT_RECORD){h.s.debug("Recording is off, propagating context in a non-recording span");var t=g.u.wrapSpanContext(B);return t}var C=(0,n.L)(Object.assign(z,A.attributes));return new w(this,c,a,B,x,r,y,b.startTime,void 0,C)},a.prototype.startActiveSpan=function(a,b,c,d){if(!(arguments.length<2)){2==arguments.length?i=b:3==arguments.length?(e=b,i=c):(e=b,h=c,i=d);var e,h,i,j=null!=h?h:f._.active(),k=this.startSpan(a,e,j),l=g.u.setSpan(j,k);return f._.with(l,i,void 0,k)}},a.prototype.getGeneralLimits=function(){return this._generalLimits},a.prototype.getSpanLimits=function(){return this._spanLimits},a.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},a}(),P=c(37002),Q=c(35025),R=c(36008),S=c(51354),T=c(69580),U=c(57182),V=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},W=function(){function a(a){this._spanProcessors=a}return a.prototype.forceFlush=function(){var a,b,c=[];try{for(var d=V(this._spanProcessors),e=d.next();!e.done;e=d.next()){var f=e.value;c.push(f.forceFlush())}}catch(b){a={error:b}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(a)throw a.error}}return new Promise(function(a){Promise.all(c).then(function(){a()}).catch(function(b){(0,C.s)(b||Error("MultiSpanProcessor: forceFlush failed")),a()})})},a.prototype.onStart=function(a,b){var c,d;try{for(var e=V(this._spanProcessors),f=e.next();!f.done;f=e.next())f.value.onStart(a,b)}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}},a.prototype.onEnd=function(a){var b,c;try{for(var d=V(this._spanProcessors),e=d.next();!e.done;e=d.next())e.value.onEnd(a)}catch(a){b={error:a}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}},a.prototype.shutdown=function(){var a,b,c=[];try{for(var d=V(this._spanProcessors),e=d.next();!e.done;e=d.next()){var f=e.value;c.push(f.shutdown())}}catch(b){a={error:b}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(a)throw a.error}}return new Promise(function(a,b){Promise.all(c).then(function(){a()},b)})},a}(),X=function(){function a(){}return a.prototype.onStart=function(a,b){},a.prototype.onEnd=function(a){},a.prototype.shutdown=function(){return Promise.resolve()},a.prototype.forceFlush=function(){return Promise.resolve()},a}(),Y=c(51064),Z=c(4875),$=c(36769),_=function(){function a(a,b){this._exporter=a,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var c=(0,x._)();this._maxExportBatchSize="number"==typeof(null==b?void 0:b.maxExportBatchSize)?b.maxExportBatchSize:c.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==b?void 0:b.maxQueueSize)?b.maxQueueSize:c.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==b?void 0:b.scheduledDelayMillis)?b.scheduledDelayMillis:c.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==b?void 0:b.exportTimeoutMillis)?b.exportTimeoutMillis:c.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Y.I(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(h.s.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return a.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},a.prototype.onStart=function(a,b){},a.prototype.onEnd=function(a){this._shutdownOnce.isCalled||(a.spanContext().traceFlags&l.X.SAMPLED)!=0&&this._addToBuffer(a)},a.prototype.shutdown=function(){return this._shutdownOnce.call()},a.prototype._shutdown=function(){var a=this;return Promise.resolve().then(function(){return a.onShutdown()}).then(function(){return a._flushAll()}).then(function(){return a._exporter.shutdown()})},a.prototype._addToBuffer=function(a){if(this._finishedSpans.length>=this._maxQueueSize){0===this._droppedSpansCount&&h.s.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(h.s.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(a),this._maybeStartTimer()},a.prototype._flushAll=function(){var a=this;return new Promise(function(b,c){for(var d=[],e=Math.ceil(a._finishedSpans.length/a._maxExportBatchSize),f=0;f<e;f++)d.push(a._flushOneBatch());Promise.all(d).then(function(){b()}).catch(c)})},a.prototype._flushOneBatch=function(){var a=this;return(this._clearTimer(),0===this._finishedSpans.length)?Promise.resolve():new Promise(function(b,c){var d=setTimeout(function(){c(Error("Timeout"))},a._exportTimeoutMillis);f._.with((0,m.M1)(f._.active()),function(){a._finishedSpans.length<=a._maxExportBatchSize?(e=a._finishedSpans,a._finishedSpans=[]):e=a._finishedSpans.splice(0,a._maxExportBatchSize);for(var e,f=function(){return a._exporter.export(e,function(a){var e;clearTimeout(d),a.code===Z.V.SUCCESS?b():c(null!=(e=a.error)?e:Error("BatchSpanProcessor: span export failed"))})},g=null,h=0,i=e.length;h<i;h++){var j=e[h];j.resource.asyncAttributesPending&&j.resource.waitForAsyncAttributes&&(null!=g||(g=[]),g.push(j.resource.waitForAsyncAttributes()))}null===g?f():Promise.all(g).then(f,function(a){(0,C.s)(a),c(a)})})})},a.prototype._maybeStartTimer=function(){var a=this;if(!this._isExporting){var b=function(){a._isExporting=!0,a._flushOneBatch().finally(function(){a._isExporting=!1,a._finishedSpans.length>0&&(a._clearTimer(),a._maybeStartTimer())}).catch(function(b){a._isExporting=!1,(0,C.s)(b)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return b();void 0===this._timer&&(this._timer=setTimeout(function(){return b()},this._scheduledDelayMillis),(0,$.K)(this._timer))}},a.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},a}(),aa=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),ab=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aa(b,a),b.prototype.onShutdown=function(){},b}(_);!function(a){a[a.resolved=0]="resolved",a[a.timeout=1]="timeout",a[a.error=2]="error",a[a.unresolved=3]="unresolved"}(e||(e={}));var ac=function(){function a(a){void 0===a&&(a={}),this._registeredSpanProcessors=[],this._tracers=new Map;var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=(0,Q.h)({},H(),(o=Object.assign({},(b=a).spanLimits),p=(0,x.w)(),o.attributeCountLimit=null!=(h=null!=(g=null!=(f=null!=(d=null==(c=b.spanLimits)?void 0:c.attributeCountLimit)?d:null==(e=b.generalLimits)?void 0:e.attributeCountLimit)?f:p.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)?g:p.OTEL_ATTRIBUTE_COUNT_LIMIT)?h:K.fv,o.attributeValueLengthLimit=null!=(n=null!=(m=null!=(l=null!=(j=null==(i=b.spanLimits)?void 0:i.attributeValueLengthLimit)?j:null==(k=b.generalLimits)?void 0:k.attributeValueLengthLimit)?l:p.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)?m:p.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)?n:K.aE,Object.assign({},b,{spanLimits:o})));this.resource=null!=(q=r.resource)?q:U.F.empty(),this.resource=U.F.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var s=this._buildExporterFromEnv();if(void 0!==s){var t=new ab(s);this.activeSpanProcessor=t}else this.activeSpanProcessor=new X}return a.prototype.getTracer=function(a,b,c){var d=a+"@"+(b||"")+":"+((null==c?void 0:c.schemaUrl)||"");return this._tracers.has(d)||this._tracers.set(d,new O({name:a,version:b,schemaUrl:null==c?void 0:c.schemaUrl},this._config,this)),this._tracers.get(d)},a.prototype.addSpanProcessor=function(a){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch(function(a){return h.s.error("Error while trying to shutdown current span processor",a)}),this._registeredSpanProcessors.push(a),this.activeSpanProcessor=new W(this._registeredSpanProcessors)},a.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},a.prototype.register=function(a){void 0===a&&(a={}),g.u.setGlobalTracerProvider(this),void 0===a.propagator&&(a.propagator=this._buildPropagatorFromEnv()),a.contextManager&&f._.setGlobalContextManager(a.contextManager),a.propagator&&P.$.setGlobalPropagator(a.propagator)},a.prototype.forceFlush=function(){var a=this._config.forceFlushTimeoutMillis,b=this._registeredSpanProcessors.map(function(b){return new Promise(function(c){var d,f=setTimeout(function(){c(Error("Span processor did not completed within timeout period of "+a+" ms")),d=e.timeout},a);b.forceFlush().then(function(){clearTimeout(f),d!==e.timeout&&c(d=e.resolved)}).catch(function(a){clearTimeout(f),d=e.error,c(a)})})});return new Promise(function(a,c){Promise.all(b).then(function(b){var d=b.filter(function(a){return a!==e.resolved});d.length>0?c(d):a()}).catch(function(a){return c([a])})})},a.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},a.prototype._getPropagator=function(a){var b;return null==(b=this.constructor._registeredPropagators.get(a))?void 0:b()},a.prototype._getSpanExporter=function(a){var b;return null==(b=this.constructor._registeredExporters.get(a))?void 0:b()},a.prototype._buildPropagatorFromEnv=function(){var a=this,b=Array.from(new Set((0,x._)().OTEL_PROPAGATORS)),c=b.map(function(b){var c=a._getPropagator(b);return c||h.s.warn('Propagator "'+b+'" requested through environment variable is unavailable.'),c}).reduce(function(a,b){return b&&a.push(b),a},[]);return 0===c.length?void 0:1===b.length?c[0]:new R.n({propagators:c})},a.prototype._buildExporterFromEnv=function(){var a=(0,x._)().OTEL_TRACES_EXPORTER;if("none"!==a&&""!==a){var b=this._getSpanExporter(a);return b||h.s.error('Exporter "'+a+'" requested through environment variable is unavailable.'),b}},a._registeredPropagators=new Map([["tracecontext",function(){return new S.lm}],["baggage",function(){return new T.t}]]),a._registeredExporters=new Map,a}(),ad=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},ae=function(){function a(){}return a.prototype.export=function(a,b){return this._sendSpans(a,b)},a.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},a.prototype.forceFlush=function(){return Promise.resolve()},a.prototype._exportInfo=function(a){var b;return{resource:{attributes:a.resource.attributes},traceId:a.spanContext().traceId,parentId:a.parentSpanId,traceState:null==(b=a.spanContext().traceState)?void 0:b.serialize(),name:a.name,id:a.spanContext().spanId,kind:a.kind,timestamp:(0,q.w_)(a.startTime),duration:(0,q.w_)(a.duration),attributes:a.attributes,status:a.status,events:a.events,links:a.links}},a.prototype._sendSpans=function(a,b){var c,d;try{for(var e=ad(a),f=e.next();!f.done;f=e.next()){var g=f.value;console.dir(this._exportInfo(g),{depth:3})}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}if(b)return b({code:Z.V.SUCCESS})},a}(),af=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},ag=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},ah=function(){function a(){this._finishedSpans=[],this._stopped=!1}return a.prototype.export=function(a,b){var c;if(this._stopped)return b({code:Z.V.FAILED,error:Error("Exporter has been stopped")});(c=this._finishedSpans).push.apply(c,ag([],af(a),!1)),setTimeout(function(){return b({code:Z.V.SUCCESS})},0)},a.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()},a.prototype.forceFlush=function(){return Promise.resolve()},a.prototype.reset=function(){this._finishedSpans=[]},a.prototype.getFinishedSpans=function(){return this._finishedSpans},a}(),ai=c(41625),aj=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},ak=function(){function a(a){this._exporter=a,this._shutdownOnce=new Y.I(this._shutdown,this),this._unresolvedExports=new Set}return a.prototype.forceFlush=function(){var a,b,c,d;return a=this,b=void 0,c=void 0,d=function(){return aj(this,function(a){switch(a.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:if(a.sent(),!this._exporter.forceFlush)return[3,3];return[4,this._exporter.forceFlush()];case 2:a.sent(),a.label=3;case 3:return[2]}})},new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},a.prototype.onStart=function(a,b){},a.prototype.onEnd=function(a){var b,c,d=this;if(!this._shutdownOnce.isCalled&&(a.spanContext().traceFlags&l.X.SAMPLED)!=0){var e=function(){return ai.internal._export(d._exporter,[a]).then(function(a){var b;a.code!==Z.V.SUCCESS&&(0,C.s)(null!=(b=a.error)?b:Error("SimpleSpanProcessor: span export failed (status "+a+")"))}).catch(function(a){(0,C.s)(a)})};if(a.resource.asyncAttributesPending){var f=null==(c=(b=a.resource).waitForAsyncAttributes)?void 0:c.call(b).then(function(){return null!=f&&d._unresolvedExports.delete(f),e()},function(a){return(0,C.s)(a)});null!=f&&this._unresolvedExports.add(f)}else e()}},a.prototype.shutdown=function(){return this._shutdownOnce.call()},a.prototype._shutdown=function(){return this._exporter.shutdown()},a}()},51905:(a,b,c)=>{"use strict";var d=c(24148);let e=a=>"bigint"==typeof a||Number.isInteger(a),f=(a,b,c,{intAsBigInt:d})=>d?BigInt(a):parseInt(a.substring(b),c);function g(a,b,c){let{value:f}=a;return e(f)&&f>=0?c+f.toString(b):d.stringifyNumber(a)}b.int={identify:e,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(a,b,c)=>f(a,0,10,c),stringify:d.stringifyNumber},b.intHex={identify:a=>e(a)&&a>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(a,b,c)=>f(a,2,16,c),stringify:a=>g(a,16,"0x")},b.intOct={identify:a=>e(a)&&a>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(a,b,c)=>f(a,2,8,c),stringify:a=>g(a,8,"0o")}},51925:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{defineFlow:()=>l,flow:()=>k,run:()=>m}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(24275),j=c(64089);function k(a,b){var c,d;return c="string"==typeof a?{name:a}:a,d=b,(0,i.action)({actionType:"flow",name:c.name,inputSchema:c.inputSchema,outputSchema:c.outputSchema,streamSchema:c.streamSchema,metadata:c.metadata},async(a,{sendChunk:b,context:c,trace:e,abortSignal:f,streamingRequested:g})=>(b.sendChunk=b,b.context=c,b.trace=e,b.abortSignal=f,b.streamingRequested=g,d(a,b)))}function l(a,b,c){let d=k(b,c);return a.registerAction("flow",d),d}function m(a,b,c,d){let e,f,g=!1;if("function"==typeof b?e=b:(f=b,g=!0),"function"==typeof c&&(e=c),!e)throw Error("unable to resolve run function");return(0,j.runInNewSpan)({metadata:{name:a},labels:{[j.SPAN_TYPE_ATTR]:"flowStep"}},async a=>{a.input=f;let b=g?await e(f):await e();return a.output=JSON.stringify(b),b})}},52048:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904),e=c(46178);b.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:b}})=>void 0===b?(0,d.str)`must contain at least ${a} valid item(s)`:(0,d.str)`must contain at least ${a} and no more than ${b} valid item(s)`,params:({params:{min:a,max:b}})=>void 0===b?(0,d._)`{minContains: ${a}}`:(0,d._)`{minContains: ${a}, maxContains: ${b}}`},code(a){let b,c,{gen:f,schema:g,parentSchema:h,data:i,it:j}=a,{minContains:k,maxContains:l}=h;j.opts.next?(b=void 0===k?1:k,c=l):b=1;let m=f.const("len",(0,d._)`${i}.length`);if(a.setParams({min:b,max:c}),void 0===c&&0===b)return void(0,e.checkStrictMode)(j,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&b>c){(0,e.checkStrictMode)(j,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,e.alwaysValidSchema)(j,g)){let e=(0,d._)`${m} >= ${b}`;void 0!==c&&(e=(0,d._)`${e} && ${m} <= ${c}`),a.pass(e);return}j.items=!0;let n=f.name("valid");function o(){let a=f.name("_valid"),e=f.let("count",0);p(a,()=>f.if(a,()=>{var a;return a=e,void(f.code((0,d._)`${a}++`),void 0===c?f.if((0,d._)`${a} >= ${b}`,()=>f.assign(n,!0).break()):(f.if((0,d._)`${a} > ${c}`,()=>f.assign(n,!1).break()),1===b?f.assign(n,!0):f.if((0,d._)`${a} >= ${b}`,()=>f.assign(n,!0))))}))}function p(b,c){f.forRange("i",0,m,d=>{a.subschema({keyword:"contains",dataProp:d,dataPropType:e.Type.Num,compositeRule:!0},b),c()})}void 0===c&&1===b?p(n,()=>f.if(n,()=>f.break())):0===b?(f.let(n,!0),void 0!==c&&f.if((0,d._)`${i}.length > 0`,o)):(f.let(n,!1),o()),a.result(n,()=>a.reset())}}},52291:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getErrorMessage=function(a){return a instanceof Error?a.message:String(a)},b.getErrorCode=function(a){return"object"==typeof a&&null!==a&&"code"in a&&"number"==typeof a.code?a.code:null}},52298:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a){this.buffer=a}},53365:(a,b,c)=>{"use strict";var d=c(82625),e=c(28354);c(63211).Struct;var f=c(32437),g={},h={CALL:1,REPLY:2,EXCEPTION:3,ONEWAY:4},i={1:"CALL",2:"REPLY",3:"EXCEPTION",4:"ONEWAY"};function j(a){a=a||g,this.id=a.id,this.name=a.name,this.body=a.body,this.type=a.type,this.version=a.version||0}function k(a,b){this.body=a,this.exception=b,d.call(this)}e.inherits(k,d),k.prototype.poolByteLength=function(a,b){var c=b.name.length;return(b.version>0?c+=12:c+=9,"EXCEPTION"===b.type)?(a=this.exception.poolByteLength(a,b.body)).err?a:(c+=a.length,a.reset(null,c)):(a=this.body.poolByteLength(a,b.body)).err?a:(c+=a.length,a.reset(null,c))},k.prototype.poolWriteInto=function(a,b,c,d){return(a=b.version>0?this.poolStrictWriteInto(a,b,c,d):this.poolLegacyWriteInto(a,b,c,d)).err?a:(d=a.offset,"EXCEPTION"===b.type)?this.exception.poolWriteInto(a,b.body,c,d):this.body.poolWriteInto(a,b.body,c,d)},k.prototype.poolStrictWriteInto=function(a,b,c,d){c.writeUInt16BE(32768|b.version,d),d+=2;var e=h[b.type];return null==e?a.reset(new f.InvalidMessageEnvelopeTypeName({name:b.type})):(c.writeUInt16BE(e,d),d+=2,c.writeUInt32BE(b.name.length,d),d+=4,c.write(b.name,d,"ascii"),d+=b.name.length,c.writeUInt32BE(b.id,d),d+=4,a.reset(null,d))},k.prototype.poolLegacyWriteInto=function(a,b,c,d){c.writeUInt32BE(b.name.length,d,!0),d+=4,c.write(b.name,d,"ascii"),d+=b.name.length;var e=h[b.type];return null==e?a.reset(new f.InvalidMessageEnvelopeTypeName({name:b.type})):(c.writeUInt8(e,d),d+=1,c.writeUInt32BE(b.id,d,!0),d+=4,a.reset(null,d))},k.prototype.poolReadFrom=function(a,b,c){if((a=0>b.readInt8(c,!0)?this.poolStrictReadFrom(a,b,c):this.poolLegacyReadFrom(a,b,c)).err)return a;var d=a.value;return(c=a.offset,"EXCEPTION"===d.type)?(a=this.exception.poolReadFrom(a,b,c)).err?a:(d.body=a.value,c+=a.offset,a.reset(d.body,c,d)):(a=this.body.poolReadFrom(a,b,c)).err?a:(d.body=a.value,c=a.offset,a.reset(null,c,d))},k.prototype.poolStrictReadFrom=function(a,b,c){var d=new j;if(d.version=-32769&b.readUInt16BE(c,!0),c+=2,1!==d.version)return a.reset(new f.UnrecognizedMessageEnvelopeVersion({version:d.version}));var e=255&b.readUInt16BE(c,!0);if(c+=2,d.type=i[e],null==d.type)return a.reset(new f.UnrecognizedMessageEnvelopeType({value:e}));var g=b.readUInt32BE(c,!0);return c+=4,d.name=b.toString("ascii",c,c+g,!0),c+=g,d.id=b.readUInt32BE(c,!0),c+=4,a.reset(null,c,d)},k.prototype.poolLegacyReadFrom=function(a,b,c){var d=new j,e=b.readUInt32BE(c,!0);c+=4,d.name=b.toString("ascii",c,c+e,!0),c+=e;var g=b.readUInt8(c,!0);return(c+=1,d.id=b.readUInt32BE(c,!0),c+=4,d.type=i[g],null==d.type)?a.reset(new f.UnrecognizedMessageEnvelopeType({value:g})):a.reset(null,c,d)},a.exports.QB=j,a.exports.n=k,a.exports.bX={type:"Struct",id:{name:"ThriftMessageEnvelopeException"},fields:[{id:{value:1},name:"message",valueType:{type:"BaseType",baseType:"string"},optional:!0,required:!1},{id:{value:2},name:"type",valueType:{type:"Identifier",name:"ThriftMessageEnvelopeExceptionType"},optional:!0,required:!1}]},a.exports.UI={type:"Enum",id:{name:"ThriftMessageEnvelopeExceptionType"},definitions:[{id:{name:"UNKNOWN"},value:{value:0}},{id:{name:"UNKNOWN_METHOD"},value:{value:1}},{id:{name:"INVALID_MESSAGE_TYPE"},value:{value:2}},{id:{name:"WRONG_METHOD_NAME"},value:{value:3}},{id:{name:"BAD_SEQUENCE_ID"},value:{value:4}},{id:{name:"MISSING_RESULT"},value:{value:5}},{id:{name:"INTERNAL_ERROR"},value:{value:6}},{id:{name:"PROTOCOL_ERROR"},value:{value:7}},{id:{name:"INVALID_TRANSFORM"},value:{value:8}},{id:{name:"INVALID_PROTOCOL"},value:{value:9}},{id:{name:"UNSUPPORTED_CLIENT_TYPE"},value:{value:10}}]}},53369:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{GenkitError:()=>j,UnstableApiError:()=>k,UserFacingError:()=>m,assertUnstable:()=>l,getCallableJSON:()=>o,getErrorMessage:()=>p,getErrorStack:()=>q,getHttpStatus:()=>n}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(87938);class j extends Error{source;status;detail;code;originalMessage;constructor({status:a,message:b,detail:c,source:d}){super(`${d?`${d}: `:""}${a}: ${b}`),this.originalMessage=b,this.code=(0,i.httpStatusCode)(a),this.status=a,this.detail=c,this.name="GenkitError"}toJSON(){return{...void 0===this.detail?{}:{details:this.detail},status:this.status,message:this.originalMessage}}}class k extends j{constructor(a,b){super({status:"FAILED_PRECONDITION",message:`${b?b+" ":""}This API requires '${a}' stability level.

To use this feature, initialize Genkit using \`import {genkit} from "genkit/${a}"\`.`}),this.name="UnstableApiError"}}function l(a,b,c){if("beta"===b&&"stable"===a.apiStability)throw new k(b,c)}class m extends j{constructor(a,b,c){super({status:a,detail:c,message:b}),super.name="UserFacingError"}}function n(a){return a instanceof j?a.code:500}function o(a){return a instanceof j?a.toJSON():{message:"Internal Error",status:"INTERNAL"}}function p(a){return a instanceof Error?a.message:`${a}`}function q(a){if(a instanceof Error)return a.stack}},53567:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BaseServerInterceptingCall=b.ServerInterceptingCall=b.ResponderBuilder=b.ServerListenerBuilder=void 0,b.isInterceptingServerListener=function(a){return void 0!==a.onReceiveMetadata&&1===a.onReceiveMetadata.length},b.getServerInterceptingCall=function(a,b,c,d,e,f){let g={path:e.path,requestStream:"clientStream"===e.type||"bidi"===e.type,responseStream:"serverStream"===e.type||"bidi"===e.type,requestDeserialize:e.deserialize,responseSerialize:e.serialize},h=new E(b,c,d,e,f);return a.reduce((a,b)=>b(g,a),h)};let d=c(33604),e=c(56458),f=c(73496),g=c(52291),h=c(74075),i=c(15999),j=c(38702),k=c(34631),l=c(35696),m="server_call";function n(a){j.trace(e.LogVerbosity.DEBUG,m,a)}class o{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(a){return this.metadata=a,this}withOnReceiveMessage(a){return this.message=a,this}withOnReceiveHalfClose(a){return this.halfClose=a,this}withOnCancel(a){return this.cancel=a,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}}b.ServerListenerBuilder=o;class p{constructor(a,b){this.listener=a,this.nextListener=b,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(a){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(a,a=>{this.processingMetadata=!1,this.cancelled||(this.nextListener.onReceiveMetadata(a),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(a){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(a,a=>{this.processingMessage=!1,this.cancelled||(this.processingMetadata?(this.pendingMessage=a,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(a),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}}class q{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(a){return this.start=a,this}withSendMetadata(a){return this.metadata=a,this}withSendMessage(a){return this.message=a,this}withSendStatus(a){return this.status=a,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}}b.ResponderBuilder=q;let r={onReceiveMetadata:(a,b)=>{b(a)},onReceiveMessage:(a,b)=>{b(a)},onReceiveHalfClose:a=>{a()},onCancel:()=>{}},s={start:a=>{a()},sendMetadata:(a,b)=>{b(a)},sendMessage:(a,b)=>{b(a)},sendStatus:(a,b)=>{b(a)}};class t{constructor(a,b){var c,d,e,f;this.nextCall=a,this.processingMetadata=!1,this.sentMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:null!=(c=null==b?void 0:b.start)?c:s.start,sendMetadata:null!=(d=null==b?void 0:b.sendMetadata)?d:s.sendMetadata,sendMessage:null!=(e=null==b?void 0:b.sendMessage)?e:s.sendMessage,sendStatus:null!=(f=null==b?void 0:b.sendStatus)?f:s.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(a){this.responder.start(b=>{var c,d,e,f;let g=new p({onReceiveMetadata:null!=(c=null==b?void 0:b.onReceiveMetadata)?c:r.onReceiveMetadata,onReceiveMessage:null!=(d=null==b?void 0:b.onReceiveMessage)?d:r.onReceiveMessage,onReceiveHalfClose:null!=(e=null==b?void 0:b.onReceiveHalfClose)?e:r.onReceiveHalfClose,onCancel:null!=(f=null==b?void 0:b.onCancel)?f:r.onCancel},a);this.nextCall.start(g)})}sendMetadata(a){this.processingMetadata=!0,this.sentMetadata=!0,this.responder.sendMetadata(a,a=>{this.processingMetadata=!1,this.nextCall.sendMetadata(a),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(a,b){this.processingMessage=!0,this.sentMetadata||this.sendMetadata(new d.Metadata),this.responder.sendMessage(a,a=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=a,this.pendingMessageCallback=b):this.nextCall.sendMessage(a,b)})}sendStatus(a){this.responder.sendStatus(a,a=>{this.processingMetadata||this.processingMessage?this.pendingStatus=a:this.nextCall.sendStatus(a)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}getAuthContext(){return this.nextCall.getAuthContext()}getConnectionInfo(){return this.nextCall.getConnectionInfo()}getMetricsRecorder(){return this.nextCall.getMetricsRecorder()}}b.ServerInterceptingCall=t;let u="grpc-accept-encoding",v="grpc-encoding",w="grpc-message",x="grpc-status",y="grpc-timeout",z=/(\d{1,8})\s*([HMSmun])/,A={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},B={[u]:"identity,deflate,gzip",[v]:"identity"},C={[f.constants.HTTP2_HEADER_STATUS]:f.constants.HTTP_STATUS_OK,[f.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},D={waitForTrailers:!0};class E{constructor(a,b,c,g,h){var k,o;this.stream=a,this.callEventTracker=c,this.handler=g,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=e.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=e.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.metricsRecorder=new l.PerRequestMetricRecorder,this.stream.once("error",a=>{}),this.stream.once("close",()=>{var a;n("Request to method "+(null==(a=this.handler)?void 0:a.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:e.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",a=>{this.handleDataFrame(a)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in h&&(this.maxSendMessageSize=h["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in h&&(this.maxReceiveMessageSize=h["grpc.max_receive_message_length"]),this.host=null!=(k=b[":authority"])?k:b.host,this.decoder=new i.StreamDecoder(this.maxReceiveMessageSize);let p=d.Metadata.fromHttp2Headers(b);j.isTracerEnabled(m)&&n("Request to "+this.handler.path+" received headers "+JSON.stringify(p.toJSON()));let q=p.get(y);q.length>0&&this.handleTimeoutHeader(q[0]);let r=p.get(v);r.length>0&&(this.incomingEncoding=r[0]),p.remove(y),p.remove(v),p.remove(u),p.remove(f.constants.HTTP2_HEADER_ACCEPT_ENCODING),p.remove(f.constants.HTTP2_HEADER_TE),p.remove(f.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=p;let s=null==(o=a.session)?void 0:o.socket;this.connectionInfo={localAddress:null==s?void 0:s.localAddress,localPort:null==s?void 0:s.localPort,remoteAddress:null==s?void 0:s.remoteAddress,remotePort:null==s?void 0:s.remotePort},this.shouldSendMetrics=!!h["grpc.server_call_metric_recording"]}handleTimeoutHeader(a){let b=a.toString().match(z);if(null===b){let b={code:e.Status.INTERNAL,details:`Invalid ${y} value "${a}"`,metadata:null};process.nextTick(()=>{this.sendStatus(b)});return}let c=b[1]*A[b[2]]|0,d=new Date;this.deadline=d.setMilliseconds(d.getMilliseconds()+c),this.deadlineTimer=setTimeout(()=>{let a={code:e.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(a)},c)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var a;null==(a=this.listener)||a.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new d.Metadata)}serializeMessage(a){let b=this.handler.serialize(a),c=b.byteLength,d=Buffer.allocUnsafe(c+5);return d.writeUInt8(0,0),d.writeUInt32BE(c,1),b.copy(d,5),d}decompressMessage(a,b){let c=a.subarray(5);if("identity"===b)return c;if("deflate"!==b&&"gzip"!==b)return Promise.reject({code:e.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${b}"`});{let a;return a="deflate"===b?h.createInflate():h.createGunzip(),new Promise((b,d)=>{let f=0,g=[];a.on("data",b=>{g.push(b),f+=b.byteLength,-1!==this.maxReceiveMessageSize&&f>this.maxReceiveMessageSize&&(a.destroy(),d({code:e.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),a.on("end",()=>{b(Buffer.concat(g))}),a.write(c),a.end()})}}async decompressAndMaybePush(a){let b;if("COMPRESSED"!==a.type)throw Error(`Invalid queue entry type: ${a.type}`);let c=1===a.compressedMessage.readUInt8(0)?this.incomingEncoding:"identity";try{b=await this.decompressMessage(a.compressedMessage,c)}catch(a){this.sendStatus(a);return}try{a.parsedMessage=this.handler.deserialize(b)}catch(a){this.sendStatus({code:e.Status.INTERNAL,details:`Error deserializing request: ${a.message}`});return}a.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&"COMPRESSED"!==this.readQueue[0].type){this.isReadPending=!1;let a=this.readQueue.shift();"READABLE"===a.type?this.listener.onReceiveMessage(a.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(a){var b;let c;if(!this.checkCancelled()){n("Request to "+this.handler.path+" received data frame of size "+a.length);try{c=this.decoder.write(a)}catch(a){this.sendStatus({code:e.Status.RESOURCE_EXHAUSTED,details:a.message});return}for(let a of c){this.stream.pause();let c={type:"COMPRESSED",compressedMessage:a,parsedMessage:null};this.readQueue.push(c),this.decompressAndMaybePush(c),null==(b=this.callEventTracker)||b.addMessageReceived()}}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(a){n("Request to "+this.handler.path+" start called"),this.checkCancelled()||(this.listener=a,a.onReceiveMetadata(this.metadata))}sendMetadata(a){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let b=a?a.toHttp2Headers():null,c=Object.assign(Object.assign(Object.assign({},C),B),b);this.stream.respond(c,D)}sendMessage(a,b){let c;if(!this.checkCancelled()){try{c=this.serializeMessage(a)}catch(a){this.sendStatus({code:e.Status.INTERNAL,details:`Error serializing response: ${(0,g.getErrorMessage)(a)}`,metadata:null});return}if(-1!==this.maxSendMessageSize&&c.length-5>this.maxSendMessageSize)return void this.sendStatus({code:e.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${c.length} vs. ${this.maxSendMessageSize})`,metadata:null});this.maybeSendMetadata(),n("Request to "+this.handler.path+" sent data frame of size "+c.length),this.stream.write(c,a=>{var c;if(a)return void this.sendStatus({code:e.Status.INTERNAL,details:`Error writing message: ${(0,g.getErrorMessage)(a)}`,metadata:null});null==(c=this.callEventTracker)||c.addMessageSent(),b()})}}sendStatus(a){var b,c,f;if(this.checkCancelled())return;n("Request to method "+(null==(b=this.handler)?void 0:b.path)+" ended with status code: "+e.Status[a.code]+" details: "+a.details);let g=null!=(f=null==(c=a.metadata)?void 0:c.clone())?f:new d.Metadata;if(this.shouldSendMetrics&&g.set(l.GRPC_METRICS_HEADER,this.metricsRecorder.serialize()),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(a));let b=Object.assign({[x]:a.code,[w]:encodeURI(a.details)},g.toHttp2Headers());this.stream.sendTrailers(b),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(a));let b=Object.assign(Object.assign({[x]:a.code,[w]:encodeURI(a.details)},C),g.toHttp2Headers());this.stream.respond(b,{endStream:!0}),this.notifyOnCancel()}}startRead(){n("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,0===this.readQueue.length?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var a;let b=null==(a=this.stream.session)?void 0:a.socket;return null!=b&&b.remoteAddress?b.remotePort?`${b.remoteAddress}:${b.remotePort}`:b.remoteAddress:"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}getAuthContext(){var a;if(!((null==(a=this.stream.session)?void 0:a.socket)instanceof k.TLSSocket))return{};{let a=this.stream.session.socket.getPeerCertificate();return{transportSecurityType:"ssl",sslPeerCertificate:a.raw?a:void 0}}}getConnectionInfo(){return this.connectionInfo}getMetricsRecorder(){return this.metricsRecorder}}b.BaseServerInterceptingCall=E},53733:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeSDK=void 0;let d=c(68948),e=c(11394),f=c(64593),g=c(80277),h=c(62626),i=c(68345),j=c(51859),k=c(19889),l=c(47338),m=c(11779),n=c(41625),o=c(91898);class p{constructor(a={}){var b,c,e,f,h,i,k;let l=(0,n.getEnv)(),m=(0,n.getEnvWithoutDefaults)();l.OTEL_SDK_DISABLED&&(this._disabled=!0),m.OTEL_LOG_LEVEL&&d.diag.setLogger(new d.DiagConsoleLogger,{logLevel:m.OTEL_LOG_LEVEL}),this._configuration=a,this._resource=null!=(b=a.resource)?b:new g.Resource({});let p=[];if(p=null!=process.env.OTEL_NODE_RESOURCE_DETECTORS?(0,o.getResourceDetectorsFromEnv)():[g.envDetector,g.processDetector,g.hostDetector],this._resourceDetectors=null!=(c=a.resourceDetectors)?c:p,this._serviceName=a.serviceName,this._autoDetectResources=null==(e=a.autoDetectResources)||e,a.traceExporter||a.spanProcessor||a.spanProcessors){let b={};a.sampler&&(b.sampler=a.sampler),a.spanLimits&&(b.spanLimits=a.spanLimits),a.idGenerator&&(b.idGenerator=a.idGenerator),a.spanProcessor&&d.diag.warn("The 'spanProcessor' option is deprecated. Please use 'spanProcessors' instead.");let c=null!=(f=a.spanProcessor)?f:new j.BatchSpanProcessor(a.traceExporter),e=null!=(h=a.spanProcessors)?h:[c];this._tracerProviderConfig={tracerConfig:b,spanProcessors:e,contextManager:a.contextManager,textMapPropagator:a.textMapPropagator}}if(a.logRecordProcessor&&(this._loggerProviderConfig={logRecordProcessor:a.logRecordProcessor}),a.metricReader||a.views){let b={};a.metricReader&&(b.reader=a.metricReader),a.views&&(b.views=a.views),this._meterProviderConfig=b}this._instrumentations=null!=(k=null==(i=a.instrumentations)?void 0:i.flat())?k:[]}start(){var a,b,c,j,n,o;if(this._disabled)return;if((0,f.registerInstrumentations)({instrumentations:this._instrumentations}),this._autoDetectResources){let a={detectors:this._resourceDetectors};this._resource=this._resource.merge((0,g.detectResourcesSync)(a))}this._resource=void 0===this._serviceName?this._resource:this._resource.merge(new g.Resource({[l.SEMRESATTRS_SERVICE_NAME]:this._serviceName}));let p=new(this._tracerProviderConfig?k.NodeTracerProvider:m.TracerProviderWithEnvExporters)(Object.assign(Object.assign({},this._configuration),{resource:this._resource}));if(this._tracerProvider=p,this._tracerProviderConfig)for(let a of this._tracerProviderConfig.spanProcessors)p.addSpanProcessor(a);if(p.register({contextManager:null!=(b=null==(a=this._tracerProviderConfig)?void 0:a.contextManager)?b:null==(c=this._configuration)?void 0:c.contextManager,propagator:null==(j=this._tracerProviderConfig)?void 0:j.textMapPropagator}),this._loggerProviderConfig){let a=new h.LoggerProvider({resource:this._resource});a.addLogRecordProcessor(this._loggerProviderConfig.logRecordProcessor),this._loggerProvider=a,e.logs.setGlobalLoggerProvider(a)}if(this._meterProviderConfig){let a=[];this._meterProviderConfig.reader&&a.push(this._meterProviderConfig.reader);let b=new i.MeterProvider({resource:this._resource,views:null!=(o=null==(n=this._meterProviderConfig)?void 0:n.views)?o:[],readers:a});for(let a of(this._meterProvider=b,d.metrics.setGlobalMeterProvider(b),this._instrumentations))a.setMeterProvider(d.metrics.getMeterProvider())}}shutdown(){let a=[];return this._tracerProvider&&a.push(this._tracerProvider.shutdown()),this._loggerProvider&&a.push(this._loggerProvider.shutdown()),this._meterProvider&&a.push(this._meterProvider.shutdown()),Promise.all(a).then(()=>{})}}b.NodeSDK=p},53849:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.setup=function(){(0,h.registerResolver)(m,o),(0,h.registerResolver)(n,o)};let d=c(91645),e=c(13685),f=c(56458),g=c(33604),h=c(43313),i=c(41835),j=c(9413),k=c(38702);function l(a){k.trace(f.LogVerbosity.DEBUG,"ip_resolver",a)}let m="ipv4",n="ipv6";class o{constructor(a,b,c){var e;this.listener=b,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,l("Resolver constructed for target "+(0,j.uriToString)(a));let h=[];if(a.scheme!==m&&a.scheme!==n){this.error={code:f.Status.UNAVAILABLE,details:`Unrecognized scheme ${a.scheme} in IP resolver`,metadata:new g.Metadata};return}for(let b of a.path.split(",")){let c=(0,j.splitHostPort)(b);if(null===c||a.scheme===m&&!(0,d.isIPv4)(c.host)||a.scheme===n&&!(0,d.isIPv6)(c.host)){this.error={code:f.Status.UNAVAILABLE,details:`Failed to parse ${a.scheme} address ${b}`,metadata:new g.Metadata};return}h.push({host:c.host,port:null!=(e=c.port)?e:443})}this.endpoints=h.map(a=>({addresses:[a]})),l("Parsed "+a.scheme+" address list "+h.map(i.subchannelAddressToString))}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener((0,e.statusOrFromError)(this.error),{},null,""):this.listener((0,e.statusOrFromValue)(this.endpoints),{},null,"")}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(a){return a.path.split(",")[0]}}},54147:(a,b,c)=>{"use strict";var d=c(42218),e=c(8408),f=c(83255),g=c(94214);b.stringifyPair=function({key:a,value:b},c,h,i){let j,k,l,{allNullValues:m,doc:n,indent:o,indentStep:p,options:{commentString:q,indentSeq:r,simpleKeys:s}}=c,t=d.isNode(a)&&a.comment||null;if(s){if(t)throw Error("With simple keys, key nodes cannot have comments");if(d.isCollection(a)||!d.isNode(a)&&"object"==typeof a)throw Error("With simple keys, collection cannot be used as a key value")}let u=!s&&(!a||t&&null==b&&!c.inFlow||d.isCollection(a)||(d.isScalar(a)?a.type===e.Scalar.BLOCK_FOLDED||a.type===e.Scalar.BLOCK_LITERAL:"object"==typeof a));c=Object.assign({},c,{allNullValues:!1,implicitKey:!u&&(s||!m),indent:o+p});let v=!1,w=!1,x=f.stringify(a,c,()=>v=!0,()=>w=!0);if(!u&&!c.inFlow&&x.length>1024){if(s)throw Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(c.inFlow){if(m||null==b)return v&&h&&h(),""===x?"?":u?`? ${x}`:x}else if(m&&!s||null==b&&u)return x=`? ${x}`,t&&!v?x+=g.lineComment(x,c.indent,q(t)):w&&i&&i(),x;v&&(t=null),u?(t&&(x+=g.lineComment(x,c.indent,q(t))),x=`? ${x}
${o}:`):(x=`${x}:`,t&&(x+=g.lineComment(x,c.indent,q(t)))),d.isNode(b)?(j=!!b.spaceBefore,k=b.commentBefore,l=b.comment):(j=!1,k=null,l=null,b&&"object"==typeof b&&(b=n.createNode(b))),c.implicitKey=!1,!u&&!t&&d.isScalar(b)&&(c.indentAtStart=x.length+1),w=!1,!(!r&&p.length>=2&&!c.inFlow&&!u&&d.isSeq(b))||b.flow||b.tag||b.anchor||(c.indent=c.indent.substring(2));let y=!1,z=f.stringify(b,c,()=>y=!0,()=>w=!0),A=" ";if(t||j||k){if(A=j?"\n":"",k){let a=q(k);A+=`
${g.indentComment(a,c.indent)}`}""!==z||c.inFlow?A+=`
${c.indent}`:"\n"===A&&(A="\n\n")}else if(!u&&d.isCollection(b)){let a=z[0],d=z.indexOf("\n"),e=-1!==d,f=c.inFlow??b.flow??0===b.items.length;if(e||!f){let b=!1;if(e&&("&"===a||"!"===a)){let c=z.indexOf(" ");"&"===a&&-1!==c&&c<d&&"!"===z[c+1]&&(c=z.indexOf(" ",c+1)),(-1===c||d<c)&&(b=!0)}b||(A=`
${c.indent}`)}}else(""===z||"\n"===z[0])&&(A="");return x+=A+z,c.inFlow?y&&h&&h():l&&!y?x+=g.lineComment(x,c.indent,q(l)):w&&i&&i(),x}},54465:a=>{"use strict";a.exports.C=function(a){this.thrift=a}},54726:(a,b,c)=>{"use strict";var d=c(14755),e=c(85467),f=c(87928),g=c(42218),h=c(8408),i=c(89390);class j extends f.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(a){super(g.SEQ,a),this.items=[]}add(a){this.items.push(a)}delete(a){let b=k(a);return"number"==typeof b&&this.items.splice(b,1).length>0}get(a,b){let c=k(a);if("number"!=typeof c)return;let d=this.items[c];return!b&&g.isScalar(d)?d.value:d}has(a){let b=k(a);return"number"==typeof b&&b<this.items.length}set(a,b){let c=k(a);if("number"!=typeof c)throw Error(`Expected a valid index, not ${a}.`);let d=this.items[c];g.isScalar(d)&&h.isScalarValue(b)?d.value=b:this.items[c]=b}toJSON(a,b){let c=[];b?.onCreate&&b.onCreate(c);let d=0;for(let a of this.items)c.push(i.toJS(a,String(d++),b));return c}toString(a,b,c){return a?e.stringifyCollection(this,a,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(a.indent||"")+"  ",onChompKeep:c,onComment:b}):JSON.stringify(this)}static from(a,b,c){let{replacer:e}=c,f=new this(a);if(b&&Symbol.iterator in Object(b)){let a=0;for(let g of b){if("function"==typeof e){let c=b instanceof Set?g:String(a++);g=e.call(b,c,g)}f.items.push(d.createNode(g,void 0,c))}}return f}}function k(a){let b=g.isScalar(a)?a.value:a;return b&&"string"==typeof b&&(b=Number(b)),"number"==typeof b&&Number.isInteger(b)&&b>=0?b:null}b.YAMLSeq=j},54999:(a,b)=>{"use strict";b.__esModule=!0,b.default=function(a){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);var b=globalThis.Handlebars;a.noConflict=function(){return globalThis.Handlebars===a&&(globalThis.Handlebars=b),a}},a.exports=b.default},55446:(a,b,c)=>{"use strict";c.d(b,{YF:()=>I});var d=c(8567);let e=["debug","info","warn","error"],f="__genkit_logger",g={shouldLog(a){return e.indexOf(this.level)<=e.indexOf(a)},debug(...a){this.shouldLog("debug")&&console.debug(...a)},info(...a){this.shouldLog("info")&&console.info(...a)},warn(...a){this.shouldLog("warn")&&console.warn(...a)},error(...a){this.shouldLog("error")&&console.error(...a)},level:"info"};function h(){return global[f]||(global[f]=g),global[f]}class i{defaultLogger=g;init(a){global[f]=a}info(...a){h().info.apply(h(),a)}debug(...a){h().debug.apply(h(),a)}error(...a){h().error.apply(h(),a)}warn(...a){h().warn.apply(h(),a)}setLogLevel(a){h().level=a}logStructured(a,b){h().info(a,b)}logStructuredError(a,b){h().error(a,b)}}let j=new i;c(31843);var k=c(31574);c(24275),c(50673),c(49528),c(58482),c(71639);var l=c(53369);c(51925),c(77924),c(20790),c(76944),c(94829),c(49176);var m=c(173),n=c(21813);Symbol("Let zodToJsonSchema decide on which parser to use"),n(new m),l.GenkitError,c(643);var o=c(25399);function p(a){let b=a.name;a.namespace&&!b.startsWith(a.namespace+"/")&&(b=`${a.namespace}/${b}`);let c={...a,name:b};return c.withConfig=c=>p({...a,name:b,config:c}),c.withVersion=c=>p({...a,name:b,version:c}),c}c(14015),c(29706),c(19606);let q=k.object({embedding:k.array(k.number()),metadata:k.record(k.string(),k.unknown()).optional()});k.object({input:k.array(o.DocumentDataSchema),options:k.any().optional()}),k.object({embeddings:k.array(q)}),k.object({label:k.string().optional(),supports:k.object({input:k.array(k.enum(["text","image","video"])).optional(),multilingual:k.boolean().optional()}).optional(),dimensions:k.number().optional()}),c(42656),c(75151),c(15750),c(63711),c(55511);let r=k.object({input:k.unknown(),output:k.unknown().optional(),context:k.array(k.unknown()).optional(),reference:k.unknown().optional(),testCaseId:k.string().optional(),traceIds:k.array(k.string()).optional()});r.extend({testCaseId:k.string()});let s=k.enum(["UNKNOWN","PASS","FAIL"]);var t=(a=>(a.UNKNOWN="UNKNOWN",a.PASS="PASS",a.FAIL="FAIL",a))(t||{});let u=k.object({id:k.string().describe("Optional ID to differentiate different scores if applying in a single evaluation").optional(),score:k.union([k.number(),k.string(),k.boolean()]).optional(),status:s.optional(),error:k.string().optional(),details:k.object({reasoning:k.string().optional()}).passthrough().optional()}),v=k.object({sampleIndex:k.number().optional(),testCaseId:k.string(),traceId:k.string().optional(),spanId:k.string().optional(),evaluation:k.union([u,k.array(u)])});k.array(v),k.object({dataset:k.array(r),evalRunId:k.string(),options:k.unknown()}),k.object({label:k.string().optional(),metrics:k.array(k.string())});var w=c(1998);let x=k.object({score:k.number()}).passthrough(),y=k.object({content:k.array(o.PartSchema),metadata:x});w.Document,k.object({query:w.DocumentDataSchema,documents:k.array(w.DocumentDataSchema),options:k.any().optional()}),k.object({documents:k.array(y)}),k.object({label:k.string().optional(),supports:k.object({media:k.boolean().optional()}).optional()}),k.object({k:k.number().describe("Number of documents to rerank").optional()}),k.object({query:o.DocumentDataSchema,options:k.any().optional()}),k.object({documents:k.array(o.DocumentDataSchema)}),k.object({documents:k.array(o.DocumentDataSchema),options:k.any().optional()}),k.object({label:k.string().optional(),supports:k.object({media:k.boolean().optional()}).optional()}),k.object({k:k.number().describe("Number of documents to retrieve").optional()});var z=c(73396),A=c(85783),B=c(84618),C=c(70604),D=c(7986),E=c(98095);async function F(a,b){let c=["v1"];if(b?.apiVersion&&(c=Array.isArray(b?.apiVersion)?b?.apiVersion:[b?.apiVersion]),c.includes("v1beta")&&Object.keys(B.SUPPORTED_GEMINI_MODELS).forEach(c=>(0,B.defineGoogleAIModel)({ai:a,name:c,apiKey:b?.apiKey,apiVersion:"v1beta",baseUrl:b?.baseUrl,debugTraces:b?.experimental_debugTraces})),c.includes("v1")&&(Object.keys(B.SUPPORTED_GEMINI_MODELS).forEach(c=>(0,B.defineGoogleAIModel)({ai:a,name:c,apiKey:b?.apiKey,apiVersion:void 0,baseUrl:b?.baseUrl,debugTraces:b?.experimental_debugTraces})),Object.keys(A.SUPPORTED_MODELS).forEach(c=>(0,A.defineGoogleAIEmbedder)(a,c,{apiKey:b?.apiKey}))),b?.models)for(let c of b?.models){let d="string"==typeof c?c:c.name.split("/")[1],e="string"==typeof c?(0,B.gemini)(c):c;(0,B.defineGoogleAIModel)({ai:a,name:d,apiKey:b?.apiKey,baseUrl:b?.baseUrl,info:{...e.info,label:`Google AI - ${d}`},debugTraces:b?.experimental_debugTraces})}}async function G(a,b,c,d){var e,f,g;"embedder"===b?(e=a,f=c,g=d,(0,A.defineGoogleAIEmbedder)(e,`googleai/${f}`,{apiKey:g?.apiKey})):c.startsWith("veo")?"background-model"===b&&(0,E.defineVeoModel)(a,c,d?.apiKey):"model"===b&&function(a,b,c){if(b.startsWith("imagen"))return(0,C.defineImagenModel)(a,b,c?.apiKey);let d=(0,B.gemini)(b);(0,B.defineGoogleAIModel)({ai:a,name:d.name,apiKey:c?.apiKey,baseUrl:c?.baseUrl,info:{...d.info,label:`Google AI - ${b}`},debugTraces:c?.experimental_debugTraces})}(a,c,d)}async function H(a){let b=a?.apiKey||(0,z.getApiKeyFromEnvVar)();if(!b)return j.error("Pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable."),[];let c=await (0,D.listModels)(a?.baseUrl||"https://generativelanguage.googleapis.com",b);return[...c.filter(a=>a.supportedGenerationMethods.includes("predict")&&a.name.includes("imagen")).filter(a=>!a.description||!a.description.includes("deprecated")).map(a=>{let b=a.name.split("/").at(-1);return(0,d.modelActionMetadata)({name:`googleai/${b}`,info:{...C.GENERIC_IMAGEN_INFO},configSchema:C.ImagenConfigSchema})}),...c.filter(a=>a.supportedGenerationMethods.includes("predictLongRunning")&&a.name.includes("veo")).filter(a=>!a.description||!a.description.includes("deprecated")).map(a=>{let b=a.name.split("/").at(-1);return(0,d.modelActionMetadata)({name:`googleai/${b}`,info:{...E.GENERIC_VEO_INFO},configSchema:E.VeoConfigSchema,background:!0})}),...c.filter(a=>a.supportedGenerationMethods.includes("generateContent")).filter(a=>!a.description||!a.description.includes("deprecated")).map(a=>{let b=(0,B.gemini)(a.name.startsWith("models/")?a.name.substring(7):a.name);return(0,d.modelActionMetadata)({name:b.name,info:b.info,configSchema:B.GeminiConfigSchema})}),...c.filter(a=>a.supportedGenerationMethods.includes("embedContent")).filter(a=>!a.description||!a.description.includes("deprecated")).map(a=>{let b="googleai/"+(a.name.startsWith("models/")?a.name.substring(7):a.name);return(0,d.embedderActionMetadata)({name:b,configSchema:A.GeminiEmbeddingConfigSchema,info:{dimensions:768,label:`Google Gen AI - ${b}`,supports:{input:["text"]}}})})]}let I=function(a){var b,c,d;let e;return b=async b=>await F(b,a),c=async(b,c,d)=>await G(b,c,d,a),d=async()=>e||(e=await H(a)),a=>({name:"googleai",initializer:async()=>{await b(a)},resolver:async(b,d)=>{if(c)return await c(a,b,d)},listActions:async()=>d?await d():[]})};I.model=(a,b)=>a.startsWith("imagen")?p({name:`googleai/${a}`,config:b,configSchema:C.ImagenConfigSchema}):a.startsWith("veo")?p({name:`googleai/${a}`,config:b,configSchema:E.VeoConfigSchema}):p({name:`googleai/${a}`,config:b,configSchema:B.GeminiConfigSchema}),I.embedder=(a,b)=>(0,d.embedderRef)({name:`googleai/${a}`,config:b,configSchema:A.GeminiEmbeddingConfigSchema})},55832:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateUnion=b.validateArray=b.usePattern=b.callValidateCode=b.schemaProperties=b.allSchemaProperties=b.noPropertyInData=b.propertyInData=b.isOwnProperty=b.hasPropFunc=b.reportMissingProp=b.checkMissingProp=b.checkReportMissingProp=void 0;let d=c(38904),e=c(46178),f=c(82746),g=c(46178);function h(a){return a.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,d._)`Object.prototype.hasOwnProperty`})}function i(a,b,c){return(0,d._)`${h(a)}.call(${b}, ${c})`}function j(a,b,c,e){let f=(0,d._)`${b}${(0,d.getProperty)(c)} === undefined`;return e?(0,d.or)(f,(0,d.not)(i(a,b,c))):f}function k(a){return a?Object.keys(a).filter(a=>"__proto__"!==a):[]}b.checkReportMissingProp=function(a,b){let{gen:c,data:e,it:f}=a;c.if(j(c,e,b,f.opts.ownProperties),()=>{a.setParams({missingProperty:(0,d._)`${b}`},!0),a.error()})},b.checkMissingProp=function({gen:a,data:b,it:{opts:c}},e,f){return(0,d.or)(...e.map(e=>(0,d.and)(j(a,b,e,c.ownProperties),(0,d._)`${f} = ${e}`)))},b.reportMissingProp=function(a,b){a.setParams({missingProperty:b},!0),a.error()},b.hasPropFunc=h,b.isOwnProperty=i,b.propertyInData=function(a,b,c,e){let f=(0,d._)`${b}${(0,d.getProperty)(c)} !== undefined`;return e?(0,d._)`${f} && ${i(a,b,c)}`:f},b.noPropertyInData=j,b.allSchemaProperties=k,b.schemaProperties=function(a,b){return k(b).filter(c=>!(0,e.alwaysValidSchema)(a,b[c]))},b.callValidateCode=function({schemaCode:a,data:b,it:{gen:c,topSchemaRef:e,schemaPath:g,errorPath:h},it:i},j,k,l){let m=l?(0,d._)`${a}, ${b}, ${e}${g}`:b,n=[[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,h)],[f.default.parentData,i.parentData],[f.default.parentDataProperty,i.parentDataProperty],[f.default.rootData,f.default.rootData]];i.opts.dynamicRef&&n.push([f.default.dynamicAnchors,f.default.dynamicAnchors]);let o=(0,d._)`${m}, ${c.object(...n)}`;return k!==d.nil?(0,d._)`${j}.call(${k}, ${o})`:(0,d._)`${j}(${o})`};let l=(0,d._)`new RegExp`;b.usePattern=function({gen:a,it:{opts:b}},c){let e=b.unicodeRegExp?"u":"",{regExp:f}=b.code,h=f(c,e);return a.scopeValue("pattern",{key:h.toString(),ref:h,code:(0,d._)`${"new RegExp"===f.code?l:(0,g.useFunc)(a,f)}(${c}, ${e})`})},b.validateArray=function(a){let{gen:b,data:c,keyword:f,it:g}=a,h=b.name("valid");if(g.allErrors){let a=b.let("valid",!0);return i(()=>b.assign(a,!1)),a}return b.var(h,!0),i(()=>b.break()),h;function i(g){let i=b.const("len",(0,d._)`${c}.length`);b.forRange("i",0,i,c=>{a.subschema({keyword:f,dataProp:c,dataPropType:e.Type.Num},h),b.if((0,d.not)(h),g)})}},b.validateUnion=function(a){let{gen:b,schema:c,keyword:f,it:g}=a;if(!Array.isArray(c))throw Error("ajv implementation error");if(c.some(a=>(0,e.alwaysValidSchema)(g,a))&&!g.opts.unevaluated)return;let h=b.let("valid",!1),i=b.name("_valid");b.block(()=>c.forEach((c,e)=>{let g=a.subschema({keyword:f,schemaProp:e,compositeRule:!0},i);b.assign(h,(0,d._)`${h} || ${i}`),a.mergeValidEvaluated(g,i)||b.if((0,d.not)(h))})),a.result(h,()=>a.reset(),()=>a.error(!0))}},55929:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ResolvingCall=void 0;let d=c(32970),e=c(56458),f=c(8319),g=c(33604),h=c(38702),i=c(16390);class j{constructor(a,b,c,g,h){this.channel=a,this.method=b,this.filterStackFactory=g,this.callNumber=h,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.credentials=d.CallCredentials.createEmpty(),this.deadline=c.deadline,this.host=c.host,c.parentCall&&(c.flags&e.Propagate.CANCELLATION&&c.parentCall.on("cancelled",()=>{this.cancelWithStatus(e.Status.CANCELLED,"Cancelled by parent call")}),c.flags&e.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+c.parentCall.getDeadline()),this.deadline=(0,f.minDeadline)(this.deadline,c.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(a){h.trace(e.LogVerbosity.DEBUG,"resolving_call","["+this.callNumber+"] "+a)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,f.deadlineToString)(this.deadline));let a=(0,f.getRelativeTimeout)(this.deadline);if(a!==1/0){this.trace("Deadline will be reached in "+a+"ms");let b=()=>{if(!this.deadlineStartTime)return void this.cancelWithStatus(e.Status.DEADLINE_EXCEEDED,"Deadline exceeded");let a=[],b=new Date;a.push(`Deadline exceeded after ${(0,f.formatDateDifference)(this.deadlineStartTime,b)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&a.push(`name resolution: ${(0,f.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&a.push(`metadata filters: ${(0,f.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):a.push("waiting for metadata filters")):a.push("waiting for name resolution"),this.child&&a.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(e.Status.DEADLINE_EXCEEDED,a.join(","))};a<=0?process.nextTick(b):this.deadlineTimer=setTimeout(b,a)}}outputStatus(a){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let b=this.filterStack.receiveTrailers(a);this.trace("ended with status: code="+b.code+' details="'+b.details+'"'),this.statusWatchers.forEach(a=>a(b)),process.nextTick(()=>{var a;null==(a=this.listener)||a.onReceiveStatus(b)})}}sendMessageOnChild(a,b){if(!this.child)throw Error("sendMessageonChild called with child not populated");let c=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:b,flags:a.flags})).then(b=>{this.writeFilterPending=!1,c.sendMessageWithContext(a,b.message),this.pendingHalfClose&&c.halfClose()},a=>{this.cancelWithStatus(a.code,a.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let a=this.channel.getConfig(this.method,this.metadata);if("NONE"===a.type)return void this.channel.queueCallForConfig(this);if("ERROR"===a.type)return void(this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(a.error));this.configReceivedTime=new Date;let b=a.config;if(b.status!==e.Status.OK){let{code:a,details:c}=(0,i.restrictControlPlaneStatusCode)(b.status,"Failed to route call to method "+this.method);this.outputStatus({code:a,details:c,metadata:new g.Metadata});return}if(b.methodConfig.timeout){let a=new Date;a.setSeconds(a.getSeconds()+b.methodConfig.timeout.seconds),a.setMilliseconds(a.getMilliseconds()+b.methodConfig.timeout.nanos/1e6),this.deadline=(0,f.minDeadline)(this.deadline,a),this.runDeadlineTimer()}this.filterStackFactory.push(b.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(a=>{this.child=this.channel.createRetryingCall(b,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(a,{onReceiveMetadata:a=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(a))},onReceiveMessage:a=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(a).then(a=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(a),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},a=>{this.cancelWithStatus(a.code,a.details)})},onReceiveStatus:a=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=a:this.outputStatus(a)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},a=>{this.outputStatus(a)})}reportResolverError(a){var b;(null==(b=this.metadata)?void 0:b.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(a)}cancelWithStatus(a,b){var c;this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),null==(c=this.child)||c.cancelWithStatus(a,b),this.outputStatus({code:a,details:b,metadata:new g.Metadata})}getPeer(){var a,b;return null!=(b=null==(a=this.child)?void 0:a.getPeer())?b:this.channel.getTarget()}start(a,b){this.trace("start called"),this.metadata=a.clone(),this.listener=b,this.getConfig()}sendMessageWithContext(a,b){this.trace("write() called with message of length "+b.length),this.child?this.sendMessageOnChild(a,b):this.pendingMessage={context:a,message:b}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(a){this.credentials=a}addStatusWatcher(a){this.statusWatchers.push(a)}getCallNumber(){return this.callNumber}getAuthContext(){return this.child?this.child.getAuthContext():null}}b.ResolvingCall=j},56280:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{Registry:()=>s,isActionType:()=>q,parseRegistryKey:()=>r}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(76110),j=c(24275),k=c(49528),l=c(71639),m=c(53369),n=c(42656),o=c(76944);let p=["custom","dynamic-action-provider","embedder","evaluator","executable-prompt","flow","indexer","model","background-model","check-operation","cancel-operation","prompt","reranker","retriever","tool","util","resource"];function q(a){return p.includes(a)}function r(a){if(a.startsWith("/dynamic-action-provider")){let b=a.split(":"),c=b[0].split("/");if(c.length<3)return;if(b.length<2)return{actionType:"dynamic-action-provider",actionName:c[2]};let d=b[1].split("/");if(d.length<2||!q(d[0]))return;return{dynamicActionHost:c[2],actionType:d[0],actionName:d.slice(1).join("/")}}let b=a.split("/");if(!(b.length<3))return b.length>=4?{actionType:b[1],pluginName:b[2],actionName:b.slice(3).join("/")}:{actionType:b[1],actionName:b[2]}}class s{actionsById={};pluginsByName={};schemasByName={};valueByTypeAndName={};allPluginsInitialized=!1;apiStability="stable";dotprompt;parent;context;constructor(a){a?(this.parent=a,this.apiStability=a?.apiStability,this.dotprompt=a.dotprompt):this.dotprompt=new i.Dotprompt({schemaResolver:async a=>{let b=await this.lookupSchema(a);if(!b)throw new m.GenkitError({message:`Schema '${a}' not found`,status:"NOT_FOUND"});return(0,o.toJsonSchema)(b)}})}static withParent(a){return new s(a)}async resolveActionNames(a){let b=r(a);if(b?.dynamicActionHost){let a=`/dynamic-action-provider/${b.dynamicActionHost}`,c=await this.actionsById[a];return c&&(0,l.isDynamicActionProvider)(c)?(await c.listActionMetadata(b.actionType,b.actionName)).map(c=>`${a}:${b.actionType}/${c.name}`):[]}return await this.lookupAction(a)?[a]:[]}async lookupAction(a){let b=r(a);if(b?.dynamicActionHost&&this.actionsById[`/dynamic-action-provider/${b.dynamicActionHost}`]){let a=await this.getDynamicAction(b);if(a)return a}return b?.pluginName&&this.pluginsByName[b.pluginName]&&(await this.initializePlugin(b.pluginName),this.actionsById[a]||await this.resolvePluginAction(b.pluginName,b.actionType,b.actionName)),await this.actionsById[a]||this.parent?.lookupAction(a)}async lookupBackgroundAction(a){return(0,k.lookupBackgroundAction)(this,a)}registerAction(a,b,c){if(a!==b.__action.actionType)throw new m.GenkitError({status:"INVALID_ARGUMENT",message:`action type (${a}) does not match type on action (${b.__action.actionType})`});c?.namespace&&!b.__action.name.startsWith(`${c.namespace}/`)&&(b.__action.name=`${c.namespace}/${b.__action.name}`);let d=`/${a}/${b.__action.name}`;n.logger.debug(`registering ${d}`),this.actionsById.hasOwnProperty(d)&&n.logger.warn(`WARNING: ${d} already has an entry in the registry. Overwriting.`),this.actionsById[d]=b,b.__registry&&n.logger.error(`ERROR: ${d} already registered.`),b.__registry=this}registerActionAsync(a,b,c,d){d?.namespace&&!b.startsWith(`${d.namespace}/`)&&(b=`${d.namespace}/${b}`);let e=`/${a}/${b}`;n.logger.debug(`registering ${e} (async)`),this.actionsById.hasOwnProperty(e)&&n.logger.warn(`WARNING: ${e} already has an entry in the registry. Overwriting.`),this.actionsById[e]=c}async listActions(){await this.initializeAllPlugins();let a={};return await Promise.all(Object.entries(this.actionsById).map(async([b,c])=>{a[b]=await c})),{...await this.parent?.listActions(),...a}}async listResolvableActions(){let a={};for(let[b,c]of(await Promise.all(Object.entries(this.pluginsByName).map(async([b,c])=>{if(c.listActions)try{(await c.listActions()).forEach(c=>{if(!c.name)throw new m.GenkitError({status:"INVALID_ARGUMENT",message:`Invalid metadata when listing actions from ${b} - name required`});if(!c.actionType)throw new m.GenkitError({status:"INVALID_ARGUMENT",message:`Invalid metadata when listing actions from ${b} - actionType required`});a[`/${c.actionType}/${c.name}`]=c})}catch(a){n.logger.error(`Error listing actions for ${b}
`,a)}})),Object.entries(await this.listActions())))a[b]=c.__action;return{...await this.parent?.listResolvableActions(),...a}}async initializeAllPlugins(){if(!this.allPluginsInitialized){for(let a of Object.keys(this.pluginsByName))await this.initializePlugin(a);this.allPluginsInitialized=!0}}registerPluginProvider(a,b){let c;if(this.pluginsByName[a])throw Error(`Plugin ${a} already registered`);this.allPluginsInitialized=!1;let d=!1;this.pluginsByName[a]={name:b.name,initializer:()=>(d||(c=b.initializer(),d=!0),c),resolver:async(a,c)=>{b.resolver&&await b.resolver(a,c)},listActions:async()=>b.listActions?await b.listActions():[]}}lookupPlugin(a){return this.pluginsByName[a]||this.parent?.lookupPlugin(a)}async resolvePluginAction(a,b,c){let d=this.pluginsByName[a];if(d)return await (0,j.runOutsideActionRuntimeContext)(async()=>{d.resolver&&await d.resolver(b,c)})}async getDynamicAction(a){if(a.actionName.includes("*"))return;let b=`/dynamic-action-provider/${a.dynamicActionHost}`,c=await this.actionsById[b];if(c&&(0,l.isDynamicActionProvider)(c))return await c.getAction(a.actionType,a.actionName)}async initializePlugin(a){if(this.pluginsByName[a])return await (0,j.runOutsideActionRuntimeContext)(()=>this.pluginsByName[a].initializer())}registerSchema(a,b){if(this.schemasByName[a])throw Error(`Schema ${a} already registered`);this.schemasByName[a]=b}registerValue(a,b,c){this.valueByTypeAndName[a]||(this.valueByTypeAndName[a]={}),this.valueByTypeAndName[a][b]=c}async lookupValue(a,b){let c=function(a){let b=a.split("/");if(b.length>=4)return b[2]}(b);return!this.valueByTypeAndName[a]?.[b]&&c&&await this.initializePlugin(c),this.valueByTypeAndName[a]?.[b]||this.parent?.lookupValue(a,b)}async listValues(a){return await this.initializeAllPlugins(),{...await this.parent?.listValues(a)||{},...this.valueByTypeAndName[a]||{}}}lookupSchema(a){return this.schemasByName[a]||this.parent?.lookupSchema(a)}}},56458:(a,b)=>{"use strict";var c,d,e;Object.defineProperty(b,"__esModule",{value:!0}),b.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=b.DEFAULT_MAX_SEND_MESSAGE_LENGTH=b.Propagate=b.LogVerbosity=b.Status=void 0,function(a){a[a.OK=0]="OK",a[a.CANCELLED=1]="CANCELLED",a[a.UNKNOWN=2]="UNKNOWN",a[a.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",a[a.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",a[a.NOT_FOUND=5]="NOT_FOUND",a[a.ALREADY_EXISTS=6]="ALREADY_EXISTS",a[a.PERMISSION_DENIED=7]="PERMISSION_DENIED",a[a.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",a[a.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",a[a.ABORTED=10]="ABORTED",a[a.OUT_OF_RANGE=11]="OUT_OF_RANGE",a[a.UNIMPLEMENTED=12]="UNIMPLEMENTED",a[a.INTERNAL=13]="INTERNAL",a[a.UNAVAILABLE=14]="UNAVAILABLE",a[a.DATA_LOSS=15]="DATA_LOSS",a[a.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(c||(b.Status=c={})),function(a){a[a.DEBUG=0]="DEBUG",a[a.INFO=1]="INFO",a[a.ERROR=2]="ERROR",a[a.NONE=3]="NONE"}(d||(b.LogVerbosity=d={})),function(a){a[a.DEADLINE=1]="DEADLINE",a[a.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",a[a.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",a[a.CANCELLATION=8]="CANCELLATION",a[a.DEFAULTS=65535]="DEFAULTS"}(e||(b.Propagate=e={})),b.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,b.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},56679:(a,b,c)=>{"use strict";c.d(b,{yT:()=>f,zs:()=>d,RK:()=>e,ko:()=>g,AC:()=>h,Cn:()=>l,U2:()=>m,fP:()=>j,xQ:()=>k,Yb:()=>n,ky:()=>i,C3:()=>q,lb:()=>o,cV:()=>p,PL:()=>s,AV:()=>r,Pl:()=>u,$L:()=>t,y$:()=>v});var d="host.id",e="host.name",f="host.arch",g="os.type",h="os.version",i="process.pid",j="process.executable.name",k="process.executable.path",l="process.command",m="process.command_args",n="process.owner",o="process.runtime.name",p="process.runtime.version",q="process.runtime.description",r="service.name",s="service.instance.id",t="telemetry.sdk.name",u="telemetry.sdk.language",v="telemetry.sdk.version"},56823:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseOptionalDef=void 0;let d=c(31958),e=c(10715);b.parseOptionalDef=(a,b)=>{if(b.currentPath.toString()===b.propertyPath?.toString())return(0,d.parseDef)(a.innerType._def,b);let c=(0,d.parseDef)(a.innerType._def,{...b,currentPath:[...b.currentPath,"anyOf","1"]});return c?{anyOf:[{not:(0,e.parseAnyDef)(b)},c]}:(0,e.parseAnyDef)(b)}},57182:(a,b,c)=>{"use strict";c.d(b,{F:()=>k});var d=c(79361),e=c(56679),f=c(47314),g=c(29990),h=function(){return(h=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},i=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},j=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},k=function(){function a(a,b){var c,e=this;this._attributes=a,this.asyncAttributesPending=null!=b,this._syncAttributes=null!=(c=this._attributes)?c:{},this._asyncAttributesPromise=null==b?void 0:b.then(function(a){return e._attributes=Object.assign({},e._attributes,a),e.asyncAttributesPending=!1,a},function(a){return d.s.debug("a resource's async attributes promise rejected: %s",a),e.asyncAttributesPending=!1,{}})}return a.empty=function(){return a.EMPTY},a.default=function(){var b;return new a(((b={})[e.AV]=(0,g.m)(),b[e.Pl]=f.q[e.Pl],b[e.$L]=f.q[e.$L],b[e.y$]=f.q[e.y$],b))},Object.defineProperty(a.prototype,"attributes",{get:function(){var a;return this.asyncAttributesPending&&d.s.error("Accessing resource attributes before async attributes settled"),null!=(a=this._attributes)?a:{}},enumerable:!1,configurable:!0}),a.prototype.waitForAsyncAttributes=function(){var a,b,c,d;return a=this,b=void 0,c=void 0,d=function(){return i(this,function(a){switch(a.label){case 0:if(!this.asyncAttributesPending)return[3,2];return[4,this._asyncAttributesPromise];case 1:a.sent(),a.label=2;case 2:return[2]}})},new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},a.prototype.merge=function(b){var c,d=this;if(!b)return this;var e=h(h({},this._syncAttributes),null!=(c=b._syncAttributes)?c:b.attributes);return this._asyncAttributesPromise||b._asyncAttributesPromise?new a(e,Promise.all([this._asyncAttributesPromise,b._asyncAttributesPromise]).then(function(a){var c,e=j(a,2),f=e[0],g=e[1];return h(h(h(h({},d._syncAttributes),f),null!=(c=b._syncAttributes)?c:b.attributes),g)})):new a(e)},a.EMPTY=new a({}),a}()},57317:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b)=>new d(a,b).minor},57341:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseUndefinedDef=void 0;let d=c(10715);b.parseUndefinedDef=function(a){return{not:(0,d.parseAnyDef)(a)}}},57593:(a,b,c)=>{"use strict";let d=c(71635);a.exports=(a,b)=>{let c=d(a.trim().replace(/^[=v]+/,""),b);return c?c.version:null}},57599:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(26957),e=c(1430),f=c(30270),g=c(92861),h=c(90541),i=c(88834),j=c(38785),k=c(57756),l=c(22802),m=c(31486);b.default=[d.default,e.default,f.default,g.default,h.default,i.default,j.default,k.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,m.default]},57756:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(20351),e=c(38904),f=c(46178),g=c(27265);b.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:b}})=>(0,e.str)`must NOT have duplicate items (items ## ${b} and ${a} are identical)`,params:({params:{i:a,j:b}})=>(0,e._)`{i: ${a}, j: ${b}}`},code(a){let{gen:b,data:c,$data:h,schema:i,parentSchema:j,schemaCode:k,it:l}=a;if(!h&&!i)return;let m=b.let("valid"),n=j.items?(0,d.getSchemaTypes)(j.items):[];a.block$data(m,function(){let h=b.let("i",(0,e._)`${c}.length`),i=b.let("j");a.setParams({i:h,j:i}),b.assign(m,!0),b.if((0,e._)`${h} > 1`,()=>(n.length>0&&!n.some(a=>"object"===a||"array"===a)?function(f,g){let h=b.name("item"),i=(0,d.checkDataTypes)(n,h,l.opts.strictNumbers,d.DataType.Wrong),j=b.const("indices",(0,e._)`{}`);b.for((0,e._)`;${f}--;`,()=>{b.let(h,(0,e._)`${c}[${f}]`),b.if(i,(0,e._)`continue`),n.length>1&&b.if((0,e._)`typeof ${h} == "string"`,(0,e._)`${h} += "_"`),b.if((0,e._)`typeof ${j}[${h}] == "number"`,()=>{b.assign(g,(0,e._)`${j}[${h}]`),a.error(),b.assign(m,!1).break()}).code((0,e._)`${j}[${h}] = ${f}`)})}:function(d,h){let i=(0,f.useFunc)(b,g.default),j=b.name("outer");b.label(j).for((0,e._)`;${d}--;`,()=>b.for((0,e._)`${h} = ${d}; ${h}--;`,()=>b.if((0,e._)`${i}(${c}[${d}], ${c}[${h}])`,()=>{a.error(),b.assign(m,!1).break(j)})))})(h,i))},(0,e._)`${k} === false`),a.ok(m)}}},57976:(a,b,c)=>{"use strict";let d=c(71635);a.exports=(a,b)=>{let c=d(a,b);return c&&c.prerelease.length?c.prerelease:null}},58062:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0,b.Compiler=i,b.precompile=function(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new e.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);"data"in(b=b||{})||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),f=new c.Compiler().compile(d,b);return new c.JavaScriptCompiler().compile(f,b)},b.compile=function(a,b,c){if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new e.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);"data"in(b=f.extend({},b))||(b.data=!0),b.compat&&(b.useDepths=!0);var d=void 0;function g(){var d=c.parse(a,b),e=new c.Compiler().compile(d,b),f=new c.JavaScriptCompiler().compile(e,b,void 0,!0);return c.template(f)}function h(a,b){return d||(d=g()),d.call(this,a,b)}return h._setup=function(a){return d||(d=g()),d._setup(a)},h._child=function(a,b,c,e){return d||(d=g()),d._child(a,b,c,e)},h};var e=d(c(99008)),f=c(80496),g=d(c(68747)),h=[].slice;function i(){}function j(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}i.prototype={compiler:i,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!function a(b,c){if(b===c)return!0;if(f.isArray(b)&&f.isArray(c)&&b.length===c.length){for(var d=0;d<b.length;d++)if(!a(b[d],c[d]))return!1;return!0}}(d.args,e.args))return!1}b=this.children.length;for(var c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[],b.knownHelpers=f.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},b.knownHelpers),this.accept(a)},compileProgram:function(a){var b=new this.compiler().compile(a,this.options),c=this.guid++;return this.usePartial=this.usePartial||b.usePartial,this.children[c]=b,this.useDepths=this.useDepths||b.useDepths,c},accept:function(a){if(!this[a.type])throw new e.default("Unknown type: "+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;d<c;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){j(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode("registerDecorator",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new e.default("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,f="SubExpression"===a.name.type;f&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var g=a.indent||"";this.options.preventIndent&&g&&(this.opcode("appendContent",g),g=""),this.opcode("invokePartial",f,d,g),this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){j(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0];this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),d.strict=!0,this.accept(d),this.opcode("invokeAmbiguous",e,null!=b||null!=c)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),f=a.path,h=f.parts[0];if(this.options.knownHelpers[h])this.opcode("invokeKnownHelper",d.length,h);else if(this.options.knownHelpersOnly)throw new e.default("You specified knownHelpersOnly, but used the unknown helper "+h,a);else f.strict=!0,f.falsy=!0,this.accept(f),this.opcode("invokeHelper",d.length,f.original,g.default.helpers.simpleId(f))},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=g.default.helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");c<d;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:h.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=g.default.helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&g.default.helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],h=this.options;h.knownHelpers[f]?d=!0:h.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;b<c;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||g.default.helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else(b=a.original||b).replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;b<c;b++){var d=this.options.blockParams[b],e=d&&f.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},58302:function(a,b){var c,d;void 0===(d="function"==typeof(c=function(){var a={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},b={"*":!0};function c(a){return encodeURI(a).replace(/%25[0-9][0-9]/g,function(a){return"%"+a.substring(3)})}function d(a){return encodeURIComponent(a=a.replace(/%../g,""))===a}function e(f){if(!(this instanceof e))return new e(f);for(var g=f.split("{"),h=[g.shift()],i=[],j=[],k=[],l=[];g.length>0;){var m=g.shift(),n=m.split("}")[0],o=m.substring(n.length+1),p=function(e){var f="";a[e.charAt(0)]&&(f=e.charAt(0),e=e.substring(1));var g="",h="",i=!0,j=!1,k=!1;"+"==f?i=!1:"."==f?(h=".",g="."):"/"==f?(h="/",g="/"):"#"==f?(h="#",i=!1):";"==f?(h=";",g=";",j=!0,k=!0):"?"==f?(h="?",g="&",j=!0):"&"==f&&(h="&",g="&",j=!0);for(var l=[],m=e.split(","),n=[],o={},p=0;p<m.length;p++){var q=m[p],r=null;if(-1!=q.indexOf(":")){var s=q.split(":");q=s[0],r=parseInt(s[1])}for(var t={};b[q.charAt(q.length-1)];)t[q.charAt(q.length-1)]=!0,q=q.substring(0,q.length-1);var u={truncate:r,name:q,suffices:t};n.push(u),o[q]=u,l.push(q)}return{varNames:l,prefix:h,substitution:function(a){for(var b="",d=0,e=0;e<n.length;e++){var f=n[e],l=a(f.name);if(null==l||Array.isArray(l)&&0==l.length||"object"==typeof l&&0==Object.keys(l).length){d++;continue}if(e==d?b+=h:b+=g||",",Array.isArray(l)){j&&(b+=f.name+"=");for(var m=0;m<l.length;m++)m>0&&(b+=f.suffices["*"]&&g||",",f.suffices["*"]&&j&&(b+=f.name+"=")),b+=i?encodeURIComponent(l[m]).replace(/!/g,"%21"):c(l[m])}else if("object"==typeof l){j&&!f.suffices["*"]&&(b+=f.name+"=");var o=!0;for(var p in l)o||(b+=f.suffices["*"]&&g||","),o=!1,b+=i?encodeURIComponent(p).replace(/!/g,"%21"):c(p),b+=f.suffices["*"]?"=":",",b+=i?encodeURIComponent(l[p]).replace(/!/g,"%21"):c(l[p])}else j&&(b+=f.name,k&&""==l||(b+="=")),null!=f.truncate&&(l=l.substring(0,f.truncate)),b+=i?encodeURIComponent(l).replace(/!/g,"%21"):c(l)}return b},unSubstitution:function(a,b,c){if(h&&(a=a.substring(h.length)),1==n.length&&n[0].suffices["*"]){for(var e=n[0],f=e.name,k=e.suffices["*"]?a.split(g||","):[a],l=i&&-1!=a.indexOf("="),m=1;m<k.length;m++){var a=k[m];l&&-1==a.indexOf("=")&&(k[m-1]+=(g||",")+a,k.splice(m,1),m--)}for(var m=0;m<k.length;m++){var a=k[m];i&&-1!=a.indexOf("=")&&(l=!0);var p=a.split(",");1==p.length?k[m]=p[0]:k[m]=p}if(j||l){for(var q=b[f]||{},r=0;r<k.length;r++){var s=a;if(!j||s){if("string"==typeof k[r]){var a=k[r],t=a.split("=",1)[0],a=a.substring(t.length+1);if(i){if(c&&!d(a))return;a=decodeURIComponent(a)}s=a}else{var a=k[r][0],t=a.split("=",1)[0],a=a.substring(t.length+1);if(i){if(c&&!d(a))return;a=decodeURIComponent(a)}k[r][0]=a,s=k[r]}if(i){if(c&&!d(t))return;t=decodeURIComponent(t)}void 0!==q[t]?Array.isArray(q[t])?q[t].push(s):q[t]=[q[t],s]:q[t]=s}}1==Object.keys(q).length&&void 0!==q[f]?b[f]=q[f]:b[f]=q}else{if(i)for(var r=0;r<k.length;r++){var p=k[r];if(Array.isArray(p))for(var u=0;u<p.length;u++){if(c&&!d(p[u]))return;p[u]=decodeURIComponent(p[u])}else{if(c&&!d(p))return;k[r]=decodeURIComponent(p)}}void 0!==b[f]?Array.isArray(b[f])?b[f]=b[f].concat(k):b[f]=[b[f]].concat(k):1!=k.length||e.suffices["*"]?b[f]=k:b[f]=k[0]}}else{for(var k=1==n.length?[a]:a.split(g||","),v={},m=0;m<k.length;m++){for(var w=0;w<n.length-1&&w<m&&!n[w].suffices["*"];w++);if(w==m){v[m]=m;continue}for(var x=n.length-1;x>0&&n.length-x<k.length-m&&!n[x].suffices["*"];x--);if(n.length-x==k.length-m){v[m]=x;continue}v[m]=w}for(var m=0;m<k.length;m++){var a=k[m];if(a||!j){var p=a.split(","),l=!1;if(j){var a=p[0],f=a.split("=",1)[0],a=a.substring(f.length+1);p[0]=a;var e=o[f]||n[0]}else var e=n[v[m]],f=e.name;for(var r=0;r<p.length;r++)if(i){if(c&&!d(p[r]))return;p[r]=decodeURIComponent(p[r])}(j||e.suffices["*"])&&void 0!==b[f]?Array.isArray(b[f])?b[f]=b[f].concat(p):b[f]=[b[f]].concat(p):1!=p.length||e.suffices["*"]?b[f]=p:b[f]=p[0]}}}return 1}}}(n);j.push(p.substitution),k.push(p.unSubstitution),i.push(p.prefix),h.push(o),l=l.concat(p.varNames)}this.fill=function(a){if(a&&"function"!=typeof a){var b=a;a=function(a){return b[a]}}for(var c=h[0],d=0;d<j.length;d++)c+=(0,j[d])(a),c+=h[d+1];return c},this.fromUri=function(a,b){b=b||{};for(var c={},d=0;d<h.length;d++){var e=h[d];if(a.substring(0,e.length)!==e)return;if(a=a.substring(e.length),d>=h.length-1)if(""!=a)return;else break;var f=i[d];if(!f||a.substring(0,f.length)===f){for(var g=h[d+1],j=d;;){if(j==h.length-2){var l=a.substring(a.length-g.length);if(l!==g)return;var m=a.substring(0,a.length-g.length);a=l}else if(g){var n=a.indexOf(g),m=a.substring(0,n);a=a.substring(n)}else if(i[j+1]){var n=a.indexOf(i[j+1]);-1===n&&(n=a.length);var m=a.substring(0,n);a=a.substring(n)}else if(h.length>j+2){g=h[++j+1];continue}else{var m=a;a=""}break}if(!k[d](m,c,b.strict))return}}return c},this.varNames=l,this.template=f}return e.prototype={toString:function(){return this.template},fillFromObject:function(a){return this.fill(a)},test:function(a,b){return!!this.fromUri(a,b)}},e})?c.apply(b,[]):c)||(a.exports=d)},58337:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b)=>new d(a,b).major},58470:(a,b,c)=>{"use strict";var d=c(37451).WriteResult,e=c(37451).ReadResult,f=c(37451).BufferRW,g=c(8193);function h(a){for(var b=1;a>>=1;)b++;return b}a.exports.unsigned=f(function(a,b){if("number"!=typeof b||b<0)return a.reset(g.expected(b,"unsigned integer"));if(0===b)return a.reset(null,1);var c=Math.ceil(h(b)/7);return a.reset(null,c)},function(a,b,c){for(var d=c,f=0;c<b.length;){var g=b.readUInt8(c++,!0);if(0!==f&&(f<<=7),f+=127&g,!(128&g))return a.reset(null,c,f)}var h=c-d;return e.poolShortError(a,h+1,h,d,c)},function(a,b,c,e){if("number"!=typeof b||b<0)return a.reset(g.expected(b,"unsigned integer"),null);var f=Math.ceil(h(b)/7),i=e,j=e+f;if(j>c.length){var k=c.length-e;return d.poolShortError(a,f,k,e)}for(e=j;e>i;){var l=127&b;if(b>>=7,e!==j&&(l|=128),c.writeUInt8(l,--e,!0),b<=0)break}return a.reset(null,j)},!0)},58482:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{apiKey:()=>o,getContext:()=>n,runWithContext:()=>m}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(24275),j=c(50673),k=c(53369);let l="core.auth.context";function m(a,b){return void 0===a?b():(0,j.getAsyncContext)().run(l,a,()=>(0,i.runInActionRuntimeContext)(b))}function n(){return(0,j.getAsyncContext)().getStore(l)}function o(a){return async b=>{let c={auth:{apiKey:b.headers.authorization}};if("string"==typeof a){if(!c.auth?.apiKey)throw console.error("THROWING UNAUTHENTICATED"),new k.UserFacingError("UNAUTHENTICATED","Unauthenticated");if(c.auth?.apiKey!=a)throw console.error("Throwing PERMISSION_DENIED"),new k.UserFacingError("PERMISSION_DENIED","Permission Denied")}else if("function"==typeof a)await a(c);else if(void 0!==a)throw Error(`Invalid type ${typeof a} passed to apiKey()`);return c}}},58704:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(86224),e=c(11108),f=c(38623);b.tracer=null,b.spanContext=null,b.span=null,b.initialize=function(){b.tracer=new f.default,b.span=new d.default,b.spanContext=new e.default}},58948:(a,b,c)=>{"use strict";var d=c(89220),e=c(8193),f=c(28354),g=c(82740);function h(){}function i(a){this.annotations=a}c(32437),f.inherits(h,d.Base),h.prototype.name="i16",h.prototype.width=2,h.prototype.min=-32768,h.prototype.max=32767,h.prototype.poolReadFrom=function(a,b,c){var d=b.readInt16BE(c,!0);return a.reset(null,c+this.width,d)},h.prototype.poolWriteInto=function(a,b,c,f){var g=+b;if("string"!=typeof b&&"number"!=typeof b||!isFinite(g))return a.reset(new e.InvalidArgument({expected:"a number"}));var h=c.length-f;return h<this.width?d.WriteResult.poolShortError(a,this.width,h,f):b<this.min||b>this.max?a.reset(new e.RangeError({value:g,min:this.min,max:this.max})):(c.writeInt16BE(g,f,!0),a.reset(null,f+this.width))},h.prototype.poolByteLength=function(a,b){return a.reset(null,this.width)},i.prototype.rw=new h,i.prototype.name="i16",i.prototype.typeid=g.I16,i.prototype.surface=Number,i.prototype.models="type",a.exports.I16RW=h,a.exports.ThriftI16=i},59218:a=>{"use strict";let b=/^[0-9]+$/,c=(a,c)=>{if("number"==typeof a&&"number"==typeof c)return a===c?0:a<c?-1:1;let d=b.test(a),e=b.test(c);return d&&e&&(a*=1,c*=1),a===c?0:d&&!e?-1:e&&!d?1:a<c?-1:1};a.exports={compareIdentifiers:c,rcompareIdentifiers:(a,b)=>c(b,a)}},59320:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseIntersectionDef=void 0;let d=c(31958);b.parseIntersectionDef=function(a,b){let c=[(0,d.parseDef)(a.left._def,{...b,currentPath:[...b.currentPath,"allOf","0"]}),(0,d.parseDef)(a.right._def,{...b,currentPath:[...b.currentPath,"allOf","1"]})].filter(a=>!!a),e="jsonSchema2019-09"===b.target?{unevaluatedProperties:!1}:void 0,f=[];return c.forEach(a=>{if((!("type"in a)||"string"!==a.type)&&"allOf"in a)f.push(...a.allOf),void 0===a.unevaluatedProperties&&(e=void 0);else{let b=a;if("additionalProperties"in a&&!1===a.additionalProperties){let{additionalProperties:c,...d}=a;b=d}else e=void 0;f.push(b)}}),f.length?{allOf:f,...e}:void 0}},59366:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>0>d(a,b,c)},59368:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{initNodeTelemetryProvider:()=>q}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(50613),j=c(51859),k=c(42656),l=c(64089),m=c(49176),n=c(75151);let o=null,p=null;function q(){(0,l.setTelemetryProvider)({enableTelemetry:r,flushTracing:t})}async function r(a){process.env.GENKIT_TELEMETRY_SERVER&&(0,n.setTelemetryServerUrl)(process.env.GENKIT_TELEMETRY_SERVER),p=(a=a instanceof Promise?await a:a)||{};let b=[function(){let a=new n.TraceServerExporter;return(0,m.isDevEnv)()?new j.SimpleSpanProcessor(a):new j.BatchSpanProcessor(a)}()];if(p.traceExporter)throw Error("Please specify spanProcessors instead.");p.spanProcessors&&b.push(...p.spanProcessors),p.spanProcessor&&(b.push(p.spanProcessor),delete p.spanProcessor),p.spanProcessors=b,(o=new i.NodeSDK(p)).start(),process.on("SIGTERM",async()=>await s())}async function s(){o&&(await (p?.metricReader?p.metricReader.forceFlush():Promise.resolve()),await o.shutdown(),k.logger.debug("OpenTelemetry SDK shut down."),o=null)}async function t(){p?.spanProcessors&&await Promise.all(p.spanProcessors.map(a=>a.forceFlush()))}},59510:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extendSubschemaMode=b.extendSubschemaData=b.getSubschema=void 0;let d=c(38904),e=c(46178);b.getSubschema=function(a,{keyword:b,schemaProp:c,schema:f,schemaPath:g,errSchemaPath:h,topSchemaRef:i}){if(void 0!==b&&void 0!==f)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==b){let f=a.schema[b];return void 0===c?{schema:f,schemaPath:(0,d._)`${a.schemaPath}${(0,d.getProperty)(b)}`,errSchemaPath:`${a.errSchemaPath}/${b}`}:{schema:f[c],schemaPath:(0,d._)`${a.schemaPath}${(0,d.getProperty)(b)}${(0,d.getProperty)(c)}`,errSchemaPath:`${a.errSchemaPath}/${b}/${(0,e.escapeFragment)(c)}`}}if(void 0!==f){if(void 0===g||void 0===h||void 0===i)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:f,schemaPath:g,topSchemaRef:i,errSchemaPath:h}}throw Error('either "keyword" or "schema" must be passed')},b.extendSubschemaData=function(a,b,{dataProp:c,dataPropType:f,data:g,dataTypes:h,propertyName:i}){if(void 0!==g&&void 0!==c)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:j}=b;if(void 0!==c){let{errorPath:g,dataPathArr:h,opts:i}=b;k(j.let("data",(0,d._)`${b.data}${(0,d.getProperty)(c)}`,!0)),a.errorPath=(0,d.str)`${g}${(0,e.getErrorPath)(c,f,i.jsPropertySyntax)}`,a.parentDataProperty=(0,d._)`${c}`,a.dataPathArr=[...h,a.parentDataProperty]}function k(c){a.data=c,a.dataLevel=b.dataLevel+1,a.dataTypes=[],b.definedProperties=new Set,a.parentData=b.data,a.dataNames=[...b.dataNames,c]}void 0!==g&&(k(g instanceof d.Name?g:j.let("data",g,!0)),void 0!==i&&(a.propertyName=i)),h&&(a.dataTypes=h)},b.extendSubschemaMode=function(a,{jtdDiscriminator:b,jtdMetadata:c,compositeRule:d,createErrors:e,allErrors:f}){void 0!==d&&(a.compositeRule=d),void 0!==e&&(a.createErrors=e),void 0!==f&&(a.allErrors=f),a.jtdDiscriminator=b,a.jtdMetadata=c}},59524:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.contentVocabulary=b.metadataVocabulary=void 0,b.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],b.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},59816:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.errorUtil=void 0,function(a){a.errToObj=a=>"string"==typeof a?{message:a}:a||{},a.toString=a=>"string"==typeof a?a:a?.message}(c||(b.errorUtil=c={}))},60007:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.regexpCode=b.getEsmExportName=b.getProperty=b.safeStringify=b.stringify=b.strConcat=b.addCodeArg=b.str=b._=b.nil=b._Code=b.Name=b.IDENTIFIER=b._CodeOrName=void 0;class c{}b._CodeOrName=c,b.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class d extends c{constructor(a){if(super(),!b.IDENTIFIER.test(a))throw Error("CodeGen: name must be a valid identifier");this.str=a}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}b.Name=d;class e extends c{constructor(a){super(),this._items="string"==typeof a?[a]:a}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let a=this._items[0];return""===a||'""'===a}get str(){var a;return null!=(a=this._str)?a:this._str=this._items.reduce((a,b)=>`${a}${b}`,"")}get names(){var a;return null!=(a=this._names)?a:this._names=this._items.reduce((a,b)=>(b instanceof d&&(a[b.str]=(a[b.str]||0)+1),a),{})}}function f(a,...b){let c=[a[0]],d=0;for(;d<b.length;)i(c,b[d]),c.push(a[++d]);return new e(c)}b._Code=e,b.nil=new e(""),b._=f;let g=new e("+");function h(a,...b){let c=[j(a[0])],f=0;for(;f<b.length;)c.push(g),i(c,b[f]),c.push(g,j(a[++f]));return function(a){let b=1;for(;b<a.length-1;){if(a[b]===g){var c,e;let f=(c=a[b-1],'""'===(e=a[b+1])?c:'""'===c?e:"string"==typeof c?e instanceof d||'"'!==c[c.length-1]?void 0:"string"!=typeof e?`${c.slice(0,-1)}${e}"`:'"'===e[0]?c.slice(0,-1)+e.slice(1):void 0:"string"!=typeof e||'"'!==e[0]||c instanceof d?void 0:`"${c}${e.slice(1)}`);if(void 0!==f){a.splice(b-1,3,f);continue}a[b++]="+"}b++}}(c),new e(c)}function i(a,b){var c;b instanceof e?a.push(...b._items):b instanceof d?a.push(b):a.push("number"==typeof(c=b)||"boolean"==typeof c||null===c?c:j(Array.isArray(c)?c.join(","):c))}function j(a){return JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}b.str=h,b.addCodeArg=i,b.strConcat=function(a,b){return b.emptyStr()?a:a.emptyStr()?b:h`${a}${b}`},b.stringify=function(a){return new e(j(a))},b.safeStringify=j,b.getProperty=function(a){return"string"==typeof a&&b.IDENTIFIER.test(a)?new e(`.${a}`):f`[${a}]`},b.getEsmExportName=function(a){if("string"==typeof a&&b.IDENTIFIER.test(a))return new e(`${a}`);throw Error(`CodeGen: invalid export name: ${a}, use explicit $id name mapping`)},b.regexpCode=function(a){return new e(a.toString())}},60012:(a,b,c)=>{"use strict";c.d(b,{Z:()=>e});var d=c(76673);function e(a){return{attributes:(0,d.Zs)(a.attributes),droppedAttributesCount:0}}},60583:(a,b,c)=>{"use strict";var d=c(89220),e=c(82740),f=new d.VariableBuffer(d.Int32BE);function g(a){this.annotations=a}g.prototype.rw=f,g.prototype.name="binary",g.prototype.typeid=e.STRING,g.prototype.surface=Buffer,g.prototype.models="type",a.exports.BinaryRW=f,a.exports.ThriftBinary=g},60664:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.configureCompression=b.getCredentialsFromEnvironment=b.configureCredentials=b.validateAndNormalizeUrl=b.DEFAULT_COLLECTOR_URL=void 0;let d=c(68948),e=c(41625),f=c(33873),g=c(79551),h=c(29021),i=c(83442),j=c(96786);function k(){let a=function(){let a=(0,e.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE||(0,e.getEnv)().OTEL_EXPORTER_OTLP_CERTIFICATE;if(a)try{return h.readFileSync(f.resolve(process.cwd(),a))}catch(a){d.diag.warn("Failed to read root certificate file");return}}(),b=function(){let a=(0,e.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY||(0,e.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_KEY;if(a)try{return h.readFileSync(f.resolve(process.cwd(),a))}catch(a){d.diag.warn("Failed to read client certificate private key file");return}}(),c=function(){let a=(0,e.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE||(0,e.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE;if(a)try{return h.readFileSync(f.resolve(process.cwd(),a))}catch(a){d.diag.warn("Failed to read client certificate chain file");return}}();return(0,j.createSslCredentials)(a,b,c)}b.DEFAULT_COLLECTOR_URL="http://localhost:4317",b.validateAndNormalizeUrl=function(a){var b;a.match(/^([\w]{1,8}):\/\//)||(a=`https://${a}`);let c=new g.URL(a);return"unix:"===c.protocol?a:(c.pathname&&"/"!==c.pathname&&d.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored."),""===c.protocol||(null==(b=c.protocol)?void 0:b.match(/^(http)s?:$/))||d.diag.warn("URL protocol should be http(s)://. Using http://."),c.host)},b.configureCredentials=function(a,c){return a||(!c.startsWith("https://")&&(c.startsWith("http://")||c===b.DEFAULT_COLLECTOR_URL||function(){let a=(0,e.getEnv)().OTEL_EXPORTER_OTLP_TRACES_INSECURE||(0,e.getEnv)().OTEL_EXPORTER_OTLP_INSECURE;return!!a&&"true"===a.toLowerCase()}())?(0,j.createInsecureCredentials)():k())},b.getCredentialsFromEnvironment=k,b.configureCompression=function(a){if(null!=a)return a;let b=(0,e.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,e.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION;return"gzip"===b?i.CompressionAlgorithm.GZIP:("none"===b||d.diag.warn('Unknown compression "'+b+'", falling back to "none"'),i.CompressionAlgorithm.NONE)}},60910:(a,b)=>{"use strict";function c(a,b){return b.rules.some(b=>d(a,b))}function d(a,b){var c;return void 0!==a[b.keyword]||(null==(c=b.definition.implements)?void 0:c.some(b=>void 0!==a[b]))}Object.defineProperty(b,"__esModule",{value:!0}),b.shouldUseRule=b.shouldUseGroup=b.schemaHasRulesForType=void 0,b.schemaHasRulesForType=function({schema:a,self:b},d){let e=b.RULES.types[d];return e&&!0!==e&&c(a,e)},b.shouldUseGroup=c,b.shouldUseRule=d},61367:(a,b,c)=>{"use strict";function d(a){return a>=48&&a<=57?a-48:a>=97&&a<=102?a-87:a-55}function e(a){for(var b=new Uint8Array(a.length/2),c=0,e=0;e<a.length;e+=2){var f=d(a.charCodeAt(e)),g=d(a.charCodeAt(e+1));b[c++]=f<<4|g}return b}c.d(b,{Q:()=>e})},61710:(a,b)=>{var c={off:0,bold:1,italic:3,underline:4,blink:5,inverse:7,hidden:8,black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,black_bg:40,red_bg:41,green_bg:42,yellow_bg:43,blue_bg:44,magenta_bg:45,cyan_bg:46,white_bg:47};b.h=function(a,b){if(!b)return a;for(var d,e=b.split("+"),f="",g=0;d=e[g];g++)f+="\x1b["+c[d]+"m";return f+(a+"\x1b["+c.off+"m")}},61937:(a,b,c)=>{"use strict";var d;let e;Object.defineProperty(b,"__esModule",{value:!0}),b.discriminatedUnion=b.date=b.boolean=b.bigint=b.array=b.any=b.coerce=b.ZodFirstPartyTypeKind=b.late=b.ZodSchema=b.Schema=b.ZodReadonly=b.ZodPipeline=b.ZodBranded=b.BRAND=b.ZodNaN=b.ZodCatch=b.ZodDefault=b.ZodNullable=b.ZodOptional=b.ZodTransformer=b.ZodEffects=b.ZodPromise=b.ZodNativeEnum=b.ZodEnum=b.ZodLiteral=b.ZodLazy=b.ZodFunction=b.ZodSet=b.ZodMap=b.ZodRecord=b.ZodTuple=b.ZodIntersection=b.ZodDiscriminatedUnion=b.ZodUnion=b.ZodObject=b.ZodArray=b.ZodVoid=b.ZodNever=b.ZodUnknown=b.ZodAny=b.ZodNull=b.ZodUndefined=b.ZodSymbol=b.ZodDate=b.ZodBoolean=b.ZodBigInt=b.ZodNumber=b.ZodString=b.ZodType=void 0,b.NEVER=b.void=b.unknown=b.union=b.undefined=b.tuple=b.transformer=b.symbol=b.string=b.strictObject=b.set=b.record=b.promise=b.preprocess=b.pipeline=b.ostring=b.optional=b.onumber=b.oboolean=b.object=b.number=b.nullable=b.null=b.never=b.nativeEnum=b.nan=b.map=b.literal=b.lazy=b.intersection=b.instanceof=b.function=b.enum=b.effect=void 0,b.datetimeRegex=F,b.custom=ar;let f=c(3667),g=c(64062),h=c(59816),i=c(11293),j=c(78404);class k{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let l=(a,b)=>{if((0,i.isValid)(b))return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new f.ZodError(a.common.issues);return this._error=b,this._error}}};function m(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class n{get description(){return this._def.description}_getType(a){return(0,j.getParsedType)(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:(0,j.getParsedType)(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new i.ParseStatus,ctx:{common:a.parent.common,data:a.data,parsedType:(0,j.getParsedType)(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if((0,i.isAsync)(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,j.getParsedType)(a)},d=this._parseSync({data:a,path:c.path,parent:c});return l(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,j.getParsedType)(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return(0,i.isValid)(c)?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>(0,i.isValid)(a)?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,j.getParsedType)(a)},d=this._parse({data:a,path:c.path,parent:c});return l(c,await ((0,i.isAsync)(d)?d:Promise.resolve(d)))}refine(a,b){return this._refinement((c,d)=>{let e=a(c),g=()=>d.addIssue({code:f.ZodIssueCode.custom,..."string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(c):b});return"undefined"!=typeof Promise&&e instanceof Promise?e.then(a=>!!a||(g(),!1)):!!e||(g(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new ah({schema:this,typeName:d.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return ai.create(this,this._def)}nullable(){return aj.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return S.create(this)}promise(){return ag.create(this,this._def)}or(a){return U.create([this,a],this._def)}and(a){return X.create(this,a,this._def)}transform(a){return new ah({...m(this._def),schema:this,typeName:d.ZodEffects,effect:{type:"transform",transform:a}})}default(a){return new ak({...m(this._def),innerType:this,defaultValue:"function"==typeof a?a:()=>a,typeName:d.ZodDefault})}brand(){return new an({typeName:d.ZodBranded,type:this,...m(this._def)})}catch(a){return new al({...m(this._def),innerType:this,catchValue:"function"==typeof a?a:()=>a,typeName:d.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return ao.create(this,a)}readonly(){return ap.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}b.ZodType=n,b.Schema=n,b.ZodSchema=n;let o=/^c[^\s-]{8,}$/i,p=/^[0-9a-z]+$/,q=/^[0-9A-HJKMNP-TV-Z]{26}$/i,r=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,s=/^[a-z0-9_-]{21}$/i,t=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,u=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,v=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,w=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,x=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,y=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,z=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,A=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,B=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,C="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",D=RegExp(`^${C}$`);function E(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}function F(a){let b=`${C}T${E(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)}class G extends n{_parse(a){var b,c,d,g;let h;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==j.ZodParsedType.string){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.string,received:b.parsedType}),i.INVALID}let k=new i.ParseStatus;for(let l of this._def.checks)if("min"===l.kind)a.data.length<l.value&&(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{code:f.ZodIssueCode.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),k.dirty());else if("max"===l.kind)a.data.length>l.value&&(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{code:f.ZodIssueCode.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),k.dirty());else if("length"===l.kind){let b=a.data.length>l.value,c=a.data.length<l.value;(b||c)&&(h=this._getOrReturnCtx(a,h),b?(0,i.addIssueToContext)(h,{code:f.ZodIssueCode.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):c&&(0,i.addIssueToContext)(h,{code:f.ZodIssueCode.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),k.dirty())}else if("email"===l.kind)v.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"email",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty());else if("emoji"===l.kind)e||(e=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),e.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"emoji",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty());else if("uuid"===l.kind)r.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"uuid",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty());else if("nanoid"===l.kind)s.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"nanoid",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty());else if("cuid"===l.kind)o.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"cuid",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty());else if("cuid2"===l.kind)p.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"cuid2",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty());else if("ulid"===l.kind)q.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"ulid",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty());else if("url"===l.kind)try{new URL(a.data)}catch{h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"url",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"regex",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty())):"trim"===l.kind?a.data=a.data.trim():"includes"===l.kind?a.data.includes(l.value,l.position)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{code:f.ZodIssueCode.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),k.dirty()):"toLowerCase"===l.kind?a.data=a.data.toLowerCase():"toUpperCase"===l.kind?a.data=a.data.toUpperCase():"startsWith"===l.kind?a.data.startsWith(l.value)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{code:f.ZodIssueCode.invalid_string,validation:{startsWith:l.value},message:l.message}),k.dirty()):"endsWith"===l.kind?a.data.endsWith(l.value)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{code:f.ZodIssueCode.invalid_string,validation:{endsWith:l.value},message:l.message}),k.dirty()):"datetime"===l.kind?F(l).test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{code:f.ZodIssueCode.invalid_string,validation:"datetime",message:l.message}),k.dirty()):"date"===l.kind?D.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{code:f.ZodIssueCode.invalid_string,validation:"date",message:l.message}),k.dirty()):"time"===l.kind?RegExp(`^${E(l)}$`).test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{code:f.ZodIssueCode.invalid_string,validation:"time",message:l.message}),k.dirty()):"duration"===l.kind?u.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"duration",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty()):"ip"===l.kind?(b=a.data,!(("v4"===(c=l.version)||!c)&&w.test(b)||("v6"===c||!c)&&y.test(b))&&1&&(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"ip",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty())):"jwt"===l.kind?!function(a,b){if(!t.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}(a.data,l.alg)&&(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"jwt",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty()):"cidr"===l.kind?(d=a.data,!(("v4"===(g=l.version)||!g)&&x.test(d)||("v6"===g||!g)&&z.test(d))&&1&&(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"cidr",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty())):"base64"===l.kind?A.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"base64",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty()):"base64url"===l.kind?B.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,i.addIssueToContext)(h,{validation:"base64url",code:f.ZodIssueCode.invalid_string,message:l.message}),k.dirty()):j.util.assertNever(l);return{status:k.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:f.ZodIssueCode.invalid_string,...h.errorUtil.errToObj(c)})}_addCheck(a){return new G({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...h.errorUtil.errToObj(a)})}url(a){return this._addCheck({kind:"url",...h.errorUtil.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...h.errorUtil.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...h.errorUtil.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...h.errorUtil.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...h.errorUtil.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...h.errorUtil.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...h.errorUtil.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...h.errorUtil.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...h.errorUtil.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...h.errorUtil.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...h.errorUtil.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...h.errorUtil.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...h.errorUtil.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...h.errorUtil.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...h.errorUtil.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...h.errorUtil.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...h.errorUtil.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...h.errorUtil.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...h.errorUtil.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...h.errorUtil.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...h.errorUtil.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...h.errorUtil.errToObj(b)})}nonempty(a){return this.min(1,h.errorUtil.errToObj(a))}trim(){return new G({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new G({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new G({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}b.ZodString=G,G.create=a=>new G({checks:[],typeName:d.ZodString,coerce:a?.coerce??!1,...m(a)});class H extends n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==j.ZodParsedType.number){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.number,received:b.parsedType}),i.INVALID}let c=new i.ParseStatus;for(let d of this._def.checks)"int"===d.kind?j.util.isInteger(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==function(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}(a.data,d.value)&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.not_finite,message:d.message}),c.dirty()):j.util.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,h.errorUtil.toString(b))}gt(a,b){return this.setLimit("min",a,!1,h.errorUtil.toString(b))}lte(a,b){return this.setLimit("max",a,!0,h.errorUtil.toString(b))}lt(a,b){return this.setLimit("max",a,!1,h.errorUtil.toString(b))}setLimit(a,b,c,d){return new H({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:h.errorUtil.toString(d)}]})}_addCheck(a){return new H({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:h.errorUtil.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:h.errorUtil.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:h.errorUtil.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:h.errorUtil.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:h.errorUtil.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:h.errorUtil.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:h.errorUtil.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:h.errorUtil.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:h.errorUtil.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&j.util.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}b.ZodNumber=H,H.create=a=>new H({checks:[],typeName:d.ZodNumber,coerce:a?.coerce||!1,...m(a)});class I extends n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==j.ZodParsedType.bigint)return this._getInvalidInput(a);let c=new i.ParseStatus;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):j.util.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.bigint,received:b.parsedType}),i.INVALID}gte(a,b){return this.setLimit("min",a,!0,h.errorUtil.toString(b))}gt(a,b){return this.setLimit("min",a,!1,h.errorUtil.toString(b))}lte(a,b){return this.setLimit("max",a,!0,h.errorUtil.toString(b))}lt(a,b){return this.setLimit("max",a,!1,h.errorUtil.toString(b))}setLimit(a,b,c,d){return new I({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:h.errorUtil.toString(d)}]})}_addCheck(a){return new I({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:h.errorUtil.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:h.errorUtil.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:h.errorUtil.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:h.errorUtil.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:h.errorUtil.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}b.ZodBigInt=I,I.create=a=>new I({checks:[],typeName:d.ZodBigInt,coerce:a?.coerce??!1,...m(a)});class J extends n{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==j.ZodParsedType.boolean){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.boolean,received:b.parsedType}),i.INVALID}return(0,i.OK)(a.data)}}b.ZodBoolean=J,J.create=a=>new J({typeName:d.ZodBoolean,coerce:a?.coerce||!1,...m(a)});class K extends n{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==j.ZodParsedType.date){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.date,received:b.parsedType}),i.INVALID}if(Number.isNaN(a.data.getTime())){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_date}),i.INVALID}let c=new i.ParseStatus;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(b=this._getOrReturnCtx(a,b),(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):j.util.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new K({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:h.errorUtil.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:h.errorUtil.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}b.ZodDate=K,K.create=a=>new K({checks:[],coerce:a?.coerce||!1,typeName:d.ZodDate,...m(a)});class L extends n{_parse(a){if(this._getType(a)!==j.ZodParsedType.symbol){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.symbol,received:b.parsedType}),i.INVALID}return(0,i.OK)(a.data)}}b.ZodSymbol=L,L.create=a=>new L({typeName:d.ZodSymbol,...m(a)});class M extends n{_parse(a){if(this._getType(a)!==j.ZodParsedType.undefined){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.undefined,received:b.parsedType}),i.INVALID}return(0,i.OK)(a.data)}}b.ZodUndefined=M,M.create=a=>new M({typeName:d.ZodUndefined,...m(a)});class N extends n{_parse(a){if(this._getType(a)!==j.ZodParsedType.null){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.null,received:b.parsedType}),i.INVALID}return(0,i.OK)(a.data)}}b.ZodNull=N,N.create=a=>new N({typeName:d.ZodNull,...m(a)});class O extends n{constructor(){super(...arguments),this._any=!0}_parse(a){return(0,i.OK)(a.data)}}b.ZodAny=O,O.create=a=>new O({typeName:d.ZodAny,...m(a)});class P extends n{constructor(){super(...arguments),this._unknown=!0}_parse(a){return(0,i.OK)(a.data)}}b.ZodUnknown=P,P.create=a=>new P({typeName:d.ZodUnknown,...m(a)});class Q extends n{_parse(a){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.never,received:b.parsedType}),i.INVALID}}b.ZodNever=Q,Q.create=a=>new Q({typeName:d.ZodNever,...m(a)});class R extends n{_parse(a){if(this._getType(a)!==j.ZodParsedType.undefined){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.void,received:b.parsedType}),i.INVALID}return(0,i.OK)(a.data)}}b.ZodVoid=R,R.create=a=>new R({typeName:d.ZodVoid,...m(a)});class S extends n{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==j.ZodParsedType.array)return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.array,received:b.parsedType}),i.INVALID;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&((0,i.addIssueToContext)(b,{code:a?f.ZodIssueCode.too_big:f.ZodIssueCode.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&((0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&((0,i.addIssueToContext)(b,{code:f.ZodIssueCode.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new k(b,a,b.path,c)))).then(a=>i.ParseStatus.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new k(b,a,b.path,c)));return i.ParseStatus.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new S({...this._def,minLength:{value:a,message:h.errorUtil.toString(b)}})}max(a,b){return new S({...this._def,maxLength:{value:a,message:h.errorUtil.toString(b)}})}length(a,b){return new S({...this._def,exactLength:{value:a,message:h.errorUtil.toString(b)}})}nonempty(a){return this.min(1,a)}}b.ZodArray=S,S.create=(a,b)=>new S({type:a,minLength:null,maxLength:null,exactLength:null,typeName:d.ZodArray,...m(b)});class T extends n{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=j.util.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==j.ZodParsedType.object){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.object,received:b.parsedType}),i.INVALID}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),g=[];if(!(this._def.catchall instanceof Q&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||g.push(a);let h=[];for(let a of e){let b=d[a],e=c.data[a];h.push({key:{status:"valid",value:a},value:b._parse(new k(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof Q){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of g)h.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)g.length>0&&((0,i.addIssueToContext)(c,{code:f.ZodIssueCode.unrecognized_keys,keys:g}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of g){let d=c.data[b];h.push({key:{status:"valid",value:b},value:a._parse(new k(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of h){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>i.ParseStatus.mergeObjectSync(b,a)):i.ParseStatus.mergeObjectSync(b,h)}get shape(){return this._def.shape()}strict(a){return h.errorUtil.errToObj,new T({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:h.errorUtil.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new T({...this._def,unknownKeys:"strip"})}passthrough(){return new T({...this._def,unknownKeys:"passthrough"})}extend(a){return new T({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new T({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:d.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new T({...this._def,catchall:a})}pick(a){let b={};for(let c of j.util.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new T({...this._def,shape:()=>b})}omit(a){let b={};for(let c of j.util.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new T({...this._def,shape:()=>b})}deepPartial(){return function a(b){if(b instanceof T){let c={};for(let d in b.shape){let e=b.shape[d];c[d]=ai.create(a(e))}return new T({...b._def,shape:()=>c})}if(b instanceof S)return new S({...b._def,type:a(b.element)});if(b instanceof ai)return ai.create(a(b.unwrap()));if(b instanceof aj)return aj.create(a(b.unwrap()));if(b instanceof Y)return Y.create(b.items.map(b=>a(b)));else return b}(this)}partial(a){let b={};for(let c of j.util.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new T({...this._def,shape:()=>b})}required(a){let b={};for(let c of j.util.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof ai;)a=a._def.innerType;b[c]=a}return new T({...this._def,shape:()=>b})}keyof(){return ad(j.util.objectKeys(this.shape))}}b.ZodObject=T,T.create=(a,b)=>new T({shape:()=>a,unknownKeys:"strip",catchall:Q.create(),typeName:d.ZodObject,...m(b)}),T.strictCreate=(a,b)=>new T({shape:()=>a,unknownKeys:"strict",catchall:Q.create(),typeName:d.ZodObject,...m(b)}),T.lazycreate=(a,b)=>new T({shape:a,unknownKeys:"strip",catchall:Q.create(),typeName:d.ZodObject,...m(b)});class U extends n{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(function(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new f.ZodError(a.ctx.common.issues));return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_union,unionErrors:c}),i.INVALID});{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new f.ZodError(a));return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_union,unionErrors:e}),i.INVALID}}get options(){return this._def.options}}b.ZodUnion=U,U.create=(a,b)=>new U({options:a,typeName:d.ZodUnion,...m(b)});let V=a=>{if(a instanceof ab)return V(a.schema);if(a instanceof ah)return V(a.innerType());if(a instanceof ac)return[a.value];if(a instanceof ae)return a.options;if(a instanceof af)return j.util.objectValues(a.enum);else if(a instanceof ak)return V(a._def.innerType);else if(a instanceof M)return[void 0];else if(a instanceof N)return[null];else if(a instanceof ai)return[void 0,...V(a.unwrap())];else if(a instanceof aj)return[null,...V(a.unwrap())];else if(a instanceof an)return V(a.unwrap());else if(a instanceof ap)return V(a.unwrap());else if(a instanceof al)return V(a._def.innerType);else return[]};class W extends n{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==j.ZodParsedType.object)return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.object,received:b.parsedType}),i.INVALID;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):((0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),i.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let e=new Map;for(let c of b){let b=V(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let d of b){if(e.has(d))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(d)}`);e.set(d,c)}}return new W({typeName:d.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:e,...m(c)})}}b.ZodDiscriminatedUnion=W;class X extends n{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if((0,i.isAborted)(a)||(0,i.isAborted)(d))return i.INVALID;let e=function a(b,c){let d=(0,j.getParsedType)(b),e=(0,j.getParsedType)(c);if(b===c)return{valid:!0,data:b};if(d===j.ZodParsedType.object&&e===j.ZodParsedType.object){let d=j.util.objectKeys(c),e=j.util.objectKeys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1};f[d]=e.data}return{valid:!0,data:f}}if(d===j.ZodParsedType.array&&e===j.ZodParsedType.array){if(b.length!==c.length)return{valid:!1};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1};d.push(f.data)}return{valid:!0,data:d}}if(d===j.ZodParsedType.date&&e===j.ZodParsedType.date&&+b==+c)return{valid:!0,data:b};return{valid:!1}}(a.value,d.value);return e.valid?(((0,i.isDirty)(a)||(0,i.isDirty)(d))&&b.dirty(),{status:b.value,value:e.data}):((0,i.addIssueToContext)(c,{code:f.ZodIssueCode.invalid_intersection_types}),i.INVALID)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}b.ZodIntersection=X,X.create=(a,b,c)=>new X({left:a,right:b,typeName:d.ZodIntersection,...m(c)});class Y extends n{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==j.ZodParsedType.array)return(0,i.addIssueToContext)(c,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.array,received:c.parsedType}),i.INVALID;if(c.data.length<this._def.items.length)return(0,i.addIssueToContext)(c,{code:f.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.INVALID;!this._def.rest&&c.data.length>this._def.items.length&&((0,i.addIssueToContext)(c,{code:f.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new k(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>i.ParseStatus.mergeArray(b,a)):i.ParseStatus.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new Y({...this._def,rest:a})}}b.ZodTuple=Y,Y.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Y({items:a,typeName:d.ZodTuple,rest:null,...m(b)})};class Z extends n{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==j.ZodParsedType.object)return(0,i.addIssueToContext)(c,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.object,received:c.parsedType}),i.INVALID;let d=[],e=this._def.keyType,g=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new k(c,a,c.path,a)),value:g._parse(new k(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?i.ParseStatus.mergeObjectAsync(b,d):i.ParseStatus.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new Z(b instanceof n?{keyType:a,valueType:b,typeName:d.ZodRecord,...m(c)}:{keyType:G.create(),valueType:a,typeName:d.ZodRecord,...m(b)})}}b.ZodRecord=Z;class $ extends n{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==j.ZodParsedType.map)return(0,i.addIssueToContext)(c,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.map,received:c.parsedType}),i.INVALID;let d=this._def.keyType,e=this._def.valueType,g=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new k(c,a,c.path,[f,"key"])),value:e._parse(new k(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of g){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return i.INVALID;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of g){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return i.INVALID;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}b.ZodMap=$,$.create=(a,b,c)=>new $({valueType:b,keyType:a,typeName:d.ZodMap,...m(c)});class _ extends n{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==j.ZodParsedType.set)return(0,i.addIssueToContext)(c,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.set,received:c.parsedType}),i.INVALID;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&((0,i.addIssueToContext)(c,{code:f.ZodIssueCode.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&((0,i.addIssueToContext)(c,{code:f.ZodIssueCode.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function g(a){let c=new Set;for(let d of a){if("aborted"===d.status)return i.INVALID;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let h=[...c.data.values()].map((a,b)=>e._parse(new k(c,a,c.path,b)));return c.common.async?Promise.all(h).then(a=>g(a)):g(h)}min(a,b){return new _({...this._def,minSize:{value:a,message:h.errorUtil.toString(b)}})}max(a,b){return new _({...this._def,maxSize:{value:a,message:h.errorUtil.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}b.ZodSet=_,_.create=(a,b)=>new _({valueType:a,minSize:null,maxSize:null,typeName:d.ZodSet,...m(b)});class aa extends n{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==j.ZodParsedType.function)return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.function,received:b.parsedType}),i.INVALID;function c(a,c){return(0,i.makeIssue)({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,(0,g.getErrorMap)(),g.defaultErrorMap].filter(a=>!!a),issueData:{code:f.ZodIssueCode.invalid_arguments,argumentsError:c}})}function d(a,c){return(0,i.makeIssue)({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,(0,g.getErrorMap)(),g.defaultErrorMap].filter(a=>!!a),issueData:{code:f.ZodIssueCode.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},h=b.data;if(this._def.returns instanceof ag){let a=this;return(0,i.OK)(async function(...b){let g=new f.ZodError([]),i=await a._def.args.parseAsync(b,e).catch(a=>{throw g.addIssue(c(b,a)),g}),j=await Reflect.apply(h,this,i);return await a._def.returns._def.type.parseAsync(j,e).catch(a=>{throw g.addIssue(d(j,a)),g})})}{let a=this;return(0,i.OK)(function(...b){let g=a._def.args.safeParse(b,e);if(!g.success)throw new f.ZodError([c(b,g.error)]);let i=Reflect.apply(h,this,g.data),j=a._def.returns.safeParse(i,e);if(!j.success)throw new f.ZodError([d(i,j.error)]);return j.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new aa({...this._def,args:Y.create(a).rest(P.create())})}returns(a){return new aa({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new aa({args:a||Y.create([]).rest(P.create()),returns:b||P.create(),typeName:d.ZodFunction,...m(c)})}}b.ZodFunction=aa;class ab extends n{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}b.ZodLazy=ab,ab.create=(a,b)=>new ab({getter:a,typeName:d.ZodLazy,...m(b)});class ac extends n{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{received:b.data,code:f.ZodIssueCode.invalid_literal,expected:this._def.value}),i.INVALID}return{status:"valid",value:a.data}}get value(){return this._def.value}}function ad(a,b){return new ae({values:a,typeName:d.ZodEnum,...m(b)})}b.ZodLiteral=ac,ac.create=(a,b)=>new ac({value:a,typeName:d.ZodLiteral,...m(b)});class ae extends n{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return(0,i.addIssueToContext)(b,{expected:j.util.joinValues(c),received:b.parsedType,code:f.ZodIssueCode.invalid_type}),i.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return(0,i.addIssueToContext)(b,{received:b.data,code:f.ZodIssueCode.invalid_enum_value,options:c}),i.INVALID}return(0,i.OK)(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return ae.create(a,{...this._def,...b})}exclude(a,b=this._def){return ae.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}b.ZodEnum=ae,ae.create=ad;class af extends n{_parse(a){let b=j.util.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==j.ZodParsedType.string&&c.parsedType!==j.ZodParsedType.number){let a=j.util.objectValues(b);return(0,i.addIssueToContext)(c,{expected:j.util.joinValues(a),received:c.parsedType,code:f.ZodIssueCode.invalid_type}),i.INVALID}if(this._cache||(this._cache=new Set(j.util.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=j.util.objectValues(b);return(0,i.addIssueToContext)(c,{received:c.data,code:f.ZodIssueCode.invalid_enum_value,options:a}),i.INVALID}return(0,i.OK)(a.data)}get enum(){return this._def.values}}b.ZodNativeEnum=af,af.create=(a,b)=>new af({values:a,typeName:d.ZodNativeEnum,...m(b)});class ag extends n{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==j.ZodParsedType.promise&&!1===b.common.async)return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.promise,received:b.parsedType}),i.INVALID;let c=b.parsedType===j.ZodParsedType.promise?b.data:Promise.resolve(b.data);return(0,i.OK)(c.then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}b.ZodPromise=ag,ag.create=(a,b)=>new ag({type:a,typeName:d.ZodPromise,...m(b)});class ah extends n{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===d.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,e={addIssue:a=>{(0,i.addIssueToContext)(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(e.addIssue=e.addIssue.bind(e),"preprocess"===d.type){let a=d.transform(c.data,e);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return i.INVALID;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?i.INVALID:"dirty"===d.status||"dirty"===b.value?(0,i.DIRTY)(d.value):d});{if("aborted"===b.value)return i.INVALID;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?i.INVALID:"dirty"===d.status||"dirty"===b.value?(0,i.DIRTY)(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,e);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?i.INVALID:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?i.INVALID:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>(0,i.isValid)(a)?Promise.resolve(d.transform(a.value,e)).then(a=>({status:b.value,value:a})):i.INVALID);else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!(0,i.isValid)(a))return i.INVALID;let f=d.transform(a.value,e);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:f}}j.util.assertNever(d)}}b.ZodEffects=ah,b.ZodTransformer=ah,ah.create=(a,b,c)=>new ah({schema:a,typeName:d.ZodEffects,effect:b,...m(c)}),ah.createWithPreprocess=(a,b,c)=>new ah({schema:b,effect:{type:"preprocess",transform:a},typeName:d.ZodEffects,...m(c)});class ai extends n{_parse(a){return this._getType(a)===j.ZodParsedType.undefined?(0,i.OK)(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}b.ZodOptional=ai,ai.create=(a,b)=>new ai({innerType:a,typeName:d.ZodOptional,...m(b)});class aj extends n{_parse(a){return this._getType(a)===j.ZodParsedType.null?(0,i.OK)(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}b.ZodNullable=aj,aj.create=(a,b)=>new aj({innerType:a,typeName:d.ZodNullable,...m(b)});class ak extends n{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===j.ZodParsedType.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}b.ZodDefault=ak,ak.create=(a,b)=>new ak({innerType:a,typeName:d.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...m(b)});class al extends n{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return(0,i.isAsync)(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new f.ZodError(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new f.ZodError(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}b.ZodCatch=al,al.create=(a,b)=>new al({innerType:a,typeName:d.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...m(b)});class am extends n{_parse(a){if(this._getType(a)!==j.ZodParsedType.nan){let b=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(b,{code:f.ZodIssueCode.invalid_type,expected:j.ZodParsedType.nan,received:b.parsedType}),i.INVALID}return{status:"valid",value:a.data}}}b.ZodNaN=am,am.create=a=>new am({typeName:d.ZodNaN,...m(a)}),b.BRAND=Symbol("zod_brand");class an extends n{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}b.ZodBranded=an;class ao extends n{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?i.INVALID:"dirty"===a.status?(b.dirty(),(0,i.DIRTY)(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?i.INVALID:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new ao({in:a,out:b,typeName:d.ZodPipeline})}}b.ZodPipeline=ao;class ap extends n{_parse(a){let b=this._def.innerType._parse(a),c=a=>((0,i.isValid)(a)&&(a.value=Object.freeze(a.value)),a);return(0,i.isAsync)(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}function aq(a,b){let c="function"==typeof a?a(b):"string"==typeof a?{message:a}:a;return"string"==typeof c?{message:c}:c}function ar(a,b={},c){return a?O.create().superRefine((d,e)=>{let f=a(d);if(f instanceof Promise)return f.then(a=>{if(!a){let a=aq(b,d),f=a.fatal??c??!0;e.addIssue({code:"custom",...a,fatal:f})}});if(!f){let a=aq(b,d),f=a.fatal??c??!0;e.addIssue({code:"custom",...a,fatal:f})}}):O.create()}b.ZodReadonly=ap,ap.create=(a,b)=>new ap({innerType:a,typeName:d.ZodReadonly,...m(b)}),b.late={object:T.lazycreate},function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"}(d||(b.ZodFirstPartyTypeKind=d={})),b.instanceof=(a,b={message:`Input not instance of ${a.name}`})=>ar(b=>b instanceof a,b);let as=G.create;b.string=as;let at=H.create;b.number=at,b.nan=am.create,b.bigint=I.create;let au=J.create;b.boolean=au,b.date=K.create,b.symbol=L.create,b.undefined=M.create,b.null=N.create,b.any=O.create,b.unknown=P.create,b.never=Q.create,b.void=R.create,b.array=S.create,b.object=T.create,b.strictObject=T.strictCreate,b.union=U.create,b.discriminatedUnion=W.create,b.intersection=X.create,b.tuple=Y.create,b.record=Z.create,b.map=$.create,b.set=_.create,b.function=aa.create,b.lazy=ab.create,b.literal=ac.create,b.enum=ae.create,b.nativeEnum=af.create,b.promise=ag.create;let av=ah.create;b.effect=av,b.transformer=av,b.optional=ai.create,b.nullable=aj.create,b.preprocess=ah.createWithPreprocess,b.pipeline=ao.create,b.ostring=()=>as().optional(),b.onumber=()=>at().optional(),b.oboolean=()=>au().optional(),b.coerce={string:a=>G.create({...a,coerce:!0}),number:a=>H.create({...a,coerce:!0}),boolean:a=>J.create({...a,coerce:!0}),bigint:a=>I.create({...a,coerce:!0}),date:a=>K.create({...a,coerce:!0})},b.NEVER=i.INVALID},62147:(a,b,c)=>{"use strict";var d=c(42218),e=c(17350),f=c(32557),g=c(51139),h=c(85981);let i=(a,b)=>a.key<b.key?-1:+(a.key>b.key);class j{constructor({compat:a,customTags:b,merge:c,resolveKnownTags:j,schema:k,sortMapEntries:l,toStringDefaults:m}){this.compat=Array.isArray(a)?h.getTags(a,"compat"):a?h.getTags(null,a):null,this.name="string"==typeof k&&k||"core",this.knownTags=j?h.coreKnownTags:{},this.tags=h.getTags(b,this.name,c),this.toStringOptions=m??null,Object.defineProperty(this,d.MAP,{value:e.map}),Object.defineProperty(this,d.SCALAR,{value:g.string}),Object.defineProperty(this,d.SEQ,{value:f.seq}),this.sortMapEntries="function"==typeof l?l:!0===l?i:null}clone(){let a=Object.create(j.prototype,Object.getOwnPropertyDescriptors(this));return a.tags=this.tags.slice(),a}}b.Schema=j},62626:(a,b,c)=>{"use strict";c.r(b),c.d(b,{BatchLogRecordProcessor:()=>P,ConsoleLogRecordExporter:()=>D,InMemoryLogRecordExporter:()=>K,LogRecord:()=>p,LoggerProvider:()=>A,NoopLogRecordProcessor:()=>y,SimpleLogRecordProcessor:()=>H});var d=c(79361),e=c(24405),f=c(57182),g=c(35025),h=c(51064),i=c(20531),j=c(88018),k=c(58746),l=c(99591),m=c(32823),n=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},p=function(){function a(a,b,c){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;var d=c.timestamp,e=c.observedTimestamp,f=c.severityNumber,g=c.severityText,h=c.body,i=c.attributes,m=c.context,n=Date.now();if(this.hrTime=(0,l.KJ)(null!=d?d:n),this.hrTimeObserved=(0,l.KJ)(null!=e?e:n),m){var o=j.u.getSpanContext(m);o&&k.YA(o)&&(this.spanContext=o)}this.severityNumber=f,this.severityText=g,this.body=h,this.resource=a.resource,this.instrumentationScope=b,this._logRecordLimits=a.logRecordLimits,this.setAttributes(void 0===i?{}:i)}return Object.defineProperty(a.prototype,"severityText",{get:function(){return this._severityText},set:function(a){this._isLogRecordReadonly()||(this._severityText=a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"severityNumber",{get:function(){return this._severityNumber},set:function(a){this._isLogRecordReadonly()||(this._severityNumber=a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"body",{get:function(){return this._body},set:function(a){this._isLogRecordReadonly()||(this._body=a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"droppedAttributesCount",{get:function(){return this.totalAttributesCount-Object.keys(this.attributes).length},enumerable:!1,configurable:!0}),a.prototype.setAttribute=function(a,b){return this._isLogRecordReadonly()||null===b||(0===a.length?d.s.warn("Invalid attribute key: "+a):(0,m.m)(b)||"object"==typeof b&&!Array.isArray(b)&&Object.keys(b).length>0?(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,a))?1===this.droppedAttributesCount&&d.s.warn("Dropping extra attributes."):(0,m.m)(b)?this.attributes[a]=this._truncateToSize(b):this.attributes[a]=b:d.s.warn("Invalid attribute value set for key: "+a)),this},a.prototype.setAttributes=function(a){var b,c;try{for(var d=n(Object.entries(a)),e=d.next();!e.done;e=d.next()){var f=o(e.value,2),g=f[0],h=f[1];this.setAttribute(g,h)}}catch(a){b={error:a}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}return this},a.prototype.setBody=function(a){return this.body=a,this},a.prototype.setSeverityNumber=function(a){return this.severityNumber=a,this},a.prototype.setSeverityText=function(a){return this.severityText=a,this},a.prototype._makeReadonly=function(){this._isReadonly=!0},a.prototype._truncateToSize=function(a){var b=this,c=this._logRecordLimits.attributeValueLengthLimit;return c<=0?(d.s.warn("Attribute value limit must be positive, got "+c),a):"string"==typeof a?this._truncateToLimitUtil(a,c):Array.isArray(a)?a.map(function(a){return"string"==typeof a?b._truncateToLimitUtil(a,c):a}):a},a.prototype._truncateToLimitUtil=function(a,b){return a.length<=b?a:a.substring(0,b)},a.prototype._isLogRecordReadonly=function(){return this._isReadonly&&d.s.warn("Can not execute the operation on emitted log record"),this._isReadonly},a}(),q=function(){return(q=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},r=function(){function a(a,b){this.instrumentationScope=a,this._sharedState=b}return a.prototype.emit=function(a){var b=a.context||i._.active(),c=new p(this._sharedState,this.instrumentationScope,q({context:b},a));this._sharedState.activeProcessor.onEmit(c,b),c._makeReadonly()},a}(),s=c(66336),t=c(37579),u=c(24321),v=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},w=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},x=function(){function a(a,b){this.processors=a,this.forceFlushTimeoutMillis=b}return a.prototype.forceFlush=function(){return v(this,void 0,void 0,function(){var a;return w(this,function(b){switch(b.label){case 0:return a=this.forceFlushTimeoutMillis,[4,Promise.all(this.processors.map(function(b){return(0,u.o)(b.forceFlush(),a)}))];case 1:return b.sent(),[2]}})})},a.prototype.onEmit=function(a,b){this.processors.forEach(function(c){return c.onEmit(a,b)})},a.prototype.shutdown=function(){return v(this,void 0,void 0,function(){return w(this,function(a){switch(a.label){case 0:return[4,Promise.all(this.processors.map(function(a){return a.shutdown()}))];case 1:return a.sent(),[2]}})})},a}(),y=function(){function a(){}return a.prototype.forceFlush=function(){return Promise.resolve()},a.prototype.onEmit=function(a,b){},a.prototype.shutdown=function(){return Promise.resolve()},a}(),z=function(a,b,c){this.resource=a,this.forceFlushTimeoutMillis=b,this.logRecordLimits=c,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new y},A=function(){function a(a){void 0===a&&(a={});var b,c,d,e,i,j,k,l,m,n=(0,g.h)({},{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:(0,s._)().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,s._)().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0},a),o=f.F.default().merge(null!=(m=n.resource)?m:f.F.empty());this._sharedState=new z(o,n.forceFlushTimeoutMillis,(b=n.logRecordLimits,l=(0,s.w)(),{attributeCountLimit:null!=(e=null!=(d=null!=(c=b.attributeCountLimit)?c:l.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)?d:l.OTEL_ATTRIBUTE_COUNT_LIMIT)?e:t.fv,attributeValueLengthLimit:null!=(k=null!=(j=null!=(i=b.attributeValueLengthLimit)?i:l.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)?j:l.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)?k:t.aE})),this._shutdownOnce=new h.I(this._shutdown,this)}return a.prototype.getLogger=function(a,b,c){if(this._shutdownOnce.isCalled)return d.s.warn("A shutdown LoggerProvider cannot provide a Logger"),e.G;a||d.s.warn("Logger requested without instrumentation scope name.");var f=a||"unknown",g=f+"@"+(b||"")+":"+((null==c?void 0:c.schemaUrl)||"");return this._sharedState.loggers.has(g)||this._sharedState.loggers.set(g,new r({name:f,version:b,schemaUrl:null==c?void 0:c.schemaUrl},this._sharedState)),this._sharedState.loggers.get(g)},a.prototype.addLogRecordProcessor=function(a){0===this._sharedState.registeredLogRecordProcessors.length&&this._sharedState.activeProcessor.shutdown().catch(function(a){return d.s.error("Error while trying to shutdown current log record processor",a)}),this._sharedState.registeredLogRecordProcessors.push(a),this._sharedState.activeProcessor=new x(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)},a.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?(d.s.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()},a.prototype.shutdown=function(){return this._shutdownOnce.isCalled?(d.s.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()},a.prototype._shutdown=function(){return this._sharedState.activeProcessor.shutdown()},a}(),B=c(4875),C=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},D=function(){function a(){}return a.prototype.export=function(a,b){this._sendLogRecords(a,b)},a.prototype.shutdown=function(){return Promise.resolve()},a.prototype._exportInfo=function(a){var b,c,d;return{resource:{attributes:a.resource.attributes},timestamp:(0,l.w_)(a.hrTime),traceId:null==(b=a.spanContext)?void 0:b.traceId,spanId:null==(c=a.spanContext)?void 0:c.spanId,traceFlags:null==(d=a.spanContext)?void 0:d.traceFlags,severityText:a.severityText,severityNumber:a.severityNumber,body:a.body,attributes:a.attributes}},a.prototype._sendLogRecords=function(a,b){var c,d;try{for(var e=C(a),f=e.next();!f.done;f=e.next()){var g=f.value;console.dir(this._exportInfo(g),{depth:3})}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}null==b||b({code:B.V.SUCCESS})},a}(),E=c(41625),F=c(49127),G=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},H=function(){function a(a){this._exporter=a,this._shutdownOnce=new h.I(this._shutdown,this),this._unresolvedExports=new Set}return a.prototype.onEmit=function(a){var b,c,d=this;if(!this._shutdownOnce.isCalled){var e=function(){return E.internal._export(d._exporter,[a]).then(function(a){var b;a.code!==B.V.SUCCESS&&(0,F.s)(null!=(b=a.error)?b:Error("SimpleLogRecordProcessor: log record export failed (status "+a+")"))}).catch(F.s)};if(a.resource.asyncAttributesPending){var f=null==(c=(b=a.resource).waitForAsyncAttributes)?void 0:c.call(b).then(function(){return d._unresolvedExports.delete(f),e()},F.s);null!=f&&this._unresolvedExports.add(f)}else e()}},a.prototype.forceFlush=function(){var a,b,c,d;return a=this,b=void 0,c=void 0,d=function(){return G(this,function(a){switch(a.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return a.sent(),[2]}})},new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},a.prototype.shutdown=function(){return this._shutdownOnce.call()},a.prototype._shutdown=function(){return this._exporter.shutdown()},a}(),I=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},J=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},K=function(){function a(){this._finishedLogRecords=[],this._stopped=!1}return a.prototype.export=function(a,b){var c;if(this._stopped)return b({code:B.V.FAILED,error:Error("Exporter has been stopped")});(c=this._finishedLogRecords).push.apply(c,J([],I(a),!1)),b({code:B.V.SUCCESS})},a.prototype.shutdown=function(){return this._stopped=!0,this.reset(),Promise.resolve()},a.prototype.getFinishedLogRecords=function(){return this._finishedLogRecords},a.prototype.reset=function(){this._finishedLogRecords=[]},a}(),L=c(36769),M=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},N=function(){function a(a,b){this._exporter=a,this._finishedLogRecords=[];var c,e,f,g,i=(0,s._)();this._maxExportBatchSize=null!=(c=null==b?void 0:b.maxExportBatchSize)?c:i.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=null!=(e=null==b?void 0:b.maxQueueSize)?e:i.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=null!=(f=null==b?void 0:b.scheduledDelayMillis)?f:i.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=null!=(g=null==b?void 0:b.exportTimeoutMillis)?g:i.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new h.I(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(d.s.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return a.prototype.onEmit=function(a){this._shutdownOnce.isCalled||this._addToBuffer(a)},a.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},a.prototype.shutdown=function(){return this._shutdownOnce.call()},a.prototype._shutdown=function(){var a,b,c,d;return a=this,b=void 0,c=void 0,d=function(){return M(this,function(a){switch(a.label){case 0:return this.onShutdown(),[4,this._flushAll()];case 1:return a.sent(),[4,this._exporter.shutdown()];case 2:return a.sent(),[2]}})},new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},a.prototype._addToBuffer=function(a){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(a),this._maybeStartTimer())},a.prototype._flushAll=function(){var a=this;return new Promise(function(b,c){for(var d=[],e=Math.ceil(a._finishedLogRecords.length/a._maxExportBatchSize),f=0;f<e;f++)d.push(a._flushOneBatch());Promise.all(d).then(function(){b()}).catch(c)})},a.prototype._flushOneBatch=function(){var a=this;return(this._clearTimer(),0===this._finishedLogRecords.length)?Promise.resolve():new Promise(function(b,c){(0,u.o)(a._export(a._finishedLogRecords.splice(0,a._maxExportBatchSize)),a._exportTimeoutMillis).then(function(){return b()}).catch(c)})},a.prototype._maybeStartTimer=function(){var a=this;void 0===this._timer&&(this._timer=setTimeout(function(){a._flushOneBatch().then(function(){a._finishedLogRecords.length>0&&(a._clearTimer(),a._maybeStartTimer())}).catch(function(a){(0,F.s)(a)})},this._scheduledDelayMillis),(0,L.K)(this._timer))},a.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},a.prototype._export=function(a){var b=this,c=function(){return E.internal._export(b._exporter,a).then(function(a){var b;a.code!==B.V.SUCCESS&&(0,F.s)(null!=(b=a.error)?b:Error("BatchLogRecordProcessor: log record export failed (status "+a+")"))}).catch(F.s)},d=a.map(function(a){return a.resource}).filter(function(a){return a.asyncAttributesPending});return 0===d.length?c():Promise.all(d.map(function(a){var b;return null==(b=a.waitForAsyncAttributes)?void 0:b.call(a)})).then(c,F.s)},a}(),O=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),P=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return O(b,a),b.prototype.onShutdown=function(){},b}(N)},62710:(a,b,c)=>{"use strict";let{MAX_SAFE_COMPONENT_LENGTH:d,MAX_SAFE_BUILD_LENGTH:e,MAX_LENGTH:f}=c(45053),g=c(50627),h=(b=a.exports={}).re=[],i=b.safeRe=[],j=b.src=[],k=b.safeSrc=[],l=b.t={},m=0,n="[a-zA-Z0-9-]",o=[["\\s",1],["\\d",f],[n,e]],p=(a,b,c)=>{let d=(a=>{for(let[b,c]of o)a=a.split(`${b}*`).join(`${b}{0,${c}}`).split(`${b}+`).join(`${b}{1,${c}}`);return a})(b),e=m++;g(a,e,b),l[a]=e,j[e]=b,k[e]=d,h[e]=new RegExp(b,c?"g":void 0),i[e]=new RegExp(d,c?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${n}*`),p("MAINVERSION",`(${j[l.NUMERICIDENTIFIER]})\\.(${j[l.NUMERICIDENTIFIER]})\\.(${j[l.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${j[l.NUMERICIDENTIFIERLOOSE]})\\.(${j[l.NUMERICIDENTIFIERLOOSE]})\\.(${j[l.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${j[l.NONNUMERICIDENTIFIER]}|${j[l.NUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${j[l.NONNUMERICIDENTIFIER]}|${j[l.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASE",`(?:-(${j[l.PRERELEASEIDENTIFIER]}(?:\\.${j[l.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${j[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${j[l.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${n}+`),p("BUILD",`(?:\\+(${j[l.BUILDIDENTIFIER]}(?:\\.${j[l.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${j[l.MAINVERSION]}${j[l.PRERELEASE]}?${j[l.BUILD]}?`),p("FULL",`^${j[l.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${j[l.MAINVERSIONLOOSE]}${j[l.PRERELEASELOOSE]}?${j[l.BUILD]}?`),p("LOOSE",`^${j[l.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${j[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${j[l.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${j[l.XRANGEIDENTIFIER]})(?:\\.(${j[l.XRANGEIDENTIFIER]})(?:\\.(${j[l.XRANGEIDENTIFIER]})(?:${j[l.PRERELEASE]})?${j[l.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${j[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${j[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${j[l.XRANGEIDENTIFIERLOOSE]})(?:${j[l.PRERELEASELOOSE]})?${j[l.BUILD]}?)?)?`),p("XRANGE",`^${j[l.GTLT]}\\s*${j[l.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${j[l.GTLT]}\\s*${j[l.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${d}})(?:\\.(\\d{1,${d}}))?(?:\\.(\\d{1,${d}}))?`),p("COERCE",`${j[l.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",j[l.COERCEPLAIN]+`(?:${j[l.PRERELEASE]})?`+`(?:${j[l.BUILD]})?`+"(?:$|[^\\d])"),p("COERCERTL",j[l.COERCE],!0),p("COERCERTLFULL",j[l.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${j[l.LONETILDE]}\\s+`,!0),b.tildeTrimReplace="$1~",p("TILDE",`^${j[l.LONETILDE]}${j[l.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${j[l.LONETILDE]}${j[l.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${j[l.LONECARET]}\\s+`,!0),b.caretTrimReplace="$1^",p("CARET",`^${j[l.LONECARET]}${j[l.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${j[l.LONECARET]}${j[l.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${j[l.GTLT]}\\s*(${j[l.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${j[l.GTLT]}\\s*(${j[l.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${j[l.GTLT]}\\s*(${j[l.LOOSEPLAIN]}|${j[l.XRANGEPLAIN]})`,!0),b.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${j[l.XRANGEPLAIN]})\\s+-\\s+(${j[l.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${j[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${j[l.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},62806:(a,b,c)=>{"use strict";var d=c(27714);b.flowIndentCheck=function(a,b,c){if(b?.type==="flow-collection"){let e=b.end[0];e.indent===a&&("]"===e.source||"}"===e.source)&&d.containsNewline(b)&&c(e,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}},62890:(a,b)=>{"use strict";let c=Symbol("break visit"),d=Symbol("skip children"),e=Symbol("remove item");function f(a,b){"type"in a&&"document"===a.type&&(a={start:a.start,value:a.value}),function a(b,d,f){let g=f(d,b);if("symbol"==typeof g)return g;for(let h of["key","value"]){let i=d[h];if(i&&"items"in i){for(let d=0;d<i.items.length;++d){let g=a(Object.freeze(b.concat([[h,d]])),i.items[d],f);if("number"==typeof g)d=g-1;else{if(g===c)return c;g===e&&(i.items.splice(d,1),d-=1)}}"function"==typeof g&&"key"===h&&(g=g(d,b))}}return"function"==typeof g?g(d,b):g}(Object.freeze([]),a,b)}f.BREAK=c,f.SKIP=d,f.REMOVE=e,f.itemAtPath=(a,b)=>{let c=a;for(let[a,d]of b){let b=c?.[a];if(!b||!("items"in b))return;c=b.items[d]}return c},f.parentCollection=(a,b)=>{let c=f.itemAtPath(a,b.slice(0,-1)),d=b[b.length-1][0],e=c?.[d];if(e&&"items"in e)return e;throw Error("Parent collection not found")},b.visit=f},62934:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b},g=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.z=void 0;let h=f(c(1961));b.z=h,g(c(1961),b),b.default=h},63062:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JaegerExporter=void 0;let d=c(68948),e=c(26061),f=c(19185),g=c(99052),h=c(85584),i=c(51227);class j{constructor(a){let b=Object.assign({},a);this._onShutdownFlushTimeout="number"==typeof b.flushTimeout?b.flushTimeout:2e3;let c=(0,e.getEnv)();b.endpoint=b.endpoint||c.OTEL_EXPORTER_JAEGER_ENDPOINT,b.username=b.username||c.OTEL_EXPORTER_JAEGER_USER,b.password=b.password||c.OTEL_EXPORTER_JAEGER_PASSWORD,b.host=b.host||c.OTEL_EXPORTER_JAEGER_AGENT_HOST,b.port=b.port||c.OTEL_EXPORTER_JAEGER_AGENT_PORT,this._localConfig=b,this._shutdownOnce=new e.BindOnceFuture(this._shutdown,this)}export(a,b){if(!this._shutdownOnce.isCalled){if(0===a.length)return b({code:e.ExportResultCode.SUCCESS});d.diag.debug("Jaeger exporter export"),this._sendSpans(a,b).catch(a=>b({code:e.ExportResultCode.FAILED,error:a}))}}shutdown(){return this._shutdownOnce.call()}forceFlush(){return this._flush()}_shutdown(){return Promise.race([new Promise((a,b)=>{setTimeout(()=>b(Error("Flush timeout")),this._onShutdownFlushTimeout)}),this._flush()]).finally(()=>{var a;null==(a=this._sender)||a.close()})}async _sendSpans(a,b){let c=a.map(a=>(0,h.spanToThrift)(a));for(let a of c)try{await this._append(a)}catch(a){if(b)return b({code:e.ExportResultCode.FAILED,error:a})}if(d.diag.debug(`successful append for : ${c.length}`),await this._flush(),b)return process.nextTick(b,{code:e.ExportResultCode.SUCCESS})}async _append(a){return new Promise((b,c)=>{this._getSender(a).append(a,(a,d)=>{if(d)return c(Error(d));b(a)})})}_getSender(a){if(this._sender)return this._sender;let b=this._localConfig.endpoint?new i.HTTPSender(this._localConfig):new i.UDPSender(this._localConfig);b._client instanceof f.Socket&&b._client.unref();let c=a.tags.find(a=>a.key===g.SEMRESATTRS_SERVICE_NAME),d=(null==c?void 0:c.vStr)||"unknown_service";return b.setProcess({serviceName:d,tags:i.ThriftUtils.getThriftTags(this._localConfig.tags||[])}),this._sender=b,b}async _flush(){await new Promise((a,b)=>{if(!this._sender)return a();this._sender.flush((c,e)=>{if(e)return b(Error(e));d.diag.debug(`successful flush for ${c} spans`),a()})})}}b.JaegerExporter=j},63211:(a,b,c)=>{"use strict";var d=c(12412),e=c(89220),f=c(82625),g=c(82740),h=c(1148),i=c(32437),j=c(10346).s,k=c(28354),l=c(54465).C,m=c(20192).h;function n(a,b){d(a.isResult||a.id.value>0,"field identifier must be greater than 0 for "+JSON.stringify(a.name)+" on "+JSON.stringify(b.name)+" at "+a.id.line+":"+a.id.column),this.id=a.id.value,this.name=a.name,this.required=a.required,this.optional=a.optional,this.valueDefinition=a.valueType,this.valueType=null,this.defaultValueDefinition=a.defaultValue||b.defaultValueDefinition,this.defaultValue=null,this.annotations=a.annotations}function o(a){a=a||{},this.name=null,this.strict=void 0===a.strict||a.strict,this.defaultValueDefinition=a.defaultValueDefinition,this.fields=[],this.fieldNames=[],this.fieldsById={},this.fieldsByName={},this.isArgument=null,this.isResult=null,this.isException=a.isException||!1,this.Constructor=null,this.surface=null,this.rw=new this.RW(this),this.thrift=null,this.linked=!1,this.annotations=null}function p(a){d(a,"model required"),this.model=a,f.call(this)}n.prototype.link=function(a){this.valueType=a.resolve(this.valueDefinition),d(this.valueType,"value type was defined, as returned by resolve")},n.prototype.linkValue=function(a){this.defaultValue=a.resolveValue(this.defaultValueDefinition)},o.prototype.name="struct",o.prototype.typeid=g.STRUCT,o.prototype.RW=p,o.prototype.isUnion=!1,o.prototype.models="type",o.prototype.toBuffer=function(a){return e.toBuffer(this.rw,a)},o.prototype.toBufferResult=function(a){return e.toBufferResult(this.rw,a)},o.prototype.fromBuffer=function(a,b){return e.fromBuffer(this.rw,a,b)},o.prototype.fromBufferResult=function(a){return e.fromBufferResult(this.rw,a)},o.prototype.compile=function(a,b){this.name=a.annotations&&a.annotations["js.name"]||a.id.name,this.fullName=a.id.as||this.name,this.isArgument=a.isArgument||!1,this.isResult=a.isResult||!1,this.thrift=b;for(var c=a.fields,d=0;d<c.length;d++){var e=new n(c[d],this);e.name=e.annotations&&e.annotations["js.name"]||e.name,this.fieldsById[e.id]=e,this.fieldsByName[e.name]=e,this.fieldNames[d]=e.name,this.fields.push(e)}this.annotations=a.annotations},o.prototype.link=function(a){if(this.linked)return this;for(b=0,this.linked=!0;b<this.fields.length;b++){var b,c=this.fields[b];c.linkValue(a),this.isArgument&&(this.thrift.allowOptionalArguments?c.required||c.optional||void 0!==c.defaultValue||(c.optional=!0):c.optional?d.ok(!1,"no field of an argument struct may be marked optional including "+c.name+" of "+this.name+"; consider new Thrift({allowOptionalArguments: true})."):c.required=!0),this.strict&&d(c.required||c.optional||null!==c.defaultValue&&void 0!==c.defaultValue||this.isArgument||this.isResult||this.isUnion,"every field must be marked optional, required, or have a default value on "+this.name+' including "'+c.name+'" in strict mode')}for(b=0,this.Constructor=this.createConstructor(this.name,this.fields),this.Constructor.rw=this.rw,this.Constructor.fromBuffer=this.fromBuffer,this.Constructor.fromBufferResult=this.fromBufferResult,this.Constructor.toBuffer=this.toBuffer,this.Constructor.toBufferResult=this.toBufferResult,this.surface=this.Constructor;b<this.fields.length;b++)this.fields[b].link(a);return this.isUnion?a.unions[this.name]=this.Constructor:this.isException?a.exceptions[this.name]=this.Constructor:a.structs[this.name]=this.Constructor,/^[a-z]/.test(this.name)||(a[this.name]=this.Constructor),this},o.prototype.validateStruct=function(a){for(var b=0;b<this.fields.length;b++){var c=this.fields[b];if(c.required&&null==c.defaultValue&&null==(a&&a[c.name]))return i.FieldRequiredError({name:c.name,id:c.id,structName:this.name})}return null},o.prototype.createConstructor=function(a,b){var c;c="(function thriftrw_"+a+"(options) {\n";for(var d=0;d<b.length;d++){var e=b[d];c+="    if (options && typeof options."+e.name+' !== "undefined") { this.'+e.name+" = options."+e.name+"; }\n"+("    else { this."+e.name+" = "+JSON.stringify(e.defaultValue))+"; }\n"}return(0,eval)(c+="})\n")},o.prototype.create=function(){return new this.Constructor},o.prototype.set=function(a,b,c){a[b]=c},o.prototype.finalize=function(a){return a},k.inherits(p,f),p.prototype.poolByteLength=function(a,b){for(var c,d=1,e=0;e<this.model.fields.length;e++){var f=this.model.fields[e],g=b&&b[f.name],h=null!=g;if(!h&&f.required)return a.reset(i.FieldRequiredError({name:f.name,id:f.id,structName:this.model.name,what:b}));if(h){if(d+=3,(c=f.valueType.rw.poolByteLength(a,g)).err)return c;d+=c.length}}return a.reset(null,d)},p.prototype.poolWriteInto=function(a,b,c,d){for(var f,h=0;h<this.model.fields.length;h++){var j=this.model.fields[h],k=b&&b[j.name],l=null!=k;if(!l&&j.required)return a.reset(i.FieldRequiredError({name:j.name,id:j.id,structName:this.model.name,what:b}));if(l){if((f=e.Int8.poolWriteInto(a,j.valueType.typeid,c,d)).err||(d=f.offset,(f=e.Int16BE.poolWriteInto(a,j.id,c,d)).err)||(d=f.offset,(f=j.valueType.rw.poolWriteInto(a,k,c,d)).err))return f;d=f.offset}}return(f=e.Int8.poolWriteInto(a,g.STOP,c,d)).err?f:(d=f.offset,a.reset(null,d))},p.prototype.poolReadFrom=function(a,b,c){for(var d,f=this.model.create();;){if((d=e.Int8.poolReadFrom(a,b,c)).err)return d;c=d.offset;var k=d.value;if(k===g.STOP)break;if((d=e.Int16BE.poolReadFrom(a,b,c)).err)return d;c=d.offset;var n=d.value;if(!this.model.fieldsById[n]&&this.model.isResult){if((d=m(a,b,c,k)).err)return d;c=d.offset,this.model.set(f,"failure",new l(d.value));continue}if(!this.model.fieldsById[n]){if((d=j(a,b,c,k)).err)return d;c=d.offset;continue}var o=this.model.fieldsById[n];if(o.valueType.typeid!==k&&o.valueType.altTypeid!==k)return a.reset(i.UnexpectedFieldValueTypeidError({fieldId:n,fieldName:o.name,structName:this.model.name,typeid:k,typeName:h[k],expectedTypeid:o.valueType.typeid,expectedTypeName:h[o.valueType.typeid]}),c);if((d=o.valueType.rw.poolReadFrom(a,b,c)).err)return a.reset(d.err,c);c=d.offset,this.model.set(f,o.name,d.value)}var p=this.model.validateStruct(f);return p?a.reset(p,c):a.reset(null,c,this.model.finalize(f))},a.exports.N1=o},63268:(a,b,c)=>{"use strict";var d=c(20992),e=c(42218),f=c(6068),g=c(92180),h=c(955),i=c(93662);let j={composeNode:k,composeEmptyNode:l};function k(a,b,c,i){let k,m=a.atKey,{spaceBefore:n,comment:o,anchor:p,tag:q}=c,r=!0;switch(b.type){case"alias":k=function({options:a},{offset:b,source:c,end:e},f){let g=new d.Alias(c.substring(1));""===g.source&&f(b,"BAD_ALIAS","Alias cannot be an empty string"),g.source.endsWith(":")&&f(b+c.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let i=b+c.length,j=h.resolveEnd(e,i,a.strict,f);return g.range=[b,i,j.offset],j.comment&&(g.comment=j.comment),g}(a,b,i),(p||q)&&i(b,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":k=g.composeScalar(a,b,q,i),p&&(k.anchor=p.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":k=f.composeCollection(j,a,b,c,i),p&&(k.anchor=p.source.substring(1));break;default:{let d="error"===b.type?b.message:`Unsupported token (type: ${b.type})`;i(b,"UNEXPECTED_TOKEN",d),k=l(a,b.offset,void 0,null,c,i),r=!1}}return p&&""===k.anchor&&i(p,"BAD_ALIAS","Anchor cannot be an empty string"),m&&a.options.stringKeys&&(!e.isScalar(k)||"string"!=typeof k.value||k.tag&&"tag:yaml.org,2002:str"!==k.tag)&&i(q??b,"NON_STRING_KEY","With stringKeys, all keys must be strings"),n&&(k.spaceBefore=!0),o&&("scalar"===b.type&&""===b.source?k.comment=o:k.commentBefore=o),a.options.keepSourceTokens&&r&&(k.srcToken=b),k}function l(a,b,c,d,{spaceBefore:e,comment:f,anchor:h,tag:j,end:k},l){let m={type:"scalar",offset:i.emptyScalarPosition(b,c,d),indent:-1,source:""},n=g.composeScalar(a,m,j,l);return h&&(n.anchor=h.source.substring(1),""===n.anchor&&l(h,"BAD_ALIAS","Anchor cannot be an empty string")),e&&(n.spaceBefore=!0),f&&(n.comment=f,n.range[2]=k),n}b.composeEmptyNode=l,b.composeNode=k},63663:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ZipkinExporter:()=>t,prepareSend:()=>l});var d,e,f=c(79361),g=c(4875),h=c(81630),i=c(55591),j=c(79551),k=function(){return(k=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function l(a,b){var c=j.parse(a),d=Object.assign({method:"POST",headers:k({"Content-Type":"application/json"},b)},c);return function(a,b){if(0===a.length)return f.s.debug("Zipkin send with empty spans"),b({code:g.V.SUCCESS});var c=(0,("http:"===d.protocol?h:i).request)(d,function(a){var c="";a.on("data",function(a){c+=a}),a.on("end",function(){var d=a.statusCode||0;return(f.s.debug("Zipkin response status code: "+d+", body: "+c),d<400)?b({code:g.V.SUCCESS}):b({code:g.V.FAILED,error:Error("Got unexpected status code from zipkin: "+d)})})});c.on("error",function(a){return b({code:g.V.FAILED,error:a})});var e=JSON.stringify(a);f.s.debug("Zipkin request payload: "+e),c.write(e,"utf8"),c.end()}}var m=c(66336),n=c(33890),o=c(86847),p=c(99591);!function(a){a.CLIENT="CLIENT",a.SERVER="SERVER",a.CONSUMER="CONSUMER",a.PRODUCER="PRODUCER"}(d||(d={}));var q=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},r=((e={})[n.v.CLIENT]=d.CLIENT,e[n.v.SERVER]=d.SERVER,e[n.v.CONSUMER]=d.CONSUMER,e[n.v.PRODUCER]=d.PRODUCER,e[n.v.INTERNAL]=void 0,e),s="service.name",t=function(){function a(a){if(void 0===a&&(a={}),this.DEFAULT_SERVICE_NAME="OpenTelemetry Service",this._sendingPromises=[],this._urlStr=a.url||(0,m._)().OTEL_EXPORTER_ZIPKIN_ENDPOINT,this._send=l(this._urlStr,a.headers),this._serviceName=a.serviceName,this._statusCodeTagName=a.statusCodeTagName||"otel.status_code",this._statusDescriptionTagName=a.statusDescriptionTagName||"error",this._isShutdown=!1,"function"==typeof a.getExportRequestHeaders){var b;this._getHeaders=(b=a.getExportRequestHeaders,function(){return b()})}else this._beforeSend=function(){}}return a.prototype.export=function(a,b){var c=this,d=String(this._serviceName||a[0].resource.attributes[s]||this.DEFAULT_SERVICE_NAME);if(f.s.debug("Zipkin exporter export"),this._isShutdown)return void setTimeout(function(){return b({code:g.V.FAILED,error:Error("Exporter has been shutdown")})});var e=new Promise(function(e){c._sendSpans(a,d,function(a){e(),b(a)})});this._sendingPromises.push(e);var h=function(){var a=c._sendingPromises.indexOf(e);c._sendingPromises.splice(a,1)};e.then(h,h)},a.prototype.shutdown=function(){return f.s.debug("Zipkin exporter shutdown"),this._isShutdown=!0,this.forceFlush()},a.prototype.forceFlush=function(){var a=this;return new Promise(function(b,c){Promise.all(a._sendingPromises).then(function(){b()},c)})},a.prototype._beforeSend=function(){this._getHeaders&&(this._send=l(this._urlStr,this._getHeaders()))},a.prototype._sendSpans=function(a,b,c){var d=this,e=a.map(function(a){var c,e,f;return c=String(a.attributes[s]||a.resource.attributes[s]||b),e=d._statusCodeTagName,f=d._statusDescriptionTagName,{traceId:a.spanContext().traceId,parentId:a.parentSpanId,name:a.name,id:a.spanContext().spanId,kind:r[a.kind],timestamp:(0,p.w_)(a.startTime),duration:Math.round((0,p.w_)(a.duration)),localEndpoint:{serviceName:c},tags:function(a,b,c){var d,e,f=a.attributes,g=a.resource,h=a.status,i=a.droppedAttributesCount,j=a.droppedEventsCount,k=a.droppedLinksCount,l={};try{for(var m=q(Object.keys(f)),n=m.next();!n.done;n=m.next()){var p=n.value;l[p]=String(f[p])}}catch(a){d={error:a}}finally{try{n&&!n.done&&(e=m.return)&&e.call(m)}finally{if(d)throw d.error}}return h.code!==o.s.UNSET&&(l[b]=String(o.s[h.code])),h.code===o.s.ERROR&&h.message&&(l[c]=h.message),i&&(l["otel.dropped_attributes_count"]=String(i)),j&&(l["otel.dropped_events_count"]=String(j)),k&&(l["otel.dropped_links_count"]=String(k)),Object.keys(g.attributes).forEach(function(a){return l[a]=String(g.attributes[a])}),l}(a,e,f),annotations:a.events.length?a.events.map(function(a){return{timestamp:Math.round((0,p.w_)(a.time)),value:a.name}}):void 0}});return this._beforeSend(),this._send(e,function(a){if(c)return c(a)})},a}()},63711:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{InstrumentationLibrarySchema:()=>q,LinkSchema:()=>p,PathMetadataSchema:()=>j,SpanContextSchema:()=>o,SpanDataSchema:()=>r,SpanMetadataSchema:()=>l,SpanStatusSchema:()=>m,TimeEventSchema:()=>n,TraceDataSchema:()=>s,TraceMetadataSchema:()=>k}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(62934);let j=i.z.object({path:i.z.string(),status:i.z.string(),error:i.z.string().optional(),latency:i.z.number()}),k=i.z.object({featureName:i.z.string().optional(),paths:i.z.set(j).optional(),timestamp:i.z.number()}),l=i.z.object({name:i.z.string(),state:i.z.enum(["success","error"]).optional(),input:i.z.any().optional(),output:i.z.any().optional(),isRoot:i.z.boolean().optional(),metadata:i.z.record(i.z.string(),i.z.string()).optional(),path:i.z.string().optional(),isFailureSource:i.z.boolean().optional()}),m=i.z.object({code:i.z.number(),message:i.z.string().optional()}),n=i.z.object({time:i.z.number(),annotation:i.z.object({attributes:i.z.record(i.z.string(),i.z.any()),description:i.z.string()})}),o=i.z.object({traceId:i.z.string(),spanId:i.z.string(),isRemote:i.z.boolean().optional(),traceFlags:i.z.number()}),p=i.z.object({context:o.optional(),attributes:i.z.record(i.z.string(),i.z.any()).optional(),droppedAttributesCount:i.z.number().optional()}),q=i.z.object({name:i.z.string().readonly(),version:i.z.string().optional().readonly(),schemaUrl:i.z.string().optional().readonly()}),r=i.z.object({spanId:i.z.string(),traceId:i.z.string(),parentSpanId:i.z.string().optional(),startTime:i.z.number(),endTime:i.z.number(),attributes:i.z.record(i.z.string(),i.z.any()),displayName:i.z.string(),links:i.z.array(p).optional(),instrumentationLibrary:q,spanKind:i.z.string(),sameProcessAsParentSpan:i.z.object({value:i.z.boolean()}).optional(),status:m.optional(),timeEvents:i.z.object({timeEvent:i.z.array(n)}).optional(),truncated:i.z.boolean().optional()}),s=i.z.object({traceId:i.z.string(),displayName:i.z.string().optional(),startTime:i.z.number().optional().describe("trace start time in milliseconds since the epoch"),endTime:i.z.number().optional().describe("end time in milliseconds since the epoch"),spans:i.z.record(i.z.string(),r)})},63971:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateRetryThrottling=g,b.validateServiceConfig=h,b.extractAndSelectServiceConfig=function(a,b){for(let e of a)if(e.length>0&&e[0].startsWith("grpc_config=")){var c=JSON.parse(e.join("").substring(12));if(!Array.isArray(c))throw Error("Invalid service config list");for(let a of c){let c=function(a){if(!("serviceConfig"in a))throw Error("Invalid service config choice: missing service config");let b={serviceConfig:h(a.serviceConfig)};if("clientLanguage"in a)if(Array.isArray(a.clientLanguage))for(let c of(b.clientLanguage=[],a.clientLanguage))if("string"==typeof c)b.clientLanguage.push(c);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in a)if(Array.isArray(a.clientHostname))for(let c of(b.clientHostname=[],a.clientHostname))if("string"==typeof c)b.clientHostname.push(c);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname");if("percentage"in a)if("number"==typeof a.percentage&&0<=a.percentage&&a.percentage<=100)b.percentage=a.percentage;else throw Error("Invalid service config choice: invalid percentage");let c=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let b in a)if(!c.includes(b))throw Error(`Invalid service config choice: unexpected field ${b}`);return b}(a);if("number"!=typeof c.percentage||!(b>c.percentage)){if(Array.isArray(c.clientHostname)){let a=!1;for(let b of c.clientHostname)b===d.hostname()&&(a=!0);if(!a)continue}if(Array.isArray(c.clientLanguage)){let a=!1;for(let b of c.clientLanguage)"node"===b&&(a=!0);if(!a)continue}return c.serviceConfig}}throw Error("No matching service config found")}return null};let d=c(21820),e=c(56458),f=/^\d+(\.\d{1,9})?s$/;function g(a){if(!("maxTokens"in a)||"number"!=typeof a.maxTokens||a.maxTokens<=0||a.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in a)||"number"!=typeof a.tokenRatio||a.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+a.maxTokens.toFixed(3),tokenRatio:+a.tokenRatio.toFixed(3)}}function h(a){let b={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in a)if("string"==typeof a.loadBalancingPolicy)b.loadBalancingPolicy=a.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in a)if(Array.isArray(a.loadBalancingConfig))for(let c of a.loadBalancingConfig)b.loadBalancingConfig.push(function(a){if("object"!=typeof a||null===a)throw Error(`Invalid loadBalancingConfig: unexpected type ${typeof a}`);let b=Object.keys(a);if(b.length>1)throw Error(`Invalid loadBalancingConfig: unexpected multiple keys ${b}`);if(0===b.length)throw Error("Invalid loadBalancingConfig: load balancing policy name required");return{[b[0]]:a[b[0]]}}(c));else throw Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in a&&Array.isArray(a.methodConfig))for(let c of a.methodConfig)b.methodConfig.push(function(a){var b;let c={name:[]};if(!("name"in a)||!Array.isArray(a.name))throw Error("Invalid method config: invalid name array");for(let b of a.name)c.name.push(function(a){if("service"in a&&""!==a.service){if("string"!=typeof a.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof a.service}`);if(!("method"in a)||""===a.method)return{service:a.service};if("string"!=typeof a.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof a.service}`);return{service:a.service,method:a.method}}if("method"in a&&void 0!==a.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}(b));if("waitForReady"in a){if("boolean"!=typeof a.waitForReady)throw Error("Invalid method config: invalid waitForReady");c.waitForReady=a.waitForReady}if("timeout"in a)if("object"==typeof a.timeout){if(!("seconds"in a.timeout)||"number"!=typeof a.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in a.timeout)||"number"!=typeof a.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");c.timeout=a.timeout}else if("string"==typeof a.timeout&&f.test(a.timeout)){let d=a.timeout.substring(0,a.timeout.length-1).split(".");c.timeout={seconds:0|d[0],nanos:(null!=(b=d[1])?b:0)|0}}else throw Error("Invalid method config: invalid timeout");if("maxRequestBytes"in a){if("number"!=typeof a.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");c.maxRequestBytes=a.maxRequestBytes}if("maxResponseBytes"in a){if("number"!=typeof a.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");c.maxResponseBytes=a.maxResponseBytes}if("retryPolicy"in a)if("hedgingPolicy"in a)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");else c.retryPolicy=function(a){if(!("maxAttempts"in a)||!Number.isInteger(a.maxAttempts)||a.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in a)||"string"!=typeof a.initialBackoff||!f.test(a.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in a)||"string"!=typeof a.maxBackoff||!f.test(a.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in a)||"number"!=typeof a.backoffMultiplier||a.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in a&&Array.isArray(a.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===a.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let b of a.retryableStatusCodes)if("number"==typeof b){if(!Object.values(e.Status).includes(b))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof b){if(!Object.values(e.Status).includes(b.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:a.maxAttempts,initialBackoff:a.initialBackoff,maxBackoff:a.maxBackoff,backoffMultiplier:a.backoffMultiplier,retryableStatusCodes:a.retryableStatusCodes}}(a.retryPolicy);else"hedgingPolicy"in a&&(c.hedgingPolicy=function(a){if(!("maxAttempts"in a)||!Number.isInteger(a.maxAttempts)||a.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in a&&("string"!=typeof a.hedgingDelay||!f.test(a.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in a&&Array.isArray(a.nonFatalStatusCodes))for(let b of a.nonFatalStatusCodes)if("number"==typeof b){if(!Object.values(e.Status).includes(b))throw Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof b){if(!Object.values(e.Status).includes(b.toUpperCase()))throw Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");let b={maxAttempts:a.maxAttempts};return a.hedgingDelay&&(b.hedgingDelay=a.hedgingDelay),a.nonFatalStatusCodes&&(b.nonFatalStatusCodes=a.nonFatalStatusCodes),b}(a.hedgingPolicy));return c}(c));"retryThrottling"in a&&(b.retryThrottling=g(a.retryThrottling));let c=[];for(let a of b.methodConfig)for(let b of a.name){for(let a of c)if(b.service===a.service&&b.method===a.method)throw Error(`Invalid service config: duplicate name ${b.service}/${b.method}`);c.push(b)}return b}},63992:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateSchemaDeps=b.validatePropertyDeps=b.error=void 0;let d=c(38904),e=c(46178),f=c(55832);b.error={message:({params:{property:a,depsCount:b,deps:c}})=>(0,d.str)`must have ${1===b?"property":"properties"} ${c} when property ${a} is present`,params:({params:{property:a,depsCount:b,deps:c,missingProperty:e}})=>(0,d._)`{property: ${a},
    missingProperty: ${e},
    depsCount: ${b},
    deps: ${c}}`};let g={keyword:"dependencies",type:"object",schemaType:"object",error:b.error,code(a){let[b,c]=function({schema:a}){let b={},c={};for(let d in a)"__proto__"!==d&&((Array.isArray(a[d])?b:c)[d]=a[d]);return[b,c]}(a);h(a,b),i(a,c)}};function h(a,b=a.schema){let{gen:c,data:e,it:g}=a;if(0===Object.keys(b).length)return;let i=c.let("missing");for(let h in b){let j=b[h];if(0===j.length)continue;let k=(0,f.propertyInData)(c,e,h,g.opts.ownProperties);a.setParams({property:h,depsCount:j.length,deps:j.join(", ")}),g.allErrors?c.if(k,()=>{for(let b of j)(0,f.checkReportMissingProp)(a,b)}):(c.if((0,d._)`${k} && (${(0,f.checkMissingProp)(a,j,i)})`),(0,f.reportMissingProp)(a,i),c.else())}}function i(a,b=a.schema){let{gen:c,data:d,keyword:g,it:h}=a,j=c.name("valid");for(let i in b)(0,e.alwaysValidSchema)(h,b[i])||(c.if((0,f.propertyInData)(c,d,i,h.opts.ownProperties),()=>{let b=a.subschema({keyword:g,schemaProp:i},j);a.mergeValidEvaluated(b,j)},()=>c.var(j,!0)),a.ok(j))}b.validatePropertyDeps=h,b.validateSchemaDeps=i,b.default=g},64062:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.defaultErrorMap=void 0,b.setErrorMap=function(a){f=a},b.getErrorMap=function(){return f};let e=d(c(51809));b.defaultErrorMap=e.default;let f=e.default},64072:(a,b)=>{"use strict";function c(a){switch(a.type){case"block-scalar":{let b="";for(let d of a.props)b+=c(d);return b+a.source}case"block-map":case"block-seq":{let b="";for(let c of a.items)b+=d(c);return b}case"flow-collection":{let b=a.start.source;for(let c of a.items)b+=d(c);for(let c of a.end)b+=c.source;return b}case"document":{let b=d(a);if(a.end)for(let c of a.end)b+=c.source;return b}default:{let b=a.source;if("end"in a&&a.end)for(let c of a.end)b+=c.source;return b}}}function d({start:a,key:b,sep:d,value:e}){let f="";for(let b of a)f+=b.source;if(b&&(f+=c(b)),d)for(let a of d)f+=a.source;return e&&(f+=c(e)),f}b.stringify=a=>"type"in a?c(a):d(a)},64089:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i=(a,b,c)=>(h(a,b,"default"),c&&h(c,b,"default")),j={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(j,{enableTelemetry:()=>s,ensureBasicTelemetryInstrumentation:()=>o,flushTracing:()=>t,setTelemetryProvider:()=>r}),a.exports=h(d({},"__esModule",{value:!0}),j);var k=c(53369),l=c(42656);i(j,c(75151),a.exports),i(j,c(15750),a.exports),i(j,c(63711),a.exports);let m="__GENKIT_TELEMETRY_INSTRUMENTED",n="__GENKIT_TELEMETRY_PROVIDER";async function o(){if(await p(),global[m])return await global[m];await s({})}async function p(){if(!global[m]&&"true"===process.env.ENABLE_FIREBASE_MONITORING)try{let a=Function("moduleName","return import(moduleName)");(await a("@genkit-ai/firebase")).enableFirebaseTelemetry()}catch(a){l.logger.warn("It looks like you're trying to enable firebase monitoring, but haven't installed the firebase plugin. Please run `npm i --save @genkit-ai/firebase` and redeploy.")}}function q(){if(global[n])return global[n];throw new k.GenkitError({status:"FAILED_PRECONDITION",message:"TelemetryProvider is not initialized."})}function r(a){global[n]||(global[n]=a)}async function s(a){return global[m]=a instanceof Promise?a:Promise.resolve(),q().enableTelemetry(a)}async function t(){return q().flushTracing()}},64508:a=>{"use strict";let b=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),c=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function d(a){let b="",c=0,d=0;for(d=0;d<a.length;d++)if(48!==(c=a[d].charCodeAt(0))){if(!(c>=48&&c<=57||c>=65&&c<=70||c>=97&&c<=102))return"";b+=a[d];break}for(d+=1;d<a.length;d++){if(!((c=a[d].charCodeAt(0))>=48&&c<=57||c>=65&&c<=70||c>=97&&c<=102))return"";b+=a[d]}return b}function e(a){return a.length=0,!0}function f(a,b,c){if(a.length){let e=d(a);if(""===e)return c.error=!0,!1;b.push(e),a.length=0}return!0}function g(a){if(2>function(a,b){let c=0;for(let b=0;b<a.length;b++)":"===a[b]&&c++;return c}(a,":"))return{host:a,isIPV6:!1};let b=function(a){let b=0,c={error:!1,address:"",zone:""},g=[],h=[],i=!1,j=!1,k=f;for(let d=0;d<a.length;d++){let f=a[d];if("["!==f&&"]"!==f)if(":"===f){if(!0===i&&(j=!0),!k(h,g,c))break;if(++b>7){c.error=!0;break}d>0&&":"===a[d-1]&&(i=!0),g.push(":");continue}else if("%"===f){if(!k(h,g,c))break;k=e}else{h.push(f);continue}}return h.length&&(k===e?c.zone=h.join(""):j?g.push(h.join("")):g.push(d(h))),c.address=g.join(""),c}(a);if(b.error)return{host:a,isIPV6:!1};{let a=b.address,c=b.address;return b.zone&&(a+="%"+b.zone,c+="%25"+b.zone),{host:a,isIPV6:!0,escapedHost:c}}}a.exports={nonSimpleDomain:RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u),recomposeAuthority:function(a){let b=[];if(void 0!==a.userinfo&&(b.push(a.userinfo),b.push("@")),void 0!==a.host){let d=unescape(a.host);if(!c(d)){let b=g(d);d=!0===b.isIPV6?`[${b.escapedHost}]`:a.host}b.push(d)}return("number"==typeof a.port||"string"==typeof a.port)&&(b.push(":"),b.push(String(a.port))),b.length?b.join(""):void 0},normalizeComponentEncoding:function(a,b){let c=!0!==b?escape:unescape;return void 0!==a.scheme&&(a.scheme=c(a.scheme)),void 0!==a.userinfo&&(a.userinfo=c(a.userinfo)),void 0!==a.host&&(a.host=c(a.host)),void 0!==a.path&&(a.path=c(a.path)),void 0!==a.query&&(a.query=c(a.query)),void 0!==a.fragment&&(a.fragment=c(a.fragment)),a},removeDotSegments:function(a){let b=a,c=[],d=-1,e=0;for(;e=b.length;){if(1===e)if("."===b)break;else if("/"===b){c.push("/");break}else{c.push(b);break}if(2===e){if("."===b[0]){if("."===b[1])break;else if("/"===b[1]){b=b.slice(2);continue}}else if("/"===b[0]&&("."===b[1]||"/"===b[1])){c.push("/");break}}else if(3===e&&"/.."===b){0!==c.length&&c.pop(),c.push("/");break}if("."===b[0]){if("."===b[1]){if("/"===b[2]){b=b.slice(3);continue}}else if("/"===b[1]){b=b.slice(2);continue}}else if("/"===b[0]&&"."===b[1]){if("/"===b[2]){b=b.slice(2);continue}else if("."===b[2]&&"/"===b[3]){b=b.slice(3),0!==c.length&&c.pop();continue}}if(-1===(d=b.indexOf("/",1))){c.push(b);break}c.push(b.slice(0,d)),b=b.slice(d)}return c.join("")},isIPv4:c,isUUID:b,normalizeIPv6:g,stringArrayToHexStripped:d}},64593:(a,b,c)=>{"use strict";c.r(b),c.d(b,{InstrumentationBase:()=>F,InstrumentationNodeModuleDefinition:()=>H,InstrumentationNodeModuleFile:()=>I,isWrapped:()=>C,registerInstrumentations:()=>g,safeExecuteInTheMiddle:()=>A,safeExecuteInTheMiddleAsync:()=>B});var d=c(88018),e=c(52764),f=c(11394);function g(a){for(var b,c,g=a.tracerProvider||d.u.getTracerProvider(),h=a.meterProvider||e.q.getMeterProvider(),i=a.loggerProvider||f.logs.getLoggerProvider(),j=null!=(c=null==(b=a.instrumentations)?void 0:b.flat())?c:[],k=0,l=j.length;k<l;k++){var m=j[k];g&&m.setTracerProvider(g),h&&m.setMeterProvider(h),i&&m.setLoggerProvider&&m.setLoggerProvider(i),m.getConfig().enabled||m.enable()}return function(){j.forEach(function(a){return a.disable()})}}var h=c(33873),i=c(28354),j=c(16260),k=c(21807),l=c(79361),m=function(){return(m=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},n=function(){function a(a,b,c){this.instrumentationName=a,this.instrumentationVersion=b,this._wrap=k.wrap,this._unwrap=k.unwrap,this._massWrap=k.massWrap,this._massUnwrap=k.massUnwrap,this._config=m({enabled:!0},c),this._diag=l.s.createComponentLogger({namespace:a}),this._tracer=d.u.getTracer(a,b),this._meter=e.q.getMeter(a,b),this._logger=f.logs.getLogger(a,b),this._updateMetricInstruments()}return Object.defineProperty(a.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),a.prototype.setMeterProvider=function(a){this._meter=a.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(a.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),a.prototype.setLoggerProvider=function(a){this._logger=a.getLogger(this.instrumentationName,this.instrumentationVersion)},a.prototype.getModuleDefinitions=function(){var a,b=null!=(a=this.init())?a:[];return Array.isArray(b)?b:[b]},a.prototype._updateMetricInstruments=function(){},a.prototype.getConfig=function(){return this._config},a.prototype.setConfig=function(a){this._config=m({},a)},a.prototype.setTracerProvider=function(a){this._tracer=a.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(a.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),a.prototype._runSpanCustomizationHook=function(a,b,c,d){if(a)try{a(c,d)}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:b},a)}},a}(),o=c(19063),p=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},q=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},r=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},s=function(){this.hooks=[],this.children=new Map},t=function(){function a(){this._trie=new s,this._counter=0}return a.prototype.insert=function(a){var b,c,d=this._trie;try{for(var e=p(a.moduleName.split("/")),f=e.next();!f.done;f=e.next()){var g=f.value,h=d.children.get(g);h||(h=new s,d.children.set(g,h)),d=h}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}d.hooks.push({hook:a,insertedId:this._counter++})},a.prototype.search=function(a,b){var c,d,e=void 0===b?{}:b,f=e.maintainInsertionOrder,g=e.fullOnly,h=this._trie,i=[],j=!0;try{for(var k=p(a.split("/")),l=k.next();!l.done;l=k.next()){var m=l.value,n=h.children.get(m);if(!n){j=!1;break}g||i.push.apply(i,r([],q(n.hooks),!1)),h=n}}catch(a){c={error:a}}finally{try{l&&!l.done&&(d=k.return)&&d.call(k)}finally{if(c)throw c.error}}return(g&&j&&i.push.apply(i,r([],q(h.hooks),!1)),0===i.length)?[]:1===i.length?[i[0].hook]:(f&&i.sort(function(a,b){return a.insertedId-b.insertedId}),i.map(function(a){return a.hook}))},a}(),u=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},v=["afterEach","after","beforeEach","before","describe","it"].every(function(a){return"function"==typeof global[a]}),w=function(){function a(){this._moduleNameTrie=new t,this._initialize()}return a.prototype._initialize=function(){var a=this;new o.Hook(null,{internals:!0},function(b,c,d){var e,f,g,i=(e=c,"/"!==h.sep?e.split(h.sep).join("/"):e),j=a._moduleNameTrie.search(i,{maintainInsertionOrder:!0,fullOnly:void 0===d});try{for(var k=u(j),l=k.next();!l.done;l=k.next())b=(0,l.value.onRequire)(b,c,d)}catch(a){f={error:a}}finally{try{l&&!l.done&&(g=k.return)&&g.call(k)}finally{if(f)throw f.error}}return b})},a.prototype.register=function(a,b){var c={moduleName:a,onRequire:b};return this._moduleNameTrie.insert(c),c},a.getInstance=function(){var b;return v?new a:this._instance=null!=(b=this._instance)?b:new a},a}(),x=c(56801),y=c(29021),z=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}};function A(a,b,c){var d,e;try{e=a()}catch(a){d=a}finally{if(b(d,e),d&&!c)throw d;return e}}function B(a,b,c){var d,e,f,g;return d=this,e=void 0,f=void 0,g=function(){var d,e;return z(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,3,4]),[4,a()];case 1:return e=f.sent(),[3,4];case 2:return d=f.sent(),[3,4];case 3:if(b(d,e),d&&!c)throw d;return[2,e];case 4:return[2]}})},new(f||(f=Promise))(function(a,b){function c(a){try{i(g.next(a))}catch(a){b(a)}}function h(a){try{i(g.throw(a))}catch(a){b(a)}}function i(b){var d;b.done?a(b.value):((d=b.value)instanceof f?d:new f(function(a){a(d)})).then(c,h)}i((g=g.apply(d,e||[])).next())})}function C(a){return"function"==typeof a&&"function"==typeof a.__original&&"function"==typeof a.__unwrap&&!0===a.__wrapped}var D=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),E=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},F=function(a){function b(b,c,d){var e=a.call(this,b,c,d)||this;e._hooks=[],e._requireInTheMiddleSingleton=w.getInstance(),e._enabled=!1,e._wrap=function(a,b,c){if(C(a[b])&&e._unwrap(a,b),!i.types.isProxy(a))return(0,k.wrap)(a,b,c);var d=(0,k.wrap)(Object.assign({},a),b,c);return Object.defineProperty(a,b,{value:d})},e._unwrap=function(a,b){return i.types.isProxy(a)?Object.defineProperty(a,b,{value:a[b]}):(0,k.unwrap)(a,b)},e._massWrap=function(a,b,c){return a?(Array.isArray(a)||(a=[a]),b&&Array.isArray(b))?void a.forEach(function(a){b.forEach(function(b){e._wrap(a,b,c)})}):void l.s.error("must provide one or more functions to wrap on modules"):void l.s.error("must provide one or more modules to patch")},e._massUnwrap=function(a,b){return a?(Array.isArray(a)||(a=[a]),b&&Array.isArray(b))?void a.forEach(function(a){b.forEach(function(b){e._unwrap(a,b)})}):void l.s.error("must provide one or more functions to wrap on modules"):void l.s.error("must provide one or more modules to patch")};var f=e.init();return f&&!Array.isArray(f)&&(f=[f]),e._modules=f||[],0===e._modules.length&&l.s.debug("No modules instrumentation has been defined for "+("'"+e.instrumentationName+"@")+e.instrumentationVersion+"', nothing will be patched"),e._config.enabled&&e.enable(),e}return D(b,a),b.prototype._warnOnPreloadedModules=function(){var a=this;this._modules.forEach(function(b){var d=b.name;try{var e=c(47002).resolve(d);c.c[e]&&a._diag.warn("Module "+d+" has been loaded before "+a.instrumentationName+" so it might not work, please initialize it before requiring "+d)}catch(a){}})},b.prototype._extractPackageVersion=function(a){try{var b=(0,y.readFileSync)(h.join(a,"package.json"),{encoding:"utf8"}),c=JSON.parse(b).version;return"string"==typeof c?c:void 0}catch(b){l.s.warn("Failed extracting version",a)}},b.prototype._onRequire=function(a,b,c,d){var e,f=this;if(!d)return"function"==typeof a.patch&&(a.moduleExports=b,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:a.name}),a.patch(b)):b;var g=this._extractPackageVersion(d);if(a.moduleVersion=g,a.name===c)return G(a.supportedVersions,g,a.includePrerelease)&&"function"==typeof a.patch&&(a.moduleExports=b,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:a.name,version:a.moduleVersion,baseDir:d}),a.patch(b,a.moduleVersion)):b;var i=null!=(e=a.files)?e:[],j=h.normalize(c);return i.filter(function(a){return a.name===j}).filter(function(b){return G(b.supportedVersions,g,a.includePrerelease)}).reduce(function(b,c){return(c.moduleExports=b,f._enabled)?(f._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:a.name,version:a.moduleVersion,fileName:c.name,baseDir:d}),c.patch(b,a.moduleVersion)):b},b)},b.prototype.enable=function(){var a,b,c,d,e,f,g=this;if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){try{for(var i=E(this._modules),j=i.next();!j.done;j=i.next()){var k=j.value;"function"==typeof k.patch&&k.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:k.name,version:k.moduleVersion}),k.patch(k.moduleExports,k.moduleVersion));try{for(var l=(c=void 0,E(k.files)),m=l.next();!m.done;m=l.next()){var n=m.value;n.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:k.name,version:k.moduleVersion,fileName:n.name}),n.patch(n.moduleExports,k.moduleVersion))}}catch(a){c={error:a}}finally{try{m&&!m.done&&(d=l.return)&&d.call(l)}finally{if(c)throw c.error}}}}catch(b){a={error:b}}finally{try{j&&!j.done&&(b=i.return)&&b.call(i)}finally{if(a)throw a.error}}return}this._warnOnPreloadedModules();var p=function(a){var b=function(b,c,d){return g._onRequire(a,b,c,d)},c=h.isAbsolute(a.name)?new o.Hook([a.name],{internals:!0},b):q._requireInTheMiddleSingleton.register(a.name,b);q._hooks.push(c);var d=new x.Hook([a.name],{internals:!1},function(b,c,d){return g._onRequire(a,b,c,d)});q._hooks.push(d)},q=this;try{for(var r=E(this._modules),s=r.next();!s.done;s=r.next()){var t=s.value;p(t)}}catch(a){e={error:a}}finally{try{s&&!s.done&&(f=r.return)&&f.call(r)}finally{if(e)throw e.error}}}},b.prototype.disable=function(){var a,b,c,d;if(this._enabled){this._enabled=!1;try{for(var e=E(this._modules),f=e.next();!f.done;f=e.next()){var g=f.value;"function"==typeof g.unpatch&&g.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:g.name,version:g.moduleVersion}),g.unpatch(g.moduleExports,g.moduleVersion));try{for(var h=(c=void 0,E(g.files)),i=h.next();!i.done;i=h.next()){var j=i.value;j.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:g.name,version:g.moduleVersion,fileName:j.name}),j.unpatch(j.moduleExports,g.moduleVersion))}}catch(a){c={error:a}}finally{try{i&&!i.done&&(d=h.return)&&d.call(h)}finally{if(c)throw c.error}}}}catch(b){a={error:b}}finally{try{f&&!f.done&&(b=e.return)&&b.call(e)}finally{if(a)throw a.error}}}},b.prototype.isEnabled=function(){return this._enabled},b}(n);function G(a,b,c){return void 0===b?a.includes("*"):a.some(function(a){return(0,j.satisfies)(b,a,{includePrerelease:c})})}var H=function(a,b,c,d,e){this.name=a,this.supportedVersions=b,this.patch=c,this.unpatch=d,this.files=e||[]},I=function(a,b,c,d){this.supportedVersions=b,this.patch=c,this.unpatch=d,this.name=(0,h.normalize)(a)}},64710:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseBigintDef=void 0;let d=c(50130);b.parseBigintDef=function(a,b){let c={type:"integer",format:"int64"};if(!a.checks)return c;for(let e of a.checks)switch(e.kind){case"min":"jsonSchema7"===b.target?e.inclusive?(0,d.setResponseValueAndErrors)(c,"minimum",e.value,e.message,b):(0,d.setResponseValueAndErrors)(c,"exclusiveMinimum",e.value,e.message,b):(e.inclusive||(c.exclusiveMinimum=!0),(0,d.setResponseValueAndErrors)(c,"minimum",e.value,e.message,b));break;case"max":"jsonSchema7"===b.target?e.inclusive?(0,d.setResponseValueAndErrors)(c,"maximum",e.value,e.message,b):(0,d.setResponseValueAndErrors)(c,"exclusiveMaximum",e.value,e.message,b):(e.inclusive||(c.exclusiveMaximum=!0),(0,d.setResponseValueAndErrors)(c,"maximum",e.value,e.message,b));break;case"multipleOf":(0,d.setResponseValueAndErrors)(c,"multipleOf",e.value,e.message,b)}return c}},64905:(a,b,c)=>{"use strict";b.__esModule=!0,b.createNewLookupObject=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return d.extend.apply(void 0,[Object.create(null)].concat(b))};var d=c(80496)},65076:(a,b,c)=>{a.exports=g;var d=c(28354).inherits,e=c(37451).BufferRW,f=c(8193);function g(a,b,c){if(!(this instanceof g))return new g(a,b,c);c=c||{},this.valrw=a,this.cases=b,this.cons=c.cons||h,this.valKey=c.valKey||"0",this.dataKey=c.dataKey||"1",c.structMode&&(this.poolReadFrom=this.structReadFrom),e.call(this)}function h(a,b){Array.call(this),this[0]=a,this[1]=b}d(g,e),g.prototype.poolByteLength=function(a,b){var c=b[this.valKey],d=b[this.dataKey],e=this.cases[c];if(void 0===e)return a.reset(f.WriteInvalidSwitchValue({value:c}));if(this.valrw.poolByteLength(a,c),a.err)return a;var g=a.length;if(e.poolByteLength(a,d),a.err)return a;var h=a.length;return a.reset(null,h+g)},g.prototype.poolWriteInto=function(a,b,c,d){var e=b[this.valKey],g=b[this.dataKey],h=this.cases[e];if(void 0===h)return a.reset(f.WriteInvalidSwitchValue({value:e}),d);var i=this.valrw.poolWriteInto(a,e,c,d);return i.err?i:i=h.poolWriteInto(a,g,c,i.offset)},g.prototype.poolReadFrom=function(a,b,c){var d=this.valrw.poolReadFrom(a,b,c);if(d.err)return d;c=d.offset;var e=d.value,g=this.cases[e];if(void 0===g)return a.reset(f.ReadInvalidSwitchValue({value:e}),c);if((d=g.poolReadFrom(a,b,c)).err)return d;c=d.offset;var h=d.value,i=new this.cons(e,h);return a.reset(null,c,i)},g.prototype.poolStructReadFrom=function(a,b,c,d){var e=this.valrw.poolReadFrom(a,c,d);if(e.err)return e;d=e.offset;var g=e.value,h=this.cases[g];return void 0===h?a.reset(f.ReadInvalidSwitchValue({value:g}),d):(b[this.valKey]=g,(e=h.poolReadFrom(a,c,d)).err||(b[this.dataKey]=e.value),e)},d(h,Array),g.Pair=h},65165:(a,b)=>{"use strict";function c(a,b){return{validate:a,compare:b}}Object.defineProperty(b,"__esModule",{value:!0}),b.formatNames=b.fastFormats=b.fullFormats=void 0,b.fullFormats={date:c(f,g),time:c(i(!0),j),"date-time":c(m(!0),n),"iso-time":c(i(),k),"iso-date-time":c(m(),o),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(a){return p.test(a)&&q.test(a)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(a){if(v.test(a))return!1;try{return new RegExp(a),!0}catch(a){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(a){return r.lastIndex=0,r.test(a)},int32:{type:"number",validate:function(a){return Number.isInteger(a)&&a<=t&&a>=s}},int64:{type:"number",validate:function(a){return Number.isInteger(a)}},float:{type:"number",validate:u},double:{type:"number",validate:u},password:!0,binary:!0},b.fastFormats={...b.fullFormats,date:c(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,g),time:c(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,j),"date-time":c(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,n),"iso-time":c(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,k),"iso-date-time":c(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,o),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},b.formatNames=Object.keys(b.fullFormats);let d=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,e=[0,31,28,31,30,31,30,31,31,30,31,30,31];function f(a){var b;let c=d.exec(a);if(!c)return!1;let f=+c[1],g=+c[2],h=+c[3];return g>=1&&g<=12&&h>=1&&h<=(2===g&&(b=f)%4==0&&(b%100!=0||b%400==0)?29:e[g])}function g(a,b){if(a&&b)return a>b?1:a<b?-1:0}let h=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function i(a){return function(b){let c=h.exec(b);if(!c)return!1;let d=+c[1],e=+c[2],f=+c[3],g=c[4],i="-"===c[5]?-1:1,j=+(c[6]||0),k=+(c[7]||0);if(j>23||k>59||a&&!g)return!1;if(d<=23&&e<=59&&f<60)return!0;let l=e-k*i,m=d-j*i-(l<0);return(23===m||-1===m)&&(59===l||-1===l)&&f<61}}function j(a,b){if(!(a&&b))return;let c=new Date("2020-01-01T"+a).valueOf(),d=new Date("2020-01-01T"+b).valueOf();if(c&&d)return c-d}function k(a,b){if(!(a&&b))return;let c=h.exec(a),d=h.exec(b);if(c&&d)return(a=c[1]+c[2]+c[3])>(b=d[1]+d[2]+d[3])?1:a<b?-1:0}let l=/t|\s/i;function m(a){let b=i(a);return function(a){let c=a.split(l);return 2===c.length&&f(c[0])&&b(c[1])}}function n(a,b){if(!(a&&b))return;let c=new Date(a).valueOf(),d=new Date(b).valueOf();if(c&&d)return c-d}function o(a,b){if(!(a&&b))return;let[c,d]=a.split(l),[e,f]=b.split(l),h=g(c,e);if(void 0!==h)return h||j(d,f)}let p=/\/|:/,q=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,r=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,s=-0x80000000,t=0x80000000-1;function u(){return!0}let v=/[^\\]\\Z/},65312:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseNumberDef=void 0;let d=c(50130);b.parseNumberDef=function(a,b){let c={type:"number"};if(!a.checks)return c;for(let e of a.checks)switch(e.kind){case"int":c.type="integer",(0,d.addErrorMessage)(c,"type",e.message,b);break;case"min":"jsonSchema7"===b.target?e.inclusive?(0,d.setResponseValueAndErrors)(c,"minimum",e.value,e.message,b):(0,d.setResponseValueAndErrors)(c,"exclusiveMinimum",e.value,e.message,b):(e.inclusive||(c.exclusiveMinimum=!0),(0,d.setResponseValueAndErrors)(c,"minimum",e.value,e.message,b));break;case"max":"jsonSchema7"===b.target?e.inclusive?(0,d.setResponseValueAndErrors)(c,"maximum",e.value,e.message,b):(0,d.setResponseValueAndErrors)(c,"exclusiveMaximum",e.value,e.message,b):(e.inclusive||(c.exclusiveMaximum=!0),(0,d.setResponseValueAndErrors)(c,"maximum",e.value,e.message,b));break;case"multipleOf":(0,d.setResponseValueAndErrors)(c,"multipleOf",e.value,e.message,b)}return c}},65353:(a,b,c)=>{"use strict";var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();l(c(29021));var e=l(c(81630)),f=l(c(55591));l(c(33873));var g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(c(79551)),h=c(77848),i=l(c(97866)),j=l(c(30178)),k=l(c(80579));function l(a){return a&&a.__esModule?a:{default:a}}b.default=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof a))throw TypeError("Cannot call a class as a function");this._url=g.parse(b.endpoint),this._username=b.username,this._password=b.password,this._timeoutMs=b.timeoutMs||b.timeoutMS||5e3,this._httpAgent="https:"===this._url.protocol?new f.default.Agent({keepAlive:!0}):new e.default.Agent({keepAlive:!0}),this._maxSpanBatchSize=b.maxSpanBatchSize||100,this._logger=b.logger||new i.default,this._jaegerThrift=new h.Thrift({source:k.default.loadJaegerThriftDefinition(),allowOptionalArguments:!0}),this._httpOptions={protocol:this._url.protocol,hostname:this._url.hostname,port:this._url.port,path:this._url.pathname,method:"POST",auth:this._username&&this._password?this._username+":"+this._password:void 0,headers:{"Content-Type":"application/x-thrift",Connection:"keep-alive"},agent:this._httpAgent,timeout:this._timeoutMs}}return d(a,[{key:"setProcess",value:function(a){this._batch=new this._jaegerThrift.Batch({process:j.default.convertProcessToThrift(this._jaegerThrift,a),spans:[]})}},{key:"append",value:function(a,b){if(this._batch.spans.push(new this._jaegerThrift.Span(a)),this._batch.spans.length>=this._maxSpanBatchSize)return void this.flush(b);j.default.invokeCallback(b,0)}},{key:"flush",value:function(a){var b=this,c=this._batch.spans.length;if(!c)return void j.default.invokeCallback(a,0);var d=this._jaegerThrift.Batch.rw.toBuffer(this._batch);if(this._reset(),d.err)return void j.default.invokeCallback(a,c,"Error encoding Thrift batch: "+d.err);var g=("https:"===this._url.protocol?f.default.request:e.default.request)(this._httpOptions,function(d){d.resume();var e=void 0;d.statusCode>=400&&(e="error sending spans over HTTP: server responded with HTTP "+d.statusCode,b._logger.error(e)),j.default.invokeCallback(a,c,e)});g.on("error",function(d){var e="error sending spans over HTTP: "+d;b._logger.error(e),j.default.invokeCallback(a,c,e)}),g.write(d.value),g.end()}},{key:"_reset",value:function(){this._batch.spans=[]}},{key:"close",value:function(){this._httpAgent.destroy&&this._httpAgent.destroy()}}]),a}()},65431:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseDateDef=void 0;let d=c(50130);b.parseDateDef=function a(b,c,d){let f=d??c.dateStrategy;if(Array.isArray(f))return{anyOf:f.map((d,e)=>a(b,c,d))};switch(f){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return e(b,c)}};let e=(a,b)=>{let c={type:"integer",format:"unix-time"};if("openApi3"===b.target)return c;for(let e of a.checks)switch(e.kind){case"min":(0,d.setResponseValueAndErrors)(c,"minimum",e.value,e.message,b);break;case"max":(0,d.setResponseValueAndErrors)(c,"maximum",e.value,e.message,b)}return c}},65444:(a,b,c)=>{"use strict";var d=c(20992),e=c(87928),f=c(42218),g=c(74648),h=c(89390),i=c(62147),j=c(78592),k=c(32355),l=c(88512),m=c(14755),n=c(22709);class o{constructor(a,b,c){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,f.NODE_TYPE,{value:f.DOC});let d=null;"function"==typeof b||Array.isArray(b)?d=b:void 0===c&&b&&(c=b,b=void 0);let e=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},c);this.options=e;let{version:g}=e;c?._directives?(this.directives=c._directives.atDocument(),this.directives.yaml.explicit&&(g=this.directives.yaml.version)):this.directives=new n.Directives({version:g}),this.setSchema(g,c),this.contents=void 0===a?null:this.createNode(a,d,c)}clone(){let a=Object.create(o.prototype,{[f.NODE_TYPE]:{value:f.DOC}});return a.commentBefore=this.commentBefore,a.comment=this.comment,a.errors=this.errors.slice(),a.warnings=this.warnings.slice(),a.options=Object.assign({},this.options),this.directives&&(a.directives=this.directives.clone()),a.schema=this.schema.clone(),a.contents=f.isNode(this.contents)?this.contents.clone(a.schema):this.contents,this.range&&(a.range=this.range.slice()),a}add(a){p(this.contents)&&this.contents.add(a)}addIn(a,b){p(this.contents)&&this.contents.addIn(a,b)}createAlias(a,b){if(!a.anchor){let c=k.anchorNames(this);a.anchor=!b||c.has(b)?k.findNewAnchor(b||"a",c):b}return new d.Alias(a.anchor)}createNode(a,b,c){let d;if("function"==typeof b)a=b.call({"":a},"",a),d=b;else if(Array.isArray(b)){let a=b.filter(a=>"number"==typeof a||a instanceof String||a instanceof Number).map(String);a.length>0&&(b=b.concat(a)),d=b}else void 0===c&&b&&(c=b,b=void 0);let{aliasDuplicateObjects:e,anchorPrefix:g,flow:h,keepUndefined:i,onTagObj:j,tag:l}=c??{},{onAnchor:n,setAnchors:o,sourceObjects:p}=k.createNodeAnchors(this,g||"a"),q={aliasDuplicateObjects:e??!0,keepUndefined:i??!1,onAnchor:n,onTagObj:j,replacer:d,schema:this.schema,sourceObjects:p},r=m.createNode(a,l,q);return h&&f.isCollection(r)&&(r.flow=!0),o(),r}createPair(a,b,c={}){let d=this.createNode(a,null,c),e=this.createNode(b,null,c);return new g.Pair(d,e)}delete(a){return!!p(this.contents)&&this.contents.delete(a)}deleteIn(a){return e.isEmptyPath(a)?null!=this.contents&&(this.contents=null,!0):!!p(this.contents)&&this.contents.deleteIn(a)}get(a,b){return f.isCollection(this.contents)?this.contents.get(a,b):void 0}getIn(a,b){return e.isEmptyPath(a)?!b&&f.isScalar(this.contents)?this.contents.value:this.contents:f.isCollection(this.contents)?this.contents.getIn(a,b):void 0}has(a){return!!f.isCollection(this.contents)&&this.contents.has(a)}hasIn(a){return e.isEmptyPath(a)?void 0!==this.contents:!!f.isCollection(this.contents)&&this.contents.hasIn(a)}set(a,b){null==this.contents?this.contents=e.collectionFromPath(this.schema,[a],b):p(this.contents)&&this.contents.set(a,b)}setIn(a,b){e.isEmptyPath(a)?this.contents=b:null==this.contents?this.contents=e.collectionFromPath(this.schema,Array.from(a),b):p(this.contents)&&this.contents.setIn(a,b)}setSchema(a,b={}){let c;switch("number"==typeof a&&(a=String(a)),a){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new n.Directives({version:"1.1"}),c={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=a:this.directives=new n.Directives({version:a}),c={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,c=null;break;default:{let b=JSON.stringify(a);throw Error(`Expected '1.1', '1.2' or null as first argument, but found: ${b}`)}}if(b.schema instanceof Object)this.schema=b.schema;else if(c)this.schema=new i.Schema(Object.assign(c,b));else throw Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:a,jsonArg:b,mapAsMap:c,maxAliasCount:d,onAnchor:e,reviver:f}={}){let g={anchors:new Map,doc:this,keep:!a,mapAsMap:!0===c,mapKeyWarned:!1,maxAliasCount:"number"==typeof d?d:100},i=h.toJS(this.contents,b??"",g);if("function"==typeof e)for(let{count:a,res:b}of g.anchors.values())e(b,a);return"function"==typeof f?l.applyReviver(f,{"":i},"",i):i}toJSON(a,b){return this.toJS({json:!0,jsonArg:a,mapAsMap:!1,onAnchor:b})}toString(a={}){if(this.errors.length>0)throw Error("Document with errors cannot be stringified");if("indent"in a&&(!Number.isInteger(a.indent)||0>=Number(a.indent))){let b=JSON.stringify(a.indent);throw Error(`"indent" option must be a positive integer, not ${b}`)}return j.stringifyDocument(this,a)}}function p(a){if(f.isCollection(a))return!0;throw Error("Expected a YAML collection as document contents")}b.Document=o},65549:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.selectParser=void 0;let d=c(62934),e=c(10715),f=c(91810),g=c(64710),h=c(74361),i=c(83361),j=c(85535),k=c(65431),l=c(90506),m=c(35427),n=c(17216),o=c(59320),p=c(73076),q=c(45055),r=c(26981),s=c(1735),t=c(43316),u=c(65756),v=c(65312),w=c(43638),x=c(56823),y=c(82141),z=c(65966),A=c(32044),B=c(77949),C=c(93416),D=c(68575),E=c(57341),F=c(69316),G=c(90999),H=c(83681);b.selectParser=(a,b,c)=>{switch(b){case d.ZodFirstPartyTypeKind.ZodString:return(0,C.parseStringDef)(a,c);case d.ZodFirstPartyTypeKind.ZodNumber:return(0,v.parseNumberDef)(a,c);case d.ZodFirstPartyTypeKind.ZodObject:return(0,w.parseObjectDef)(a,c);case d.ZodFirstPartyTypeKind.ZodBigInt:return(0,g.parseBigintDef)(a,c);case d.ZodFirstPartyTypeKind.ZodBoolean:return(0,h.parseBooleanDef)();case d.ZodFirstPartyTypeKind.ZodDate:return(0,k.parseDateDef)(a,c);case d.ZodFirstPartyTypeKind.ZodUndefined:return(0,E.parseUndefinedDef)(c);case d.ZodFirstPartyTypeKind.ZodNull:return(0,t.parseNullDef)(c);case d.ZodFirstPartyTypeKind.ZodArray:return(0,f.parseArrayDef)(a,c);case d.ZodFirstPartyTypeKind.ZodUnion:case d.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,F.parseUnionDef)(a,c);case d.ZodFirstPartyTypeKind.ZodIntersection:return(0,o.parseIntersectionDef)(a,c);case d.ZodFirstPartyTypeKind.ZodTuple:return(0,D.parseTupleDef)(a,c);case d.ZodFirstPartyTypeKind.ZodRecord:return(0,A.parseRecordDef)(a,c);case d.ZodFirstPartyTypeKind.ZodLiteral:return(0,p.parseLiteralDef)(a,c);case d.ZodFirstPartyTypeKind.ZodEnum:return(0,n.parseEnumDef)(a);case d.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,r.parseNativeEnumDef)(a);case d.ZodFirstPartyTypeKind.ZodNullable:return(0,u.parseNullableDef)(a,c);case d.ZodFirstPartyTypeKind.ZodOptional:return(0,x.parseOptionalDef)(a,c);case d.ZodFirstPartyTypeKind.ZodMap:return(0,q.parseMapDef)(a,c);case d.ZodFirstPartyTypeKind.ZodSet:return(0,B.parseSetDef)(a,c);case d.ZodFirstPartyTypeKind.ZodLazy:return()=>a.getter()._def;case d.ZodFirstPartyTypeKind.ZodPromise:return(0,z.parsePromiseDef)(a,c);case d.ZodFirstPartyTypeKind.ZodNaN:case d.ZodFirstPartyTypeKind.ZodNever:return(0,s.parseNeverDef)(c);case d.ZodFirstPartyTypeKind.ZodEffects:return(0,m.parseEffectsDef)(a,c);case d.ZodFirstPartyTypeKind.ZodAny:return(0,e.parseAnyDef)(c);case d.ZodFirstPartyTypeKind.ZodUnknown:return(0,G.parseUnknownDef)(c);case d.ZodFirstPartyTypeKind.ZodDefault:return(0,l.parseDefaultDef)(a,c);case d.ZodFirstPartyTypeKind.ZodBranded:return(0,i.parseBrandedDef)(a,c);case d.ZodFirstPartyTypeKind.ZodReadonly:return(0,H.parseReadonlyDef)(a,c);case d.ZodFirstPartyTypeKind.ZodCatch:return(0,j.parseCatchDef)(a,c);case d.ZodFirstPartyTypeKind.ZodPipeline:return(0,y.parsePipelineDef)(a,c);case d.ZodFirstPartyTypeKind.ZodFunction:case d.ZodFirstPartyTypeKind.ZodVoid:case d.ZodFirstPartyTypeKind.ZodSymbol:default:return}}},65653:(a,b,c)=>{"use strict";var d=c(66472),e=c(28354),f=c(32527),g=c(8193),h=c(31033),i=c(73022),j=Buffer.alloc(0);function k(a,b){return a.err||a.offset===b.length||(a.err=g.ShortRead({remaining:b.length-a.offset,buffer:b,offset:a.offset})),a}function l(a,b,c,d){return a&&(void 0===a.offset&&(a.offset=d),void 0===a.buffer&&(a.buffer=c)),new f(a,b)}function m(a,b,c){var d=c||0,e=a.readFrom(b,d);if((e=k(e,b)).err){var f,i,j,m,n,o,p,q=(f=b,j=!1,(i=d)>0&&(f=f.slice(i)),j&&f.fill(0),new h(f)),r=a.readFrom(q,0);m=e,n=r=k(r,b),o=d,p=q,n.err&&n.offset===m.offset-o&&n.err.type===m.err.type&&n.err.message===m.err.message?m.err.buffer=p:m.err=g.UnstableRW(m.err,{otherMessage:n.err&&n.err.message})}return l(e.err,e.value,b,e.offset)}function n(a,b){var c=a.byteLength(b);return c.err?new f(c.err,0):new f(null,c.length)}function o(a,b){var c=a.byteLength(b);if(c.err)return new f(c.err,j);var d=c.length;return p(a,Buffer.alloc(d),b)}function p(a,b,c){var d,e=a.writeInto(c,b,0);return(d=e).err||d.offset===b.length||(d.err=g.ShortWrite({remaining:b.length-d.offset,buffer:b,offset:d.offset})),l((e=d).err,b,b,e.offset)}a.exports.fromBuffer=function(a,b,c){return m(a,b,c).toValue()},a.exports.byteLength=function(a,b){return n(a,b).toValue()},a.exports.toBuffer=function(a,b){return o(a,b).toValue()},a.exports.intoBuffer=function(a,b,c){return p(a,b,c).toValue()},a.exports.formatError=function(a,b){b=b||{};var c=a.name||a.constructor.name,f=e.format("%s: %s\n",c,a.message);return a.buffer&&a.buffer.hexdump?f+=a.buffer.hexdump({colored:b.color,boldStart:!1,highlight:b.color?i(a,b):null}):Buffer.isBuffer(a.buffer)&&(b.color?f+=function(a,b){if(!d)return a.buffer.toString("hex");var c=(b=b||{}).hexerOptions?Object.create(b.hexerOptions):{};void 0===c.colored&&(c.colored=!0);var e=i(a,b);return c.decorateHexen=e,c.decorateHuman=e,d(a.buffer,c)}(a,b):f+=function(a,b){if(!d)return a.buffer.toString("hex");b=b||{};var c=void 0!==a.offset&&null!==a.offset,e=void 0!==a.endOffset&&null!==a.endOffset,f=b.markStart||">",g=b.markEnd||"<",h=0,i=b.hexerOptions?Object.create(b.hexerOptions):{};return c&&(i.groupSeparator="",e?i.decorateHexen=function(b,c,d){var e;if(b===a.offset)return h=1,e=f+d,b===a.endOffset-1?(e+=g,h=0):e=" "+e,e;if(b===a.endOffset-1){for(e=d+g;h-- >0;)e+=" ";return h=0,e}return h?(h+=2,d):" "+d+" "}:i.decorateHexen=function(b,c,d){return b===a.offset?f+d+g:" "+d+" "}),d(a.buffer,i)}(a,b)),f},a.exports.fromBufferTuple=function(a,b,c){return m(a,b,c).toTuple()},a.exports.byteLengthTuple=function(a,b){return n(a,b).toTuple()},a.exports.toBufferTuple=function(a,b){return o(a,b).toTuple()},a.exports.intoBufferTuple=function(a,b,c){return p(a,b,c).toTuple()},a.exports.fromBufferResult=m,a.exports.byteLengthResult=n,a.exports.toBufferResult=o,a.exports.intoBufferResult=p},65756:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseNullableDef=void 0;let d=c(31958),e=c(69316);b.parseNullableDef=function(a,b){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(a.innerType._def.typeName)&&(!a.innerType._def.checks||!a.innerType._def.checks.length))return"openApi3"===b.target?{type:e.primitiveMappings[a.innerType._def.typeName],nullable:!0}:{type:[e.primitiveMappings[a.innerType._def.typeName],"null"]};if("openApi3"===b.target){let c=(0,d.parseDef)(a.innerType._def,{...b,currentPath:[...b.currentPath]});return c&&"$ref"in c?{allOf:[c],nullable:!0}:c&&{...c,nullable:!0}}let c=(0,d.parseDef)(a.innerType._def,{...b,currentPath:[...b.currentPath,"anyOf","0"]});return c&&{anyOf:[c,{type:"null"}]}}},65875:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ServerCredentials=void 0,b.createCertificateProviderServerCredentials=function(a,b,c){return new h(a,b,c)},b.createServerCredentialsWithInterceptors=function(a,b){return new i(a,b)};let d=c(30762);class e{constructor(a,b){this.serverConstructorOptions=a,this.watchers=new Set,this.latestContextOptions=null,this.latestContextOptions=null!=b?b:null}_addWatcher(a){this.watchers.add(a)}_removeWatcher(a){this.watchers.delete(a)}getWatcherCount(){return this.watchers.size}updateSecureContextOptions(a){for(let b of(this.latestContextOptions=a,this.watchers))b(this.latestContextOptions)}_isSecure(){return null!==this.serverConstructorOptions}_getSecureContextOptions(){return this.latestContextOptions}_getConstructorOptions(){return this.serverConstructorOptions}_getInterceptors(){return[]}static createInsecure(){return new f}static createSsl(a,b,c=!1){var e;if(null!==a&&!Buffer.isBuffer(a))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(b))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof c)throw TypeError("checkClientCertificate must be a boolean");let f=[],h=[];for(let a=0;a<b.length;a++){let c=b[a];if(null===c||"object"!=typeof c)throw TypeError(`keyCertPair[${a}] must be an object`);if(!Buffer.isBuffer(c.private_key))throw TypeError(`keyCertPair[${a}].private_key must be a Buffer`);if(!Buffer.isBuffer(c.cert_chain))throw TypeError(`keyCertPair[${a}].cert_chain must be a Buffer`);f.push(c.cert_chain),h.push(c.private_key)}return new g({requestCert:c,ciphers:d.CIPHER_SUITES},{ca:null!=(e=null!=a?a:(0,d.getDefaultRootsData)())?e:void 0,cert:f,key:h})}}b.ServerCredentials=e;class f extends e{constructor(){super(null)}_getSettings(){return null}_equals(a){return a instanceof f}}class g extends e{constructor(a,b){super(a,b),this.options=Object.assign(Object.assign({},a),b)}_equals(a){if(this===a)return!0;if(!(a instanceof g))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(a.options.ca)){if(!this.options.ca.equals(a.options.ca))return!1}else if(this.options.ca!==a.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(a.options.cert)){if(this.options.cert.length!==a.options.cert.length)return!1;for(let b=0;b<this.options.cert.length;b++){let c=this.options.cert[b],d=a.options.cert[b];if(Buffer.isBuffer(c)&&Buffer.isBuffer(d)){if(!c.equals(d))return!1}else if(c!==d)return!1}}else if(this.options.cert!==a.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(a.options.key)){if(this.options.key.length!==a.options.key.length)return!1;for(let b=0;b<this.options.key.length;b++){let c=this.options.key[b],d=a.options.key[b];if(Buffer.isBuffer(c)&&Buffer.isBuffer(d)){if(!c.equals(d))return!1}else if(c!==d)return!1}}else if(this.options.key!==a.options.key)return!1;return this.options.requestCert===a.options.requestCert}}class h extends e{constructor(a,b,c){super({requestCert:null!==b,rejectUnauthorized:c,ciphers:d.CIPHER_SUITES}),this.identityCertificateProvider=a,this.caCertificateProvider=b,this.requireClientCertificate=c,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this)}_addWatcher(a){var b;0===this.getWatcherCount()&&(null==(b=this.caCertificateProvider)||b.addCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener)),super._addWatcher(a)}_removeWatcher(a){var b;super._removeWatcher(a),0===this.getWatcherCount()&&(null==(b=this.caCertificateProvider)||b.removeCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_equals(a){return this===a||a instanceof h&&this.caCertificateProvider===a.caCertificateProvider&&this.identityCertificateProvider===a.identityCertificateProvider&&this.requireClientCertificate===a.requireClientCertificate}calculateSecureContextOptions(){var a;return null===this.latestIdentityUpdate||null!==this.caCertificateProvider&&null===this.latestCaUpdate?null:{ca:null==(a=this.latestCaUpdate)?void 0:a.caCertificate,cert:[this.latestIdentityUpdate.certificate],key:[this.latestIdentityUpdate.privateKey]}}finalizeUpdate(){let a=this.calculateSecureContextOptions();this.updateSecureContextOptions(a)}handleCaCertificateUpdate(a){this.latestCaUpdate=a,this.finalizeUpdate()}handleIdentityCertitificateUpdate(a){this.latestIdentityUpdate=a,this.finalizeUpdate()}}class i extends e{constructor(a,b){super({}),this.childCredentials=a,this.interceptors=b}_isSecure(){return this.childCredentials._isSecure()}_equals(a){if(!(a instanceof i)||!this.childCredentials._equals(a.childCredentials)||this.interceptors.length!==a.interceptors.length)return!1;for(let b=0;b<this.interceptors.length;b++)if(this.interceptors[b]!==a.interceptors[b])return!1;return!0}_getInterceptors(){return this.interceptors}_addWatcher(a){this.childCredentials._addWatcher(a)}_removeWatcher(a){this.childCredentials._removeWatcher(a)}_getConstructorOptions(){return this.childCredentials._getConstructorOptions()}_getSecureContextOptions(){return this.childCredentials._getSecureContextOptions()}}},65966:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parsePromiseDef=void 0;let d=c(31958);b.parsePromiseDef=function(a,b){return(0,d.parseDef)(a.type._def,b)}},66164:(a,b,c)=>{"use strict";var d=c(17350),e=c(78207),f=c(32557),g=c(51139),h=c(3642),i=c(46129),j=c(10433),k=c(22844),l=c(97167),m=c(470),n=c(28832),o=c(2495),p=c(69023);b.schema=[d.map,f.seq,g.string,e.nullTag,i.trueTag,i.falseTag,k.intBin,k.intOct,k.int,k.intHex,j.floatNaN,j.floatExp,j.float,h.binary,l.merge,m.omap,n.pairs,o.set,p.intTime,p.floatTime,p.timestamp]},66182:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0,b.HandlebarsEnvironment=l;var e=c(80496),f=d(c(99008)),g=c(34832),h=c(46543),i=d(c(75905)),j=c(6528);b.VERSION="4.7.8",b.COMPILER_REVISION=8,b.LAST_COMPATIBLE_COMPILER_REVISION=7,b.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var k="[object Object]";function l(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},g.registerDefaultHelpers(this),h.registerDefaultDecorators(this)}l.prototype={constructor:l,logger:i.default,log:i.default.log,registerHelper:function(a,b){if(e.toString.call(a)===k){if(b)throw new f.default("Arg not supported with multiple helpers");e.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(e.toString.call(a)===k)e.extend(this.partials,a);else{if(void 0===b)throw new f.default('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(e.toString.call(a)===k){if(b)throw new f.default("Arg not supported with multiple decorators");e.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]},resetLoggedPropertyAccesses:function(){j.resetLoggedProperties()}},b.log=i.default.log,b.createFrame=e.createFrame,b.logger=i.default},66229:a=>{"use strict";function b(a){if(0===a.length)return 1/0;for(var b=a[0],c=b.length,d=1;d<a.length;d++){for(var e=a[d],f=0;f<Math.min(c,e.length)&&e[f]===b[f];f++);c=f}return c}a.exports.lengthOfCommonPrefix=b,a.exports.longestCommonPath=function(a){var c=b(a),d=a[0].lastIndexOf("/",c-1);return a[0].slice(0,d+1)}},66336:(a,b,c)=>{"use strict";c.d(b,{_:()=>e,w:()=>f});var d=c(37579);function e(){var a=(0,d.Nq)(process.env);return Object.assign({},d.Uz,a)}function f(){return(0,d.Nq)(process.env)}},66472:(a,b,c)=>{"use strict";function d(a,b){if("string"==typeof a)return d(Buffer(a),b);if(!Buffer.isBuffer(a))throw Error("invalid argument to hex, expected a buffer or string");(b=b||{}).offsetWidth||(b.offsetWidth=2*Math.ceil(a.length.toString(16).length/2));var c=d.Transform(b);c.write(a),c.end();var e=c.read();return null===e?"":e=(e=String(e)).replace(/\n+$/,"")}d.Transform=c(94678),d.ChunkedTransform=c(18975),d.Spy=c(97216),a.exports=d},66509:(a,b)=>{"use strict";b.__esModule=!0,b.default=function(a){a.registerHelper("lookup",function(a,b,c){return a?c.lookupProperty(a,b):a})},a.exports=b.default},66556:(a,b,c)=>{"use strict";function d(a){for(var b={},c=a.length,d=0;d<c;d++){var e=a[d];e&&(b[String(e).toUpperCase().replace(/[-.]/g,"_")]=e)}return b}c.d(b,{O:()=>d})},67113:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{GenerateResponse:()=>p.GenerateResponse,GenerateResponseChunk:()=>o.GenerateResponseChunk,GenerationBlockedError:()=>z,GenerationResponseError:()=>w,generate:()=>A,generateOperation:()=>B,generateStream:()=>G,tagAsPreamble:()=>H,toGenerateActionOptions:()=>C,toGenerateRequest:()=>v}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(2799),k=c(56280),l=c(76944),m=c(24317),n=c(19606),o=c(25835),p=c(81145),q=c(20689),r=c(95403),s=c(67842),t=c(84596),u=c(50438);async function v(a,b){let c,d,e=[];if(b.system&&e.push({role:"system",content:q.Message.parseContent(b.system)}),b.messages&&e.push(...b.messages.map(a=>q.Message.parseData(a))),b.prompt&&e.push({role:"user",content:q.Message.parseContent(b.prompt)}),0===e.length)throw new i.GenkitError({status:"INVALID_ARGUMENT",message:"at least one message is required in generate request"});if(b.resume&&!(e.at(-1)?.role==="model"&&e.at(-1)?.content.find(a=>!!a.toolRequest)))throw new i.GenkitError({status:"FAILED_PRECONDITION",message:"Last message must be a 'model' role with at least one tool request to 'resume' generation.",detail:e.at(-1)});b.tools&&(c=await (0,u.resolveTools)(a,b.tools)),b.resources&&(d=await (0,t.resolveResources)(a,b.resources));let f=(0,l.toJsonSchema)({schema:b.output?.schema,jsonSchema:b.output?.jsonSchema}),g=await (0,m.resolveFormat)(a,b.output),h=(0,m.resolveInstructions)(g,f,b?.output?.instructions),j={messages:(0,n.shouldInjectFormatInstructions)(g?.config,b.output)?(0,m.injectInstructions)(e,h):e,config:b.config,docs:b.docs,tools:c?.map(u.toToolDefinition)||[],resources:d?.map(a=>a.__action)||[],output:{...g?.config||{},...b.output,schema:f}};return j?.output?.schema||delete j?.output?.schema,j}class w extends i.GenkitError{detail;constructor(a,b,c,d){super({status:c||"FAILED_PRECONDITION",message:b}),this.detail={response:a,...d}}}async function x(a,b){if(!b)return;let c=[];for(let d of b)if("string"==typeof d){let b=await E(a,d);c.push(...b)}else if((0,i.isAction)(d)||(0,u.isDynamicTool)(d))c.push(`/${d.__action.metadata?.type}/${d.__action.name}`);else if((0,s.isExecutablePrompt)(d)){let a=await d.asTool();c.push(`/prompt/${a.__action.name}`)}else throw Error(`Unable to determine type of tool: ${JSON.stringify(d)}`);return c}async function y(a,b){if(!b)return;let c=[];for(let d of b)if("string"==typeof d){let b=await F(a,d);c.push(...b)}else if((0,i.isAction)(d))c.push(`/resource/${d.__action.name}`);else throw Error(`Unable to resolve resource: ${JSON.stringify(d)}`);return c}class z extends w{}async function A(a,b){var c,d,e,f;let g,h,j={...await Promise.resolve(b)},l=await (0,m.resolveFormat)(a,j.output);e=(c=a,d=j,g=!1,d?.tools?.forEach(a=>{(0,u.isDynamicTool)(a)&&(g||(g=!0,c=k.Registry.withParent(c)),c.registerAction("tool",a))}),a=c),f=j,h=!1,f?.resources?.forEach(a=>{(0,t.isDynamicResourceAction)(a)&&(h||(h=!0,e=k.Registry.withParent(e)),e.registerAction("resource",a))}),a=e;let o=await C(a,j),q=await x(a,j.tools),r=await y(a,j.resources),s=function(a){if(a!==i.sentinelNoopStreamingCallback)return a}(j.onChunk??j.streamingCallback),w=await (0,i.runWithContext)(j.context,()=>(0,n.generateHelper)(a,{rawRequest:o,middleware:j.use,abortSignal:j.abortSignal,streamingCallback:s})),z=await v(a,{...j,tools:q,resources:r});return new p.GenerateResponse(w,{request:w.request??z,parser:l?.handler(z.output?.schema).parseMessage})}async function B(a,b){(0,i.assertUnstable)(a,"beta","generateOperation is a beta feature."),b=await b;let c=await (0,r.resolveModel)(a,b.model);if(!c.modelAction.__action.metadata?.model.supports?.longRunning)throw new i.GenkitError({status:"INVALID_ARGUMENT",message:`Model '${c.modelAction.__action.name}' does not support long running operations.`});let{operation:d}=await A(a,b);if(!d)throw new i.GenkitError({status:"FAILED_PRECONDITION",message:`Model '${c.modelAction.__action.name}' did not return an operation.`});return d}async function C(a,b){let c=await (0,r.resolveModel)(a,b.model),d=await x(a,b.tools),e=await y(a,b.resources),f=function(a){let b=[];if(a.system&&b.push({role:"system",content:q.Message.parseContent(a.system)}),a.messages&&b.push(...a.messages),a.prompt&&b.push({role:"user",content:q.Message.parseContent(a.prompt)}),0===b.length)throw new i.GenkitError({status:"INVALID_ARGUMENT",message:"at least one message is required in generate request"});return b}(b),g=(0,l.toJsonSchema)({schema:b.output?.schema,jsonSchema:b.output?.jsonSchema});(b.output?.schema||b.output?.jsonSchema)&&!b.output?.format&&(b.output.format="json");let h={model:c.modelAction.__action.name,docs:b.docs,messages:f,tools:d,resources:e,toolChoice:b.toolChoice,config:{version:c.version,...D(c.config),...D(b.config)},output:b.output&&{...b.output,format:b.output.format,jsonSchema:g},resume:b.resume&&{respond:[b.resume.respond||[]].flat(),restart:[b.resume.restart||[]].flat(),metadata:b.resume.metadata},returnToolRequests:b.returnToolRequests,maxTurns:b.maxTurns,stepName:b.stepName};return 0!==Object.keys(h.config).length||b.config||delete h.config,h}function D(a){if(!a)return a;let b={...a};return Object.keys(a).forEach(a=>{void 0===b[a]&&delete b[a]}),b}async function E(a,b){let c;if(b.split(":").length>1&&(c=await a.resolveActionNames(`/dynamic-action-provider/${b}`)).length)return c;if(await a.lookupAction(`/tool/${b}`))return[`/tool/${b}`];if(await a.lookupAction(`/prompt/${b}`))return[`/prompt/${b}`];throw Error(`Unable to resolve tool: ${b}`)}async function F(a,b){let c;if(b.split(":").length>1&&(c=await a.resolveActionNames(`/dynamic-action-provider/${b}`)).length)return c;if(await a.lookupAction(`/resource/${b}`))return[`/resource/${b}`];throw Error(`Unable to resolve resource: ${b}`)}function G(a,b){let c=new j.Channel,d=Promise.resolve(b).then(b=>A(a,{...b,onChunk:a=>c.send(a)}));return d.then(()=>c.close(),a=>c.error(a)),{response:d,stream:c}}function H(a){if(a)return a.map(a=>({...a,metadata:{...a.metadata,preamble:!0}}))}},67418:(a,b,c)=>{"use strict";let d=c(23948),e=c(97106),f=c(85327),g=c(94764),h=c(59366),i=c(97579);a.exports=(a,b,c,j)=>{switch(b){case"===":return"object"==typeof a&&(a=a.version),"object"==typeof c&&(c=c.version),a===c;case"!==":return"object"==typeof a&&(a=a.version),"object"==typeof c&&(c=c.version),a!==c;case"":case"=":case"==":return d(a,c,j);case"!=":return e(a,c,j);case">":return f(a,c,j);case">=":return g(a,c,j);case"<":return h(a,c,j);case"<=":return i(a,c,j);default:throw TypeError(`Invalid operator: ${b}`)}}},67463:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DEFAULT_PORT=void 0,b.setup=function(){(0,d.registerResolver)("dns",q),(0,d.registerDefaultScheme)("dns")};let d=c(43313),e=c(14985),f=c(63971),g=c(56458),h=c(13685),i=c(33604),j=c(38702),k=c(56458),l=c(9413),m=c(91645),n=c(9251),o=c(46626);function p(a){j.trace(k.LogVerbosity.DEBUG,"dns_resolver",a)}b.DEFAULT_PORT=443;class q{constructor(a,c,d){var f,h,j;this.target=a,this.listener=c,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,this.alternativeResolver=new e.promises.Resolver,p("Resolver constructed for target "+(0,l.uriToString)(a)),a.authority&&this.alternativeResolver.setServers([a.authority]);let k=(0,l.splitHostPort)(a.path);null===k?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,m.isIPv4)(k.host)||(0,m.isIPv6)(k.host)?(this.ipResult=[{addresses:[{host:k.host,port:null!=(f=k.port)?f:b.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=k.host,this.port=null!=(h=k.port)?h:b.DEFAULT_PORT),this.percentage=100*Math.random(),1===d["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:g.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,l.uriToString)(this.target)}`,metadata:new i.Metadata};let o={initialDelay:d["grpc.initial_reconnect_backoff_ms"],maxDelay:d["grpc.max_reconnect_backoff_ms"]};this.backoff=new n.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},o),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!=(j=d["grpc.dns_min_time_between_resolutions_ms"])?j:3e4,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){this.returnedIpResult||(p("Returning IP address for target "+(0,l.uriToString)(this.target)),setImmediate(()=>{this.listener((0,h.statusOrFromValue)(this.ipResult),{},null,"")}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)p("Failed to parse DNS address "+(0,l.uriToString)(this.target)),setImmediate(()=>{this.listener((0,h.statusOrFromError)({code:g.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,l.uriToString)(this.target)}`}),{},null,"")}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;p("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let a=this.dnsHostname;this.pendingLookupPromise=this.lookup(a),this.pendingLookupPromise.then(a=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.latestLookupResult=(0,h.statusOrFromValue)(a.map(a=>({addresses:[a]})));let b="["+a.map(a=>a.host+":"+a.port).join(",")+"]";p("Resolved addresses for target "+(0,l.uriToString)(this.target)+": "+b);let c=this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"");this.handleHealthStatus(c)},a=>{null!==this.pendingLookupPromise&&(p("Resolution error for target "+(0,l.uriToString)(this.target)+": "+a.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener((0,h.statusOrFromError)(this.defaultResolutionError),{},this.latestServiceConfigResult,""))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=this.resolveTxt(a),this.pendingTxtPromise.then(a=>{let b;if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{(b=(0,f.extractAndSelectServiceConfig)(a,this.percentage))?this.latestServiceConfigResult=(0,h.statusOrFromValue)(b):this.latestServiceConfigResult=null}catch(a){this.latestServiceConfigResult=(0,h.statusOrFromError)({code:g.Status.UNAVAILABLE,details:`Parsing service config failed with error ${a.message}`})}null!==this.latestLookupResult&&this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"")}},a=>{}))}}handleHealthStatus(a){a?(this.backoff.stop(),this.backoff.reset()):this.continueResolving=!0}async lookup(a){if(o.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){p("Using alternative DNS resolver.");let b=await Promise.allSettled([this.alternativeResolver.resolve4(a),this.alternativeResolver.resolve6(a)]);if(b.every(a=>"rejected"===a.status))throw Error(b[0].reason);return b.reduce((a,b)=>"fulfilled"===b.status?[...a,...b.value]:a,[]).map(a=>({host:a,port:+this.port}))}return(await e.promises.lookup(a,{all:!0})).map(a=>({host:a.address,port:+this.port}))}async resolveTxt(a){return o.GRPC_NODE_USE_ALTERNATIVE_RESOLVER?(p("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(a)):e.promises.resolveTxt(a)}startNextResolutionTimer(){var a,b;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),null==(b=(a=this.nextResolutionTimer).unref)||b.call(a),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?p('resolution update delayed by "min time between resolutions" rate limit'):p("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.returnedIpResult=!1}static getDefaultAuthority(a){return a.path}}},67842:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{defineHelper:()=>G,definePartial:()=>F,definePrompt:()=>u,isExecutablePrompt:()=>C,isPromptAction:()=>t,loadPromptFolder:()=>D,loadPromptFolderRecursively:()=>E,prompt:()=>H}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(2799),k=c(42656),l=c(76944),m=c(64089),n=c(29021),o=c(33873),p=c(67113),q=c(20689),r=c(95403),s=c(50300);function t(a){return a.__action.metadata?.type==="prompt"}function u(a,b){return v(a,`${b.name}${b.variant?`.${b.variant}`:""}`,Promise.resolve(b),b.metadata)}function v(a,b,c,d){let e={},f=async(b,d)=>await (0,m.runInNewSpan)({metadata:{name:"render",input:b},labels:{[m.SPAN_TYPE_ATTR]:"promptTemplate"}},async f=>{let g,h=[];d={...d};let j=(0,s.getCurrentSession)(a),k=await c;await x(a,j,b,h,k,e,d),await y(a,j,b,h,k,d,e),await z(a,j,b,h,k,e,d),g="function"==typeof k.docs?await k.docs(b,{state:j?.state,context:d?.context||(0,i.getContext)()||{}}):k.docs;let l=(0,i.stripUndefinedProps)({model:k.model,maxTurns:k.maxTurns,messages:h,docs:g,tools:k.tools,returnToolRequests:k.returnToolRequests,toolChoice:k.toolChoice,context:k.context,output:k.output,use:k.use,...(0,i.stripUndefinedProps)(d),config:{...k?.config,...d?.config},metadata:k.metadata?.metadata?{prompt:k.metadata?.metadata}:void 0});return d?.abortSignal&&(l.abortSignal=d.abortSignal),0!==Object.keys(l.config).length||d?.config||delete l.config,f.output=l,l}),g=(0,j.lazy)(()=>c.then(b=>{let c=w(b);return{name:`${b.name}${b.variant?`.${b.variant}`:""}`,inputJsonSchema:b.input?.jsonSchema,inputSchema:b.input?.schema,description:b.description,actionType:"prompt",metadata:c,fn:async b=>(0,p.toGenerateRequest)(a,await f(b,void 0))}})),h=(0,i.defineActionAsync)(a,"prompt",b,g,a=>{a.__executablePrompt=l}),k=(0,j.lazy)(()=>c.then(b=>{let c=w(b);return{name:`${b.name}${b.variant?`.${b.variant}`:""}`,inputJsonSchema:b.input?.jsonSchema,inputSchema:b.input?.schema,outputSchema:r.GenerateActionOptionsSchema,description:b.description,actionType:"executable-prompt",metadata:c,fn:async b=>await (0,p.toGenerateActionOptions)(a,await f(b,void 0))}}));(0,i.defineActionAsync)(a,"executable-prompt",b,k,a=>{a.__executablePrompt=l});let l=function(a){let b=async(b,c)=>await (0,m.runInNewSpan)(a.registry,{metadata:{name:(await a.rendererAction).__action.name,input:b},labels:{[m.SPAN_TYPE_ATTR]:"dotprompt"}},async d=>{let e=await (0,p.generate)(a.registry,{...await a.renderOptionsFn(b,c)});return d.output=e,e});return b.ref={name:a.name,metadata:a.metadata},b.render=async(b,c)=>({...await a.renderOptionsFn(b,c)}),b.stream=(b,c)=>(0,p.generateStream)(a.registry,a.renderOptionsFn(b,c)),b.asTool=async()=>await a.rendererAction,b}({registry:a,name:b,renderOptionsFn:f,rendererAction:h,metadata:d});return l}function w(a){let b={...a.metadata,prompt:{...a.metadata?.prompt,config:a.config,input:{schema:a.input?(0,l.toJsonSchema)(a.input):void 0},name:a.name.includes(".")?a.name.split(".")[0]:a.name,model:function(a){if(void 0!==a)return"string"==typeof a?a:a.name?a.name:a.__action.name}(a.model)},type:"prompt"};return a.variant&&(b.prompt.variant=a.variant),b}async function x(a,b,c,d,e,f,g){"function"==typeof e.system?d.push({role:"system",content:A(await e.system(c,{state:b?.state,context:g?.context||(0,i.getContext)()||{}}))}):"string"==typeof e.system?(f.system||(f.system=await a.dotprompt.compile(e.system)),d.push({role:"system",content:await B(a,f.system,c,b,e,g)})):e.system&&d.push({role:"system",content:A(e.system)})}async function y(a,b,c,d,e,f,g){if(e.messages)if("function"==typeof e.messages)d.push(...await e.messages(c,{state:b?.state,context:f?.context||(0,i.getContext)()||{},history:f?.messages}));else if("string"==typeof e.messages){g.messages||(g.messages=await a.dotprompt.compile(e.messages));let h=await g.messages({input:c,context:{...f?.context||(0,i.getContext)(),state:b?.state},messages:f?.messages?.map(a=>q.Message.parseData(a))});d.push(...h.messages)}else d.push(...e.messages);else f.messages&&d.push(...f.messages);f?.messages&&delete f.messages}async function z(a,b,c,d,e,f,g){"function"==typeof e.prompt?d.push({role:"user",content:A(await e.prompt(c,{state:b?.state,context:g?.context||(0,i.getContext)()||{}}))}):"string"==typeof e.prompt?(f.userPrompt||(f.userPrompt=await a.dotprompt.compile(e.prompt)),d.push({role:"user",content:await B(a,f.userPrompt,c,b,e,g)})):e.prompt&&d.push({role:"user",content:A(e.prompt)})}function A(a){return Array.isArray(a)?a:"string"==typeof a?[{text:a}]:[a]}async function B(a,b,c,d,e,f){let g=await b({input:c,context:{...f?.context||(0,i.getContext)(),state:d?.state}});if(1!==g.messages.length)throw Error("parts tempate must produce only one message");return g.messages[0].content}function C(a){return!!a?.render&&!!a?.asTool&&!!a?.stream}function D(a,b="./prompts",c){let d=(0,o.resolve)(b);(0,n.existsSync)(d)&&E(a,b,c,"")}function E(a,b,c,d){let e=(0,o.resolve)(b);for(let f of(0,n.readdirSync)((0,o.join)(e,d),{withFileTypes:!0})){let g=(0,o.join)(e,d),h=f.name;if(f.isFile()&&h.endsWith(".prompt"))if(h.startsWith("_")){let b=h.substring(1,h.length-7);F(a,b,(0,n.readFileSync)((0,o.join)(g,h),{encoding:"utf8"})),k.logger.debug(`Registered Dotprompt partial "${b}" from "${(0,o.join)(g,h)}"`)}else!function(a,b,c,d="",e="dotprompt"){let f=`${d??""}${(0,o.basename)(c,".prompt")}`,g=null;if(f.includes(".")){let a=f.split(".");f=a[0],g=a[1]}let h=(0,n.readFileSync)((0,o.join)(b,d??"",c),"utf8"),i=a.dotprompt.parse(h);v(a,J(f,g??void 0,e),(0,j.lazy)(async()=>{let b=await a.dotprompt.renderMetadata(i);g&&(b.variant=g),b.output?.schema?.description===null&&delete b.output.schema.description,b.input?.schema?.description===null&&delete b.input.schema.description;let c={...b.metadata,type:"prompt",prompt:{...b,template:i.template}};return b.raw?.metadata&&(c.metadata={...b.raw?.metadata}),{name:J(f,g??void 0,e),model:b.model,config:b.config,tools:b.tools,description:b.description,output:{jsonSchema:b.output?.schema,format:b.output?.format},input:{jsonSchema:b.input?.schema},metadata:c,maxTurns:b.raw?.maxTurns,toolChoice:b.raw?.toolChoice,returnToolRequests:b.raw?.returnToolRequests,messages:i.template}}))}(a,e,h,d?`${d}/`:"",c);else f.isDirectory()&&E(a,b,c,(0,o.join)(d,h))}}function F(a,b,c){a.dotprompt.definePartial(b,c)}function G(a,b,c){a.dotprompt.defineHelper(b,c)}async function H(a,b,c){return await I(a,b,c?.variant)}async function I(a,b,c){let d=await a.lookupAction(`/prompt/${J(b,c,void 0)}`);if(d)return d.__executablePrompt;throw new i.GenkitError({status:"NOT_FOUND",message:`Prompt ${b+(c?` (variant ${c})`:"")} not found`})}function J(a,b,c){return`${c?`${c}/`:""}${a}${b?`.${b}`:""}`}},68042:(a,b)=>{"use strict";b.resolveProps=function(a,{flow:b,indicator:c,next:d,offset:e,onError:f,parentIndent:g,startOnNewline:h}){let i=!1,j=h,k=h,l="",m="",n=!1,o=!1,p=null,q=null,r=null,s=null,t=null,u=null,v=null;for(let e of a)switch(o&&("space"!==e.type&&"newline"!==e.type&&"comma"!==e.type&&f(e.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),o=!1),p&&(j&&"comment"!==e.type&&"newline"!==e.type&&f(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),p=null),e.type){case"space":!b&&("doc-start"!==c||d?.type!=="flow-collection")&&e.source.includes("	")&&(p=e),k=!0;break;case"comment":{k||f(e,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let a=e.source.substring(1)||" ";l?l+=m+a:l=a,m="",j=!1;break}case"newline":j?l?l+=e.source:u&&"seq-item-ind"===c||(i=!0):m+=e.source,j=!0,n=!0,(q||r)&&(s=e),k=!0;break;case"anchor":q&&f(e,"MULTIPLE_ANCHORS","A node can have at most one anchor"),e.source.endsWith(":")&&f(e.offset+e.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),q=e,v??(v=e.offset),j=!1,k=!1,o=!0;break;case"tag":r&&f(e,"MULTIPLE_TAGS","A node can have at most one tag"),r=e,v??(v=e.offset),j=!1,k=!1,o=!0;break;case c:(q||r)&&f(e,"BAD_PROP_ORDER",`Anchors and tags must be after the ${e.source} indicator`),u&&f(e,"UNEXPECTED_TOKEN",`Unexpected ${e.source} in ${b??"collection"}`),u=e,j="seq-item-ind"===c||"explicit-key-ind"===c,k=!1;break;case"comma":if(b){t&&f(e,"UNEXPECTED_TOKEN",`Unexpected , in ${b}`),t=e,j=!1,k=!1;break}default:f(e,"UNEXPECTED_TOKEN",`Unexpected ${e.type} token`),j=!1,k=!1}let w=a[a.length-1],x=w?w.offset+w.source.length:e;return o&&d&&"space"!==d.type&&"newline"!==d.type&&"comma"!==d.type&&("scalar"!==d.type||""!==d.source)&&f(d.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p&&(j&&p.indent<=g||d?.type==="block-map"||d?.type==="block-seq")&&f(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:t,found:u,spaceBefore:i,comment:l,hasNewline:n,anchor:q,tag:r,newlineAfterProp:s,end:x,start:v??x}}},68345:(a,b,c)=>{"use strict";c.r(b),c.d(b,{Aggregation:()=>$,AggregationTemporality:()=>f.h,ConsoleMetricExporter:()=>aF,DataPointType:()=>g.n,DefaultAggregation:()=>af,DropAggregation:()=>_,ExplicitBucketHistogramAggregation:()=>ad,ExponentialHistogramAggregation:()=>ae,HistogramAggregation:()=>ac,InMemoryMetricExporter:()=>aD,InstrumentType:()=>e,LastValueAggregation:()=>ab,MeterProvider:()=>bC,MetricReader:()=>as,PeriodicExportingMetricReader:()=>aC,SumAggregation:()=>aa,TimeoutError:()=>q,View:()=>bI});var d,e,f=c(28364),g=c(25020),h=c(79361),i=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),j=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},k=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},l=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},m=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},n=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(a){return null!=a}function p(a){var b=Object.keys(a);return 0===b.length?"":JSON.stringify((b=b.sort()).map(function(b){return[b,a[b]]}))}var q=function(a){function b(c){var d=a.call(this,c)||this;return Object.setPrototypeOf(d,b.prototype),d}return i(b,a),b}(Error);function r(a,b){var c;return Promise.race([a,new Promise(function(a,d){c=setTimeout(function(){d(new q("Operation timed out."))},b)})]).then(function(a){return clearTimeout(c),a},function(a){throw clearTimeout(c),a})}function s(a){return"rejected"===a.status}function t(a,b){var c=[];return a.forEach(function(a){c.push.apply(c,m([],l(b(a)),!1))}),c}!function(a){a[a.DROP=0]="DROP",a[a.SUM=1]="SUM",a[a.LAST_VALUE=2]="LAST_VALUE",a[a.HISTOGRAM=3]="HISTOGRAM",a[a.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"}(d||(d={}));var u=function(){function a(){this.kind=d.DROP}return a.prototype.createAccumulation=function(){},a.prototype.merge=function(a,b){},a.prototype.diff=function(a,b){},a.prototype.toMetricData=function(a,b,c,d){},a}(),v=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},w=function(){function a(a,b,c,d){void 0===c&&(c=0),void 0===d&&(d=!1),this.startTime=a,this.monotonic=b,this._current=c,this.reset=d}return a.prototype.record=function(a){this.monotonic&&a<0||(this._current+=a)},a.prototype.setStartTime=function(a){this.startTime=a},a.prototype.toPointValue=function(){return this._current},a}(),x=function(){function a(a){this.monotonic=a,this.kind=d.SUM}return a.prototype.createAccumulation=function(a){return new w(a,this.monotonic)},a.prototype.merge=function(a,b){var c=a.toPointValue(),d=b.toPointValue();return b.reset?new w(b.startTime,this.monotonic,d,b.reset):new w(a.startTime,this.monotonic,c+d)},a.prototype.diff=function(a,b){var c=a.toPointValue(),d=b.toPointValue();return this.monotonic&&c>d?new w(b.startTime,this.monotonic,d,!0):new w(b.startTime,this.monotonic,d-c)},a.prototype.toMetricData=function(a,b,c,d){return{descriptor:a,aggregationTemporality:b,dataPointType:g.n.SUM,dataPoints:c.map(function(a){var b=v(a,2),c=b[0],e=b[1];return{attributes:c,startTime:e.startTime,endTime:d,value:e.toPointValue()}}),isMonotonic:this.monotonic}},a}(),y=c(99591),z=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},A=function(){function a(a,b,c){void 0===b&&(b=0),void 0===c&&(c=[0,0]),this.startTime=a,this._current=b,this.sampleTime=c}return a.prototype.record=function(a){this._current=a,this.sampleTime=(0,y.lg)(Date.now())},a.prototype.setStartTime=function(a){this.startTime=a},a.prototype.toPointValue=function(){return this._current},a}(),B=function(){function a(){this.kind=d.LAST_VALUE}return a.prototype.createAccumulation=function(a){return new A(a)},a.prototype.merge=function(a,b){var c=(0,y.w_)(b.sampleTime)>=(0,y.w_)(a.sampleTime)?b:a;return new A(a.startTime,c.toPointValue(),c.sampleTime)},a.prototype.diff=function(a,b){var c=(0,y.w_)(b.sampleTime)>=(0,y.w_)(a.sampleTime)?b:a;return new A(b.startTime,c.toPointValue(),c.sampleTime)},a.prototype.toMetricData=function(a,b,c,d){return{descriptor:a,aggregationTemporality:b,dataPointType:g.n.GAUGE,dataPoints:c.map(function(a){var b=z(a,2),c=b[0],e=b[1];return{attributes:c,startTime:e.startTime,endTime:d,value:e.toPointValue()}})}},a}(),C=c(53205);function D(a,b,c){var d,e,f,g;return null==a.match(E)&&h.s.warn('Invalid metric name: "'+a+'". The metric name should be a ASCII string with a length no greater than 255 characters.'),{name:a,type:b,description:null!=(d=null==c?void 0:c.description)?d:"",unit:null!=(e=null==c?void 0:c.unit)?e:"",valueType:null!=(f=null==c?void 0:c.valueType)?f:C.e.DOUBLE,advice:null!=(g=null==c?void 0:c.advice)?g:{}}}!function(a){a.COUNTER="COUNTER",a.GAUGE="GAUGE",a.HISTOGRAM="HISTOGRAM",a.UP_DOWN_COUNTER="UP_DOWN_COUNTER",a.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",a.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",a.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"}(e||(e={}));var E=/^[a-z][a-z0-9_.\-/]{0,254}$/i,F=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},G=function(){function a(a,b,c,d){var e;void 0===c&&(c=!0),void 0===d&&((e=b.map(function(){return 0})).push(0),d={buckets:{boundaries:b,counts:e},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}),this.startTime=a,this._boundaries=b,this._recordMinMax=c,this._current=d}return a.prototype.record=function(a){if(!Number.isNaN(a)){this._current.count+=1,this._current.sum+=a,this._recordMinMax&&(this._current.min=Math.min(a,this._current.min),this._current.max=Math.max(a,this._current.max),this._current.hasMinMax=!0);var b=function(a,b){for(var c=0,d=a.length-1;d-c>1;){var e=Math.trunc((d+c)/2);a[e]<=b?c=e:d=e-1}return a[d]<=b?d:a[c]<=b?c:-1}(this._boundaries,a);this._current.buckets.counts[b+1]+=1}},a.prototype.setStartTime=function(a){this.startTime=a},a.prototype.toPointValue=function(){return this._current},a}(),H=function(){function a(a,b){this._boundaries=a,this._recordMinMax=b,this.kind=d.HISTOGRAM}return a.prototype.createAccumulation=function(a){return new G(a,this._boundaries,this._recordMinMax)},a.prototype.merge=function(a,b){for(var c=a.toPointValue(),d=b.toPointValue(),e=c.buckets.counts,f=d.buckets.counts,g=Array(e.length),h=0;h<e.length;h++)g[h]=e[h]+f[h];var i=1/0,j=-1/0;return this._recordMinMax&&(c.hasMinMax&&d.hasMinMax?(i=Math.min(c.min,d.min),j=Math.max(c.max,d.max)):c.hasMinMax?(i=c.min,j=c.max):d.hasMinMax&&(i=d.min,j=d.max)),new G(a.startTime,c.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:c.buckets.boundaries,counts:g},count:c.count+d.count,sum:c.sum+d.sum,hasMinMax:this._recordMinMax&&(c.hasMinMax||d.hasMinMax),min:i,max:j})},a.prototype.diff=function(a,b){for(var c=a.toPointValue(),d=b.toPointValue(),e=c.buckets.counts,f=d.buckets.counts,g=Array(e.length),h=0;h<e.length;h++)g[h]=f[h]-e[h];return new G(b.startTime,c.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:c.buckets.boundaries,counts:g},count:d.count-c.count,sum:d.sum-c.sum,hasMinMax:!1,min:1/0,max:-1/0})},a.prototype.toMetricData=function(a,b,c,d){return{descriptor:a,aggregationTemporality:b,dataPointType:g.n.HISTOGRAM,dataPoints:c.map(function(b){var c=F(b,2),f=c[0],g=c[1],h=g.toPointValue(),i=a.type===e.GAUGE||a.type===e.UP_DOWN_COUNTER||a.type===e.OBSERVABLE_GAUGE||a.type===e.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:f,startTime:g.startTime,endTime:d,value:{min:h.hasMinMax?h.min:void 0,max:h.hasMinMax?h.max:void 0,sum:i?void 0:h.sum,buckets:h.buckets,count:h.count}}})}},a}(),I=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},J=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},K=function(){function a(a,b,c,d){void 0===a&&(a=new L),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.backing=a,this.indexBase=b,this.indexStart=c,this.indexEnd=d}return Object.defineProperty(a.prototype,"offset",{get:function(){return this.indexStart},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return 0===this.backing.length||this.indexEnd===this.indexStart&&0===this.at(0)?0:this.indexEnd-this.indexStart+1},enumerable:!1,configurable:!0}),a.prototype.counts=function(){var a=this;return Array.from({length:this.length},function(b,c){return a.at(c)})},a.prototype.at=function(a){var b=this.indexBase-this.indexStart;return a<b&&(a+=this.backing.length),a-=b,this.backing.countAt(a)},a.prototype.incrementBucket=function(a,b){this.backing.increment(a,b)},a.prototype.decrementBucket=function(a,b){this.backing.decrement(a,b)},a.prototype.trim=function(){for(var a=0;a<this.length;a++)if(0!==this.at(a)){this.indexStart+=a;break}else if(a===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(var a=this.length-1;a>=0;a--)if(0!==this.at(a)){this.indexEnd-=this.length-a-1;break}this._rotate()},a.prototype.downscale=function(a){this._rotate();for(var b=1+this.indexEnd-this.indexStart,c=1<<a,d=0,e=0,f=this.indexStart;f<=this.indexEnd;){var g=f%c;g<0&&(g+=c);for(var h=g;h<c&&d<b;h++)this._relocateBucket(e,d),d++,f++;e++}this.indexStart>>=a,this.indexEnd>>=a,this.indexBase=this.indexStart},a.prototype.clone=function(){return new a(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)},a.prototype._rotate=function(){var a=this.indexBase-this.indexStart;0!==a&&(a>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,a),this.backing.reverse(a,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+a)),this.indexBase=this.indexStart)},a.prototype._relocateBucket=function(a,b){a!==b&&this.incrementBucket(a,this.backing.emptyBucket(b))},a}(),L=function(){function a(a){void 0===a&&(a=[0]),this._counts=a}return Object.defineProperty(a.prototype,"length",{get:function(){return this._counts.length},enumerable:!1,configurable:!0}),a.prototype.countAt=function(a){return this._counts[a]},a.prototype.growTo=function(a,b,c){var d=Array(a).fill(0);d.splice.apply(d,J([c,this._counts.length-b],I(this._counts.slice(b)),!1)),d.splice.apply(d,J([0,b],I(this._counts.slice(0,b)),!1)),this._counts=d},a.prototype.reverse=function(a,b){for(var c=Math.floor((a+b)/2)-a,d=0;d<c;d++){var e=this._counts[a+d];this._counts[a+d]=this._counts[b-d-1],this._counts[b-d-1]=e}},a.prototype.emptyBucket=function(a){var b=this._counts[a];return this._counts[a]=0,b},a.prototype.increment=function(a,b){this._counts[a]+=b},a.prototype.decrement=function(a,b){this._counts[a]>=b?this._counts[a]-=b:this._counts[a]=0},a.prototype.clone=function(){return new a(J([],I(this._counts),!1))},a}();function M(a){var b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,a),((0x7ff00000&b.getUint32(0))>>20)-1023}function N(a){var b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,a),(1048575&b.getUint32(0))*0x100000000+b.getUint32(4)}function O(a,b){return 0===a||a===1/0||a===-1/0||Number.isNaN(a)?a:a*Math.pow(2,b)}var P=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Q=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return P(b,a),b}(Error),R=function(){function a(a){this._shift=-a}return a.prototype.mapToIndex=function(a){return a<22250738585072014e-324?this._minNormalLowerBoundaryIndex():M(a)+this._rightShift(N(a)-1,52)>>this._shift},a.prototype.lowerBoundary=function(a){var b=this._minNormalLowerBoundaryIndex();if(a<b)throw new Q("underflow: "+a+" is < minimum lower boundary: "+b);var c=this._maxNormalLowerBoundaryIndex();if(a>c)throw new Q("overflow: "+a+" is > maximum lower boundary: "+c);return O(1,a<<this._shift)},Object.defineProperty(a.prototype,"scale",{get:function(){return 0===this._shift?0:-this._shift},enumerable:!1,configurable:!0}),a.prototype._minNormalLowerBoundaryIndex=function(){var a=-1022>>this._shift;return this._shift<2&&a--,a},a.prototype._maxNormalLowerBoundaryIndex=function(){return 1023>>this._shift},a.prototype._rightShift=function(a,b){return Math.floor(a*Math.pow(2,-b))},a}(),S=function(){function a(a){this._scale=a,this._scaleFactor=O(Math.LOG2E,a),this._inverseFactor=O(Math.LN2,-a)}return a.prototype.mapToIndex=function(a){if(a<=22250738585072014e-324)return this._minNormalLowerBoundaryIndex()-1;if(0===N(a))return(M(a)<<this._scale)-1;var b=Math.floor(Math.log(a)*this._scaleFactor),c=this._maxNormalLowerBoundaryIndex();return b>=c?c:b},a.prototype.lowerBoundary=function(a){var b=this._maxNormalLowerBoundaryIndex();if(a>=b){if(a===b)return 2*Math.exp((a-(1<<this._scale))/this._scaleFactor);throw new Q("overflow: "+a+" is > maximum lower boundary: "+b)}var c=this._minNormalLowerBoundaryIndex();if(a<=c){if(a===c)return 22250738585072014e-324;if(a===c-1)return Math.exp((a+(1<<this._scale))/this._scaleFactor)/2;throw new Q("overflow: "+a+" is < minimum lower boundary: "+c)}return Math.exp(a*this._inverseFactor)},Object.defineProperty(a.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),a.prototype._minNormalLowerBoundaryIndex=function(){return -1022<<this._scale},a.prototype._maxNormalLowerBoundaryIndex=function(){return(1024<<this._scale)-1},a}(),T=Array.from({length:31},function(a,b){return b>10?new S(b-10):new R(b-10)});function U(a){if(a>20||a<-10)throw new Q("expected scale >= -10 && <= 20, got: "+a);return T[a+10]}var V=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},W=function(){function a(a,b){this.low=a,this.high=b}return a.combine=function(b,c){return new a(Math.min(b.low,c.low),Math.max(b.high,c.high))},a}(),X=function(){function a(a,b,c,d,e,f,g,i,j,k,l){void 0===b&&(b=160),void 0===c&&(c=!0),void 0===d&&(d=0),void 0===e&&(e=0),void 0===f&&(f=0),void 0===g&&(g=1/0),void 0===i&&(i=-1/0),void 0===j&&(j=new K),void 0===k&&(k=new K),void 0===l&&(l=U(20)),this.startTime=a,this._maxSize=b,this._recordMinMax=c,this._sum=d,this._count=e,this._zeroCount=f,this._min=g,this._max=i,this._positive=j,this._negative=k,this._mapping=l,this._maxSize<2&&(h.s.warn("Exponential Histogram Max Size set to "+this._maxSize+",                 changing to the minimum size of: 2"),this._maxSize=2)}return a.prototype.record=function(a){this.updateByIncrement(a,1)},a.prototype.setStartTime=function(a){this.startTime=a},a.prototype.toPointValue=function(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}},Object.defineProperty(a.prototype,"sum",{get:function(){return this._sum},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"min",{get:function(){return this._min},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"max",{get:function(){return this._max},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"zeroCount",{get:function(){return this._zeroCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"scale",{get:function(){return this._count===this._zeroCount?0:this._mapping.scale},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"positive",{get:function(){return this._positive},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"negative",{get:function(){return this._negative},enumerable:!1,configurable:!0}),a.prototype.updateByIncrement=function(a,b){if(!Number.isNaN(a)){if(a>this._max&&(this._max=a),a<this._min&&(this._min=a),this._count+=b,0===a){this._zeroCount+=b;return}this._sum+=a*b,a>0?this._updateBuckets(this._positive,a,b):this._updateBuckets(this._negative,-a,b)}},a.prototype.merge=function(a){0===this._count?(this._min=a.min,this._max=a.max):0!==a.count&&(a.min<this.min&&(this._min=a.min),a.max>this.max&&(this._max=a.max)),this.startTime=a.startTime,this._sum+=a.sum,this._count+=a.count,this._zeroCount+=a.zeroCount;var b=this._minScale(a);this._downscale(this.scale-b),this._mergeBuckets(this.positive,a,a.positive,b),this._mergeBuckets(this.negative,a,a.negative,b)},a.prototype.diff=function(a){this._min=1/0,this._max=-1/0,this._sum-=a.sum,this._count-=a.count,this._zeroCount-=a.zeroCount;var b=this._minScale(a);this._downscale(this.scale-b),this._diffBuckets(this.positive,a,a.positive,b),this._diffBuckets(this.negative,a,a.negative,b)},a.prototype.clone=function(){return new a(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)},a.prototype._updateBuckets=function(a,b,c){var d=this._mapping.mapToIndex(b),e=!1,f=0,g=0;if(0===a.length?(a.indexStart=d,a.indexEnd=a.indexStart,a.indexBase=a.indexStart):d<a.indexStart&&a.indexEnd-d>=this._maxSize?(e=!0,g=d,f=a.indexEnd):d>a.indexEnd&&d-a.indexStart>=this._maxSize&&(e=!0,g=a.indexStart,f=d),e){var h=this._changeScale(f,g);this._downscale(h),d=this._mapping.mapToIndex(b)}this._incrementIndexBy(a,d,c)},a.prototype._incrementIndexBy=function(a,b,c){if(0!==c){if(0===a.length&&(a.indexStart=a.indexEnd=a.indexBase=b),b<a.indexStart){var d=a.indexEnd-b;d>=a.backing.length&&this._grow(a,d+1),a.indexStart=b}else if(b>a.indexEnd){var d=b-a.indexStart;d>=a.backing.length&&this._grow(a,d+1),a.indexEnd=b}var e=b-a.indexBase;e<0&&(e+=a.backing.length),a.incrementBucket(e,c)}},a.prototype._grow=function(a,b){var c,d=a.backing.length,e=a.indexBase-a.indexStart,f=(c=b,c--,c|=c>>1,c|=c>>2,c|=c>>4,c|=c>>8,c|=c>>16,++c);f>this._maxSize&&(f=this._maxSize);var g=f-e;a.backing.growTo(f,d-e,g)},a.prototype._changeScale=function(a,b){for(var c=0;a-b>=this._maxSize;)a>>=1,b>>=1,c++;return c},a.prototype._downscale=function(a){if(0!==a){if(a<0)throw Error("impossible change of scale: "+this.scale);var b=this._mapping.scale-a;this._positive.downscale(a),this._negative.downscale(a),this._mapping=U(b)}},a.prototype._minScale=function(a){var b=Math.min(this.scale,a.scale),c=W.combine(this._highLowAtScale(this.positive,this.scale,b),this._highLowAtScale(a.positive,a.scale,b)),d=W.combine(this._highLowAtScale(this.negative,this.scale,b),this._highLowAtScale(a.negative,a.scale,b));return Math.min(b-this._changeScale(c.high,c.low),b-this._changeScale(d.high,d.low))},a.prototype._highLowAtScale=function(a,b,c){if(0===a.length)return new W(0,-1);var d=b-c;return new W(a.indexStart>>d,a.indexEnd>>d)},a.prototype._mergeBuckets=function(a,b,c,d){for(var e=c.offset,f=b.scale-d,g=0;g<c.length;g++)this._incrementIndexBy(a,e+g>>f,c.at(g))},a.prototype._diffBuckets=function(a,b,c,d){for(var e=c.offset,f=b.scale-d,g=0;g<c.length;g++){var h=(e+g>>f)-a.indexBase;h<0&&(h+=a.backing.length),a.decrementBucket(h,c.at(g))}a.trim()},a}(),Y=function(){function a(a,b){this._maxSize=a,this._recordMinMax=b,this.kind=d.EXPONENTIAL_HISTOGRAM}return a.prototype.createAccumulation=function(a){return new X(a,this._maxSize,this._recordMinMax)},a.prototype.merge=function(a,b){var c=b.clone();return c.merge(a),c},a.prototype.diff=function(a,b){var c=b.clone();return c.diff(a),c},a.prototype.toMetricData=function(a,b,c,d){return{descriptor:a,aggregationTemporality:b,dataPointType:g.n.EXPONENTIAL_HISTOGRAM,dataPoints:c.map(function(b){var c=V(b,2),f=c[0],g=c[1],h=g.toPointValue(),i=a.type===e.GAUGE||a.type===e.UP_DOWN_COUNTER||a.type===e.OBSERVABLE_GAUGE||a.type===e.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:f,startTime:g.startTime,endTime:d,value:{min:h.hasMinMax?h.min:void 0,max:h.hasMinMax?h.max:void 0,sum:i?void 0:h.sum,positive:{offset:h.positive.offset,bucketCounts:h.positive.bucketCounts},negative:{offset:h.negative.offset,bucketCounts:h.negative.bucketCounts},count:h.count,scale:h.scale,zeroCount:h.zeroCount}}})}},a}(),Z=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),$=function(){function a(){}return a.Drop=function(){return ag},a.Sum=function(){return ah},a.LastValue=function(){return ai},a.Histogram=function(){return aj},a.ExponentialHistogram=function(){return ak},a.Default=function(){return al},a}(),_=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Z(b,a),b.prototype.createAggregator=function(a){return b.DEFAULT_INSTANCE},b.DEFAULT_INSTANCE=new u,b}($),aa=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Z(b,a),b.prototype.createAggregator=function(a){switch(a.type){case e.COUNTER:case e.OBSERVABLE_COUNTER:case e.HISTOGRAM:return b.MONOTONIC_INSTANCE;default:return b.NON_MONOTONIC_INSTANCE}},b.MONOTONIC_INSTANCE=new x(!0),b.NON_MONOTONIC_INSTANCE=new x(!1),b}($),ab=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Z(b,a),b.prototype.createAggregator=function(a){return b.DEFAULT_INSTANCE},b.DEFAULT_INSTANCE=new B,b}($),ac=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Z(b,a),b.prototype.createAggregator=function(a){return b.DEFAULT_INSTANCE},b.DEFAULT_INSTANCE=new H([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0),b}($),ad=function(a){function b(b,c){void 0===c&&(c=!0);var d=a.call(this)||this;if(d._recordMinMax=c,null==b)throw Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");var e=(b=(b=b.concat()).sort(function(a,b){return a-b})).lastIndexOf(-1/0),f=b.indexOf(1/0);return -1===f&&(f=void 0),d._boundaries=b.slice(e+1,f),d}return Z(b,a),b.prototype.createAggregator=function(a){return new H(this._boundaries,this._recordMinMax)},b}($),ae=function(a){function b(b,c){void 0===b&&(b=160),void 0===c&&(c=!0);var d=a.call(this)||this;return d._maxSize=b,d._recordMinMax=c,d}return Z(b,a),b.prototype.createAggregator=function(a){return new Y(this._maxSize,this._recordMinMax)},b}($),af=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Z(b,a),b.prototype._resolve=function(a){switch(a.type){case e.COUNTER:case e.UP_DOWN_COUNTER:case e.OBSERVABLE_COUNTER:case e.OBSERVABLE_UP_DOWN_COUNTER:return ah;case e.GAUGE:case e.OBSERVABLE_GAUGE:return ai;case e.HISTOGRAM:if(a.advice.explicitBucketBoundaries)return new ad(a.advice.explicitBucketBoundaries);return aj}return h.s.warn("Unable to recognize instrument type: "+a.type),ag},b.prototype.createAggregator=function(a){return this._resolve(a).createAggregator(a)},b}($),ag=new _,ah=new aa,ai=new ab,aj=new ac,ak=new ae,al=new af,am=function(a){return $.Default()},an=function(a){return f.h.CUMULATIVE},ao=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},ap=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},aq=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},ar=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},as=function(){function a(a){var b,c,d;this._shutdown=!1,this._aggregationSelector=null!=(b=null==a?void 0:a.aggregationSelector)?b:am,this._aggregationTemporalitySelector=null!=(c=null==a?void 0:a.aggregationTemporalitySelector)?c:an,this._metricProducers=null!=(d=null==a?void 0:a.metricProducers)?d:[]}return a.prototype.setMetricProducer=function(a){if(this._sdkMetricProducer)throw Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=a,this.onInitialized()},a.prototype.selectAggregation=function(a){return this._aggregationSelector(a)},a.prototype.selectAggregationTemporality=function(a){return this._aggregationTemporalitySelector(a)},a.prototype.onInitialized=function(){},a.prototype.collect=function(a){return ao(this,void 0,void 0,function(){var b,c,d,e;return ap(this,function(f){switch(f.label){case 0:if(void 0===this._sdkMetricProducer)throw Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw Error("MetricReader is shutdown");return[4,Promise.all(ar([this._sdkMetricProducer.collect({timeoutMillis:null==a?void 0:a.timeoutMillis})],aq(this._metricProducers.map(function(b){return b.collect({timeoutMillis:null==a?void 0:a.timeoutMillis})})),!1))];case 1:return c=(b=aq.apply(void 0,[f.sent()]))[0],d=b.slice(1),e=c.errors.concat(t(d,function(a){return a.errors})),[2,{resourceMetrics:{resource:c.resourceMetrics.resource,scopeMetrics:c.resourceMetrics.scopeMetrics.concat(t(d,function(a){return a.resourceMetrics.scopeMetrics}))},errors:e}]}})})},a.prototype.shutdown=function(a){return ao(this,void 0,void 0,function(){return ap(this,function(b){switch(b.label){case 0:if(this._shutdown)return h.s.error("Cannot call shutdown twice."),[2];if((null==a?void 0:a.timeoutMillis)!=null)return[3,2];return[4,this.onShutdown()];case 1:return b.sent(),[3,4];case 2:return[4,r(this.onShutdown(),a.timeoutMillis)];case 3:b.sent(),b.label=4;case 4:return this._shutdown=!0,[2]}})})},a.prototype.forceFlush=function(a){return ao(this,void 0,void 0,function(){return ap(this,function(b){switch(b.label){case 0:if(this._shutdown)return h.s.warn("Cannot forceFlush on already shutdown MetricReader."),[2];if((null==a?void 0:a.timeoutMillis)!=null)return[3,2];return[4,this.onForceFlush()];case 1:case 3:return b.sent(),[2];case 2:return[4,r(this.onForceFlush(),a.timeoutMillis)]}})})},a}(),at=c(49127),au=c(41625),av=c(4875),aw=c(36769),ax=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),ay=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},az=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},aA=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},aB=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},aC=function(a){function b(b){var c,d,e,f,g=a.call(this,{aggregationSelector:null==(c=b.exporter.selectAggregation)?void 0:c.bind(b.exporter),aggregationTemporalitySelector:null==(d=b.exporter.selectAggregationTemporality)?void 0:d.bind(b.exporter),metricProducers:b.metricProducers})||this;if(void 0!==b.exportIntervalMillis&&b.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(void 0!==b.exportTimeoutMillis&&b.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(void 0!==b.exportTimeoutMillis&&void 0!==b.exportIntervalMillis&&b.exportIntervalMillis<b.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");return g._exportInterval=null!=(e=b.exportIntervalMillis)?e:6e4,g._exportTimeout=null!=(f=b.exportTimeoutMillis)?f:3e4,g._exporter=b.exporter,g}return ax(b,a),b.prototype._runOnce=function(){return ay(this,void 0,void 0,function(){var a;return az(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,r(this._doRun(),this._exportTimeout)];case 1:return b.sent(),[3,3];case 2:if((a=b.sent())instanceof q)return h.s.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout),[2];return(0,at.s)(a),[3,3];case 3:return[2]}})})},b.prototype._doRun=function(){var a,b;return ay(this,void 0,void 0,function(){var c,d,e,f,g,i=this;return az(this,function(j){switch(j.label){case 0:return[4,this.collect({timeoutMillis:this._exportTimeout})];case 1:if(d=(c=j.sent()).resourceMetrics,(e=c.errors).length>0&&(g=h.s).error.apply(g,aB(["PeriodicExportingMetricReader: metrics collection errors"],aA(e),!1)),f=function(){return ay(i,void 0,void 0,function(){var a;return az(this,function(b){switch(b.label){case 0:return[4,au.internal._export(this._exporter,d)];case 1:if((a=b.sent()).code!==av.V.SUCCESS)throw Error("PeriodicExportingMetricReader: metrics export failed (error "+a.error+")");return[2]}})})},!d.resource.asyncAttributesPending)return[3,2];return null==(b=(a=d.resource).waitForAsyncAttributes)||b.call(a).then(f,function(a){return h.s.debug("Error while resolving async portion of resource: ",a)}),[3,4];case 2:return[4,f()];case 3:j.sent(),j.label=4;case 4:return[2]}})})},b.prototype.onInitialized=function(){var a=this;this._interval=setInterval(function(){a._runOnce()},this._exportInterval),(0,aw.K)(this._interval)},b.prototype.onForceFlush=function(){return ay(this,void 0,void 0,function(){return az(this,function(a){switch(a.label){case 0:return[4,this._runOnce()];case 1:return a.sent(),[4,this._exporter.forceFlush()];case 2:return a.sent(),[2]}})})},b.prototype.onShutdown=function(){return ay(this,void 0,void 0,function(){return az(this,function(a){switch(a.label){case 0:return this._interval&&clearInterval(this._interval),[4,this._exporter.shutdown()];case 1:return a.sent(),[2]}})})},b}(as),aD=function(){function a(a){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=a}return a.prototype.export=function(a,b){if(this._shutdown)return void setTimeout(function(){return b({code:av.V.FAILED})},0);this._metrics.push(a),setTimeout(function(){return b({code:av.V.SUCCESS})},0)},a.prototype.getMetrics=function(){return this._metrics},a.prototype.forceFlush=function(){return Promise.resolve()},a.prototype.reset=function(){this._metrics=[]},a.prototype.selectAggregationTemporality=function(a){return this._aggregationTemporality},a.prototype.shutdown=function(){return this._shutdown=!0,Promise.resolve()},a}(),aE=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},aF=function(){function a(a){var b;this._shutdown=!1,this._temporalitySelector=null!=(b=null==a?void 0:a.temporalitySelector)?b:an}return a.prototype.export=function(b,c){return this._shutdown?void setImmediate(c,{code:av.V.FAILED}):a._sendMetrics(b,c)},a.prototype.forceFlush=function(){return Promise.resolve()},a.prototype.selectAggregationTemporality=function(a){return this._temporalitySelector(a)},a.prototype.shutdown=function(){return this._shutdown=!0,Promise.resolve()},a._sendMetrics=function(a,b){var c,d,e,f;try{for(var g=aE(a.scopeMetrics),h=g.next();!h.done;h=g.next()){var i=h.value;try{for(var j=(e=void 0,aE(i.metrics)),k=j.next();!k.done;k=j.next()){var l=k.value;console.dir({descriptor:l.descriptor,dataPointType:l.dataPointType,dataPoints:l.dataPoints},{depth:null})}}catch(a){e={error:a}}finally{try{k&&!k.done&&(f=j.return)&&f.call(j)}finally{if(e)throw e.error}}}}catch(a){c={error:a}}finally{try{h&&!h.done&&(d=g.return)&&d.call(g)}finally{if(c)throw c.error}}b({code:av.V.SUCCESS})},a}(),aG=c(85840),aH=c(57182),aI=function(){function a(){this._registeredViews=[]}return a.prototype.addView=function(a){this._registeredViews.push(a)},a.prototype.findViews=function(a,b){var c=this;return this._registeredViews.filter(function(d){return c._matchInstrument(d.instrumentSelector,a)&&c._matchMeter(d.meterSelector,b)})},a.prototype._matchInstrument=function(a,b){return(void 0===a.getType()||b.type===a.getType())&&a.getNameFilter().match(b.name)&&a.getUnitFilter().match(b.unit)},a.prototype._matchMeter=function(a,b){return a.getNameFilter().match(b.name)&&(void 0===b.version||a.getVersionFilter().match(b.version))&&(void 0===b.schemaUrl||a.getSchemaUrlFilter().match(b.schemaUrl))},a}(),aJ=c(20531),aK=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),aL=function(){function a(a,b){this._writableMetricStorage=a,this._descriptor=b}return a.prototype._record=function(a,b,c){if(void 0===b&&(b={}),void 0===c&&(c=aJ._.active()),"number"!=typeof a)return void h.s.warn("non-number value provided to metric "+this._descriptor.name+": "+a);(this._descriptor.valueType!==C.e.INT||Number.isInteger(a)||(h.s.warn("INT value type cannot accept a floating-point value for "+this._descriptor.name+", ignoring the fractional digits."),Number.isInteger(a=Math.trunc(a))))&&this._writableMetricStorage.record(a,b,c,(0,y.lg)(Date.now()))},a}(),aM=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aK(b,a),b.prototype.add=function(a,b,c){this._record(a,b,c)},b}(aL),aN=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aK(b,a),b.prototype.add=function(a,b,c){if(a<0)return void h.s.warn("negative value provided to counter "+this._descriptor.name+": "+a);this._record(a,b,c)},b}(aL),aO=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aK(b,a),b.prototype.record=function(a,b,c){this._record(a,b,c)},b}(aL),aP=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aK(b,a),b.prototype.record=function(a,b,c){if(a<0)return void h.s.warn("negative value provided to histogram "+this._descriptor.name+": "+a);this._record(a,b,c)},b}(aL),aQ=function(){function a(a,b,c){this._observableRegistry=c,this._descriptor=a,this._metricStorages=b}return a.prototype.addCallback=function(a){this._observableRegistry.addCallback(a,this)},a.prototype.removeCallback=function(a){this._observableRegistry.removeCallback(a,this)},a}(),aR=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aK(b,a),b}(aQ),aS=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aK(b,a),b}(aQ),aT=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aK(b,a),b}(aQ);function aU(a){return a instanceof aQ}var aV=function(){function a(a){this._meterSharedState=a}return a.prototype.createGauge=function(a,b){var c=D(a,e.GAUGE,b);return new aO(this._meterSharedState.registerMetricStorage(c),c)},a.prototype.createHistogram=function(a,b){var c=D(a,e.HISTOGRAM,b);return new aP(this._meterSharedState.registerMetricStorage(c),c)},a.prototype.createCounter=function(a,b){var c=D(a,e.COUNTER,b);return new aN(this._meterSharedState.registerMetricStorage(c),c)},a.prototype.createUpDownCounter=function(a,b){var c=D(a,e.UP_DOWN_COUNTER,b);return new aM(this._meterSharedState.registerMetricStorage(c),c)},a.prototype.createObservableGauge=function(a,b){var c=D(a,e.OBSERVABLE_GAUGE,b),d=this._meterSharedState.registerAsyncMetricStorage(c);return new aS(c,d,this._meterSharedState.observableRegistry)},a.prototype.createObservableCounter=function(a,b){var c=D(a,e.OBSERVABLE_COUNTER,b),d=this._meterSharedState.registerAsyncMetricStorage(c);return new aR(c,d,this._meterSharedState.observableRegistry)},a.prototype.createObservableUpDownCounter=function(a,b){var c=D(a,e.OBSERVABLE_UP_DOWN_COUNTER,b),d=this._meterSharedState.registerAsyncMetricStorage(c);return new aT(c,d,this._meterSharedState.observableRegistry)},a.prototype.addBatchObservableCallback=function(a,b){this._meterSharedState.observableRegistry.addBatchCallback(a,b)},a.prototype.removeBatchObservableCallback=function(a,b){this._meterSharedState.observableRegistry.removeBatchCallback(a,b)},a}(),aW=function(){function a(a){this._instrumentDescriptor=a}return a.prototype.getInstrumentDescriptor=function(){return this._instrumentDescriptor},a.prototype.updateDescription=function(a){this._instrumentDescriptor=D(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:a,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})},a}(),aX=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),aY=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},aZ=function(a){function b(){return a.call(this,p)||this}return aX(b,a),b}(function(){function a(a){this._hash=a,this._valueMap=new Map,this._keyMap=new Map}return a.prototype.get=function(a,b){return null!=b||(b=this._hash(a)),this._valueMap.get(b)},a.prototype.getOrDefault=function(a,b){var c=this._hash(a);if(this._valueMap.has(c))return this._valueMap.get(c);var d=b();return this._keyMap.has(c)||this._keyMap.set(c,a),this._valueMap.set(c,d),d},a.prototype.set=function(a,b,c){null!=c||(c=this._hash(a)),this._keyMap.has(c)||this._keyMap.set(c,a),this._valueMap.set(c,b)},a.prototype.has=function(a,b){return null!=b||(b=this._hash(a)),this._valueMap.has(b)},a.prototype.keys=function(){var a,b;return aY(this,function(c){switch(c.label){case 0:b=(a=this._keyMap.entries()).next(),c.label=1;case 1:if(!0===b.done)return[3,3];return[4,[b.value[1],b.value[0]]];case 2:return c.sent(),b=a.next(),[3,1];case 3:return[2]}})},a.prototype.entries=function(){var a,b;return aY(this,function(c){switch(c.label){case 0:b=(a=this._valueMap.entries()).next(),c.label=1;case 1:if(!0===b.done)return[3,3];return[4,[this._keyMap.get(b.value[0]),b.value[1],b.value[0]]];case 2:return c.sent(),b=a.next(),[3,1];case 3:return[2]}})},Object.defineProperty(a.prototype,"size",{get:function(){return this._valueMap.size},enumerable:!1,configurable:!0}),a}()),a$=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},a_=function(){function a(a){this._aggregator=a,this._activeCollectionStorage=new aZ,this._cumulativeMemoStorage=new aZ}return a.prototype.record=function(a,b,c,d){var e=this,f=this._activeCollectionStorage.getOrDefault(b,function(){return e._aggregator.createAccumulation(d)});null==f||f.record(a)},a.prototype.batchCumulate=function(a,b){var c=this;Array.from(a.entries()).forEach(function(a){var d=a$(a,3),e=d[0],f=d[1],g=d[2],h=c._aggregator.createAccumulation(b);null==h||h.record(f);var i=h;if(c._cumulativeMemoStorage.has(e,g)){var j=c._cumulativeMemoStorage.get(e,g);i=c._aggregator.diff(j,h)}if(c._activeCollectionStorage.has(e,g)){var k=c._activeCollectionStorage.get(e,g);i=c._aggregator.merge(k,i)}c._cumulativeMemoStorage.set(e,h,g),c._activeCollectionStorage.set(e,i,g)})},a.prototype.collect=function(){var a=this._activeCollectionStorage;return this._activeCollectionStorage=new aZ,a},a}(),a0=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},a1=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},a2=function(){function a(a,b){var c=this;this._aggregator=a,this._unreportedAccumulations=new Map,this._reportHistory=new Map,b.forEach(function(a){c._unreportedAccumulations.set(a,[])})}return a.prototype.buildMetrics=function(b,c,d,e){this._stashAccumulations(d);var g,h=this._getMergedUnreportedAccumulations(b),i=h;if(this._reportHistory.has(b)){var j=this._reportHistory.get(b),k=j.collectionTime;i=(g=j.aggregationTemporality)===f.h.CUMULATIVE?a.merge(j.accumulations,h,this._aggregator):a.calibrateStartTime(j.accumulations,h,k)}else g=b.selectAggregationTemporality(c.type);this._reportHistory.set(b,{accumulations:i,collectionTime:e,aggregationTemporality:g});var l=Array.from(i.entries());if(0!==l.length)return this._aggregator.toMetricData(c,g,l,e)},a.prototype._stashAccumulations=function(a){var b,c,d=this._unreportedAccumulations.keys();try{for(var e=a0(d),f=e.next();!f.done;f=e.next()){var g=f.value,h=this._unreportedAccumulations.get(g);void 0===h&&(h=[],this._unreportedAccumulations.set(g,h)),h.push(a)}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}},a.prototype._getMergedUnreportedAccumulations=function(b){var c,d,e=new aZ,f=this._unreportedAccumulations.get(b);if(this._unreportedAccumulations.set(b,[]),void 0===f)return e;try{for(var g=a0(f),h=g.next();!h.done;h=g.next()){var i=h.value;e=a.merge(e,i,this._aggregator)}}catch(a){c={error:a}}finally{try{h&&!h.done&&(d=g.return)&&d.call(g)}finally{if(c)throw c.error}}return e},a.merge=function(a,b,c){for(var d=b.entries(),e=d.next();!0!==e.done;){var f=a1(e.value,3),g=f[0],h=f[1],i=f[2];if(a.has(g,i)){var j=a.get(g,i),k=c.merge(j,h);a.set(g,k,i)}else a.set(g,h,i);e=d.next()}return a},a.calibrateStartTime=function(a,b,c){var d,e;try{for(var f=a0(a.keys()),g=f.next();!g.done;g=f.next()){var h=a1(g.value,2),i=h[0],j=h[1],k=b.get(i,j);null==k||k.setStartTime(c)}}catch(a){d={error:a}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(d)throw d.error}}return b},a}(),a3=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),a4=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},a5=function(a){function b(b,c,d,e){var f=a.call(this,b)||this;return f._attributesProcessor=d,f._deltaMetricStorage=new a_(c),f._temporalMetricStorage=new a2(c,e),f}return a3(b,a),b.prototype.record=function(a,b){var c=this,d=new aZ;Array.from(a.entries()).forEach(function(a){var b=a4(a,2),e=b[0],f=b[1];d.set(c._attributesProcessor.process(e),f)}),this._deltaMetricStorage.batchCumulate(d,b)},b.prototype.collect=function(a,b){var c=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(a,this._instrumentDescriptor,c,b)},b}(aW);function a6(a,b){var c="";return a.unit!==b.unit&&(c+="	- Unit '"+a.unit+"' does not match '"+b.unit+"'\n"),a.type!==b.type&&(c+="	- Type '"+a.type+"' does not match '"+b.type+"'\n"),a.valueType!==b.valueType&&(c+="	- Value Type '"+a.valueType+"' does not match '"+b.valueType+"'\n"),a.description!==b.description&&(c+="	- Description '"+a.description+"' does not match '"+b.description+"'\n"),c}function a7(a,b){var c,d;return a.valueType!==b.valueType?"	- use valueType '"+a.valueType+"' on instrument creation or use an instrument name other than '"+b.name+"'":a.unit!==b.unit?"	- use unit '"+a.unit+"' on instrument creation or use an instrument name other than '"+b.name+"'":a.type!==b.type?(c=JSON.stringify({name:b.name,type:b.type,unit:b.unit}),"	- create a new view with a name other than '"+a.name+"' and InstrumentSelector '"+c+"'"):a.description!==b.description?(d=JSON.stringify({name:b.name,type:b.type,unit:b.unit}),"	- create a new view with a name other than '"+a.name+"' and InstrumentSelector '"+d+"'\n    	- OR - create a new view with the name "+a.name+" and description '"+a.description+"' and InstrumentSelector "+d+"\n    	- OR - create a new view with the name "+b.name+" and description '"+a.description+"' and InstrumentSelector "+d):""}var a8=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},a9=function(){function a(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}return a.create=function(){return new a},a.prototype.getStorages=function(a){var b,c,d,e,f=[];try{for(var g=a8(this._sharedRegistry.values()),h=g.next();!h.done;h=g.next()){var i=h.value;f=f.concat(i)}}catch(a){b={error:a}}finally{try{h&&!h.done&&(c=g.return)&&c.call(g)}finally{if(b)throw b.error}}var j=this._perCollectorRegistry.get(a);if(null!=j)try{for(var k=a8(j.values()),l=k.next();!l.done;l=k.next()){var i=l.value;f=f.concat(i)}}catch(a){d={error:a}}finally{try{l&&!l.done&&(e=k.return)&&e.call(k)}finally{if(d)throw d.error}}return f},a.prototype.register=function(a){this._registerStorage(a,this._sharedRegistry)},a.prototype.registerForCollector=function(a,b){var c=this._perCollectorRegistry.get(a);null==c&&(c=new Map,this._perCollectorRegistry.set(a,c)),this._registerStorage(b,c)},a.prototype.findOrUpdateCompatibleStorage=function(a){var b=this._sharedRegistry.get(a.name);return void 0===b?null:this._findOrUpdateCompatibleStorage(a,b)},a.prototype.findOrUpdateCompatibleCollectorStorage=function(a,b){var c=this._perCollectorRegistry.get(a);if(void 0===c)return null;var d=c.get(b.name);return void 0===d?null:this._findOrUpdateCompatibleStorage(b,d)},a.prototype._registerStorage=function(a,b){var c=a.getInstrumentDescriptor(),d=b.get(c.name);if(void 0===d)return void b.set(c.name,[a]);d.push(a)},a.prototype._findOrUpdateCompatibleStorage=function(a,b){var c,d,e=null;try{for(var f=a8(b),g=f.next();!g.done;g=f.next()){var i=g.value,j=i.getInstrumentDescriptor();!function(a,b){var c,d;return c=a.name,d=b.name,c.toLowerCase()===d.toLowerCase()&&a.unit===b.unit&&a.type===b.type&&a.valueType===b.valueType}(j,a)?h.s.warn("A view or instrument with the name ",a.name," has already been registered and is incompatible with another registered view.\n","Details:\n",a6(j,a),"To resolve the conflict:\n",a7(j,a)):(j.description!==a.description&&(a.description.length>j.description.length&&i.updateDescription(a.description),h.s.warn("A view or instrument with the name ",a.name," has already been registered, but has a different description and is incompatible with another registered view.\n","Details:\n",a6(j,a),"The longer description will be used.\nTo resolve the conflict:",a7(j,a))),e=i)}}catch(a){c={error:a}}finally{try{g&&!g.done&&(d=f.return)&&d.call(f)}finally{if(c)throw c.error}}return e},a}(),ba=function(){function a(a){this._backingStorages=a}return a.prototype.record=function(a,b,c,d){this._backingStorages.forEach(function(e){e.record(a,b,c,d)})},a}(),bb=function(){function a(a,b){this._instrumentName=a,this._valueType=b,this._buffer=new aZ}return a.prototype.observe=function(a,b){if(void 0===b&&(b={}),"number"!=typeof a)return void h.s.warn("non-number value provided to metric "+this._instrumentName+": "+a);(this._valueType!==C.e.INT||Number.isInteger(a)||(h.s.warn("INT value type cannot accept a floating-point value for "+this._instrumentName+", ignoring the fractional digits."),Number.isInteger(a=Math.trunc(a))))&&this._buffer.set(b,a)},a}(),bc=function(){function a(){this._buffer=new Map}return a.prototype.observe=function(a,b,c){if(void 0===c&&(c={}),aU(a)){var d=this._buffer.get(a);if(null==d&&(d=new aZ,this._buffer.set(a,d)),"number"!=typeof b)return void h.s.warn("non-number value provided to metric "+a._descriptor.name+": "+b);(a._descriptor.valueType!==C.e.INT||Number.isInteger(b)||(h.s.warn("INT value type cannot accept a floating-point value for "+a._descriptor.name+", ignoring the fractional digits."),Number.isInteger(b=Math.trunc(b))))&&d.set(c,b)}},a}(),bd=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},be=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},bf=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},bg=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},bh=function(){function a(){this._callbacks=[],this._batchCallbacks=[]}return a.prototype.addCallback=function(a,b){this._findCallback(a,b)>=0||this._callbacks.push({callback:a,instrument:b})},a.prototype.removeCallback=function(a,b){var c=this._findCallback(a,b);c<0||this._callbacks.splice(c,1)},a.prototype.addBatchCallback=function(a,b){var c=new Set(b.filter(aU));if(0===c.size)return void h.s.error("BatchObservableCallback is not associated with valid instruments",b);this._findBatchCallback(a,c)>=0||this._batchCallbacks.push({callback:a,instruments:c})},a.prototype.removeBatchCallback=function(a,b){var c=new Set(b.filter(aU)),d=this._findBatchCallback(a,c);d<0||this._batchCallbacks.splice(d,1)},a.prototype.observe=function(a,b){return bd(this,void 0,void 0,function(){var c,d;return be(this,function(e){switch(e.label){case 0:return c=this._observeCallbacks(a,b),d=this._observeBatchCallbacks(a,b),[4,function(a){return j(this,void 0,void 0,function(){var b=this;return k(this,function(c){return[2,Promise.all(a.map(function(a){return j(b,void 0,void 0,function(){return k(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,a];case 1:return[2,{status:"fulfilled",value:b.sent()}];case 2:return[2,{status:"rejected",reason:b.sent()}];case 3:return[2]}})})}))]})})}(bg(bg([],bf(c),!1),bf(d),!1))];case 1:return[2,e.sent().filter(s).map(function(a){return a.reason})]}})})},a.prototype._observeCallbacks=function(a,b){var c=this;return this._callbacks.map(function(d){var e=d.callback,f=d.instrument;return bd(c,void 0,void 0,function(){var c,d;return be(this,function(g){switch(g.label){case 0:return d=Promise.resolve(e(c=new bb(f._descriptor.name,f._descriptor.valueType))),null!=b&&(d=r(d,b)),[4,d];case 1:return g.sent(),f._metricStorages.forEach(function(b){b.record(c._buffer,a)}),[2]}})})})},a.prototype._observeBatchCallbacks=function(a,b){var c=this;return this._batchCallbacks.map(function(d){var e=d.callback,f=d.instruments;return bd(c,void 0,void 0,function(){var c,d;return be(this,function(g){switch(g.label){case 0:return d=Promise.resolve(e(c=new bc)),null!=b&&(d=r(d,b)),[4,d];case 1:return g.sent(),f.forEach(function(b){var d=c._buffer.get(b);null!=d&&b._metricStorages.forEach(function(b){b.record(d,a)})}),[2]}})})})},a.prototype._findCallback=function(a,b){return this._callbacks.findIndex(function(c){return c.callback===a&&c.instrument===b})},a.prototype._findBatchCallback=function(a,b){return this._batchCallbacks.findIndex(function(c){return c.callback===a&&function(a,b){var c,d;if(a.size!==b.size)return!1;try{for(var e=n(a),f=e.next();!f.done;f=e.next()){var g=f.value;if(!b.has(g))return!1}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}return!0}(c.instruments,b)})},a}(),bi=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),bj=function(a){function b(b,c,d,e){var f=a.call(this,b)||this;return f._attributesProcessor=d,f._deltaMetricStorage=new a_(c),f._temporalMetricStorage=new a2(c,e),f}return bi(b,a),b.prototype.record=function(a,b,c,d){b=this._attributesProcessor.process(b,c),this._deltaMetricStorage.record(a,b,c,d)},b.prototype.collect=function(a,b){var c=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(a,this._instrumentDescriptor,c,b)},b}(aW),bk=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),bl=function(){function a(){}return a.Noop=function(){return bo},a}(),bm=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bk(b,a),b.prototype.process=function(a,b){return a},b}(bl),bn=function(a){function b(b){var c=a.call(this)||this;return c._allowedAttributeNames=b,c}return bk(b,a),b.prototype.process=function(a,b){var c=this,d={};return Object.keys(a).filter(function(a){return c._allowedAttributeNames.includes(a)}).forEach(function(b){return d[b]=a[b]}),d},b}(bl),bo=new bm,bp=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},bq=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},br=function(){function a(a,b){this._meterProviderSharedState=a,this._instrumentationScope=b,this.metricStorageRegistry=new a9,this.observableRegistry=new bh,this.meter=new aV(this)}return a.prototype.registerMetricStorage=function(a){var b=this._registerMetricStorage(a,bj);return 1===b.length?b[0]:new ba(b)},a.prototype.registerAsyncMetricStorage=function(a){return this._registerMetricStorage(a,a5)},a.prototype.collect=function(a,b,c){var d,e,f,g;return d=this,e=void 0,f=void 0,g=function(){var d,e,f;return bp(this,function(g){switch(g.label){case 0:return[4,this.observableRegistry.observe(b,null==c?void 0:c.timeoutMillis)];case 1:if(d=g.sent(),0===(e=this.metricStorageRegistry.getStorages(a)).length)return[2,null];if(0===(f=e.map(function(c){return c.collect(a,b)}).filter(o)).length)return[2,{errors:d}];return[2,{scopeMetrics:{scope:this._instrumentationScope,metrics:f},errors:d}]}})},new(f||(f=Promise))(function(a,b){function c(a){try{i(g.next(a))}catch(a){b(a)}}function h(a){try{i(g.throw(a))}catch(a){b(a)}}function i(b){var d;b.done?a(b.value):((d=b.value)instanceof f?d:new f(function(a){a(d)})).then(c,h)}i((g=g.apply(d,e||[])).next())})},a.prototype._registerMetricStorage=function(a,b){var c=this,d=this._meterProviderSharedState.viewRegistry.findViews(a,this._instrumentationScope).map(function(d){var e,f,g={name:null!=(e=d.name)?e:a.name,description:null!=(f=d.description)?f:a.description,type:a.type,unit:a.unit,valueType:a.valueType,advice:a.advice},h=c.metricStorageRegistry.findOrUpdateCompatibleStorage(g);if(null!=h)return h;var i=d.aggregation.createAggregator(g),j=new b(g,i,d.attributesProcessor,c._meterProviderSharedState.metricCollectors);return c.metricStorageRegistry.register(j),j});if(0===d.length){var e=this._meterProviderSharedState.selectAggregations(a.type).map(function(d){var e=bq(d,2),f=e[0],g=e[1],h=c.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(f,a);if(null!=h)return h;var i=g.createAggregator(a),j=new b(a,i,bl.Noop(),[f]);return c.metricStorageRegistry.registerForCollector(f,j),j});d=d.concat(e)}return d},a}(),bs=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},bt=function(){function a(a){this.resource=a,this.viewRegistry=new aI,this.metricCollectors=[],this.meterSharedStates=new Map}return a.prototype.getMeterSharedState=function(a){var b,c,d=a.name+":"+(null!=(b=a.version)?b:"")+":"+(null!=(c=a.schemaUrl)?c:""),e=this.meterSharedStates.get(d);return null==e&&(e=new br(this,a),this.meterSharedStates.set(d,e)),e},a.prototype.selectAggregations=function(a){var b,c,d=[];try{for(var e=bs(this.metricCollectors),f=e.next();!f.done;f=e.next()){var g=f.value;d.push([g,g.selectAggregation(a)])}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d},a}(),bu=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},bv=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},bw=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},bx=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},by=function(){function a(a,b){this._sharedState=a,this._metricReader=b}return a.prototype.collect=function(a){return bu(this,void 0,void 0,function(){var b,c,d,e=this;return bv(this,function(f){switch(f.label){case 0:return b=(0,y.lg)(Date.now()),c=[],d=[],[4,Promise.all(Array.from(this._sharedState.meterSharedStates.values()).map(function(f){return bu(e,void 0,void 0,function(){var e;return bv(this,function(g){switch(g.label){case 0:return[4,f.collect(this,b,a)];case 1:return(null==(e=g.sent())?void 0:e.scopeMetrics)!=null&&c.push(e.scopeMetrics),(null==e?void 0:e.errors)!=null&&d.push.apply(d,bx([],bw(e.errors),!1)),[2]}})})}))];case 1:return f.sent(),[2,{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:c},errors:d}]}})})},a.prototype.forceFlush=function(a){return bu(this,void 0,void 0,function(){return bv(this,function(b){switch(b.label){case 0:return[4,this._metricReader.forceFlush(a)];case 1:return b.sent(),[2]}})})},a.prototype.shutdown=function(a){return bu(this,void 0,void 0,function(){return bv(this,function(b){switch(b.label){case 0:return[4,this._metricReader.shutdown(a)];case 1:return b.sent(),[2]}})})},a.prototype.selectAggregationTemporality=function(a){return this._metricReader.selectAggregationTemporality(a)},a.prototype.selectAggregation=function(a){return this._metricReader.selectAggregation(a)},a}(),bz=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},bA=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},bB=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},bC=function(){function a(a){this._shutdown=!1;var b,c,d,e,f,g=aH.F.default().merge(null!=(f=null==a?void 0:a.resource)?f:aH.F.empty());if(this._sharedState=new bt(g),(null==a?void 0:a.views)!=null&&a.views.length>0)try{for(var h=bB(a.views),i=h.next();!i.done;i=h.next()){var j=i.value;this._sharedState.viewRegistry.addView(j)}}catch(a){b={error:a}}finally{try{i&&!i.done&&(c=h.return)&&c.call(h)}finally{if(b)throw b.error}}if((null==a?void 0:a.readers)!=null&&a.readers.length>0)try{for(var k=bB(a.readers),l=k.next();!l.done;l=k.next()){var m=l.value;this.addMetricReader(m)}}catch(a){d={error:a}}finally{try{l&&!l.done&&(e=k.return)&&e.call(k)}finally{if(d)throw d.error}}}return a.prototype.getMeter=function(a,b,c){return(void 0===b&&(b=""),void 0===c&&(c={}),this._shutdown)?(h.s.warn("A shutdown MeterProvider cannot provide a Meter"),(0,aG.Ac)()):this._sharedState.getMeterSharedState({name:a,version:b,schemaUrl:c.schemaUrl}).meter},a.prototype.addMetricReader=function(a){var b=new by(this._sharedState,a);a.setMetricProducer(b),this._sharedState.metricCollectors.push(b)},a.prototype.shutdown=function(a){return bz(this,void 0,void 0,function(){return bA(this,function(b){switch(b.label){case 0:if(this._shutdown)return h.s.warn("shutdown may only be called once per MeterProvider"),[2];return this._shutdown=!0,[4,Promise.all(this._sharedState.metricCollectors.map(function(b){return b.shutdown(a)}))];case 1:return b.sent(),[2]}})})},a.prototype.forceFlush=function(a){return bz(this,void 0,void 0,function(){return bA(this,function(b){switch(b.label){case 0:if(this._shutdown)return h.s.warn("invalid attempt to force flush after MeterProvider shutdown"),[2];return[4,Promise.all(this._sharedState.metricCollectors.map(function(b){return b.forceFlush(a)}))];case 1:return b.sent(),[2]}})})},a}(),bD=/[\^$\\.+?()[\]{}|]/g,bE=function(){function a(b){"*"===b?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(a.escapePattern(b)))}return a.prototype.match=function(a){return!!this._matchAll||this._regexp.test(a)},a.escapePattern=function(a){return"^"+a.replace(bD,"\\$&").replace("*",".*")+"$"},a.hasWildcard=function(a){return a.includes("*")},a}(),bF=function(){function a(a){this._matchAll=void 0===a,this._pattern=a}return a.prototype.match=function(a){return!!this._matchAll||a===this._pattern},a}(),bG=function(){function a(a){var b;this._nameFilter=new bE(null!=(b=null==a?void 0:a.name)?b:"*"),this._type=null==a?void 0:a.type,this._unitFilter=new bF(null==a?void 0:a.unit)}return a.prototype.getType=function(){return this._type},a.prototype.getNameFilter=function(){return this._nameFilter},a.prototype.getUnitFilter=function(){return this._unitFilter},a}(),bH=function(){function a(a){this._nameFilter=new bF(null==a?void 0:a.name),this._versionFilter=new bF(null==a?void 0:a.version),this._schemaUrlFilter=new bF(null==a?void 0:a.schemaUrl)}return a.prototype.getNameFilter=function(){return this._nameFilter},a.prototype.getVersionFilter=function(){return this._versionFilter},a.prototype.getSchemaUrlFilter=function(){return this._schemaUrlFilter},a}(),bI=function(a){var b;if(null==a.instrumentName&&null==a.instrumentType&&null==a.instrumentUnit&&null==a.meterName&&null==a.meterVersion&&null==a.meterSchemaUrl)throw Error("Cannot create view with no selector arguments supplied");if(null!=a.name&&((null==a?void 0:a.instrumentName)==null||bE.hasWildcard(a.instrumentName)))throw Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");null!=a.attributeKeys?this.attributesProcessor=new bn(a.attributeKeys):this.attributesProcessor=bl.Noop(),this.name=a.name,this.description=a.description,this.aggregation=null!=(b=a.aggregation)?b:$.Default(),this.instrumentSelector=new bG({name:a.instrumentName,type:a.instrumentType,unit:a.instrumentUnit}),this.meterSelector=new bH({name:a.meterName,version:a.meterVersion,schemaUrl:a.meterSchemaUrl})}},68423:(a,b)=>{"use strict";class c extends Error{constructor(a,b,c,d){super(),this.name=a,this.code=c,this.message=d,this.pos=b}}class d extends c{constructor(a,b,c){super("YAMLParseError",a,b,c)}}class e extends c{constructor(a,b,c){super("YAMLWarning",a,b,c)}}b.YAMLError=c,b.YAMLParseError=d,b.YAMLWarning=e,b.prettifyError=(a,b)=>c=>{if(-1===c.pos[0])return;c.linePos=c.pos.map(a=>b.linePos(a));let{line:d,col:e}=c.linePos[0];c.message+=` at line ${d}, column ${e}`;let f=e-1,g=a.substring(b.lineStarts[d-1],b.lineStarts[d]).replace(/[\n\r]+$/,"");if(f>=60&&g.length>80){let a=Math.min(f-39,g.length-79);g=""+g.substring(a),f-=a-1}if(g.length>80&&(g=g.substring(0,79)+""),d>1&&/^ *$/.test(g.substring(0,f))){let c=a.substring(b.lineStarts[d-2],b.lineStarts[d-1]);c.length>80&&(c=c.substring(0,79)+"\n"),g=c+g}if(/[^ ]/.test(g)){let a=1,b=c.linePos[1];b&&b.line===d&&b.col>e&&(a=Math.max(1,Math.min(b.col-e,80-f)));let h=" ".repeat(f)+"^".repeat(a);c.message+=`:

${g}
${h}
`}}},68448:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{CommonRerankerOptionsSchema:()=>v,RankedDocument:()=>o,RankedDocumentDataSchema:()=>n,RankedDocumentMetadataSchema:()=>m,RerankerInfoSchema:()=>r,defineReranker:()=>s,rerank:()=>u,reranker:()=>t,rerankerRef:()=>w}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(76944),k=c(25399),l=c(1998);let m=i.z.object({score:i.z.number()}).passthrough(),n=i.z.object({content:i.z.array(k.PartSchema),metadata:m});class o extends l.Document{content;metadata;constructor(a){super(a),this.content=a.content,this.metadata=a.metadata}score(){return this.metadata.score}}let p=i.z.object({query:l.DocumentDataSchema,documents:i.z.array(l.DocumentDataSchema),options:i.z.any().optional()}),q=i.z.object({documents:i.z.array(n)}),r=i.z.object({label:i.z.string().optional(),supports:i.z.object({media:i.z.boolean().optional()}).optional()});function s(a,b,c){let d=t(b,c);return a.registerAction("reranker",d),d}function t(a,b){var c;return(c=(0,i.action)({actionType:"reranker",name:a.name,inputSchema:a.configSchema?p.extend({options:a.configSchema.optional()}):p,outputSchema:q,metadata:{type:"reranker",info:a.info,reranker:{customOptions:a.configSchema?(0,j.toJsonSchema)({schema:a.configSchema}):void 0}}},a=>b(new l.Document(a.query),a.documents.map(a=>new l.Document(a)),a.options))).__configSchema=a.configSchema,c}async function u(a,b){let c;if(!(c="string"==typeof b.reranker?await a.lookupAction(`/reranker/${b.reranker}`):Object.hasOwnProperty.call(b.reranker,"info")?await a.lookupAction(`/reranker/${b.reranker.name}`):b.reranker))throw Error("Unable to resolve the reranker");return(await c({query:"string"==typeof b.query?l.Document.fromText(b.query):b.query,documents:b.documents,options:b.options})).documents.map(a=>new o(a))}let v=i.z.object({k:i.z.number().describe("Number of documents to rerank").optional()});function w(a){return{...a}}},68530:(a,b,c)=>{var d=c(28354).inherits,e=c(37451).WriteResult,f=c(37451).ReadResult,g=c(37451).BufferRW,h=c(8193);function i(a,b,c){if(!(this instanceof i))return new i(a,b,c);this.width=a,this.readAtomFrom=b,this.writeAtomInto=c,g.call(this)}function j(a,b,c,d,e){if(!(this instanceof j))return new j(a,b,c,d,e);i.call(this,a,d,e),this.min=b,this.max=c}d(i,g),i.prototype.poolByteLength=function(a){return a.reset(null,this.width)},i.prototype.poolReadFrom=function(a,b,c){var d=b.length-c;return d<this.width?f.poolShortError(a,this.width,d,c):this.readAtomFrom(a,b,c)},i.prototype.poolWriteInto=function(a,b,c,d){var f=c.length-d;return f<this.width&&e.poolShortError(a,this.width,f,d),this.writeAtomInto(a,b,c,d)},d(j,i),j.prototype.poolWriteInto=function(a,b,c,d){if("number"!=typeof b)return a.reset(h.expected(b,"a number"));if(b<this.min||b>this.max)return a.reset(h.RangeError({value:b,min:this.min,max:this.max}),d);var f=c.length-d;return f<this.width?e.poolShortError(a,this.width,f,d):this.writeAtomInto(a,b,c,d)};var k=j(1,-128,127,function(a,b,c){var d=b.readInt8(c,!0);return a.reset(null,c+1,d)},function(a,b,c,d){return c.writeInt8(b,d,!0),a.reset(null,d+1)}),l=j(2,-32768,32767,function(a,b,c){var d=b.readInt16BE(c,!0);return a.reset(null,c+2,d)},function(a,b,c,d){return c.writeInt16BE(b,d,!0),a.reset(null,d+2)}),m=j(4,-0x80000000,0x7fffffff,function(a,b,c){var d=b.readInt32BE(c,!0);return a.reset(null,c+4,d)},function(a,b,c,d){return c.writeInt32BE(b,d,!0),a.reset(null,d+4)}),n=j(2,-32768,32767,function(a,b,c){var d=b.readInt16LE(c,!0);return a.reset(null,c+2,d)},function(a,b,c,d){return c.writeInt16LE(b,d,!0),a.reset(null,d+2)}),o=j(4,-0x80000000,0x7fffffff,function(a,b,c){var d=b.readInt32LE(c,!0);return a.reset(null,c+4,d)},function(a,b,c,d){return c.writeInt32LE(b,d,!0),a.reset(null,d+4)}),p=j(1,0,255,function(a,b,c){var d=b.readUInt8(c,!0);return a.reset(null,c+1,d)},function(a,b,c,d){return c.writeUInt8(b,d,!0),a.reset(null,d+1)}),q=j(2,0,65535,function(a,b,c){var d=b.readUInt16BE(c,!0);return a.reset(null,c+2,d)},function(a,b,c,d){return c.writeUInt16BE(b,d,!0),a.reset(null,d+2)}),r=j(4,0,0xffffffff,function(a,b,c){var d=b.readUInt32BE(c,!0);return a.reset(null,c+4,d)},function(a,b,c,d){return c.writeUInt32BE(b,d,!0),a.reset(null,d+4)}),s=j(2,0,65535,function(a,b,c){var d=b.readUInt16LE(c,!0);return a.reset(null,c+2,d)},function(a,b,c,d){return c.writeUInt16LE(b,d,!0),a.reset(null,d+2)}),t=j(4,0,0xffffffff,function(a,b,c){var d=b.readUInt32LE(c,!0);return a.reset(null,c+4,d)},function(a,b,c,d){return c.writeUInt32LE(b,d,!0),a.reset(null,d+4)}),u=i(4,function(a,b,c){var d=b.readFloatLE(c,!0);return a.reset(null,c+4,d)},function(a,b,c,d){return"number"!=typeof b?a.reset(h.expected(b,"a number"),null):(c.writeFloatLE(b,d),a.reset(null,d+4))}),v=i(4,function(a,b,c){var d=b.readFloatBE(c,!0);return a.reset(null,c+4,d)},function(a,b,c,d){return"number"!=typeof b?a.reset(h.expected(b,"a number"),null):(c.writeFloatBE(b,d),a.reset(null,d+4))}),w=i(8,function(a,b,c){var d=b.readDoubleLE(c,!0);return a.reset(null,c+8,d)},function(a,b,c,d){return"number"!=typeof b?a.reset(h.expected(b,"a number"),null):(c.writeDoubleLE(b,d),a.reset(null,d+8))}),x=i(8,function(a,b,c){var d=b.readDoubleBE(c,!0);return a.reset(null,c+8,d)},function(a,b,c,d){return"number"!=typeof b?a.reset(h.expected(b,"a number"),null):(c.writeDoubleBE(b,d),a.reset(null,d+8))});a.exports.AtomRW=i,a.exports.Int8=k,a.exports.Int16BE=l,a.exports.Int32BE=m,a.exports.Int16LE=n,a.exports.Int32LE=o,a.exports.UInt8=p,a.exports.UInt16BE=q,a.exports.UInt32BE=r,a.exports.UInt16LE=s,a.exports.UInt32LE=t,a.exports.FloatLE=u,a.exports.FloatBE=v,a.exports.DoubleLE=w,a.exports.DoubleBE=x},68575:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseTupleDef=void 0;let d=c(31958);b.parseTupleDef=function(a,b){return a.rest?{type:"array",minItems:a.items.length,items:a.items.map((a,c)=>(0,d.parseDef)(a._def,{...b,currentPath:[...b.currentPath,"items",`${c}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[]),additionalItems:(0,d.parseDef)(a.rest._def,{...b,currentPath:[...b.currentPath,"additionalItems"]})}:{type:"array",minItems:a.items.length,maxItems:a.items.length,items:a.items.map((a,c)=>(0,d.parseDef)(a._def,{...b,currentPath:[...b.currentPath,"items",`${c}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[])}}},68586:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RetryingCall=b.MessageBufferTracker=b.RetryThrottler=void 0;let d=c(56458),e=c(8319),f=c(33604),g=c(38702);class h{constructor(a,b,c){this.maxTokens=a,this.tokenRatio=b,c?this.tokens=c.tokens*(a/c.maxTokens):this.tokens=a}addCallSucceeded(){this.tokens=Math.min(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.max(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}b.RetryThrottler=h;class i{constructor(a,b){this.totalLimit=a,this.limitPerCall=b,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(a,b){var c;let d=null!=(c=this.allocatedPerCall.get(b))?c:0;return!(this.limitPerCall-d<a)&&!(this.totalLimit-this.totalAllocated<a)&&(this.allocatedPerCall.set(b,d+a),this.totalAllocated+=a,!0)}free(a,b){var c;if(this.totalAllocated<a)throw Error(`Invalid buffer allocation state: call ${b} freed ${a} > total allocated ${this.totalAllocated}`);this.totalAllocated-=a;let d=null!=(c=this.allocatedPerCall.get(b))?c:0;if(d<a)throw Error(`Invalid buffer allocation state: call ${b} freed ${a} > allocated for call ${d}`);this.allocatedPerCall.set(b,d-a)}freeAll(a){var b;let c=null!=(b=this.allocatedPerCall.get(a))?b:0;if(this.totalAllocated<c)throw Error(`Invalid buffer allocation state: call ${a} allocated ${c} > total allocated ${this.totalAllocated}`);this.totalAllocated-=c,this.allocatedPerCall.delete(a)}}b.MessageBufferTracker=i;let j="grpc-previous-rpc-attempts";class k{constructor(a,b,c,d,e,f,g,h,i){var j;this.channel=a,this.callConfig=b,this.methodName=c,this.host=d,this.credentials=e,this.deadline=f,this.callNumber=g,this.bufferTracker=h,this.retryThrottler=i,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;let k=null!=(j=a.getOptions()["grpc-node.retry_max_attempts_limit"])?j:5;if(0===a.getOptions()["grpc.enable_retries"])this.state="NO_RETRY",this.maxAttempts=1;else if(b.methodConfig.retryPolicy){this.state="RETRY";let a=b.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(a.initialBackoff.substring(0,a.initialBackoff.length-1)),this.maxAttempts=Math.min(a.maxAttempts,k)}else b.methodConfig.hedgingPolicy?(this.state="HEDGING",this.maxAttempts=Math.min(b.methodConfig.hedgingPolicy.maxAttempts,k)):(this.state="TRANSPARENT_ONLY",this.maxAttempts=1);this.startTime=new Date}getDeadlineInfo(){if(0===this.underlyingCalls.length)return[];let a=[],b=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&a.push(`previous attempts: ${this.underlyingCalls.length-1}`),b.startTime>this.startTime&&a.push(`time to current attempt start: ${(0,e.formatDateDifference)(this.startTime,b.startTime)}`),a.push(...b.call.getDeadlineInfo()),a}getCallNumber(){return this.callNumber}trace(a){g.trace(d.LogVerbosity.DEBUG,"retrying_call","["+this.callNumber+"] "+a)}reportStatus(a){this.trace("ended with status: code="+a.code+' details="'+a.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var b;null==(b=this.listener)||b.onReceiveStatus({code:a.code,details:a.details,metadata:a.metadata})})}cancelWithStatus(a,b){for(let{call:c}of(this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),this.reportStatus({code:a,details:b,metadata:new f.Metadata}),this.underlyingCalls))c.cancelWithStatus(a,b)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(a){var b;return null!=(b=this.writeBuffer[a-this.writeBufferOffset])?b:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){let a;if("COMMITTED"===this.state){a="COMPLETED"===this.underlyingCalls[this.committedCallIndex].state?this.getNextBufferIndex():this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let b=this.writeBufferOffset;b<a;b++){let a=this.getBufferEntry(b);a.allocated&&this.bufferTracker.free(a.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(a-this.writeBufferOffset),this.writeBufferOffset=a}}commitCall(a){var b,c;if("COMMITTED"!==this.state){this.trace("Committing call ["+this.underlyingCalls[a].call.getCallNumber()+"] at index "+a),this.state="COMMITTED",null==(c=(b=this.callConfig).onCommitted)||c.call(b),this.committedCallIndex=a;for(let b=0;b<this.underlyingCalls.length;b++)b!==a&&"COMPLETED"!==this.underlyingCalls[b].state&&(this.underlyingCalls[b].state="COMPLETED",this.underlyingCalls[b].call.cancelWithStatus(d.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let a=-1,b=-1;for(let[c,d]of this.underlyingCalls.entries())"ACTIVE"===d.state&&d.nextMessageToSend>a&&(a=d.nextMessageToSend,b=c);-1===b?this.state="TRANSPARENT_ONLY":this.commitCall(b)}isStatusCodeInList(a,b){return a.some(a=>{var c;return a===b||a.toString().toLowerCase()===(null==(c=d.Status[b])?void 0:c.toLowerCase())})}getNextRetryJitter(){return Math.random()*(1.2-.8)+.8}getNextRetryBackoffMs(){var a;let b=null==(a=this.callConfig)?void 0:a.methodConfig.retryPolicy;if(!b)return 0;let c=this.getNextRetryJitter()*this.nextRetryBackoffSec*1e3,d=Number(b.maxBackoff.substring(0,b.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*b.backoffMultiplier,d),c}maybeRetryCall(a,b){let c;if("RETRY"!==this.state||this.attempts>=this.maxAttempts)return void b(!1);if(null===a)c=this.getNextRetryBackoffMs();else if(a<0){this.state="TRANSPARENT_ONLY",b(!1);return}else c=a,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var a,c;if("RETRY"!==this.state)return void b(!1);null==(c=null==(a=this.retryThrottler)?void 0:a.canRetryCall())||c?(b(!0),this.attempts+=1,this.startNewAttempt()):(this.trace("Retry attempt denied by throttling policy"),b(!1))},c)}countActiveCalls(){let a=0;for(let b of this.underlyingCalls)(null==b?void 0:b.state)==="ACTIVE"&&(a+=1);return a}handleProcessedStatus(a,b,c){var d,e,f;switch(this.state){case"COMMITTED":case"NO_RETRY":case"TRANSPARENT_ONLY":this.commitCall(b),this.reportStatus(a);break;case"HEDGING":if(this.isStatusCodeInList(null!=(d=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)?d:[],a.code)){let d;if(null==(e=this.retryThrottler)||e.addCallFailed(),null===c)d=0;else if(c<0){this.state="TRANSPARENT_ONLY",this.commitCall(b),this.reportStatus(a);return}else d=c;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(b),this.reportStatus(a))},d)}else this.commitCall(b),this.reportStatus(a);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,a.code)?(null==(f=this.retryThrottler)||f.addCallFailed(),this.maybeRetryCall(c,c=>{c||(this.commitCall(b),this.reportStatus(a))})):(this.commitCall(b),this.reportStatus(a))}}getPushback(a){let b=a.get("grpc-retry-pushback-ms");if(0===b.length)return null;try{return parseInt(b[0])}catch(a){return -1}}handleChildStatus(a,b){var c;if("COMPLETED"===this.underlyingCalls[b].state)return;if(this.trace("state="+this.state+" handling status with progress "+a.progress+" from child ["+this.underlyingCalls[b].call.getCallNumber()+"] in state "+this.underlyingCalls[b].state),this.underlyingCalls[b].state="COMPLETED",a.code===d.Status.OK){null==(c=this.retryThrottler)||c.addCallSucceeded(),this.commitCall(b),this.reportStatus(a);return}if("NO_RETRY"===this.state){this.commitCall(b),this.reportStatus(a);return}if("COMMITTED"===this.state)return void this.reportStatus(a);let e=this.getPushback(a.metadata);switch(a.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(a,b,e):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(b),this.reportStatus(a);break;case"PROCESSED":this.handleProcessedStatus(a,b,e)}}maybeStartHedgingAttempt(){"HEDGING"===this.state&&this.callConfig.methodConfig.hedgingPolicy&&(this.attempts>=this.maxAttempts||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()))}maybeStartHedgingTimer(){var a,b,c;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let d=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;let e=null!=(a=d.hedgingDelay)?a:"0s",f=Number(e.substring(0,e.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*f),null==(c=(b=this.hedgingTimer).unref)||c.call(b)}startNewAttempt(){let a=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+a.getCallNumber()+"] for attempt "+this.attempts);let b=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:a,nextMessageToSend:0,startTime:new Date});let c=this.attempts-1,d=this.initialMetadata.clone();c>0&&d.set(j,`${c}`);let e=!1;a.start(d,{onReceiveMetadata:d=>{this.trace("Received metadata from child ["+a.getCallNumber()+"]"),this.commitCall(b),e=!0,c>0&&d.set(j,`${c}`),"ACTIVE"===this.underlyingCalls[b].state&&this.listener.onReceiveMetadata(d)},onReceiveMessage:c=>{this.trace("Received message from child ["+a.getCallNumber()+"]"),this.commitCall(b),"ACTIVE"===this.underlyingCalls[b].state&&this.listener.onReceiveMessage(c)},onReceiveStatus:d=>{this.trace("Received status from child ["+a.getCallNumber()+"]"),!e&&c>0&&d.metadata.set(j,`${c}`),this.handleChildStatus(d,b)}}),this.sendNextChildMessage(b),this.readStarted&&a.startRead()}start(a,b){this.trace("start called"),this.listener=b,this.initialMetadata=a,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(a){var b,c;let d=this.underlyingCalls[a],e=d.nextMessageToSend;null==(c=(b=this.getBufferEntry(e)).callback)||c.call(b),this.clearSentMessages(),d.nextMessageToSend+=1,this.sendNextChildMessage(a)}sendNextChildMessage(a){let b=this.underlyingCalls[a];if("COMPLETED"!==b.state&&this.getBufferEntry(b.nextMessageToSend)){let c=this.getBufferEntry(b.nextMessageToSend);switch(c.entryType){case"MESSAGE":b.call.sendMessageWithContext({callback:b=>{this.handleChildWriteCompleted(a)}},c.message.message);break;case"HALF_CLOSE":b.nextMessageToSend+=1,b.call.halfClose()}}}sendMessageWithContext(a,b){var c;this.trace("write() called with message of length "+b.length);let d={message:b,flags:a.flags},e=this.getNextBufferIndex(),f={entryType:"MESSAGE",message:d,allocated:this.bufferTracker.allocate(b.length,this.callNumber)};if(this.writeBuffer.push(f),f.allocated)for(let[d,f]of(null==(c=a.callback)||c.call(a),this.underlyingCalls.entries()))"ACTIVE"===f.state&&f.nextMessageToSend===e&&f.call.sendMessageWithContext({callback:a=>{this.handleChildWriteCompleted(d)}},b);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let c=this.underlyingCalls[this.committedCallIndex];f.callback=a.callback,"ACTIVE"===c.state&&c.nextMessageToSend===e&&c.call.sendMessageWithContext({callback:a=>{this.handleChildWriteCompleted(this.committedCallIndex)}},b)}}startRead(){for(let a of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==a?void 0:a.state)==="ACTIVE"&&a.call.startRead()}halfClose(){this.trace("halfClose called");let a=this.getNextBufferIndex();for(let b of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==b?void 0:b.state)==="ACTIVE"&&b.nextMessageToSend===a&&(b.nextMessageToSend+=1,b.call.halfClose())}setCredentials(a){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}getAuthContext(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getAuthContext():null}}b.RetryingCall=k},68747:(a,b)=>{"use strict";b.__esModule=!0;var c={helpers:{helperExpression:function(a){return"SubExpression"===a.type||("MustacheStatement"===a.type||"BlockStatement"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!c.helpers.scopedId(a)&&!a.depth}}};b.default=c,a.exports=b.default},69023:(a,b,c)=>{"use strict";var d=c(24148);function e(a,b){let c=a[0],d="-"===c||"+"===c?a.substring(1):a,e=a=>b?BigInt(a):Number(a),f=d.replace(/_/g,"").split(":").reduce((a,b)=>a*e(60)+e(b),e(0));return"-"===c?e(-1)*f:f}function f(a){let{value:b}=a,c=a=>a;if("bigint"==typeof b)c=a=>BigInt(a);else if(isNaN(b)||!isFinite(b))return d.stringifyNumber(a);let e="";b<0&&(e="-",b*=c(-1));let f=c(60),g=[b%f];return b<60?g.unshift(0):(b=(b-g[0])/f,g.unshift(b%f),b>=60&&(b=(b-g[0])/f,g.unshift(b))),e+g.map(a=>String(a).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}let g={identify:a=>a instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(a){let b=a.match(g.test);if(!b)throw Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,c,d,f,h,i,j]=b.map(Number),k=Date.UTC(c,d-1,f,h||0,i||0,j||0,b[7]?Number((b[7]+"00").substr(1,3)):0),l=b[8];if(l&&"Z"!==l){let a=e(l,!1);30>Math.abs(a)&&(a*=60),k-=6e4*a}return new Date(k)},stringify:({value:a})=>a?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};b.floatTime={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:a=>e(a,!1),stringify:f},b.intTime={identify:a=>"bigint"==typeof a||Number.isInteger(a),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(a,b,{intAsBigInt:c})=>e(a,c),stringify:f},b.timestamp=g},69121:(a,b,c)=>{a.exports=h;var d=c(28354).inherits,e=c(37451).ReadResult,f=c(37451).BufferRW,g=c(8193);function h(a,b){if(!(this instanceof h))return new h(a,b);this.sizerw=a,b?this.poolReadFrom=this.lazyPoolReadFrom:this.poolReadFrom=this.eagerPoolReadFrom,f.call(this)}d(h,f),h.prototype.poolByteLength=function(a,b){var c=0;if(Buffer.isBuffer(b))c=b.length;else{if(null!=b)return a.reset(g.expected(b,"buffer, null, or undefined"),null);c=0}return(this.sizerw.poolByteLength(a,c),a.err)?a:a.reset(null,a.length+c)},h.prototype.poolWriteInto=function(a,b,c,d){var e=d+this.sizerw.width,f=0;if(Buffer.isBuffer(b))f=b.copy(c,e);else{if(null!=b)return a.reset(g.expected(b,"buffer, null, or undefined"),d);f=0}return(this.sizerw.poolWriteInto(a,f,c,d),a.err)?a:a.reset(null,e+f)},h.prototype.eagerPoolReadFrom=function(a,b,c){if(this.sizerw.poolReadFrom(a,b,c),a.err)return a;var d=a.value,f=b.length-a.offset;if(f<d)return e.poolShortError(a,d,f,c,a.offset);c=a.offset;var g=Buffer.alloc(d);return b.copy(g,0,c),a.reset(null,c+d,g)},h.prototype.lazyPoolReadFrom=function(a,b,c){if(this.sizerw.poolReadFrom(a,b,c),a.err)return a;var d=a.value,f=b.length-a.offset;if(f<d)return e.poolShortError(a,d,f,c,a.offset);var g=(c=a.offset)+d,h=b.slice(c,g);return a.reset(null,g,h)}},69316:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseUnionDef=b.primitiveMappings=void 0;let d=c(31958);b.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},b.parseUnionDef=function(a,c){if("openApi3"===c.target)return e(a,c);let d=a.options instanceof Map?Array.from(a.options.values()):a.options;if(d.every(a=>a._def.typeName in b.primitiveMappings&&(!a._def.checks||!a._def.checks.length))){let a=d.reduce((a,c)=>{let d=b.primitiveMappings[c._def.typeName];return d&&!a.includes(d)?[...a,d]:a},[]);return{type:a.length>1?a:a[0]}}if(d.every(a=>"ZodLiteral"===a._def.typeName&&!a.description)){let a=d.reduce((a,b)=>{let c=typeof b._def.value;switch(c){case"string":case"number":case"boolean":return[...a,c];case"bigint":return[...a,"integer"];case"object":if(null===b._def.value)return[...a,"null"];default:return a}},[]);if(a.length===d.length){let b=a.filter((a,b,c)=>c.indexOf(a)===b);return{type:b.length>1?b:b[0],enum:d.reduce((a,b)=>a.includes(b._def.value)?a:[...a,b._def.value],[])}}}else if(d.every(a=>"ZodEnum"===a._def.typeName))return{type:"string",enum:d.reduce((a,b)=>[...a,...b._def.values.filter(b=>!a.includes(b))],[])};return e(a,c)};let e=(a,b)=>{let c=(a.options instanceof Map?Array.from(a.options.values()):a.options).map((a,c)=>(0,d.parseDef)(a._def,{...b,currentPath:[...b.currentPath,"anyOf",`${c}`]})).filter(a=>!!a&&(!b.strictUnions||"object"==typeof a&&Object.keys(a).length>0));return c.length?{anyOf:c}:void 0}},69418:(a,b,c)=>{"use strict";c.d(b,{EC:()=>f,KV:()=>i,QC:()=>h,hN:()=>e,kI:()=>j,r_:()=>g,un:()=>d});var d="=",e=";",f=",",g="baggage",h=180,i=4096,j=8192},69443:(a,b,c)=>{"use strict";var d=c(89220),e=c(8193),f=c(28354),g=c(82740);function h(){}function i(a){this.annotations=a}c(32437),f.inherits(h,d.Base),h.prototype.name="i8",h.prototype.width=1,h.prototype.min=-128,h.prototype.max=127,h.prototype.poolReadFrom=function(a,b,c){var d=b[c];return a.reset(null,c+this.width,d)},h.prototype.poolWriteInto=function(a,b,c,f){var g=+b;if("string"!=typeof b&&"number"!=typeof b||!isFinite(g))return a.reset(new e.InvalidArgument({expected:"a number"}));var h=c.length-f;return h<this.width?d.WriteResult.poolShortError(a,this.width,h,f):b<this.min||b>this.max?a.reset(new e.RangeError({value:g,min:this.min,max:this.max})):(c[f]=g,a.reset(null,f+this.width))},h.prototype.poolByteLength=function(a,b){return a.reset(null,this.width)},i.prototype.rw=new h,i.prototype.name="i8",i.prototype.typeid=g.I8,i.prototype.surface=Number,i.prototype.models="type",a.exports.I8RW=h,a.exports.ThriftI8=i},69506:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(k,{calculateTTL:()=>v,extractCacheConfig:()=>s,findLastIndex:()=>u,generateCacheKey:()=>p,getContentForCache:()=>q,lookupContextCache:()=>r,validateContextCacheRequest:()=>t}),a.exports=j(e({},"__esModule",{value:!0}),k);var l=((a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)))(c(55511)),m=c(6250),n=c(72486),o=c(11438);function p(a){return l.default.createHash("sha256").update(JSON.stringify(a)).digest("hex")}function q(a,b,c,d){if(!c)throw Error("No model version provided for context caching");if(!b.history?.length)throw Error("No history provided for context caching");var e=a,f=b;if(f.history?.length!==e.messages.length-1)throw new m.GenkitError({status:"INTERNAL",message:"Genkit request history and Gemini chat request history length do not match"});let{endOfCachedContents:g,cacheConfig:h}=d,i={model:c,contents:b.history.slice(0,g+1)};return b.history=b.history.slice(g+1),{cachedContent:i,chatRequest:b,cacheConfig:h}}async function r(a,b,c=100,d=100){let e,f=0;try{for(;f<c;){let{cachedContents:c,nextPageToken:g}=await a.list({pageSize:d,pageToken:e}),h=c?.find(a=>a.displayName===b);if(h)return h;if(!g)break;e=g,f++}}catch(b){let a=b instanceof Error?b.message:"Unknown Network Error";throw new m.GenkitError({status:"INTERNAL",message:`Error looking up context cache: ${a}`})}return null}let s=a=>{let b=u(a.messages,a=>!!a.metadata?.cache);return -1===b?null:{endOfCachedContents:b,cacheConfig:o.cacheConfigSchema.parse(a.messages[b].metadata?.cache)}};function t(a,b){if(!b||!n.CONTEXT_CACHE_SUPPORTED_MODELS.includes(b))throw new m.GenkitError({status:"INVALID_ARGUMENT",message:n.INVALID_ARGUMENT_MESSAGES.modelVersion});if(a.tools?.length)throw new m.GenkitError({status:"INVALID_ARGUMENT",message:n.INVALID_ARGUMENT_MESSAGES.tools});if(a.config?.codeExecution)throw new m.GenkitError({status:"INVALID_ARGUMENT",message:n.INVALID_ARGUMENT_MESSAGES.codeExecution});return!0}function u(a,b){for(let c=a.length-1;c>=0;c--)if(b(a[c],c,a))return c;return -1}function v(a){return!0===a.cacheConfig?n.DEFAULT_TTL:!1===a.cacheConfig?0:a.cacheConfig.ttlSeconds||n.DEFAULT_TTL}},69580:(a,b,c)=>{"use strict";c.d(b,{t:()=>h});var d=c(37002),e=c(81588),f=c(69418),g=c(24774),h=function(){function a(){}return a.prototype.inject=function(a,b,c){var h=d.$.getBaggage(a);if(!(!h||(0,e.Zf)(a))){var i=(0,g.getKeyPairs)(h).filter(function(a){return a.length<=f.KV}).slice(0,f.QC),j=(0,g.serializeKeyPairs)(i);j.length>0&&c.set(b,f.r_,j)}},a.prototype.extract=function(a,b,c){var e=c.get(b,f.r_),h=Array.isArray(e)?e.join(f.EC):e;if(!h)return a;var i={};return 0===h.length||(h.split(f.EC).forEach(function(a){var b=(0,g.parsePairKeyValue)(a);if(b){var c={value:b.value};b.metadata&&(c.metadata=b.metadata),i[b.key]=c}}),0===Object.entries(i).length)?a:d.$.setBaggage(a,d.$.createBaggage(i))},a.prototype.fields=function(){return[f.r_]},a}()},69686:a=>{function b(c){if(!(this instanceof b)||this===a.exports)return new b(c);if(!Array.isArray(c)||4!==c.length)throw TypeError("seed must be an array with 4 numbers");this._state0U=0|c[0],this._state0L=0|c[1],this._state1U=0|c[2],this._state1L=0|c[3]}function c(){return 0x100000000*Math.random()}b.prototype.randomint=function(){var a=this._state0U,b=this._state0L,c=this._state1U,d=this._state1L,e=(d>>>0)+(b>>>0),f=c+a+(e/2>>>31)>>>0;this._state0U=c,this._state0L=d;var g=0,h=0,i=0,j=0;return g=a<<23|(-512&b)>>>9,h=b<<23,a^=g,b^=h,g=a^c,h=b^d,i=a>>>18,j=b>>>18|(262143&a)<<14,g^=i,h^=j,i=c>>>5,j=d>>>5|(31&c)<<27,g^=i,h^=j,this._state1U=g,this._state1L=h,[f,e>>>0]},b.prototype.random=function(){var a=this.randomint();return 23283064365386963e-26*a[0]+(a[1]>>>12)*2220446049250313e-31},a.exports=new b([c(),c(),c(),c()]),a.exports.XorShift=b},69731:(a,b,c)=>{"use strict";var d=c(19771),e=c(99308),f=c(8980);function g(a,b){for(let c=0;c<a.length;++c)if(a[c].type===b)return!0;return!1}function h(a){for(let b=0;b<a.length;++b)switch(a[b].type){case"space":case"comment":case"newline":break;default:return b}return -1}function i(a){switch(a?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function j(a){switch(a.type){case"document":return a.start;case"block-map":{let b=a.items[a.items.length-1];return b.sep??b.start}case"block-seq":return a.items[a.items.length-1].start;default:return[]}}function k(a){if(0===a.length)return[];let b=a.length;a:for(;--b>=0;)switch(a[b].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break a}for(;a[++b]?.type==="space";);return a.splice(b,a.length)}function l(a){if("flow-seq-start"===a.start.type)for(let b of a.items)!b.sep||b.value||g(b.start,"explicit-key-ind")||g(b.sep,"map-value-ind")||(b.key&&(b.value=b.key),delete b.key,i(b.value)?b.value.end?Array.prototype.push.apply(b.value.end,b.sep):b.value.end=b.sep:Array.prototype.push.apply(b.start,b.sep),delete b.sep)}class m{constructor(a){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new f.Lexer,this.onNewLine=a}*parse(a,b=!1){for(let c of(this.onNewLine&&0===this.offset&&this.onNewLine(0),this.lexer.lex(a,b)))yield*this.next(c);b||(yield*this.end())}*next(a){if(this.source=a,d.env.LOG_TOKENS&&console.log("|",e.prettyToken(a)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=a.length;return}let b=e.tokenType(a);if(b)if("scalar"===b)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=b,yield*this.step(),b){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+a.length);break;case"space":this.atNewLine&&" "===a[0]&&(this.indent+=a.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=a.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=a.length}else{let b=`Not a YAML token: ${a}`;yield*this.pop({type:"error",offset:this.offset,message:b,source:a}),this.offset+=a.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let a=this.peek(1);if("doc-end"===this.type&&(!a||"doc-end"!==a.type)){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!a)return yield*this.stream();switch(a.type){case"document":return yield*this.document(a);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(a);case"block-scalar":return yield*this.blockScalar(a);case"block-map":return yield*this.blockMap(a);case"block-seq":return yield*this.blockSequence(a);case"flow-collection":return yield*this.flowCollection(a);case"doc-end":return yield*this.documentEnd(a)}yield*this.pop()}peek(a){return this.stack[this.stack.length-a]}*pop(a){let b=a??this.stack.pop();if(b)if(0===this.stack.length)yield b;else{let a=this.peek(1);switch("block-scalar"===b.type?b.indent="indent"in a?a.indent:0:"flow-collection"===b.type&&"document"===a.type&&(b.indent=0),"flow-collection"===b.type&&l(b),a.type){case"document":a.value=b;break;case"block-scalar":a.props.push(b);break;case"block-map":{let c=a.items[a.items.length-1];if(c.value){a.items.push({start:[],key:b,sep:[]}),this.onKeyLine=!0;return}if(c.sep)c.value=b;else{Object.assign(c,{key:b,sep:[]}),this.onKeyLine=!c.explicitKey;return}break}case"block-seq":{let c=a.items[a.items.length-1];c.value?a.items.push({start:[],value:b}):c.value=b;break}case"flow-collection":{let c=a.items[a.items.length-1];!c||c.value?a.items.push({start:[],key:b,sep:[]}):c.sep?c.value=b:Object.assign(c,{key:b,sep:[]});return}default:yield*this.pop(),yield*this.pop(b)}if(("document"===a.type||"block-map"===a.type||"block-seq"===a.type)&&("block-map"===b.type||"block-seq"===b.type)){let c=b.items[b.items.length-1];c&&!c.sep&&!c.value&&c.start.length>0&&-1===h(c.start)&&(0===b.indent||c.start.every(a=>"comment"!==a.type||a.indent<b.indent))&&("document"===a.type?a.end=c.start:a.items.push({start:c.start}),b.items.splice(-1,1))}}else yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let a={type:"document",offset:this.offset,start:[]};"doc-start"===this.type&&a.start.push(this.sourceToken),this.stack.push(a);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(a){if(a.value)return yield*this.lineEnd(a);switch(this.type){case"doc-start":-1!==h(a.start)?(yield*this.pop(),yield*this.step()):a.start.push(this.sourceToken);return;case"anchor":case"tag":case"space":case"comment":case"newline":a.start.push(this.sourceToken);return}let b=this.startBlockValue(a);b?this.stack.push(b):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(a){if("map-value-ind"===this.type){let b,c=k(j(this.peek(2)));a.end?((b=a.end).push(this.sourceToken),delete a.end):b=[this.sourceToken];let d={type:"block-map",offset:a.offset,indent:a.indent,items:[{start:c,key:a,sep:b}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=d}else yield*this.lineEnd(a)}*blockScalar(a){switch(this.type){case"space":case"comment":case"newline":a.props.push(this.sourceToken);return;case"scalar":if(a.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let a=this.source.indexOf("\n")+1;for(;0!==a;)this.onNewLine(this.offset+a),a=this.source.indexOf("\n",a)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(a){let b=a.items[a.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,b.value){let c="end"in b.value?b.value.end:void 0,d=Array.isArray(c)?c[c.length-1]:void 0;d?.type==="comment"?c?.push(this.sourceToken):a.items.push({start:[this.sourceToken]})}else b.sep?b.sep.push(this.sourceToken):b.start.push(this.sourceToken);return;case"space":case"comment":if(b.value)a.items.push({start:[this.sourceToken]});else if(b.sep)b.sep.push(this.sourceToken);else{if(this.atIndentedComment(b.start,a.indent)){let c=a.items[a.items.length-2],d=c?.value?.end;if(Array.isArray(d)){Array.prototype.push.apply(d,b.start),d.push(this.sourceToken),a.items.pop();return}}b.start.push(this.sourceToken)}return}if(this.indent>=a.indent){let c=!this.onKeyLine&&this.indent===a.indent,d=c&&(b.sep||b.explicitKey)&&"seq-item-ind"!==this.type,e=[];if(d&&b.sep&&!b.value){let c=[];for(let d=0;d<b.sep.length;++d){let e=b.sep[d];switch(e.type){case"newline":c.push(d);break;case"space":break;case"comment":e.indent>a.indent&&(c.length=0);break;default:c.length=0}}c.length>=2&&(e=b.sep.splice(c[1]))}switch(this.type){case"anchor":case"tag":d||b.value?(e.push(this.sourceToken),a.items.push({start:e}),this.onKeyLine=!0):b.sep?b.sep.push(this.sourceToken):b.start.push(this.sourceToken);return;case"explicit-key-ind":b.sep||b.explicitKey?d||b.value?(e.push(this.sourceToken),a.items.push({start:e,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(b.start.push(this.sourceToken),b.explicitKey=!0),this.onKeyLine=!0;return;case"map-value-ind":if(b.explicitKey)if(b.sep)if(b.value)a.items.push({start:[],key:null,sep:[this.sourceToken]});else if(g(b.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]});else if(i(b.key)&&!g(b.sep,"newline")){let a=k(b.start),c=b.key,d=b.sep;d.push(this.sourceToken),delete b.key,delete b.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:c,sep:d}]})}else e.length>0?b.sep=b.sep.concat(e,this.sourceToken):b.sep.push(this.sourceToken);else if(g(b.start,"newline"))Object.assign(b,{key:null,sep:[this.sourceToken]});else{let a=k(b.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else b.sep?b.value||d?a.items.push({start:e,key:null,sep:[this.sourceToken]}):g(b.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):b.sep.push(this.sourceToken):Object.assign(b,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let c=this.flowScalar(this.type);d||b.value?(a.items.push({start:e,key:c,sep:[]}),this.onKeyLine=!0):b.sep?this.stack.push(c):(Object.assign(b,{key:c,sep:[]}),this.onKeyLine=!0);return}default:{let d=this.startBlockValue(a);if(d){if("block-seq"===d.type){if(!b.explicitKey&&b.sep&&!g(b.sep,"newline"))return void(yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source}))}else c&&a.items.push({start:e});this.stack.push(d);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(a){let b=a.items[a.items.length-1];switch(this.type){case"newline":if(b.value){let c="end"in b.value?b.value.end:void 0,d=Array.isArray(c)?c[c.length-1]:void 0;d?.type==="comment"?c?.push(this.sourceToken):a.items.push({start:[this.sourceToken]})}else b.start.push(this.sourceToken);return;case"space":case"comment":if(b.value)a.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(b.start,a.indent)){let c=a.items[a.items.length-2],d=c?.value?.end;if(Array.isArray(d)){Array.prototype.push.apply(d,b.start),d.push(this.sourceToken),a.items.pop();return}}b.start.push(this.sourceToken)}return;case"anchor":case"tag":if(b.value||this.indent<=a.indent)break;b.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==a.indent)break;b.value||g(b.start,"seq-item-ind")?a.items.push({start:[this.sourceToken]}):b.start.push(this.sourceToken);return}if(this.indent>a.indent){let b=this.startBlockValue(a);if(b)return void this.stack.push(b)}yield*this.pop(),yield*this.step()}*flowCollection(a){let b=a.items[a.items.length-1];if("flow-error-end"===this.type){let a;do yield*this.pop(),a=this.peek(1);while(a&&"flow-collection"===a.type)}else if(0===a.end.length){switch(this.type){case"comma":case"explicit-key-ind":!b||b.sep?a.items.push({start:[this.sourceToken]}):b.start.push(this.sourceToken);return;case"map-value-ind":!b||b.value?a.items.push({start:[],key:null,sep:[this.sourceToken]}):b.sep?b.sep.push(this.sourceToken):Object.assign(b,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!b||b.value?a.items.push({start:[this.sourceToken]}):b.sep?b.sep.push(this.sourceToken):b.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let c=this.flowScalar(this.type);!b||b.value?a.items.push({start:[],key:c,sep:[]}):b.sep?this.stack.push(c):Object.assign(b,{key:c,sep:[]});return}case"flow-map-end":case"flow-seq-end":a.end.push(this.sourceToken);return}let c=this.startBlockValue(a);c?this.stack.push(c):(yield*this.pop(),yield*this.step())}else{let b=this.peek(2);if("block-map"!==b.type||("map-value-ind"!==this.type||b.indent!==a.indent)&&("newline"!==this.type||b.items[b.items.length-1].sep))if("map-value-ind"===this.type&&"flow-collection"!==b.type){let c=k(j(b));l(a);let d=a.end.splice(1,a.end.length);d.push(this.sourceToken);let e={type:"block-map",offset:a.offset,indent:a.indent,items:[{start:c,key:a,sep:d}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=e}else yield*this.lineEnd(a);else yield*this.pop(),yield*this.step()}}flowScalar(a){if(this.onNewLine){let a=this.source.indexOf("\n")+1;for(;0!==a;)this.onNewLine(this.offset+a),a=this.source.indexOf("\n",a)+1}return{type:a,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(a){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let b=k(j(a));return b.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:b,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let b=k(j(a));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:b,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(a,b){return"comment"===this.type&&!(this.indent<=b)&&a.every(a=>"newline"===a.type||"space"===a.type)}*documentEnd(a){"doc-mode"!==this.type&&(a.end?a.end.push(this.sourceToken):a.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(a){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:a.end?a.end.push(this.sourceToken):a.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}b.Parser=m},69774:(a,b,c)=>{"use strict";let d=c(74502);a.exports=(a,b,c)=>d(a,b,">",c)},69955:(a,b,c)=>{"use strict";var d=c(74876),e=c(97167),f=c(83255),g=c(42218),h=c(89390);b.addPairToJSMap=function(a,b,{key:c,value:i}){if(g.isNode(c)&&c.addToJSMap)c.addToJSMap(a,b,i);else if(e.isMergeKey(a,c))e.addMergeToJSMap(a,b,i);else{let e=h.toJS(c,"",a);if(b instanceof Map)b.set(e,h.toJS(i,e,a));else if(b instanceof Set)b.add(e);else{let j=function(a,b,c){if(null===b)return"";if("object"!=typeof b)return String(b);if(g.isNode(a)&&c?.doc){let b=f.createStringifyContext(c.doc,{});for(let a of(b.anchors=new Set,c.anchors.keys()))b.anchors.add(a.anchor);b.inFlow=!0,b.inStringifyKey=!0;let e=a.toString(b);if(!c.mapKeyWarned){let a=JSON.stringify(e);a.length>40&&(a=a.substring(0,36)+'..."'),d.warn(c.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`),c.mapKeyWarned=!0}return e}return JSON.stringify(b)}(c,e,a),k=h.toJS(i,j,a);j in b?Object.defineProperty(b,j,{value:k,writable:!0,enumerable:!0,configurable:!0}):b[j]=k}}return b}},70124:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904);b.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,d.str)`must match format "${a}"`,params:({schemaCode:a})=>(0,d._)`{format: ${a}}`},code(a,b){let{gen:c,data:e,$data:f,schema:g,schemaCode:h,it:i}=a,{opts:j,errSchemaPath:k,schemaEnv:l,self:m}=i;j.validateFormats&&(f?function(){let f=c.scopeValue("formats",{ref:m.formats,code:j.code.formats}),g=c.const("fDef",(0,d._)`${f}[${h}]`),i=c.let("fType"),k=c.let("format");c.if((0,d._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>c.assign(i,(0,d._)`${g}.type || "string"`).assign(k,(0,d._)`${g}.validate`),()=>c.assign(i,(0,d._)`"string"`).assign(k,g)),a.fail$data((0,d.or)(!1===j.strictSchema?d.nil:(0,d._)`${h} && !${k}`,function(){let a=l.$async?(0,d._)`(${g}.async ? await ${k}(${e}) : ${k}(${e}))`:(0,d._)`${k}(${e})`,c=(0,d._)`(typeof ${k} == "function" ? ${a} : ${k}.test(${e}))`;return(0,d._)`${k} && ${k} !== true && ${i} === ${b} && !${c}`}()))}():function(){let f=m.formats[g];if(!f){if(!1===j.strictSchema)return m.logger.warn(h());throw Error(h());function h(){return`unknown format "${g}" ignored in schema at path "${k}"`}}if(!0===f)return;let[i,n,o]=function(a){let b=a instanceof RegExp?(0,d.regexpCode)(a):j.code.formats?(0,d._)`${j.code.formats}${(0,d.getProperty)(g)}`:void 0,e=c.scopeValue("formats",{key:g,ref:a,code:b});return"object"!=typeof a||a instanceof RegExp?["string",a,e]:[a.type||"string",a.validate,(0,d._)`${e}.validate`]}(f);i===b&&a.pass(function(){if("object"==typeof f&&!(f instanceof RegExp)&&f.async){if(!l.$async)throw Error("async format in sync schema");return(0,d._)`await ${o}(${e})`}return"function"==typeof n?(0,d._)`${o}(${e})`:(0,d._)`${o}.test(${e})`}())}())}}},70149:(a,b,c)=>{"use strict";var d,e;c.d(b,{CR:()=>g,ZS:()=>d,Zp:()=>f,o6:()=>e}),function(a){a.assertEqual=a=>{},a.assertIs=function(a){},a.assertNever=function(a){throw Error()},a.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},a.getValidEnumValues=b=>{let c=a.objectKeys(b).filter(a=>"number"!=typeof b[b[a]]),d={};for(let a of c)d[a]=b[a];return a.objectValues(d)},a.objectValues=b=>a.objectKeys(b).map(function(a){return b[a]}),a.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},a.find=(a,b)=>{for(let c of a)if(b(c))return c},a.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,a.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},a.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b}(d||(d={})),(e||(e={})).mergeShapes=(a,b)=>({...a,...b});let f=d.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),g=a=>{switch(typeof a){case"undefined":return f.undefined;case"string":return f.string;case"number":return Number.isNaN(a)?f.nan:f.number;case"boolean":return f.boolean;case"function":return f.function;case"bigint":return f.bigint;case"symbol":return f.symbol;case"object":if(Array.isArray(a))return f.array;if(null===a)return f.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return f.promise;if("undefined"!=typeof Map&&a instanceof Map)return f.map;if("undefined"!=typeof Set&&a instanceof Set)return f.set;if("undefined"!=typeof Date&&a instanceof Date)return f.date;return f.object;default:return f.unknown}}},70387:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FORMAT_BINARY="binary",b.FORMAT_TEXT_MAP="text_map",b.FORMAT_HTTP_HEADERS="http_headers",b.REFERENCE_CHILD_OF="child_of",b.REFERENCE_FOLLOWS_FROM="follows_from"},70553:(a,b,c)=>{"use strict";b.__esModule=!0;var d=function(a){return a&&a.__esModule?a:{default:a}}(c(99008));function e(){this.parents=[]}function f(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")}function g(a){f.call(this,a),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")}function h(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")}e.prototype={constructor:e,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!e.prototype[c.type])throw new d.default('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new d.default(a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;b<c;b++)this.acceptKey(a,b),!a[b]&&(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new d.default("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);if(this.current=this.parents.shift(),!this.mutating||b)return b;if(!1!==b)return a}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:f,Decorator:f,BlockStatement:g,DecoratorBlock:g,PartialStatement:h,PartialBlockStatement:function(a){h.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:f,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},b.default=e,a.exports=b.default},70604:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{GENERIC_IMAGEN_INFO:()=>n,ImagenConfigSchema:()=>m,defineImagenModel:()=>o}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(6250),j=c(48145),k=c(73396),l=c(83926);let m=i.z.object({numberOfImages:i.z.number().describe("The number of images to generate, from 1 to 4 (inclusive). The default is 1.").optional(),aspectRatio:i.z.enum(["1:1","9:16","16:9","3:4","4:3"]).describe("Desired aspect ratio of the output image.").optional(),personGeneration:i.z.enum(["dont_allow","allow_adult","allow_all"]).describe("Control if/how images of people will be generated by the model.").optional()}).passthrough(),n={label:"Google AI - Generic Imagen",supports:{media:!0,multiturn:!1,tools:!1,systemRole:!1,output:["media"]}};function o(a,b,c){if(!1!==c&&!(c=c||(0,k.getApiKeyFromEnvVar)()))throw new i.GenkitError({status:"FAILED_PRECONDITION",message:"Please pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable.\nFor more details see https://genkit.dev/docs/plugins/google-genai"});let d=`googleai/${b}`,e=(0,j.modelRef)({name:d,info:{...n,label:`Google AI - ${b}`},configSchema:m});return a.defineModel({name:d,...e.info,configSchema:m},async a=>{let d={prompt:a.messages.at(-1).content.map(a=>a.text||"").join("")},f=a.messages.at(-1)?.content.find(a=>!!a.media)?.media?.url.split(",")[1];f&&(d.image={bytesBase64Encoded:f});let g=(0,l.predictModel)(e.version||b,c,"predict"),h=await g([d],function(a){let b={sampleCount:a.config?.numberOfImages??1,...a?.config};for(let a in b)b[a]||delete b[a];return b}(a));if(!h.predictions||0==h.predictions.length)throw Error("Model returned no predictions. Possibly due to content filters.");let i={role:"model",content:[]};return h.predictions.forEach((a,b)=>{let c=a.bytesBase64Encoded,d=a.mimeType;i.content.push({media:{url:`data:${d};base64,${c}`,contentType:d}})}),{finishReason:"stop",message:i,usage:(0,j.getBasicUsageStats)(a.messages,i),custom:h}})}},71635:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b,c=!1)=>{if(a instanceof d)return a;try{return new d(a,b)}catch(a){if(!c)return null;throw a}}},71639:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{defineDynamicActionProvider:()=>l,isDynamicActionProvider:()=>k}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(24275);class j{value;expiresAt;ttlMillis;dap;dapFn;fetchPromise=null;constructor(a,b,c){this.dap=a,this.dapFn=c,this.ttlMillis=b.cacheConfig?.ttlMillis?b.cacheConfig?.ttlMillis:3e3}async getOrFetch(){return!this.value||!this.expiresAt||this.ttlMillis<0||Date.now()>this.expiresAt?(this.fetchPromise||(this.fetchPromise=(async()=>{try{return this.value=await this.dapFn(),this.expiresAt=Date.now()+this.ttlMillis,this.dap.run(this.value),this.value}catch(a){throw console.error("Error fetching Dynamic Action Provider value:",a),this.invalidate(),a}finally{this.fetchPromise=null}})()),await this.fetchPromise):this.value}invalidate(){this.value=void 0}}function k(a){return a.__action?.metadata?.type=="dynamic-action-provider"}function l(a,b,c){var d;let e;e="string"==typeof b?{name:b}:{...b};let f=(0,i.defineAction)(a,{...e,actionType:"dynamic-action-provider",metadata:{...e.metadata||{},type:"dynamic-action-provider"}},async(a,b)=>(function(a){let b={};for(let c of Object.keys(a))b[c]=a[c].map(a=>a.__action);return b})(a));return(d=f).__cache=new j(d,e,c),d.invalidateCache=()=>{d.__cache.invalidate()},d.getAction=async(a,b)=>{let c=await d.__cache.getOrFetch();if(c[a])return c[a].find(a=>a.__action.name==b)},d.listActionMetadata=async(a,b)=>{let c=await d.__cache.getOrFetch();if(!c[a])return[];let e=c[a].map(a=>a.__action);if("*"==b)return e;if(b.endsWith("*")){let a=b.slice(0,-1);return e.filter(b=>b.name.startsWith(a))}return e.filter(a=>a.name==b)},f}},71780:(a,b,c)=>{"use strict";let d=c(71635);a.exports=(a,b)=>{let c=d(a,b);return c?c.version:null}},71918:(a,b,c)=>{"use strict";function d(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function e(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function f(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function g(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function h(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}b.__esModule=!0,d.prototype=new(function(a){return a&&a.__esModule?a:{default:a}}(c(70553))).default,d.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,i=0,j=d.length;i<j;i++){var k=d[i],l=this.accept(k);if(l){var m=e(d,i,c),n=f(d,i,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&g(d,i,!0),l.open&&h(d,i,!0),b&&q&&(g(d,i),h(d,i)&&"PartialStatement"===k.type&&(k.indent=/([ \t]+$)/.exec(d[i-1].original)[1])),b&&o&&(g((k.program||k.inverse).body),h(d,i)),b&&p&&(g(d,i),h((k.inverse||k.program).body))}}return a},d.prototype.BlockStatement=d.prototype.DecoratorBlock=d.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,i=c;if(c&&c.chained)for(d=c.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:f(b.body),closeStandalone:e((d||b).body)};if(a.openStrip.close&&g(b.body,null,!0),c){var k=a.inverseStrip;k.open&&h(b.body,null,!0),k.close&&g(d.body,null,!0),a.closeStrip.open&&h(i.body,null,!0),!this.options.ignoreStandalone&&e(b.body)&&f(d.body)&&(h(b.body),g(d.body))}else a.closeStrip.open&&h(b.body,null,!0);return j},d.prototype.Decorator=d.prototype.MustacheStatement=function(a){return a.strip},d.prototype.PartialStatement=d.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b.default=d,a.exports=b.default},72125:(a,b,c)=>{"use strict";var d=c(85467),e=c(69955),f=c(87928),g=c(42218),h=c(74648),i=c(8408);function j(a,b){let c=g.isScalar(b)?b.value:b;for(let d of a)if(g.isPair(d)&&(d.key===b||d.key===c||g.isScalar(d.key)&&d.key.value===c))return d}class k extends f.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(a){super(g.MAP,a),this.items=[]}static from(a,b,c){let{keepUndefined:d,replacer:e}=c,f=new this(a),g=(a,g)=>{if("function"==typeof e)g=e.call(b,a,g);else if(Array.isArray(e)&&!e.includes(a))return;(void 0!==g||d)&&f.items.push(h.createPair(a,g,c))};if(b instanceof Map)for(let[a,c]of b)g(a,c);else if(b&&"object"==typeof b)for(let a of Object.keys(b))g(a,b[a]);return"function"==typeof a.sortMapEntries&&f.items.sort(a.sortMapEntries),f}add(a,b){let c;c=g.isPair(a)?a:a&&"object"==typeof a&&"key"in a?new h.Pair(a.key,a.value):new h.Pair(a,a?.value);let d=j(this.items,c.key),e=this.schema?.sortMapEntries;if(d){if(!b)throw Error(`Key ${c.key} already set`);g.isScalar(d.value)&&i.isScalarValue(c.value)?d.value.value=c.value:d.value=c.value}else if(e){let a=this.items.findIndex(a=>0>e(c,a));-1===a?this.items.push(c):this.items.splice(a,0,c)}else this.items.push(c)}delete(a){let b=j(this.items,a);return!!b&&this.items.splice(this.items.indexOf(b),1).length>0}get(a,b){let c=j(this.items,a),d=c?.value;return(!b&&g.isScalar(d)?d.value:d)??void 0}has(a){return!!j(this.items,a)}set(a,b){this.add(new h.Pair(a,b),!0)}toJSON(a,b,c){let d=c?new c:b?.mapAsMap?new Map:{};for(let a of(b?.onCreate&&b.onCreate(d),this.items))e.addPairToJSMap(b,d,a);return d}toString(a,b,c){if(!a)return JSON.stringify(this);for(let a of this.items)if(!g.isPair(a))throw Error(`Map items must all be pairs; found ${JSON.stringify(a)} instead`);return!a.allNullValues&&this.hasAllNullValues(!1)&&(a=Object.assign({},a,{allNullValues:!0})),d.stringifyCollection(this,a,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:a.indent||"",onChompKeep:c,onComment:b})}}b.YAMLMap=k,b.findPair=j},72204:(a,b,c)=>{"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}Object.defineProperty(b,"__esModule",{value:!0}),b.BinaryCarrier=c(52298).default,b.Tags=c(46923);var e=c(58704);b.Reference=c(95291).default,b.Span=c(86224).default,b.SpanContext=c(11108).default,b.Tracer=c(38623).Tracer,b.MockTracer=c(8919).MockTracer,d(c(84183)),d(c(70387)),d(c(12383)),e.initialize()},72300:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(i,{BaseDataPointSchema:()=>m.BaseDataPointSchema,Document:()=>k.Document,DocumentDataSchema:()=>k.DocumentDataSchema,EvalStatusEnum:()=>m.EvalStatusEnum,GenerateResponse:()=>n.GenerateResponse,GenerateResponseChunk:()=>n.GenerateResponseChunk,GenerateResponseChunkSchema:()=>p.GenerateResponseChunkSchema,GenerationBlockedError:()=>n.GenerationBlockedError,GenerationCommonConfigSchema:()=>p.GenerationCommonConfigSchema,GenerationResponseError:()=>n.GenerationResponseError,Message:()=>o.Message,MessageSchema:()=>p.MessageSchema,ModelRequestSchema:()=>p.ModelRequestSchema,ModelResponseSchema:()=>p.ModelResponseSchema,PartSchema:()=>p.PartSchema,ResourceInputSchema:()=>s.ResourceInputSchema,ResourceOutputSchema:()=>s.ResourceOutputSchema,RoleSchema:()=>p.RoleSchema,ToolInterruptError:()=>u.ToolInterruptError,asTool:()=>u.asTool,checkOperation:()=>j.checkOperation,defineHelper:()=>q.defineHelper,defineInterrupt:()=>u.defineInterrupt,definePartial:()=>q.definePartial,definePrompt:()=>q.definePrompt,defineResource:()=>s.defineResource,defineTool:()=>u.defineTool,dynamicResource:()=>s.dynamicResource,embed:()=>l.embed,embedderActionMetadata:()=>l.embedderActionMetadata,embedderRef:()=>l.embedderRef,evaluate:()=>m.evaluate,evaluatorRef:()=>m.evaluatorRef,generate:()=>n.generate,generateOperation:()=>n.generateOperation,generateStream:()=>n.generateStream,index:()=>t.index,indexerRef:()=>t.indexerRef,interrupt:()=>u.interrupt,isDynamicResourceAction:()=>s.isDynamicResourceAction,isExecutablePrompt:()=>q.isExecutablePrompt,loadPromptFolder:()=>q.loadPromptFolder,modelActionMetadata:()=>p.modelActionMetadata,modelRef:()=>p.modelRef,prompt:()=>q.prompt,rerank:()=>r.rerank,rerankerRef:()=>r.rerankerRef,resource:()=>s.resource,retrieve:()=>t.retrieve,retrieverRef:()=>t.retrieverRef,tagAsPreamble:()=>n.tagAsPreamble,toGenerateRequest:()=>n.toGenerateRequest}),a.exports=h(d({},"__esModule",{value:!0}),i);var j=c(13852),k=c(25399),l=c(13672),m=c(37719),n=c(67113),o=c(20689),p=c(95403),q=c(67842),r=c(68448),s=c(84596),t=c(1998),u=c(50438);((a,b,c)=>(h(a,b,"default"),c&&h(c,b,"default")))(i,c(4607),a.exports)},72447:(a,b,c)=>{a.exports=h;var d=c(28354).inherits,e=c(37451).ReadResult,f=c(37451).BufferRW,g=c(8193);function h(a,b,c){if(!(this instanceof h))return new h(a,b);if("object"==typeof a&&(b=a,a=null),c=c||{},this.cons=a||Object,this.fields=[],Array.isArray(b))this.fields.push.apply(this.fields,b);else{var d,e=Object.keys(b);for(d=0;d<e.length;++d){var f={};f.name=e[d],f.rw=b[f.name],this.fields.push(f)}}for(d=0,this.namedFields={};d<this.fields.length;++d)this.fields[d].name&&(this.namedFields[this.fields[d].name]=this.fields[d])}d(h,f),h.prototype.poolByteLength=function(a,b){for(var c=0,d=0;d<this.fields.length;d++){var e=this.fields[d];if(e.name&&!b.hasOwnProperty(e.name))return a.reset(g.MissingStructField({field:e.name,struct:this.cons.name}),null);var f=e.name&&b&&b[e.name];if(e.call)if(e.call.poolByteLength)e.call.poolByteLength(a,b);else{if(!e.call.byteLength)continue;var h=e.call.byteLength(b);a.copyFrom(h)}else e.rw.poolByteLength(a,f);if(a.err)return a;c+=a.length}return a.reset(null,c)},h.prototype.poolWriteInto=function(a,b,c,d){a.reset(null,d);for(var e=0;e<this.fields.length;e++){var f=this.fields[e];if(f.name&&!b.hasOwnProperty(f.name))return a.reset(g.MissingStructField({field:f.name,struct:this.cons.name}),null);var h=f.name&&b[f.name];if(f.call)if(f.call.poolWriteInto)f.call.poolWriteInto(a,b,c,d);else{if(!f.call.writeInto)continue;var i=f.call.writeInto(b,c,d);a.copyFrom(i)}else f.rw.poolWriteInto(a,h,c,d);if(a.err)break;d=a.offset}return a};var i=new e;h.prototype.poolReadFrom=function(a,b,c){"object"==typeof a.value&&null!==a.value?a.value.constructor!==this.cons&&(a.value=new this.cons):a.value=new this.cons;for(var d=0;d<this.fields.length;d++){var e=this.fields[d];if(e.call)if(e.call.poolReadFrom)e.call.poolReadFrom(i,a.value,b,c);else{if(!e.call.readFrom)continue;var f=e.call.readFrom(a.value,b,c);i.copyFrom(f)}else e.rw.poolReadFrom(i,b,c);if(i.err)return a.copyFrom(i);c=i.offset,e.name&&(a.value[e.name]=i.value)}return a.reset(null,c,a.value)}},72486:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{CONTEXT_CACHE_SUPPORTED_MODELS:()=>g,DEFAULT_TTL:()=>i,INVALID_ARGUMENT_MESSAGES:()=>h}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);let g=["gemini-1.5-flash-001","gemini-1.5-pro-001"],h={modelVersion:`Model version is required for context caching, supported only in ${g.join(",")} models.`,tools:"Context caching cannot be used simultaneously with tools.",codeExecution:"Context caching cannot be used simultaneously with code execution."},i=300},72626:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(26469),b)},73022:(a,b,c)=>{"use strict";var d=c(61710).h,e=c(1134);a.exports=function(a,b){var c,f="function"==typeof(c=(b=b||{}).errorColor||"red+bold")?c:function(a){return d(a,c)},g=void 0!==a.offset&&null!==a.offset,h=void 0!==a.endOffset&&null!==a.endOffset,i=!1;return g?h?function(b,c,d){return b===a.offset?(i=b!==a.endOffset-1,f(e(d))):b===a.endOffset-1?(i=!1,f(e(d))):i?f(e(d)):d}:function(b,c,d){return b===a.offset?f(e(d)):d}:null}},73076:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseLiteralDef=void 0,b.parseLiteralDef=function(a,b){let c=typeof a.value;return"bigint"!==c&&"number"!==c&&"boolean"!==c&&"string"!==c?{type:Array.isArray(a.value)?"array":"object"}:"openApi3"===b.target?{type:"bigint"===c?"integer":c,enum:[a.value]}:{type:"bigint"===c?"integer":c,const:a.value}}},73174:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0})},73355:a=>{a.exports=function(a){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var e in d)b.call(d,e)&&(a[e]=d[e])}return a};var b=Object.prototype.hasOwnProperty},73396:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(k,{getApiKeyFromEnvVar:()=>n,getGenkitClientHeader:()=>o}),a.exports=j(e({},"__esModule",{value:!0}),k);var l=c(6250),m=((a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)))(c(19771));function n(){return m.default.env.GEMINI_API_KEY||m.default.env.GOOGLE_API_KEY||m.default.env.GOOGLE_GENAI_API_KEY}function o(){return"true"==m.default.env.MONOSPACE_ENV?(0,l.getClientHeader)()+" firebase-studio-vm":(0,l.getClientHeader)()}},73475:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InterceptingCall=b.RequesterBuilder=b.ListenerBuilder=b.InterceptorConfigurationError=void 0,b.getInterceptingCall=function(a,b,c,d){if(a.clientInterceptors.length>0&&a.clientInterceptorProviders.length>0)throw new h("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(a.callInterceptors.length>0&&a.callInterceptorProviders.length>0)throw new h("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let e=[];e=a.callInterceptors.length>0||a.callInterceptorProviders.length>0?[].concat(a.callInterceptors,a.callInterceptorProviders.map(a=>a(b))).filter(a=>a):[].concat(a.clientInterceptors,a.clientInterceptorProviders.map(a=>a(b))).filter(a=>a);let f=Object.assign({},c,{method_definition:b});return e.reduceRight((a,b)=>c=>b(c,a),a=>(function(a,b,c){let d=function(a,b,c){var d,e;let f=null!=(d=c.deadline)?d:1/0,g=c.host,h=null!=(e=c.parent)?e:null,i=c.propagate_flags,j=c.credentials,k=a.createCall(b,f,g,h,i);return j&&k.setCredentials(j),k}(a,c.path,b);return c.responseStream?new p(d,c):new o(d,c)})(d,a,b))(f)};let d=c(33604),e=c(13685),f=c(56458),g=c(52291);class h extends Error{constructor(a){super(a),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,h)}}b.InterceptorConfigurationError=h;class i{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(a){return this.metadata=a,this}withOnReceiveMessage(a){return this.message=a,this}withOnReceiveStatus(a){return this.status=a,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}b.ListenerBuilder=i;class j{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(a){return this.start=a,this}withSendMessage(a){return this.message=a,this}withHalfClose(a){return this.halfClose=a,this}withCancel(a){return this.cancel=a,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}b.RequesterBuilder=j;let k={onReceiveMetadata:(a,b)=>{b(a)},onReceiveMessage:(a,b)=>{b(a)},onReceiveStatus:(a,b)=>{b(a)}},l={start:(a,b,c)=>{c(a,b)},sendMessage:(a,b)=>{b(a)},halfClose:a=>{a()},cancel:a=>{a()}};class m{constructor(a,b){var c,d,e,f;this.nextCall=a,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,b?this.requester={start:null!=(c=b.start)?c:l.start,sendMessage:null!=(d=b.sendMessage)?d:l.sendMessage,halfClose:null!=(e=b.halfClose)?e:l.halfClose,cancel:null!=(f=b.cancel)?f:l.cancel}:this.requester=l}cancelWithStatus(a,b){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(a,b)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(a,b){var c,d,f,g,h,i;let j={onReceiveMetadata:null!=(d=null==(c=null==b?void 0:b.onReceiveMetadata)?void 0:c.bind(b))?d:a=>{},onReceiveMessage:null!=(g=null==(f=null==b?void 0:b.onReceiveMessage)?void 0:f.bind(b))?g:a=>{},onReceiveStatus:null!=(i=null==(h=null==b?void 0:b.onReceiveStatus)?void 0:h.bind(b))?i:a=>{}};this.processingMetadata=!0,this.requester.start(a,j,(a,b)=>{var c,d,f;let g;if(this.processingMetadata=!1,(0,e.isInterceptingListener)(b))g=b;else{let a={onReceiveMetadata:null!=(c=b.onReceiveMetadata)?c:k.onReceiveMetadata,onReceiveMessage:null!=(d=b.onReceiveMessage)?d:k.onReceiveMessage,onReceiveStatus:null!=(f=b.onReceiveStatus)?f:k.onReceiveStatus};g=new e.InterceptingListenerImpl(a,j)}this.nextCall.start(a,g),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(a,b){this.processingMessage=!0,this.requester.sendMessage(b,c=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=a,this.pendingMessage=b):(this.nextCall.sendMessageWithContext(a,c),this.processPendingHalfClose())})}sendMessage(a){this.sendMessageWithContext({},a)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}getAuthContext(){return this.nextCall.getAuthContext()}}b.InterceptingCall=m;class n{constructor(a,b){this.call=a,this.methodDefinition=b}cancelWithStatus(a,b){this.call.cancelWithStatus(a,b)}getPeer(){return this.call.getPeer()}sendMessageWithContext(a,b){let c;try{c=this.methodDefinition.requestSerialize(b)}catch(a){this.call.cancelWithStatus(f.Status.INTERNAL,`Request message serialization failure: ${(0,g.getErrorMessage)(a)}`);return}this.call.sendMessageWithContext(a,c)}sendMessage(a){this.sendMessageWithContext({},a)}start(a,b){let c=null;this.call.start(a,{onReceiveMetadata:a=>{var c;null==(c=null==b?void 0:b.onReceiveMetadata)||c.call(b,a)},onReceiveMessage:a=>{var e;let h;try{h=this.methodDefinition.responseDeserialize(a)}catch(a){c={code:f.Status.INTERNAL,details:`Response message parsing error: ${(0,g.getErrorMessage)(a)}`,metadata:new d.Metadata},this.call.cancelWithStatus(c.code,c.details);return}null==(e=null==b?void 0:b.onReceiveMessage)||e.call(b,h)},onReceiveStatus:a=>{var d,e;c?null==(d=null==b?void 0:b.onReceiveStatus)||d.call(b,c):null==(e=null==b?void 0:b.onReceiveStatus)||e.call(b,a)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}getAuthContext(){return this.call.getAuthContext()}}class o extends n{constructor(a,b){super(a,b)}start(a,b){var c,d;let e=!1,f={onReceiveMetadata:null!=(d=null==(c=null==b?void 0:b.onReceiveMetadata)?void 0:c.bind(b))?d:a=>{},onReceiveMessage:a=>{var c;e=!0,null==(c=null==b?void 0:b.onReceiveMessage)||c.call(b,a)},onReceiveStatus:a=>{var c,d;e||null==(c=null==b?void 0:b.onReceiveMessage)||c.call(b,null),null==(d=null==b?void 0:b.onReceiveStatus)||d.call(b,a)}};super.start(a,f),this.call.startRead()}}class p extends n{}},73501:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AbstractAsyncHooksContextManager=void 0;let d=c(94735),e=["addListener","on","once","prependListener","prependOnceListener"];class f{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(a,b){return b instanceof d.EventEmitter?this._bindEventEmitter(a,b):"function"==typeof b?this._bindFunction(a,b):b}_bindFunction(a,b){let c=this,d=function(...d){return c.with(a,()=>b.apply(this,d))};return Object.defineProperty(d,"length",{enumerable:!1,configurable:!0,writable:!1,value:b.length}),d}_bindEventEmitter(a,b){return void 0!==this._getPatchMap(b)||(this._createPatchMap(b),e.forEach(c=>{void 0!==b[c]&&(b[c]=this._patchAddListener(b,b[c],a))}),"function"==typeof b.removeListener&&(b.removeListener=this._patchRemoveListener(b,b.removeListener)),"function"==typeof b.off&&(b.off=this._patchRemoveListener(b,b.off)),"function"==typeof b.removeAllListeners&&(b.removeAllListeners=this._patchRemoveAllListeners(b,b.removeAllListeners))),b}_patchRemoveListener(a,b){let c=this;return function(d,e){var f;let g=null==(f=c._getPatchMap(a))?void 0:f[d];if(void 0===g)return b.call(this,d,e);let h=g.get(e);return b.call(this,d,h||e)}}_patchRemoveAllListeners(a,b){let c=this;return function(d){let e=c._getPatchMap(a);return void 0!==e&&(0==arguments.length?c._createPatchMap(a):void 0!==e[d]&&delete e[d]),b.apply(this,arguments)}}_patchAddListener(a,b,c){let d=this;return function(e,f){if(d._wrapped)return b.call(this,e,f);let g=d._getPatchMap(a);void 0===g&&(g=d._createPatchMap(a));let h=g[e];void 0===h&&(h=new WeakMap,g[e]=h);let i=d.bind(c,f);h.set(f,i),d._wrapped=!0;try{return b.call(this,e,i)}finally{d._wrapped=!1}}}_createPatchMap(a){let b=Object.create(null);return a[this._kOtListeners]=b,b}_getPatchMap(a){return a[this._kOtListeners]}}b.AbstractAsyncHooksContextManager=f},73575:(a,b,c)=>{"use strict";let d=c(71635);a.exports=(a,b)=>{let c=d(a,null,!0),e=d(b,null,!0),f=c.compare(e);if(0===f)return null;let g=f>0,h=g?c:e,i=g?e:c,j=!!h.prerelease.length;if(i.prerelease.length&&!j){if(!i.patch&&!i.minor)return"major";if(0===i.compareMain(h))return i.minor&&!i.patch?"minor":"patch"}let k=j?"pre":"";return c.major!==e.major?k+"major":c.minor!==e.minor?k+"minor":c.patch!==e.patch?k+"patch":"prerelease"}},73816:(a,b,c)=>{"use strict";c.d(b,{D:()=>h});var d=c(29021),e=c(79361),f=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},g=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};function h(){var a,b,c,h;return a=this,b=void 0,c=void 0,h=function(){var a,b,c,h,i,j,k;return f(this,function(f){switch(f.label){case 0:a=["/etc/machine-id","/var/lib/dbus/machine-id"],f.label=1;case 1:f.trys.push([1,8,9,10]),c=(b=g(a)).next(),f.label=2;case 2:if(c.done)return[3,7];h=c.value,f.label=3;case 3:return f.trys.push([3,5,,6]),[4,d.promises.readFile(h,{encoding:"utf8"})];case 4:return[2,f.sent().trim()];case 5:return i=f.sent(),e.s.debug("error reading machine id: "+i),[3,6];case 6:return c=b.next(),[3,2];case 7:return[3,10];case 8:return j={error:f.sent()},[3,10];case 9:try{c&&!c.done&&(k=b.return)&&k.call(b)}finally{if(j)throw j.error}return[7];case 10:return[2,""]}})},new(c||(c=Promise))(function(d,e){function f(a){try{i(h.next(a))}catch(a){e(a)}}function g(a){try{i(h.throw(a))}catch(a){e(a)}}function i(a){var b;a.done?d(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(f,g)}i((h=h.apply(a,b||[])).next())})}},73838:(a,b,c)=>{"use strict";var d=c(74648),e=c(72125),f=c(68042),g=c(27714),h=c(62806),i=c(17342);let j="All mapping items must start at the same column";b.resolveBlockMap=function({composeNode:a,composeEmptyNode:b},c,k,l,m){let n=new(m?.nodeClass??e.YAMLMap)(c.schema);c.atRoot&&(c.atRoot=!1);let o=k.offset,p=null;for(let e of k.items){let{start:m,key:q,sep:r,value:s}=e,t=f.resolveProps(m,{indicator:"explicit-key-ind",next:q??r?.[0],offset:o,onError:l,parentIndent:k.indent,startOnNewline:!0}),u=!t.found;if(u){if(q&&("block-seq"===q.type?l(o,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in q&&q.indent!==k.indent&&l(o,"BAD_INDENT",j)),!t.anchor&&!t.tag&&!r){p=t.end,t.comment&&(n.comment?n.comment+="\n"+t.comment:n.comment=t.comment);continue}(t.newlineAfterProp||g.containsNewline(q))&&l(q??m[m.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else t.found?.indent!==k.indent&&l(o,"BAD_INDENT",j);c.atKey=!0;let v=t.end,w=q?a(c,q,t,l):b(c,v,m,null,t,l);c.schema.compat&&h.flowIndentCheck(k.indent,q,l),c.atKey=!1,i.mapIncludes(c,n.items,w)&&l(v,"DUPLICATE_KEY","Map keys must be unique");let x=f.resolveProps(r??[],{indicator:"map-value-ind",next:s,offset:w.range[2],onError:l,parentIndent:k.indent,startOnNewline:!q||"block-scalar"===q.type});if(o=x.end,x.found){u&&(s?.type!=="block-map"||x.hasNewline||l(o,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),c.options.strict&&t.start<x.found.offset-1024&&l(w.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let f=s?a(c,s,x,l):b(c,o,r,null,x,l);c.schema.compat&&h.flowIndentCheck(k.indent,s,l),o=f.range[2];let g=new d.Pair(w,f);c.options.keepSourceTokens&&(g.srcToken=e),n.items.push(g)}else{u&&l(w.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),x.comment&&(w.comment?w.comment+="\n"+x.comment:w.comment=x.comment);let a=new d.Pair(w);c.options.keepSourceTokens&&(a.srcToken=e),n.items.push(a)}}return p&&p<o&&l(p,"IMPOSSIBLE","Map comment with trailing content"),n.range=[k.offset,o,p??o],n}},74029:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BaseFilter=void 0;class c{async sendMetadata(a){return a}receiveMetadata(a){return a}async sendMessage(a){return a}async receiveMessage(a){return a}receiveTrailers(a){return a}}b.BaseFilter=c},74152:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:c(55832).validateUnion,error:{message:"must match a schema in anyOf"}}},74361:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseBooleanDef=void 0,b.parseBooleanDef=function(){return{type:"boolean"}}},74502:(a,b,c)=>{"use strict";let d=c(78871),e=c(50403),{ANY:f}=e,g=c(24346),h=c(32665),i=c(85327),j=c(59366),k=c(97579),l=c(94764);a.exports=(a,b,c,m)=>{let n,o,p,q,r;switch(a=new d(a,m),b=new g(b,m),c){case">":n=i,o=k,p=j,q=">",r=">=";break;case"<":n=j,o=l,p=i,q="<",r="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(h(a,b,m))return!1;for(let c=0;c<b.set.length;++c){let d=b.set[c],g=null,h=null;if(d.forEach(a=>{a.semver===f&&(a=new e(">=0.0.0")),g=g||a,h=h||a,n(a.semver,g.semver,m)?g=a:p(a.semver,h.semver,m)&&(h=a)}),g.operator===q||g.operator===r||(!h.operator||h.operator===q)&&o(a,h.semver)||h.operator===r&&p(a,h.semver))return!1}return!0}},74648:(a,b,c)=>{"use strict";var d=c(14755),e=c(54147),f=c(69955),g=c(42218);class h{constructor(a,b=null){Object.defineProperty(this,g.NODE_TYPE,{value:g.PAIR}),this.key=a,this.value=b}clone(a){let{key:b,value:c}=this;return g.isNode(b)&&(b=b.clone(a)),g.isNode(c)&&(c=c.clone(a)),new h(b,c)}toJSON(a,b){let c=b?.mapAsMap?new Map:{};return f.addPairToJSMap(b,c,this)}toString(a,b,c){return a?.doc?e.stringifyPair(this,a,b,c):JSON.stringify(this)}}b.Pair=h,b.createPair=function(a,b,c){return new h(d.createNode(a,void 0,c),d.createNode(b,void 0,c))}},74718:(a,b,c)=>{"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var e=c(66182),f=d(c(99008)),g=c(80496),h=d(c(28199));function i(a){this.value=a}function j(){}j.prototype={nameLookup:function(a,b){return this.internalNameLookup(a,b)},depthedLookup:function(a){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(a),")"]},compilerInfo:function(){var a=e.COMPILER_REVISION,b=e.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return(g.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple)?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(a,b){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",a,",",JSON.stringify(b),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,g=void 0,h=void 0,i=void 0,j=void 0;for(i=0,j=e.length;i<j;i++)g=e[i],this.source.currentLocation=g.loc,h=h||g.loc,this[g.opcode].apply(this,g.args);if(this.source.currentLocation=h,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new f.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(i=0,j=n.length;i<j;i++)n[i]&&(l[i]=n[i],o[i]&&(l[i+"_d"]=o[i],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName})).map=l.map&&l.map.toString():l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new h.default(this.options.srcName),this.decorators=new h.default(this.options.srcName)},createFunctionContext:function(a){var b=this,c="",d=this.stackVars.concat(this.registers.list);d.length>0&&(c+=", "+d.join(", "));var e=0;Object.keys(this.aliases).forEach(function(a){var d=b.aliases[a];d.children&&d.referenceCount>1&&(c+=", alias"+ ++e+"="+a,d.children[0]="alias"+e)}),this.lookupPropertyFunctionIsUsed&&(c+=", "+this.lookupPropertyFunctionVarDeclaration());var f=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&f.push("blockParams"),this.useDepths&&f.push("depths");var g=this.mergeSource(c);return a?(f.push(g),Function.apply(this,f)):this.source.wrap(["function(",f.join(","),") {\n  ",g,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(a){var b=this.aliasable("container.hooks.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("container.hooks.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath("context",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var f=this;if(this.options.strict||this.options.assumeObjects)return void this.push(function(a,b,c,d,e){var f=b.popStack(),g=c.length;for(a&&g--;d<g;d++)f=b.nameLookup(f,c[d],e);return a?[b.aliasable("container.strict"),"(",f,", ",b.quotedString(c[d]),", ",JSON.stringify(b.source.currentLocation)," )"]:f}(this.options.strict&&e,this,b,c,a));for(var g=b.length;c<g;c++)this.replaceStack(function(e){var g=f.nameLookup(e,b[c],a);return d?[" && ",g]:[" != null ? ",g," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator"),d=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",this.decorators.functionCall(c,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=[];c&&f.push(e.name),f.push(d),this.options.strict||f.push(this.aliasable("container.hooks.helperMissing"));var g=["(",this.itemsSeparatedBy(f,"||"),")"],h=this.source.functionCall(g,"call",e.callParams);this.push(h)},itemsSeparatedBy:function(a,b){var c=[];c.push(a[0]);for(var d=1;d<a.length;d++)c.push(b,a[d]);return c},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",a,"helper")," || ",c,")"];this.options.strict||(e[0]="(helper = ",e.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",e,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",e.decorators="container.decorators",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:j,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;f<g;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);if(null==h){this.context.programs.push("");var i=this.context.programs.length;d.index=i,d.name="program"+i,this.context.programs[i]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[i]=e.decorators,this.context.environments[i]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams,d.useDepths=this.useDepths,d.useBlockParams=this.useBlockParams}else d.index=h.index,d.name="program"+h.index,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=this.useBlockParams||h.useBlockParams}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=this.context.environments[b];if(d&&d.equals(a))return d}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof i||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new i(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,d=void 0,e=void 0;if(!this.isInline())throw new f.default("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof i)b=["(",c=[g.value]],e=!0;else{d=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var j=a.call(this,c);e||this.popStack(),d&&this.stackSlot--,this.push(b.concat(j,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var d=a[b];if(d instanceof i)this.compileStack.push(d);else{var e=this.incrStack();this.pushSource([e," = ",d,";"]),this.compileStack.push(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof i)return c.value;if(!b){if(!this.stackSlot)throw new f.default("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof i?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?b.referenceCount++:((b=this.aliases[a]=this.source.wrap(a)).aliasable=!0,b.referenceCount=1),b},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c);return{params:d,paramsInit:e,name:this.nameLookup("helpers",b,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=!c,i=void 0;h&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var j=this.popStack(),k=this.popStack();(k||j)&&(d.fn=k||"container.noop",d.inverse=j||"container.noop");for(var l=b;l--;)i=this.popStack(),c[l]=i,this.trackIds&&(g[l]=this.popStack()),this.stringParams&&(f[l]=this.popStack(),e[l]=this.popStack());return h&&(d.args=this.source.generateArray(c)),this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return(e.loc=JSON.stringify(this.source.currentLocation),e=this.objectLiteral(e),d)?(this.useRegister("options"),c.push("options"),["options=",e]):c?(c.push(e),""):e}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=j.RESERVED_WORDS={},c=0,d=a.length;c<d;c++)b[a[c]]=!0}(),j.isValidJavaScriptVariableName=function(a){return!j.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b.default=j,a.exports=b.default},74876:(a,b,c)=>{"use strict";var d=c(19771);b.debug=function(a,...b){"debug"===a&&console.log(...b)},b.warn=function(a,b){("debug"===a||"warn"===a)&&("function"==typeof d.emitWarning?d.emitWarning(b):console.warn(b))}},75018:(a,b,c)=>{"use strict";b.__esModule=!0;var d=c(80496),e=function(a){return a&&a.__esModule?a:{default:a}}(c(99008));b.default=function(a){a.registerHelper("if",function(a,b){if(2!=arguments.length)throw new e.default("#if requires exactly one argument");return(d.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a))?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){if(2!=arguments.length)throw new e.default("#unless requires exactly one argument");return a.helpers.if.call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},a.exports=b.default},75074:(a,b,c)=>{"use strict";a.exports.ThriftByte=c(69443).ThriftI8,a.exports.ByteRW=c(69443).I8RW},75151:(a,b,c)=>{"use strict";let d;var e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.prototype.hasOwnProperty,i={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(i,{TraceServerExporter:()=>o,setTelemetryServerUrl:()=>n,telemetryServerUrl:()=>d}),a.exports=((a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of g(b))h.call(a,i)||i===c||e(a,i,{get:()=>b[i],enumerable:!(d=f(b,i))||d.enumerable});return a})(e({},"__esModule",{value:!0}),i);var j=c(68948),k=c(41625),l=c(42656),m=c(49176);function n(a){d=a}class o{export(a,b){this._sendSpans(a,b)}shutdown(){return this._sendSpans([]),this.forceFlush()}_exportInfo(a){let b={spanId:a.spanContext().spanId,traceId:a.spanContext().traceId,startTime:p(a.startTime),endTime:p(a.endTime),attributes:{...a.attributes},displayName:a.name,links:a.links,spanKind:j.SpanKind[a.kind],parentSpanId:a.parentSpanId,sameProcessAsParentSpan:{value:!a.spanContext().isRemote},status:a.status,timeEvents:{timeEvent:a.events.map(a=>({time:p(a.time),annotation:{attributes:a.attributes??{},description:a.name}}))}};return void 0!==a.instrumentationLibrary&&(b.instrumentationLibrary={name:a.instrumentationLibrary.name},void 0!==a.instrumentationLibrary.schemaUrl&&(b.instrumentationLibrary.schemaUrl=a.instrumentationLibrary.schemaUrl),void 0!==a.instrumentationLibrary.version&&(b.instrumentationLibrary.version=a.instrumentationLibrary.version)),(0,m.deleteUndefinedProps)(b),b}forceFlush(){return Promise.resolve()}async _sendSpans(a,b){let c={};for(let b of a)c[b.spanContext().traceId]||(c[b.spanContext().traceId]=[]),c[b.spanContext().traceId].push(b);let d=!1;for(let a of Object.keys(c)){try{await this.save(a,c[a])}catch(b){d=!0,l.logger.error(`Failed to save trace ${a}`,b)}if(b)return b({code:d?k.ExportResultCode.FAILED:k.ExportResultCode.SUCCESS})}}async save(a,b){if(!d)return void l.logger.debug(`Telemetry server is not configured, trace ${a} not saved!`);let c={traceId:a,spans:{}};for(let a of b){let b=this._exportInfo(a);c.spans[b.spanId]=b,b.parentSpanId||(c.displayName=b.displayName,c.startTime=b.startTime,c.endTime=b.endTime)}await fetch(`${d}/api/traces`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)})}}function p(a){return(0,k.hrTimeToMilliseconds)(a)}},75572:a=>{var b=/\{([0-9a-zA-Z]+)\}/g,c=Array.prototype.slice;a.exports=function(a){var d;return d=2==arguments.length&&"object"==typeof arguments[1]?arguments[1]:c.call(arguments,1),d&&d.hasOwnProperty||(d={}),a.replace(b,function(b,c,e){var f;return"{"===a[e-1]&&"}"===a[e+b.length]?c:null==(f=d.hasOwnProperty(c)?d[c]:null)?"":f})}},75905:(a,b,c)=>{"use strict";b.__esModule=!0;var d=c(80496),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b.default=e,a.exports=b.default},76019:function(a,b){var c,d;void 0===(d="function"==typeof(c=function(){"use strict";function a(a,b,c){this.low=0|a,this.high=0|b,this.unsigned=!!c}a.__isLong__,Object.defineProperty(a.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),a.isLong=function(a){return!0===(a&&a.__isLong__)};var b={},c={};a.fromInt=function(d,e){var f,g;if(e)return 0<=(d>>>=0)&&d<256&&(g=c[d])?g:(f=new a(d,(0|d)<0?-1:0,!0),0<=d&&d<256&&(c[d]=f),f);return -128<=(d|=0)&&d<128&&(g=b[d])?g:(f=new a(d,d<0?-1:0,!1),-128<=d&&d<128&&(b[d]=f),f)},a.fromNumber=function(b,c){return(c=!!c,isNaN(b)||!isFinite(b))?a.ZERO:!c&&b<=-f?a.MIN_VALUE:!c&&b+1>=f?a.MAX_VALUE:c&&b>=e?a.MAX_UNSIGNED_VALUE:b<0?a.fromNumber(-b,c).negate():new a(b%d|0,b/d|0,c)},a.fromBits=function(b,c,d){return new a(b,c,d)},a.fromString=function(b,c,d){if(0===b.length)throw Error("number format error: empty string");if("NaN"===b||"Infinity"===b||"+Infinity"===b||"-Infinity"===b)return a.ZERO;if("number"==typeof c&&(d=c,c=!1),(d=d||10)<2||36<d)throw Error("radix out of range: "+d);if((e=b.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+b);if(0===e)return a.fromString(b.substring(1),c,d).negate();for(var e,f=a.fromNumber(Math.pow(d,8)),g=a.ZERO,h=0;h<b.length;h+=8){var i=Math.min(8,b.length-h),j=parseInt(b.substring(h,h+i),d);if(i<8){var k=a.fromNumber(Math.pow(d,i));g=g.multiply(k).add(a.fromNumber(j))}else g=(g=g.multiply(f)).add(a.fromNumber(j))}return g.unsigned=c,g},a.fromValue=function(b){return b instanceof a?b:"number"==typeof b?a.fromNumber(b):"string"==typeof b?a.fromString(b):new a(b.low,b.high,b.unsigned)};var d=0x100000000,e=0xffffffffffffffff,f=0x8000000000000000,g=a.fromInt(0x1000000);return a.ZERO=a.fromInt(0),a.UZERO=a.fromInt(0,!0),a.ONE=a.fromInt(1),a.UONE=a.fromInt(1,!0),a.NEG_ONE=a.fromInt(-1),a.MAX_VALUE=a.fromBits(-1,0x7fffffff,!1),a.MAX_UNSIGNED_VALUE=a.fromBits(-1,-1,!0),a.MIN_VALUE=a.fromBits(0,-0x80000000,!1),a.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},a.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},a.prototype.toString=function(b){if((b=b||10)<2||36<b)throw RangeError("radix out of range: "+b);if(this.isZero())return"0";if(this.isNegative())if(!this.equals(a.MIN_VALUE))return"-"+this.negate().toString(b);else{var c,d=a.fromNumber(b),e=this.divide(d);return c=e.multiply(d).subtract(this),e.toString(b)+c.toInt().toString(b)}var f=a.fromNumber(Math.pow(b,6),this.unsigned);c=this;for(var g="";;){var h=c.divide(f),i=(c.subtract(h.multiply(f)).toInt()>>>0).toString(b);if((c=h).isZero())return i+g;for(;i.length<6;)i="0"+i;g=""+i+g}},a.prototype.getHighBits=function(){return this.high},a.prototype.getHighBitsUnsigned=function(){return this.high>>>0},a.prototype.getLowBits=function(){return this.low},a.prototype.getLowBitsUnsigned=function(){return this.low>>>0},a.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(a.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var b=0!=this.high?this.high:this.low,c=31;c>0&&(b&1<<c)==0;c--);return 0!=this.high?c+33:c+1},a.prototype.isZero=function(){return 0===this.high&&0===this.low},a.prototype.isNegative=function(){return!this.unsigned&&this.high<0},a.prototype.isPositive=function(){return this.unsigned||this.high>=0},a.prototype.isOdd=function(){return(1&this.low)==1},a.prototype.isEven=function(){return(1&this.low)==0},a.prototype.equals=function(b){return a.isLong(b)||(b=a.fromValue(b)),(this.unsigned===b.unsigned||this.high>>>31!=1||b.high>>>31!=1)&&this.high===b.high&&this.low===b.low},a.eq=a.prototype.equals,a.prototype.notEquals=function(a){return!this.equals(a)},a.neq=a.prototype.notEquals,a.prototype.lessThan=function(a){return 0>this.compare(a)},a.prototype.lt=a.prototype.lessThan,a.prototype.lessThanOrEqual=function(a){return 0>=this.compare(a)},a.prototype.lte=a.prototype.lessThanOrEqual,a.prototype.greaterThan=function(a){return this.compare(a)>0},a.prototype.gt=a.prototype.greaterThan,a.prototype.greaterThanOrEqual=function(a){return this.compare(a)>=0},a.prototype.gte=a.prototype.greaterThanOrEqual,a.prototype.compare=function(b){if(a.isLong(b)||(b=a.fromValue(b)),this.equals(b))return 0;var c=this.isNegative(),d=b.isNegative();return c&&!d?-1:!c&&d?1:this.unsigned?b.high>>>0>this.high>>>0||b.high===this.high&&b.low>>>0>this.low>>>0?-1:1:this.subtract(b).isNegative()?-1:1},a.prototype.negate=function(){return!this.unsigned&&this.equals(a.MIN_VALUE)?a.MIN_VALUE:this.not().add(a.ONE)},a.prototype.neg=a.prototype.negate,a.prototype.add=function(b){a.isLong(b)||(b=a.fromValue(b));var c,d,e=this.high>>>16,f=65535&this.high,g=this.low>>>16,h=65535&this.low,i=b.high>>>16,j=65535&b.high,k=b.low>>>16,l=65535&b.low,m=0,n=0;return c=0+((d=0+(h+l))>>>16),d&=65535,c+=g+k,n+=c>>>16,c&=65535,n+=f+j,m+=n>>>16,n&=65535,m+=e+i,m&=65535,a.fromBits(c<<16|d,m<<16|n,this.unsigned)},a.prototype.subtract=function(b){return a.isLong(b)||(b=a.fromValue(b)),this.add(b.negate())},a.prototype.sub=a.prototype.subtract,a.prototype.multiply=function(b){if(this.isZero()||(a.isLong(b)||(b=a.fromValue(b)),b.isZero()))return a.ZERO;if(this.equals(a.MIN_VALUE))return b.isOdd()?a.MIN_VALUE:a.ZERO;if(b.equals(a.MIN_VALUE))return this.isOdd()?a.MIN_VALUE:a.ZERO;if(this.isNegative())if(b.isNegative())return this.negate().multiply(b.negate());else return this.negate().multiply(b).negate();if(b.isNegative())return this.multiply(b.negate()).negate();if(this.lessThan(g)&&b.lessThan(g))return a.fromNumber(this.toNumber()*b.toNumber(),this.unsigned);var c,d,e=this.high>>>16,f=65535&this.high,h=this.low>>>16,i=65535&this.low,j=b.high>>>16,k=65535&b.high,l=b.low>>>16,m=65535&b.low,n=0,o=0;return c=0+((d=0+i*m)>>>16),d&=65535,c+=h*m,o+=c>>>16,c&=65535,c+=i*l,o+=c>>>16,c&=65535,o+=f*m,n+=o>>>16,o&=65535,o+=h*l,n+=o>>>16,o&=65535,o+=i*k,n+=o>>>16,o&=65535,n+=e*m+f*l+h*k+i*j,n&=65535,a.fromBits(c<<16|d,n<<16|o,this.unsigned)},a.prototype.mul=a.prototype.multiply,a.prototype.divide=function(b){if(a.isLong(b)||(b=a.fromValue(b)),b.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?a.UZERO:a.ZERO;if(this.equals(a.MIN_VALUE))if(b.equals(a.ONE)||b.equals(a.NEG_ONE))return a.MIN_VALUE;else{var c,d,e;return b.equals(a.MIN_VALUE)?a.ONE:(c=this.shiftRight(1).divide(b).shiftLeft(1)).equals(a.ZERO)?b.isNegative()?a.ONE:a.NEG_ONE:(d=this.subtract(b.multiply(c)),e=c.add(d.divide(b)))}if(b.equals(a.MIN_VALUE))return this.unsigned?a.UZERO:a.ZERO;if(this.isNegative())return b.isNegative()?this.negate().divide(b.negate()):this.negate().divide(b).negate();if(b.isNegative())return this.divide(b.negate()).negate();for(e=a.ZERO,d=this;d.greaterThanOrEqual(b);){for(var f=Math.ceil(Math.log(c=Math.max(1,Math.floor(d.toNumber()/b.toNumber())))/Math.LN2),g=f<=48?1:Math.pow(2,f-48),h=a.fromNumber(c),i=h.multiply(b);i.isNegative()||i.greaterThan(d);)c-=g,i=(h=a.fromNumber(c,this.unsigned)).multiply(b);h.isZero()&&(h=a.ONE),e=e.add(h),d=d.subtract(i)}return e},a.prototype.div=a.prototype.divide,a.prototype.modulo=function(b){return a.isLong(b)||(b=a.fromValue(b)),this.subtract(this.divide(b).multiply(b))},a.prototype.mod=a.prototype.modulo,a.prototype.not=function(){return a.fromBits(~this.low,~this.high,this.unsigned)},a.prototype.and=function(b){return a.isLong(b)||(b=a.fromValue(b)),a.fromBits(this.low&b.low,this.high&b.high,this.unsigned)},a.prototype.or=function(b){return a.isLong(b)||(b=a.fromValue(b)),a.fromBits(this.low|b.low,this.high|b.high,this.unsigned)},a.prototype.xor=function(b){return a.isLong(b)||(b=a.fromValue(b)),a.fromBits(this.low^b.low,this.high^b.high,this.unsigned)},a.prototype.shiftLeft=function(b){return(a.isLong(b)&&(b=b.toInt()),0==(b&=63))?this:b<32?a.fromBits(this.low<<b,this.high<<b|this.low>>>32-b,this.unsigned):a.fromBits(0,this.low<<b-32,this.unsigned)},a.prototype.shl=a.prototype.shiftLeft,a.prototype.shiftRight=function(b){return(a.isLong(b)&&(b=b.toInt()),0==(b&=63))?this:b<32?a.fromBits(this.low>>>b|this.high<<32-b,this.high>>b,this.unsigned):a.fromBits(this.high>>b-32,this.high>=0?0:-1,this.unsigned)},a.prototype.shr=a.prototype.shiftRight,a.prototype.shiftRightUnsigned=function(b){if(a.isLong(b)&&(b=b.toInt()),0==(b&=63))return this;var c=this.high;if(b<32){var d=this.low;return a.fromBits(d>>>b|c<<32-b,c>>>b,this.unsigned)}return 32===b?a.fromBits(c,0,this.unsigned):a.fromBits(c>>>b-32,0,this.unsigned)},a.prototype.shru=a.prototype.shiftRightUnsigned,a.prototype.toSigned=function(){return this.unsigned?new a(this.low,this.high,!1):this},a.prototype.toUnsigned=function(){return this.unsigned?this:new a(this.low,this.high,!0)},a})?c.apply(b,[]):c)||(a.exports=d)},76110:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})},k=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},l=(a,b,c)=>(c=null!=a?d(h(a)):{},k(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),m={};j(m,{Dotprompt:()=>M,PicoschemaParser:()=>K,picoschema:()=>J}),a.exports=k(e({},"__esModule",{value:!0}),m);var n=l(c(6206)),o={};j(o,{history:()=>s,ifEquals:()=>v,json:()=>q,media:()=>u,role:()=>r,section:()=>t,unlessEquals:()=>w});var{SafeString:p}=l(c(6206)).default;function q(a,b){return new p(JSON.stringify(a,null,b.hash.indent||0))}function r(a){return new p(`<<<dotprompt:role:${a}>>>`)}function s(){return new p("<<<dotprompt:history>>>")}function t(a){return new p(`<<<dotprompt:section ${a}>>>`)}function u(a){return new p(`<<<dotprompt:media:url ${a.hash.url}${a.hash.contentType?` ${a.hash.contentType}`:""}>>>`)}function v(a,b,c){return a===b?c.fn(this):c.inverse(this)}function w(a,b,c){return a!==b?c.fn(this):c.inverse(this)}var x=c(11638),y="<<<dotprompt:role:",z="<<<dotprompt:media:",A="<<<dotprompt:section",B=/^---\s*(?:\r\n|\r|\n)([\s\S]*?)(?:\r\n|\r|\n)---\s*(?:\r\n|\r|\n)([\s\S]*)$/,C=/(<<<dotprompt:(?:role:[a-z]+|history))>>>/g,D=/(<<<dotprompt:(?:media:url|section).*?)>>>/g,E=["config","description","ext","input","model","name","output","raw","toolDefs","tools","variant","version"],F={ext:{},metadata:{},config:{}};function G(a,b){return a.split(b).filter(a=>""!==a.trim())}function H(a){return a.startsWith(z)?function(a){if(!a.startsWith(z))throw Error("Invalid media piece");let[b,c,d]=a.split(" "),e={media:{url:c}};return d&&(e.media.contentType=d),e}(a):a.startsWith(A)?function(a){if(!a.startsWith(A))throw Error("Invalid section piece");let[b,c]=a.split(" ");return{metadata:{purpose:c,pending:!0}}}(a):{text:a}}var I=["any","boolean","integer","null","number","string"];async function J(a,b){return new K(b).parse(a)}var K=class{schemaResolver;constructor(a){this.schemaResolver=a?.schemaResolver}async mustResolveSchema(a){if(!this.schemaResolver)throw Error(`Picoschema: unsupported scalar type '${a}'.`);let b=await this.schemaResolver(a);if(!b)throw Error(`Picoschema: could not find schema with name '${a}'`);return b}async parse(a){if(!a)return null;if("string"==typeof a){let[b,c]=L(a);if(I.includes(b)){let a={type:b};return c&&(a={...a,description:c}),a}let d=await this.mustResolveSchema(b);return c?{...d,description:c}:d}return[...I,"object","array"].includes(a?.type)?a:"object"==typeof a?.properties?{...a,type:"object"}:this.parsePico(a)}async parsePico(a,b=[]){if("string"==typeof a){let[b,c]=L(a);if(!I.includes(b)){let a=await this.mustResolveSchema(b);return c&&(a={...a,description:c}),a}return"any"===b?c?{description:c}:{}:c?{type:b,description:c}:{type:b}}if("object"!=typeof a)throw Error(`Picoschema: only consists of objects and strings. Got: ${JSON.stringify(a)}`);let c={type:"object",properties:{},required:[],additionalProperties:!1};for(let d in a){if("(*)"===d){c.additionalProperties=await this.parsePico(a[d],[...b,d]);continue}let[e,f]=d.split("("),g=e.endsWith("?"),h=g?e.slice(0,-1):e;if(g||c.required.push(h),!f){let e={...await this.parsePico(a[d],[...b,d])};g&&"string"==typeof e.type&&(e.type=[e.type,"null"]),c.properties[h]=e;continue}let[i,j]=L(f.substring(0,f.length-1));if("array"===i)c.properties[h]={type:g?["array","null"]:"array",items:await this.parsePico(a[d],[...b,d])};else if("object"===i){let e=await this.parsePico(a[d],[...b,d]);g&&(e.type=[e.type,"null"]),c.properties[h]=e}else if("enum"===i){let b={enum:a[d]};g&&!b.enum.includes(null)&&b.enum.push(null),c.properties[h]=b}else throw Error(`Picoschema: parenthetical types must be 'object' or 'array', got: ${i}`);j&&(c.properties[h].description=j)}return c.required.length||(c.required=void 0),c}};function L(a){if(!a.includes(","))return[a,null];let b=a.match(/(.*?), *(.*)$/);return b?[b[1],b[2]]:[a,null]}var M=class{handlebars;knownHelpers={};defaultModel;modelConfigs={};tools={};toolResolver;schemas={};schemaResolver;partialResolver;store;constructor(a){this.handlebars=n.default.noConflict(),this.modelConfigs=a?.modelConfigs||this.modelConfigs,this.defaultModel=a?.defaultModel,this.tools=a?.tools||{},this.toolResolver=a?.toolResolver,this.schemas=a?.schemas||{},this.schemaResolver=a?.schemaResolver,this.partialResolver=a?.partialResolver,this.registerInitialHelpers(o,a?.helpers),this.registerInitialPartials(a?.partials)}defineHelper(a,b){return this.handlebars.registerHelper(a,b),this.knownHelpers[a]=!0,this}definePartial(a,b){return this.handlebars.registerPartial(a,b),this}defineTool(a){return this.tools[a.name]=a,this}parse(a){let{frontmatter:b,body:c}=function(a){let b=a.match(B);if(b){let[,a,c]=b;return{frontmatter:a,body:c}}return{frontmatter:"",body:""}}(a);if(b)try{let a={...(0,x.parse)(b)},d={...F},e={};for(let b in a)E.includes(b)?d[b]=a[b]:b.includes(".")&&function(a,b,c={}){let d=c||{},e=a.lastIndexOf("."),f=a.substring(0,e),g=a.substring(e+1);d[f]=d[f]||{},d[f][g]=b}(b,a[b],e);return{...d,raw:a,ext:e,template:c.trim()}}catch(b){return console.error("Dotprompt: Error parsing YAML frontmatter:",b),{...F,template:a.trim()}}return{...F,template:a}}async render(a,b={},c){return(await this.compile(a))(b,c)}async compile(a,b){let c;c="string"==typeof a?this.parse(a):a,b&&(c={...c,...b}),await this.resolvePartials(c.template);let d=this.handlebars.compile(c.template,{knownHelpers:this.knownHelpers,knownHelpersOnly:!0,noEscape:!0}),e=async(a,b)=>{let{input:e,...f}=await this.renderMetadata(c),g=d({...b?.input?.default||{},...a.input},{data:{metadata:{prompt:f,docs:a.docs,messages:a.messages},...a.context||{}}});return{...f,messages:function(a,b){let c={role:"user",source:""},d=[c];for(let e of G(a,C))if(e.startsWith(y)){let a=e.substring(y.length);c.source?.trim()?(c={role:a,source:""},d.push(c)):c.role=a}else if(e.startsWith("<<<dotprompt:history")){let a=(b?.messages??[]).map(a=>({...a,metadata:{...a.metadata,purpose:"history"}}));a&&d.push(...a),c={role:"model",source:""},d.push(c)}else c.source+=e;return function(a,b=[]){if(!b||a.some(a=>a.metadata?.purpose==="history"))return a;if(0===a.length)return b;let c=a.at(-1);return c?.role==="user"?[...a.slice(0,-1),...b,c]:[...a,...b]}(d.filter(a=>a.content||a.source).map(a=>{let b={role:a.role,content:a.content||G(a.source||"",D).map(H)};return a.metadata&&(b.metadata=a.metadata),b}),b?.messages)}(g,a)}};return e.prompt=c,e}async renderMetadata(a,b){let c,d;c="string"==typeof a?this.parse(a):a;let e=b?.model||c.model||this.defaultModel;return e&&this.modelConfigs[e]&&(d=this.modelConfigs[e]),this.resolveMetadata(d?{config:d}:{},c,b)}async resolveMetadata(a,...b){let c={...a};for(let a=0;a<b.length;a++){if(!b[a])continue;let d=c.config||{};(c={...c,...b[a]}).config={...d,...b[a]?.config||{}}}let{template:d,...e}=c;return c=function a(b){if(null===b||"object"!=typeof b)return b;if(Array.isArray(b))return b.map(b=>a(b));let c={};for(let[d,e]of Object.entries(b))void 0!==e&&(c[d]=a(e));return c}(c=e),c=await this.resolveTools(c),c=await this.renderPicoschema(c)}async renderPicoschema(a){if(!a.output?.schema&&!a.input?.schema)return a;let b=a=>J(a,{schemaResolver:this.wrappedSchemaResolver.bind(this)}),c={...a},d=null,e=null;a.input?.schema&&(c.input={...a.input},d=b(a.input.schema)),a.output?.schema&&(c.output={...a.output},e=b(a.output.schema));let[f,g]=await Promise.all([d??Promise.resolve(null),e??Promise.resolve(null)]);return f&&c.input&&(c.input.schema=f),g&&c.output&&(c.output.schema=g),c}async wrappedSchemaResolver(a){return this.schemas[a]?this.schemas[a]:this.schemaResolver?await this.schemaResolver(a):null}async resolveTools(a){let b={...a};if(!b.tools)return b;let c=[];return b.toolDefs=b.toolDefs||[],await Promise.all(b.tools.map(async a=>{if(this.tools[a])b.toolDefs&&b.toolDefs.push(this.tools[a]);else if(this.toolResolver){let c=await this.toolResolver(a);if(!c)throw Error(`Dotprompt: Unable to resolve tool '${a}' to a recognized tool definition.`);b.toolDefs&&b.toolDefs.push(c)}else c.push(a)})),b.tools=c,b}identifyPartials(a){let b=this.handlebars.parse(a),c=new Set;return new class extends this.handlebars.Visitor{PartialStatement(a){a&&"object"==typeof a&&"name"in a&&a.name&&"object"==typeof a.name&&"original"in a.name&&"string"==typeof a.name.original&&c.add(a.name.original)}}().accept(b),c}async resolvePartials(a){if(!this.partialResolver&&!this.store)return;let b=this.identifyPartials(a);await Promise.all(Array.from(b).map(async a=>{if(!this.handlebars.partials[a]){let b=null;if(this.partialResolver&&(b=await this.partialResolver(a)),!b&&this.store){let c=await this.store.loadPartial(a);b=c?.source}b&&(this.definePartial(a,b),await this.resolvePartials(b))}}))}registerInitialHelpers(a,b){if(a)for(let b in a)this.defineHelper(b,a[b]);if(b)for(let a in b)this.defineHelper(a,b[a])}registerInitialPartials(a){if(a)for(let b in a)this.definePartial(b,a[b])}}},76303:function(a,b,c){"use strict";var d,e=this&&this.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(b,"__esModule",{value:!0});var f=function(a){function b(b){var c=a.call(this)||this;return c._span=b,c}return e(b,a),b.prototype.span=function(){return this._span},b}(c(11108).SpanContext);b.MockContext=f,b.default=f},76368:(a,b,c)=>{"use strict";var d=c(8408);b.resolveBlockScalar=function(a,b,c){let e=b.offset,f=function({offset:a,props:b},c,d){if("block-scalar-header"!==b[0].type)return d(b[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:e}=b[0],f=e[0],g=0,h="",i=-1;for(let b=1;b<e.length;++b){let c=e[b];if(h||"-"!==c&&"+"!==c){let d=Number(c);!g&&d?g=d:-1===i&&(i=a+b)}else h=c}-1!==i&&d(i,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${e}`);let j=!1,k="",l=e.length;for(let a=1;a<b.length;++a){let e=b[a];switch(e.type){case"space":j=!0;case"newline":l+=e.source.length;break;case"comment":c&&!j&&d(e,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),l+=e.source.length,k=e.source.substring(1);break;case"error":d(e,"UNEXPECTED_TOKEN",e.message),l+=e.source.length;break;default:{let a=`Unexpected token in block scalar header: ${e.type}`;d(e,"UNEXPECTED_TOKEN",a);let b=e.source;b&&"string"==typeof b&&(l+=b.length)}}}return{mode:f,indent:g,chomp:h,comment:k,length:l}}(b,a.options.strict,c);if(!f)return{value:"",type:null,comment:"",range:[e,e,e]};let g=">"===f.mode?d.Scalar.BLOCK_FOLDED:d.Scalar.BLOCK_LITERAL,h=b.source?function(a){let b=a.split(/\n( *)/),c=b[0],d=c.match(/^( *)/),e=[d?.[1]?[d[1],c.slice(d[1].length)]:["",c]];for(let a=1;a<b.length;a+=2)e.push([b[a],b[a+1]]);return e}(b.source):[],i=h.length;for(let a=h.length-1;a>=0;--a){let b=h[a][1];if(""===b||"\r"===b)i=a;else break}if(0===i){let a="+"===f.chomp&&h.length>0?"\n".repeat(Math.max(1,h.length-1)):"",c=e+f.length;return b.source&&(c+=b.source.length),{value:a,type:g,comment:f.comment,range:[e,c,c]}}let j=b.indent+f.indent,k=b.offset+f.length,l=0;for(let b=0;b<i;++b){let[d,e]=h[b];if(""===e||"\r"===e)0===f.indent&&d.length>j&&(j=d.length);else{d.length<j&&c(k+d.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),0===f.indent&&(j=d.length),l=b,0!==j||a.atRoot||c(k,"BAD_INDENT","Block scalar values in collections must be indented");break}k+=d.length+e.length+1}for(let a=h.length-1;a>=i;--a)h[a][0].length>j&&(i=a+1);let m="",n="",o=!1;for(let a=0;a<l;++a)m+=h[a][0].slice(j)+"\n";for(let a=l;a<i;++a){let[b,e]=h[a];k+=b.length+e.length+1;let i="\r"===e[e.length-1];if(i&&(e=e.slice(0,-1)),e&&b.length<j){let a=f.indent?"explicit indentation indicator":"first line",d=`Block scalar lines must not be less indented than their ${a}`;c(k-e.length-(i?2:1),"BAD_INDENT",d),b=""}g===d.Scalar.BLOCK_LITERAL?(m+=n+b.slice(j)+e,n="\n"):b.length>j||"	"===e[0]?(" "===n?n="\n":o||"\n"!==n||(n="\n\n"),m+=n+b.slice(j)+e,n="\n",o=!0):""===e?"\n"===n?m+="\n":n="\n":(m+=n+e,n=" ",o=!1)}switch(f.chomp){case"-":break;case"+":for(let a=i;a<h.length;++a)m+="\n"+h[a][0].slice(j);"\n"!==m[m.length-1]&&(m+="\n");break;default:m+="\n"}let p=e+f.length+b.source.length;return{value:m,type:g,comment:f.comment,range:[e,p,p]}}},76426:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{arrayFormatter:()=>k}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(40979),j=c(44175);let k={name:"array",config:{contentType:"application/json",constrained:!0},handler:a=>{let b;if(a&&"array"!==a.type)throw new i.GenkitError({status:"INVALID_ARGUMENT",message:"Must supply an 'array' schema type when using the 'items' parser format."});return a&&(b=`Output should be a JSON array conforming to the following schema:
    
\`\`\`
${JSON.stringify(a)}
\`\`\`
    `),{parseChunk:a=>{let b=a.previousChunks?.length?(0,j.extractItems)(a.previousText).cursor:0,{items:c}=(0,j.extractItems)(a.accumulatedText,b);return c},parseMessage:a=>{let{items:b}=(0,j.extractItems)(a.text,0);return b},instructions:b}}}},76573:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(5896),e=c(6613),f=c(11681),g=c(87713),h=c(52048),i=c(63992),j=c(50576),k=c(92391),l=c(43204),m=c(47160),n=c(41310),o=c(74152),p=c(8742),q=c(18651),r=c(6490),s=c(39813);b.default=function(a=!1){let b=[n.default,o.default,p.default,q.default,r.default,s.default,j.default,k.default,i.default,l.default,m.default];return a?b.push(e.default,g.default):b.push(d.default,f.default),b.push(h.default),b}},76673:(a,b,c)=>{"use strict";c.d(b,{EB:()=>g,Ff:()=>h,Zs:()=>f,d1:()=>e});var d=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function e(a){return{name:a.name,version:a.version}}function f(a){return Object.keys(a).map(function(b){return g(b,a[b])})}function g(a,b){return{key:a,value:h(b)}}function h(a){var b=typeof a;return"string"===b?{stringValue:a}:"number"===b?Number.isInteger(a)?{intValue:a}:{doubleValue:a}:"boolean"===b?{boolValue:a}:a instanceof Uint8Array?{bytesValue:a}:Array.isArray(a)?{arrayValue:{values:a.map(h)}}:"object"===b&&null!=a?{kvlistValue:{values:Object.entries(a).map(function(a){var b=d(a,2);return g(b[0],b[1])})}}:{}}},76750:(a,b,c)=>{"use strict";var d=c(89220),e=c(28354).inherits,f=c(32437);function g(a,b){this.ktype=a,this.vtype=b,this.vtype.rw.width&&(this.poolByteLength=this.mapVarFixbyteLength),d.Base.call(this)}e(g,d.Base),g.prototype.poolByteLength=function(a,b){for(var c=b&&Object.keys(b),d=6,e=0;e<c.length;e++){var f=c[e],g=b[f],h=this.ktype.rw.poolByteLength(a,f);if(h.err||(d+=h.length,(h=this.vtype.rw.poolByteLength(a,g)).err))return h;d+=h.length}return a.reset(null,d)},g.prototype.mapVarFixbyteLength=function(a,b){for(var c=b&&Object.keys(b),d=6+c.length*this.vtype.rw.width,e=0;e<c.length;e++){var f=c[e],g=this.ktype.rw.poolByteLength(a,f);if(g.err)return g;d+=g.length}return a.reset(null,d)},g.prototype.poolWriteInto=function(a,b,c,e){var f=d.UInt8.poolWriteInto(a,this.ktype.typeid,c,e);if(f.err||(e=f.offset,(f=d.UInt8.poolWriteInto(a,this.vtype.typeid,c,e)).err))return f;e=f.offset;var g=b&&Object.keys(b);if((f=d.UInt32BE.poolWriteInto(a,g.length,c,e)).err)return f;e=f.offset;for(var h=0;h<g.length;h++){var i=g[h],j=b[i];if((f=this.ktype.rw.poolWriteInto(a,i,c,e)).err||(e=f.offset,(f=this.vtype.rw.poolWriteInto(a,j,c,e)).err))return f;e=f.offset}return a.reset(null,e)},g.prototype.poolReadFrom=function(a,b,c){var e=d.UInt8.poolReadFrom(a,b,c);if(e.err)return e;c=e.offset;var g=e.value;if(g!==this.ktype.typeid)return a.reset(f.MapKeyTypeIdMismatch({encoded:g,expected:this.ktype.name,expectedId:this.ktype.typeid}),c);if((e=d.UInt8.poolReadFrom(a,b,c)).err)return e;c=e.offset;var h=e.value;if(h!==this.vtype.typeid)return a.reset(f.MapValTypeIdMismatch({encoded:h,expected:this.vtype.name,expectedId:this.vtype.typeid}),c);if((e=d.UInt32BE.poolReadFrom(a,b,c)).err)return e;c=e.offset;for(var i=e.value,j={},k=0;k<i;k++){if((e=this.ktype.rw.poolReadFrom(a,b,c)).err)return e;c=e.offset;var l=e.value;if((e=this.vtype.rw.poolReadFrom(a,b,c)).err)return e;c=e.offset;var m=e.value;j[l]=m}return a.reset(null,c,j)},a.exports.MapObjectRW=g},76944:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k=(a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),l={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(l,{ValidationError:()=>u,defineJsonSchema:()=>A,defineSchema:()=>z,parseSchema:()=>y,toJsonSchema:()=>v,validateSchema:()=>x,z:()=>o.z}),a.exports=j(e({},"__esModule",{value:!0}),l);var m=k(c(173)),n=k(c(21813)),o=c(62934),p=k(c(83896)),q=c(53369);let r=new m.default;(0,n.default)(r);let s=new WeakMap,t=new WeakMap;class u extends q.GenkitError{constructor({data:a,errors:b,schema:c}){super({status:"INVALID_ARGUMENT",message:`Schema validation failed. Parse Errors:

${b.map(a=>`- ${a.path}: ${a.message}`).join("\n")}

Provided data:

${JSON.stringify(a,null,2)}

Required JSON schema:

${JSON.stringify(c,null,2)}`,detail:{errors:b,schema:c}})}}function v({jsonSchema:a,schema:b}){if(!a&&!b)return null;if(a)return a;if(s.has(b))return s.get(b);let c=(0,p.default)(b,{$refStrategy:"none",removeAdditionalStrategy:"strict"});return s.set(b,c),c}function w(a){return{path:a.instancePath.substring(1).replace(/\//g,".")||"(root)",message:a.message}}function x(a,b){let c=v(b);if(!c)return{valid:!0,schema:c};let d=t.get(c)||r.compile(c),e=d(a),f=d.errors?.map(a=>a);return{valid:e,errors:f?.map(w),schema:c}}function y(a,b){let{valid:c,errors:d,schema:e}=x(a,b);if(!c)throw new u({data:a,errors:d,schema:e});return a}function z(a,b,c){return a.registerSchema(b,{schema:c}),c}function A(a,b,c){return a.registerSchema(b,{jsonSchema:c}),c}},77009:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});class c extends Error{constructor(a){super("validation failed"),this.errors=a,this.ajv=this.validation=!0}}b.default=c},77283:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(k,{jsonlFormatter:()=>o}),a.exports=j(e({},"__esModule",{value:!0}),k);var l=c(40979),m=((a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)))(c(17191)),n=c(44175);let o={name:"jsonl",config:{contentType:"application/jsonl"},handler:a=>{let b;if(a&&("array"!==a.type||a.items?.type!=="object"))throw new l.GenkitError({status:"INVALID_ARGUMENT",message:"Must supply an 'array' schema type containing 'object' items when using the 'jsonl' parser format."});return a?.items&&(b=`Output should be JSONL format, a sequence of JSON objects (one per line) separated by a newline \`\\n\` character. Each line should be a JSON object conforming to the following schema:

\`\`\`
${JSON.stringify(a.items)}
\`\`\`
    `),{parseChunk:a=>{let b=[],c=a.accumulatedText,d=0;if(a.previousChunks?.length){let b=a.previousText.lastIndexOf("\n");-1!==b&&(d=b+1)}for(let a of c.slice(d).split("\n")){let c=a.trim();if(c.startsWith("{"))try{let a=m.default.parse(c);a&&b.push(a)}catch(a){break}}return b},parseMessage:a=>a.text.split("\n").map(a=>a.trim()).filter(a=>a.startsWith("{")).map(a=>(0,n.extractJson)(a)).filter(a=>!!a),instructions:b}}}},77538:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseCIDR=n,b.mapProxyName=function(a,b){var c;let g={target:a,extraOptions:{}};if((null!=(c=b["grpc.enable_http_proxy"])?c:1)===0||"unix"===a.scheme)return g;let h=function(){let a,b="",c="";if(process.env.grpc_proxy)c="grpc_proxy",b=process.env.grpc_proxy;else if(process.env.https_proxy)c="https_proxy",b=process.env.https_proxy;else{if(!process.env.http_proxy)return{};c="http_proxy",b=process.env.http_proxy}try{a=new k.URL(b)}catch(a){return(0,d.log)(e.LogVerbosity.ERROR,`cannot parse value of "${c}" env var`),{}}if("http:"!==a.protocol)return(0,d.log)(e.LogVerbosity.ERROR,`"${a.protocol}" scheme not supported in proxy URI`),{};let f=null;a.username&&(a.password?((0,d.log)(e.LogVerbosity.INFO,"userinfo found in proxy URI"),f=decodeURIComponent(`${a.username}:${a.password}`)):f=a.username);let g=a.hostname,h=a.port;""===h&&(h="80");let i={address:`${g}:${h}`};return f&&(i.creds=f),m("Proxy server "+i.address+" set by environment variable "+c),i}();if(!h.address)return g;let i=(0,j.splitHostPort)(a.path);if(!i)return g;if(function(a){let b,c;for(let d of(b=process.env.no_grpc_proxy,c="no_grpc_proxy",(b||(b=process.env.no_proxy,c="no_proxy"),b)?(m("No proxy server list set by environment variable "+c),b.split(",")):[])){let b=n(d);if((0,f.isIPv4)(a)&&b&&function(a,b){let c=a.ip,d=-1<<32-a.prefixLength;return(o(b)&d)==(c&d)}(b,a)||a.endsWith(d))return!0}return!1}(i.host))return m("Not using proxy for target in no_proxy list: "+(0,j.uriToString)(a)),g;let l={"grpc.http_connect_target":(0,j.uriToString)(a)};return h.creds&&(l["grpc.http_connect_creds"]=h.creds),{target:{scheme:"dns",path:h.address},extraOptions:l}},b.getProxiedConnection=function(a,b){var c;if(!("grpc.http_connect_target"in b))return Promise.resolve(null);let f=b["grpc.http_connect_target"],h=(0,j.parseUri)(f);if(null===h)return Promise.resolve(null);let k=(0,j.splitHostPort)(h.path);if(null===k)return Promise.resolve(null);let n=`${k.host}:${null!=(c=k.port)?c:l.DEFAULT_PORT}`,o={method:"CONNECT",path:n},p={Host:n};(0,i.isTcpSubchannelAddress)(a)?(o.host=a.host,o.port=a.port):o.socketPath=a.path,"grpc.http_connect_creds"in b&&(p["Proxy-Authorization"]="Basic "+Buffer.from(b["grpc.http_connect_creds"]).toString("base64")),o.headers=p;let q=(0,i.subchannelAddressToString)(a);return m("Using proxy "+q+" to connect to "+o.path),new Promise((a,b)=>{let c=g.request(o);c.once("connect",(f,g,h)=>{c.removeAllListeners(),g.removeAllListeners(),200===f.statusCode?(m("Successfully connected to "+o.path+" through proxy "+q),h.length>0&&g.unshift(h),m("Successfully established a plaintext connection to "+o.path+" through proxy "+q),a(g)):((0,d.log)(e.LogVerbosity.ERROR,"Failed to connect to "+o.path+" through proxy "+q+" with status "+f.statusCode),b())}),c.once("error",a=>{c.removeAllListeners(),(0,d.log)(e.LogVerbosity.ERROR,"Failed to connect to proxy "+q+" with error "+a.message),b()}),c.end()})};let d=c(38702),e=c(56458),f=c(91645),g=c(81630),h=c(38702),i=c(41835),j=c(9413),k=c(79551),l=c(67463);function m(a){h.trace(e.LogVerbosity.DEBUG,"proxy",a)}function n(a){let b=a.split("/");if(2!==b.length)return null;let c=parseInt(b[1],10);return!(0,f.isIPv4)(b[0])||Number.isNaN(c)||c<0||c>32?null:{ip:o(b[0]),prefixLength:c}}function o(a){return a.split(".").reduce((a,b)=>(a<<8)+parseInt(b,10),0)}},77750:(a,b,c)=>{"use strict";var d=c(8408);let e={identify:a=>"boolean"==typeof a,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:a=>new d.Scalar("t"===a[0]||"T"===a[0]),stringify:({source:a,value:b},c)=>a&&e.test.test(a)&&b===("t"===a[0]||"T"===a[0])?a:b?c.options.trueStr:c.options.falseStr};b.boolTag=e},77848:(a,b,c)=>{"use strict";var d=c(82740),e=c(89220),f=c(82762),g=c(17456),h=c(94639);a.exports.TYPE=d;var i=Object.create(null);i[d.BOOL]=e.Int8,i[d.BYTE]=e.Int8,i[d.DOUBLE]=e.DoubleBE,i[d.I16]=e.Int16BE,i[d.I32]=e.Int32BE,i[d.I64]=e.FixedWidth(8),i[d.STRING]=e.VariableBuffer(e.Int32BE),i[d.MAP]=f.TMapRW({ttypes:i}),i[d.LIST]=g.TListRW({ttypes:i}),i[d.SET]=g.TListRW({ttypes:i}),i[d.STRUCT]=h.TStructRW({ttypes:i}),a.exports.TPair=f.TPair,a.exports.TMap=f.TMap,a.exports.TMapRW=i[d.MAP],a.exports.TList=g.TList,a.exports.TListRW=i[d.LIST],a.exports.TField=h.TField,a.exports.TStruct=h.TStruct,a.exports.TStructRW=i[d.STRUCT],a.exports.BinaryRW=c(60583).BinaryRW,a.exports.ThriftBinary=c(60583).ThriftBinary,a.exports.BooleanRW=c(95912).BooleanRW,a.exports.ThriftBoolean=c(95912).ThriftBoolean,a.exports.ByteRW=c(75074).ByteRW,a.exports.ThriftByte=c(75074).ThriftByte,a.exports.DoubleRW=c(27151).DoubleRW,a.exports.ThriftDouble=c(27151).ThriftDouble,a.exports.I8RW=c(69443).I8RW,a.exports.ThriftI8=c(69443).ThriftI8,a.exports.I16RW=c(58948).I16RW,a.exports.ThriftI16=c(58948).ThriftI16,a.exports.I32RW=c(91790).I32RW,a.exports.ThriftI32=c(91790).ThriftI32,a.exports.I64RW=c(39547).I64RW,a.exports.ThriftI64=c(39547).ThriftI64,a.exports.ListRW=c(88900).ListRW,a.exports.ThriftList=c(88900).ThriftList,a.exports.ThriftSet=c(88180).ThriftSet,a.exports.MapObjectRW=c(76750).MapObjectRW,a.exports.MapEntriesRW=c(85).MapEntriesRW,a.exports.StringRW=c(85371).StringRW,a.exports.ThriftString=c(85371).ThriftString,a.exports.VoidRW=c(12029).VoidRW,a.exports.ThriftVoid=c(12029).ThriftVoid,a.exports.Thrift=c(7769).Thrift},77924:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty;a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),{})},77949:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseSetDef=void 0;let d=c(50130),e=c(31958);b.parseSetDef=function(a,b){let c={type:"array",uniqueItems:!0,items:(0,e.parseDef)(a.valueType._def,{...b,currentPath:[...b.currentPath,"items"]})};return a.minSize&&(0,d.setResponseValueAndErrors)(c,"minItems",a.minSize.value,a.minSize.message,b),a.maxSize&&(0,d.setResponseValueAndErrors)(c,"maxItems",a.maxSize.value,a.maxSize.message,b),c}},78087:(a,b,c)=>{"use strict";var d=c(12412),e=c(89220),f=c(82740),g=c(32437),h=c(96457).Z,i=c(24024),j=c(28354).inherits,k=e.LengthResult;function l(){this.namesToValues=Object.create(null),this.valuesToNames=Object.create(null),this.namesToNames=Object.create(null),this.namesToAnnotations=Object.create(null),this.surface=this.namesToNames,this.annotations=null,this.rw=new m(this),this.linked=!1}function m(a){this.model=a,e.Base.call(this)}l.prototype.typeid=f.I32,l.prototype.models="type",l.prototype.compile=function(a,b){this.name=a.id.name;for(var c=0,e=a.definitions,f=0;f<e.length;f++){var g=e[f],j=g.id.name,k=g.value;k&&void 0!==k.value&&(c=k.value),d(void 0===this.namesToValues[j],"duplicate name in enum "+this.name+" at "+a.id.line+":"+a.id.column),d(c<=0x7fffffff,"overflow in value in enum "+this.name+" at "+a.id.line+":"+a.id.column);var l=this.name+"."+j,m=new h(new i.Const(new i.Identifier(j),null,new i.Literal(j)));b.consts[l]=m,b.define(l,g.id,m),this.namesToValues[j]=c,this.namesToNames[j]=j,this.valuesToNames[c]=j,this.namesToAnnotations[j]=g.annotations,c++}this.annotations=a.annotations},l.prototype.link=function(a){return this.linked||(this.linked=!0,a.enums[this.name]=this.namesToNames,/^[a-z]/.test(this.name)||(a[this.name]=this.surface)),this},j(m,e.Base),m.prototype.lengthResult=new k(null,e.Int32BE.width),m.prototype.poolByteLength=function(a){return a.reset(null,e.Int32BE.width)},m.prototype.poolWriteInto=function(a,b,c,d){if("string"!=typeof b)return a.reset(g.InvalidEnumerationTypeError({enumName:this.model.name,name:b,nameType:typeof b}),null);var f=this.model.namesToValues[b];return void 0===f?a.reset(g.InvalidEnumerationNameError({enumName:this.model.name,name:b}),null):e.Int32BE.poolWriteInto(a,f,c,d)},m.prototype.poolReadFrom=function(a,b,c){if((d=e.Int32BE.poolReadFrom(a,b,c)).err)return d;c=d.offset;var d,f=d.value,h=this.model.valuesToNames[f];return h?a.reset(null,c,h):a.reset(g.InvalidEnumerationValueError({enumName:this.model.name,value:f}),c,null)},a.exports.$=l},78207:(a,b,c)=>{"use strict";var d=c(8408);let e={identify:a=>null==a,createNode:()=>new d.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new d.Scalar(null),stringify:({source:a},b)=>"string"==typeof a&&e.test.test(a)?a:b.options.nullStr};b.nullTag=e},78404:(a,b)=>{"use strict";var c,d;Object.defineProperty(b,"__esModule",{value:!0}),b.getParsedType=b.ZodParsedType=b.objectUtil=b.util=void 0,function(a){a.assertEqual=a=>{},a.assertIs=function(a){},a.assertNever=function(a){throw Error()},a.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},a.getValidEnumValues=b=>{let c=a.objectKeys(b).filter(a=>"number"!=typeof b[b[a]]),d={};for(let a of c)d[a]=b[a];return a.objectValues(d)},a.objectValues=b=>a.objectKeys(b).map(function(a){return b[a]}),a.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},a.find=(a,b)=>{for(let c of a)if(b(c))return c},a.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,a.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},a.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b}(c||(b.util=c={})),(d||(b.objectUtil=d={})).mergeShapes=(a,b)=>({...a,...b}),b.ZodParsedType=c.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),b.getParsedType=a=>{switch(typeof a){case"undefined":return b.ZodParsedType.undefined;case"string":return b.ZodParsedType.string;case"number":return Number.isNaN(a)?b.ZodParsedType.nan:b.ZodParsedType.number;case"boolean":return b.ZodParsedType.boolean;case"function":return b.ZodParsedType.function;case"bigint":return b.ZodParsedType.bigint;case"symbol":return b.ZodParsedType.symbol;case"object":if(Array.isArray(a))return b.ZodParsedType.array;if(null===a)return b.ZodParsedType.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return b.ZodParsedType.promise;if("undefined"!=typeof Map&&a instanceof Map)return b.ZodParsedType.map;if("undefined"!=typeof Set&&a instanceof Set)return b.ZodParsedType.set;if("undefined"!=typeof Date&&a instanceof Date)return b.ZodParsedType.date;return b.ZodParsedType.object;default:return b.ZodParsedType.unknown}}},78592:(a,b,c)=>{"use strict";var d=c(42218),e=c(83255),f=c(94214);b.stringifyDocument=function(a,b){let c=[],g=!0===b.directives;if(!1!==b.directives&&a.directives){let b=a.directives.toString(a);b?(c.push(b),g=!0):a.directives.docStart&&(g=!0)}g&&c.push("---");let h=e.createStringifyContext(a,b),{commentString:i}=h.options;if(a.commentBefore){1!==c.length&&c.unshift("");let b=i(a.commentBefore);c.unshift(f.indentComment(b,""))}let j=!1,k=null;if(a.contents){if(d.isNode(a.contents)){if(a.contents.spaceBefore&&g&&c.push(""),a.contents.commentBefore){let b=i(a.contents.commentBefore);c.push(f.indentComment(b,""))}h.forceBlockIndent=!!a.comment,k=a.contents.comment}let b=k?void 0:()=>j=!0,l=e.stringify(a.contents,h,()=>k=null,b);k&&(l+=f.lineComment(l,"",i(k))),("|"===l[0]||">"===l[0])&&"---"===c[c.length-1]?c[c.length-1]=`--- ${l}`:c.push(l)}else c.push(e.stringify(a.contents,h));if(a.directives?.docEnd)if(a.comment){let b=i(a.comment);b.includes("\n")?(c.push("..."),c.push(f.indentComment(b,""))):c.push(`... ${b}`)}else c.push("...");else{let b=a.comment;b&&j&&(b=b.replace(/^\n+/,"")),b&&((!j||k)&&""!==c[c.length-1]&&c.push(""),c.push(f.indentComment(i(b),"")))}return c.join("\n")+"\n"}},78871:(a,b,c)=>{"use strict";let d=c(50627),{MAX_LENGTH:e,MAX_SAFE_INTEGER:f}=c(45053),{safeRe:g,t:h}=c(62710),i=c(47586),{compareIdentifiers:j}=c(59218);class k{constructor(a,b){if(b=i(b),a instanceof k)if(!!b.loose===a.loose&&!!b.includePrerelease===a.includePrerelease)return a;else a=a.version;else if("string"!=typeof a)throw TypeError(`Invalid version. Must be a string. Got type "${typeof a}".`);if(a.length>e)throw TypeError(`version is longer than ${e} characters`);d("SemVer",a,b),this.options=b,this.loose=!!b.loose,this.includePrerelease=!!b.includePrerelease;let c=a.trim().match(b.loose?g[h.LOOSE]:g[h.FULL]);if(!c)throw TypeError(`Invalid Version: ${a}`);if(this.raw=a,this.major=+c[1],this.minor=+c[2],this.patch=+c[3],this.major>f||this.major<0)throw TypeError("Invalid major version");if(this.minor>f||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>f||this.patch<0)throw TypeError("Invalid patch version");c[4]?this.prerelease=c[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){let b=+a;if(b>=0&&b<f)return b}return a}):this.prerelease=[],this.build=c[5]?c[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(a){if(d("SemVer.compare",this.version,this.options,a),!(a instanceof k)){if("string"==typeof a&&a===this.version)return 0;a=new k(a,this.options)}return a.version===this.version?0:this.compareMain(a)||this.comparePre(a)}compareMain(a){return(a instanceof k||(a=new k(a,this.options)),this.major<a.major)?-1:this.major>a.major?1:this.minor<a.minor?-1:this.minor>a.minor?1:this.patch<a.patch?-1:+(this.patch>a.patch)}comparePre(a){if(a instanceof k||(a=new k(a,this.options)),this.prerelease.length&&!a.prerelease.length)return -1;if(!this.prerelease.length&&a.prerelease.length)return 1;if(!this.prerelease.length&&!a.prerelease.length)return 0;let b=0;do{let c=this.prerelease[b],e=a.prerelease[b];if(d("prerelease compare",b,c,e),void 0===c&&void 0===e)return 0;if(void 0===e)return 1;if(void 0===c)return -1;else if(c===e)continue;else return j(c,e)}while(++b)}compareBuild(a){a instanceof k||(a=new k(a,this.options));let b=0;do{let c=this.build[b],e=a.build[b];if(d("build compare",b,c,e),void 0===c&&void 0===e)return 0;if(void 0===e)return 1;if(void 0===c)return -1;else if(c===e)continue;else return j(c,e)}while(++b)}inc(a,b,c){if(a.startsWith("pre")){if(!b&&!1===c)throw Error("invalid increment argument: identifier is empty");if(b){let a=`-${b}`.match(this.options.loose?g[h.PRERELEASELOOSE]:g[h.PRERELEASE]);if(!a||a[1]!==b)throw Error(`invalid identifier: ${b}`)}}switch(a){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",b,c);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",b,c);break;case"prepatch":this.prerelease.length=0,this.inc("patch",b,c),this.inc("pre",b,c);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",b,c),this.inc("pre",b,c);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let a=+!!Number(c);if(0===this.prerelease.length)this.prerelease=[a];else{let d=this.prerelease.length;for(;--d>=0;)"number"==typeof this.prerelease[d]&&(this.prerelease[d]++,d=-2);if(-1===d){if(b===this.prerelease.join(".")&&!1===c)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(a)}}if(b){let d=[b,a];!1===c&&(d=[b]),0===j(this.prerelease[0],b)?isNaN(this.prerelease[1])&&(this.prerelease=d):this.prerelease=d}break}default:throw Error(`invalid increment argument: ${a}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}a.exports=k},78951:(a,b)=>{"use strict";b.__esModule=!0,b.default=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},a.exports=b.default},79159:(a,b)=>{"use strict";class c{constructor(){this.lineStarts=[],this.addNewLine=a=>this.lineStarts.push(a),this.linePos=a=>{let b=0,c=this.lineStarts.length;for(;b<c;){let d=b+c>>1;this.lineStarts[d]<a?b=d+1:c=d}if(this.lineStarts[b]===a)return{line:b+1,col:1};if(0===b)return{line:0,col:a};let d=this.lineStarts[b-1];return{line:b,col:a-d+1}}}}b.LineCounter=c},79222:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.boolOrEmptySchema=b.topBoolOrEmptySchema=void 0;let d=c(89843),e=c(38904),f=c(82746),g={message:"boolean schema is false"};function h(a,b){let{gen:c,data:e}=a;(0,d.reportError)({gen:c,keyword:"false schema",data:e,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a},g,void 0,b)}b.topBoolOrEmptySchema=function(a){let{gen:b,schema:c,validateName:d}=a;!1===c?h(a,!1):"object"==typeof c&&!0===c.$async?b.return(f.default.data):(b.assign((0,e._)`${d}.errors`,null),b.return(!0))},b.boolOrEmptySchema=function(a,b){let{gen:c,schema:d}=a;!1===d?(c.var(b,!1),h(a)):c.var(b,!0)}},79592:(a,b,c)=>{"use strict";let d;c.d(b,{qt:()=>ao,tm:()=>a6,Sj:()=>o,Ml:()=>P,n:()=>T,Lr:()=>J,WF:()=>K,eN:()=>ap,hw:()=>am,aP:()=>L,Xi:()=>al,jv:()=>X,k1:()=>ai,Vb:()=>af,kY:()=>f,CZ:()=>ab,Jv:()=>Y,Ih:()=>ac,DN:()=>ad,Ut:()=>_,Tq:()=>an,WM:()=>ag,iS:()=>R,PQ:()=>O,l1:()=>ak,rS:()=>I,bv:()=>U,Ii:()=>aj,_c:()=>aq,$i:()=>ah,EV:()=>ar,b8:()=>$,lK:()=>o,Kz:()=>aa,ND:()=>H,K5:()=>M,BG:()=>ai,y0:()=>Z,aR:()=>o,_Z:()=>N,fZ:()=>V,_:()=>Q,a0:()=>S,bz:()=>aF,YO:()=>aJ,o:()=>az,zM:()=>aA,au:()=>a5,Ie:()=>at,p6:()=>aB,fm:()=>G,gM:()=>aN,QZ:()=>aZ,k5:()=>aW,fH:()=>aT,Nl:()=>av,E$:()=>aO,fn:()=>au,RZ:()=>aU,eu:()=>aV,Tj:()=>aR,oi:()=>ay,fc:()=>aX,Zm:()=>aH,ch:()=>aE,me:()=>a_,ai:()=>ax,Ik:()=>aK,yN:()=>a4,p7:()=>a3,lq:()=>a$,Di:()=>a2,Tk:()=>a1,vk:()=>a0,iv:()=>aY,g1:()=>aQ,hZ:()=>aS,re:()=>aL,Yj:()=>aw,HR:()=>aC,Gu:()=>aZ,PV:()=>aP,Vx:()=>aD,KC:()=>aM,L5:()=>aG,rI:()=>aI});var e,f,g=c(16800),h=c(95026),i=c(22858);!function(a){a.errToObj=a=>"string"==typeof a?{message:a}:a||{},a.toString=a=>"string"==typeof a?a:a?.message}(e||(e={}));var j=c(16578),k=c(70149);class l{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let m=(a,b)=>{if((0,j.fn)(b))return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new g.G(a.common.issues);return this._error=b,this._error}}};function n(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class o{get description(){return this._def.description}_getType(a){return(0,k.CR)(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:(0,k.CR)(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new j.MY,ctx:{common:a.parent.common,data:a.data,parsedType:(0,k.CR)(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if((0,j.xP)(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,k.CR)(a)},d=this._parseSync({data:a,path:c.path,parent:c});return m(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,k.CR)(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return(0,j.fn)(c)?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>(0,j.fn)(a)?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,k.CR)(a)},d=this._parse({data:a,path:c.path,parent:c});return m(c,await ((0,j.xP)(d)?d:Promise.resolve(d)))}refine(a,b){return this._refinement((c,d)=>{let e=a(c),f=()=>d.addIssue({code:g.eq.custom,..."string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(c):b});return"undefined"!=typeof Promise&&e instanceof Promise?e.then(a=>!!a||(f(),!1)):!!e||(f(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new ai({schema:this,typeName:f.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return aj.create(this,this._def)}nullable(){return ak.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return T.create(this)}promise(){return ah.create(this,this._def)}or(a){return V.create([this,a],this._def)}and(a){return Y.create(this,a,this._def)}transform(a){return new ai({...n(this._def),schema:this,typeName:f.ZodEffects,effect:{type:"transform",transform:a}})}default(a){return new al({...n(this._def),innerType:this,defaultValue:"function"==typeof a?a:()=>a,typeName:f.ZodDefault})}brand(){return new ap({typeName:f.ZodBranded,type:this,...n(this._def)})}catch(a){return new am({...n(this._def),innerType:this,catchValue:"function"==typeof a?a:()=>a,typeName:f.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return aq.create(this,a)}readonly(){return ar.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let p=/^c[^\s-]{8,}$/i,q=/^[0-9a-z]+$/,r=/^[0-9A-HJKMNP-TV-Z]{26}$/i,s=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,t=/^[a-z0-9_-]{21}$/i,u=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,v=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,w=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,x=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,y=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,z=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,A=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,B=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,C=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,D="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",E=RegExp(`^${D}$`);function F(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}function G(a){let b=`${D}T${F(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)}class H extends o{_parse(a){var b,c,e,f;let h;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==k.Zp.string){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.string,received:b.parsedType}),j.uY}let i=new j.MY;for(let l of this._def.checks)if("min"===l.kind)a.data.length<l.value&&(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:g.eq.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if("max"===l.kind)a.data.length>l.value&&(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:g.eq.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if("length"===l.kind){let b=a.data.length>l.value,c=a.data.length<l.value;(b||c)&&(h=this._getOrReturnCtx(a,h),b?(0,j.zn)(h,{code:g.eq.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):c&&(0,j.zn)(h,{code:g.eq.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if("email"===l.kind)w.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"email",code:g.eq.invalid_string,message:l.message}),i.dirty());else if("emoji"===l.kind)d||(d=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),d.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"emoji",code:g.eq.invalid_string,message:l.message}),i.dirty());else if("uuid"===l.kind)s.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"uuid",code:g.eq.invalid_string,message:l.message}),i.dirty());else if("nanoid"===l.kind)t.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"nanoid",code:g.eq.invalid_string,message:l.message}),i.dirty());else if("cuid"===l.kind)p.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"cuid",code:g.eq.invalid_string,message:l.message}),i.dirty());else if("cuid2"===l.kind)q.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"cuid2",code:g.eq.invalid_string,message:l.message}),i.dirty());else if("ulid"===l.kind)r.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"ulid",code:g.eq.invalid_string,message:l.message}),i.dirty());else if("url"===l.kind)try{new URL(a.data)}catch{h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"url",code:g.eq.invalid_string,message:l.message}),i.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"regex",code:g.eq.invalid_string,message:l.message}),i.dirty())):"trim"===l.kind?a.data=a.data.trim():"includes"===l.kind?a.data.includes(l.value,l.position)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:g.eq.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):"toLowerCase"===l.kind?a.data=a.data.toLowerCase():"toUpperCase"===l.kind?a.data=a.data.toUpperCase():"startsWith"===l.kind?a.data.startsWith(l.value)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:g.eq.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):"endsWith"===l.kind?a.data.endsWith(l.value)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:g.eq.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):"datetime"===l.kind?G(l).test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:g.eq.invalid_string,validation:"datetime",message:l.message}),i.dirty()):"date"===l.kind?E.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:g.eq.invalid_string,validation:"date",message:l.message}),i.dirty()):"time"===l.kind?RegExp(`^${F(l)}$`).test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:g.eq.invalid_string,validation:"time",message:l.message}),i.dirty()):"duration"===l.kind?v.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"duration",code:g.eq.invalid_string,message:l.message}),i.dirty()):"ip"===l.kind?(b=a.data,!(("v4"===(c=l.version)||!c)&&x.test(b)||("v6"===c||!c)&&z.test(b))&&1&&(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"ip",code:g.eq.invalid_string,message:l.message}),i.dirty())):"jwt"===l.kind?!function(a,b){if(!u.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}(a.data,l.alg)&&(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"jwt",code:g.eq.invalid_string,message:l.message}),i.dirty()):"cidr"===l.kind?(e=a.data,!(("v4"===(f=l.version)||!f)&&y.test(e)||("v6"===f||!f)&&A.test(e))&&1&&(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"cidr",code:g.eq.invalid_string,message:l.message}),i.dirty())):"base64"===l.kind?B.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"base64",code:g.eq.invalid_string,message:l.message}),i.dirty()):"base64url"===l.kind?C.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"base64url",code:g.eq.invalid_string,message:l.message}),i.dirty()):k.ZS.assertNever(l);return{status:i.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:g.eq.invalid_string,...e.errToObj(c)})}_addCheck(a){return new H({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...e.errToObj(a)})}url(a){return this._addCheck({kind:"url",...e.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...e.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...e.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...e.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...e.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...e.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...e.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...e.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...e.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...e.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...e.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...e.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...e.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...e.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...e.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...e.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...e.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...e.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...e.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...e.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...e.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...e.errToObj(b)})}nonempty(a){return this.min(1,e.errToObj(a))}trim(){return new H({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new H({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new H({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}H.create=a=>new H({checks:[],typeName:f.ZodString,coerce:a?.coerce??!1,...n(a)});class I extends o{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==k.Zp.number){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.number,received:b.parsedType}),j.uY}let c=new j.MY;for(let d of this._def.checks)"int"===d.kind?k.ZS.isInteger(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==function(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}(a.data,d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.not_finite,message:d.message}),c.dirty()):k.ZS.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,e.toString(b))}gt(a,b){return this.setLimit("min",a,!1,e.toString(b))}lte(a,b){return this.setLimit("max",a,!0,e.toString(b))}lt(a,b){return this.setLimit("max",a,!1,e.toString(b))}setLimit(a,b,c,d){return new I({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:e.toString(d)}]})}_addCheck(a){return new I({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:e.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:e.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:e.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:e.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:e.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:e.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:e.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:e.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:e.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&k.ZS.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}I.create=a=>new I({checks:[],typeName:f.ZodNumber,coerce:a?.coerce||!1,...n(a)});class J extends o{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==k.Zp.bigint)return this._getInvalidInput(a);let c=new j.MY;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):k.ZS.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.bigint,received:b.parsedType}),j.uY}gte(a,b){return this.setLimit("min",a,!0,e.toString(b))}gt(a,b){return this.setLimit("min",a,!1,e.toString(b))}lte(a,b){return this.setLimit("max",a,!0,e.toString(b))}lt(a,b){return this.setLimit("max",a,!1,e.toString(b))}setLimit(a,b,c,d){return new J({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:e.toString(d)}]})}_addCheck(a){return new J({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:e.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:e.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:e.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:e.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:e.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}J.create=a=>new J({checks:[],typeName:f.ZodBigInt,coerce:a?.coerce??!1,...n(a)});class K extends o{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==k.Zp.boolean){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.boolean,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}K.create=a=>new K({typeName:f.ZodBoolean,coerce:a?.coerce||!1,...n(a)});class L extends o{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==k.Zp.date){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.date,received:b.parsedType}),j.uY}if(Number.isNaN(a.data.getTime())){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_date}),j.uY}let c=new j.MY;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:g.eq.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):k.ZS.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new L({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:e.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:e.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}L.create=a=>new L({checks:[],coerce:a?.coerce||!1,typeName:f.ZodDate,...n(a)});class M extends o{_parse(a){if(this._getType(a)!==k.Zp.symbol){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.symbol,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}M.create=a=>new M({typeName:f.ZodSymbol,...n(a)});class N extends o{_parse(a){if(this._getType(a)!==k.Zp.undefined){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.undefined,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}N.create=a=>new N({typeName:f.ZodUndefined,...n(a)});class O extends o{_parse(a){if(this._getType(a)!==k.Zp.null){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.null,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}O.create=a=>new O({typeName:f.ZodNull,...n(a)});class P extends o{constructor(){super(...arguments),this._any=!0}_parse(a){return(0,j.OK)(a.data)}}P.create=a=>new P({typeName:f.ZodAny,...n(a)});class Q extends o{constructor(){super(...arguments),this._unknown=!0}_parse(a){return(0,j.OK)(a.data)}}Q.create=a=>new Q({typeName:f.ZodUnknown,...n(a)});class R extends o{_parse(a){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.never,received:b.parsedType}),j.uY}}R.create=a=>new R({typeName:f.ZodNever,...n(a)});class S extends o{_parse(a){if(this._getType(a)!==k.Zp.undefined){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.void,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}S.create=a=>new S({typeName:f.ZodVoid,...n(a)});class T extends o{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==k.Zp.array)return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.array,received:b.parsedType}),j.uY;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&((0,j.zn)(b,{code:a?g.eq.too_big:g.eq.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&((0,j.zn)(b,{code:g.eq.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&((0,j.zn)(b,{code:g.eq.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new l(b,a,b.path,c)))).then(a=>j.MY.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new l(b,a,b.path,c)));return j.MY.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new T({...this._def,minLength:{value:a,message:e.toString(b)}})}max(a,b){return new T({...this._def,maxLength:{value:a,message:e.toString(b)}})}length(a,b){return new T({...this._def,exactLength:{value:a,message:e.toString(b)}})}nonempty(a){return this.min(1,a)}}T.create=(a,b)=>new T({type:a,minLength:null,maxLength:null,exactLength:null,typeName:f.ZodArray,...n(b)});class U extends o{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=k.ZS.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==k.Zp.object){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.object,received:b.parsedType}),j.uY}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),f=[];if(!(this._def.catchall instanceof R&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||f.push(a);let h=[];for(let a of e){let b=d[a],e=c.data[a];h.push({key:{status:"valid",value:a},value:b._parse(new l(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof R){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of f)h.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)f.length>0&&((0,j.zn)(c,{code:g.eq.unrecognized_keys,keys:f}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of f){let d=c.data[b];h.push({key:{status:"valid",value:b},value:a._parse(new l(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of h){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>j.MY.mergeObjectSync(b,a)):j.MY.mergeObjectSync(b,h)}get shape(){return this._def.shape()}strict(a){return e.errToObj,new U({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:e.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new U({...this._def,unknownKeys:"strip"})}passthrough(){return new U({...this._def,unknownKeys:"passthrough"})}extend(a){return new U({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new U({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:f.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new U({...this._def,catchall:a})}pick(a){let b={};for(let c of k.ZS.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new U({...this._def,shape:()=>b})}omit(a){let b={};for(let c of k.ZS.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new U({...this._def,shape:()=>b})}deepPartial(){return function a(b){if(b instanceof U){let c={};for(let d in b.shape){let e=b.shape[d];c[d]=aj.create(a(e))}return new U({...b._def,shape:()=>c})}if(b instanceof T)return new T({...b._def,type:a(b.element)});if(b instanceof aj)return aj.create(a(b.unwrap()));if(b instanceof ak)return ak.create(a(b.unwrap()));if(b instanceof Z)return Z.create(b.items.map(b=>a(b)));else return b}(this)}partial(a){let b={};for(let c of k.ZS.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new U({...this._def,shape:()=>b})}required(a){let b={};for(let c of k.ZS.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof aj;)a=a._def.innerType;b[c]=a}return new U({...this._def,shape:()=>b})}keyof(){return ae(k.ZS.objectKeys(this.shape))}}U.create=(a,b)=>new U({shape:()=>a,unknownKeys:"strip",catchall:R.create(),typeName:f.ZodObject,...n(b)}),U.strictCreate=(a,b)=>new U({shape:()=>a,unknownKeys:"strict",catchall:R.create(),typeName:f.ZodObject,...n(b)}),U.lazycreate=(a,b)=>new U({shape:a,unknownKeys:"strip",catchall:R.create(),typeName:f.ZodObject,...n(b)});class V extends o{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(function(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new g.G(a.ctx.common.issues));return(0,j.zn)(b,{code:g.eq.invalid_union,unionErrors:c}),j.uY});{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new g.G(a));return(0,j.zn)(b,{code:g.eq.invalid_union,unionErrors:e}),j.uY}}get options(){return this._def.options}}V.create=(a,b)=>new V({options:a,typeName:f.ZodUnion,...n(b)});let W=a=>{if(a instanceof ac)return W(a.schema);if(a instanceof ai)return W(a.innerType());if(a instanceof ad)return[a.value];if(a instanceof af)return a.options;if(a instanceof ag)return k.ZS.objectValues(a.enum);else if(a instanceof al)return W(a._def.innerType);else if(a instanceof N)return[void 0];else if(a instanceof O)return[null];else if(a instanceof aj)return[void 0,...W(a.unwrap())];else if(a instanceof ak)return[null,...W(a.unwrap())];else if(a instanceof ap)return W(a.unwrap());else if(a instanceof ar)return W(a.unwrap());else if(a instanceof am)return W(a._def.innerType);else return[]};class X extends o{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==k.Zp.object)return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.object,received:b.parsedType}),j.uY;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):((0,j.zn)(b,{code:g.eq.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),j.uY)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let d=new Map;for(let c of b){let b=W(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let e of b){if(d.has(e))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(e)}`);d.set(e,c)}}return new X({typeName:f.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:d,...n(c)})}}class Y extends o{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if((0,j.G4)(a)||(0,j.G4)(d))return j.uY;let e=function a(b,c){let d=(0,k.CR)(b),e=(0,k.CR)(c);if(b===c)return{valid:!0,data:b};if(d===k.Zp.object&&e===k.Zp.object){let d=k.ZS.objectKeys(c),e=k.ZS.objectKeys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1};f[d]=e.data}return{valid:!0,data:f}}if(d===k.Zp.array&&e===k.Zp.array){if(b.length!==c.length)return{valid:!1};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1};d.push(f.data)}return{valid:!0,data:d}}if(d===k.Zp.date&&e===k.Zp.date&&+b==+c)return{valid:!0,data:b};return{valid:!1}}(a.value,d.value);return e.valid?(((0,j.DM)(a)||(0,j.DM)(d))&&b.dirty(),{status:b.value,value:e.data}):((0,j.zn)(c,{code:g.eq.invalid_intersection_types}),j.uY)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}Y.create=(a,b,c)=>new Y({left:a,right:b,typeName:f.ZodIntersection,...n(c)});class Z extends o{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==k.Zp.array)return(0,j.zn)(c,{code:g.eq.invalid_type,expected:k.Zp.array,received:c.parsedType}),j.uY;if(c.data.length<this._def.items.length)return(0,j.zn)(c,{code:g.eq.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),j.uY;!this._def.rest&&c.data.length>this._def.items.length&&((0,j.zn)(c,{code:g.eq.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new l(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>j.MY.mergeArray(b,a)):j.MY.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new Z({...this._def,rest:a})}}Z.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Z({items:a,typeName:f.ZodTuple,rest:null,...n(b)})};class $ extends o{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==k.Zp.object)return(0,j.zn)(c,{code:g.eq.invalid_type,expected:k.Zp.object,received:c.parsedType}),j.uY;let d=[],e=this._def.keyType,f=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new l(c,a,c.path,a)),value:f._parse(new l(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?j.MY.mergeObjectAsync(b,d):j.MY.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new $(b instanceof o?{keyType:a,valueType:b,typeName:f.ZodRecord,...n(c)}:{keyType:H.create(),valueType:a,typeName:f.ZodRecord,...n(b)})}}class _ extends o{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==k.Zp.map)return(0,j.zn)(c,{code:g.eq.invalid_type,expected:k.Zp.map,received:c.parsedType}),j.uY;let d=this._def.keyType,e=this._def.valueType,f=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new l(c,a,c.path,[f,"key"])),value:e._parse(new l(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of f){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return j.uY;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of f){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return j.uY;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}_.create=(a,b,c)=>new _({valueType:b,keyType:a,typeName:f.ZodMap,...n(c)});class aa extends o{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==k.Zp.set)return(0,j.zn)(c,{code:g.eq.invalid_type,expected:k.Zp.set,received:c.parsedType}),j.uY;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&((0,j.zn)(c,{code:g.eq.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&((0,j.zn)(c,{code:g.eq.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function f(a){let c=new Set;for(let d of a){if("aborted"===d.status)return j.uY;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let h=[...c.data.values()].map((a,b)=>e._parse(new l(c,a,c.path,b)));return c.common.async?Promise.all(h).then(a=>f(a)):f(h)}min(a,b){return new aa({...this._def,minSize:{value:a,message:e.toString(b)}})}max(a,b){return new aa({...this._def,maxSize:{value:a,message:e.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}aa.create=(a,b)=>new aa({valueType:a,minSize:null,maxSize:null,typeName:f.ZodSet,...n(b)});class ab extends o{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==k.Zp.function)return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.function,received:b.parsedType}),j.uY;function c(a,c){return(0,j.y7)({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,(0,h.$W)(),i.A].filter(a=>!!a),issueData:{code:g.eq.invalid_arguments,argumentsError:c}})}function d(a,c){return(0,j.y7)({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,(0,h.$W)(),i.A].filter(a=>!!a),issueData:{code:g.eq.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},f=b.data;if(this._def.returns instanceof ah){let a=this;return(0,j.OK)(async function(...b){let h=new g.G([]),i=await a._def.args.parseAsync(b,e).catch(a=>{throw h.addIssue(c(b,a)),h}),j=await Reflect.apply(f,this,i);return await a._def.returns._def.type.parseAsync(j,e).catch(a=>{throw h.addIssue(d(j,a)),h})})}{let a=this;return(0,j.OK)(function(...b){let h=a._def.args.safeParse(b,e);if(!h.success)throw new g.G([c(b,h.error)]);let i=Reflect.apply(f,this,h.data),j=a._def.returns.safeParse(i,e);if(!j.success)throw new g.G([d(i,j.error)]);return j.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new ab({...this._def,args:Z.create(a).rest(Q.create())})}returns(a){return new ab({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new ab({args:a||Z.create([]).rest(Q.create()),returns:b||Q.create(),typeName:f.ZodFunction,...n(c)})}}class ac extends o{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}ac.create=(a,b)=>new ac({getter:a,typeName:f.ZodLazy,...n(b)});class ad extends o{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{received:b.data,code:g.eq.invalid_literal,expected:this._def.value}),j.uY}return{status:"valid",value:a.data}}get value(){return this._def.value}}function ae(a,b){return new af({values:a,typeName:f.ZodEnum,...n(b)})}ad.create=(a,b)=>new ad({value:a,typeName:f.ZodLiteral,...n(b)});class af extends o{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return(0,j.zn)(b,{expected:k.ZS.joinValues(c),received:b.parsedType,code:g.eq.invalid_type}),j.uY}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return(0,j.zn)(b,{received:b.data,code:g.eq.invalid_enum_value,options:c}),j.uY}return(0,j.OK)(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return af.create(a,{...this._def,...b})}exclude(a,b=this._def){return af.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}af.create=ae;class ag extends o{_parse(a){let b=k.ZS.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==k.Zp.string&&c.parsedType!==k.Zp.number){let a=k.ZS.objectValues(b);return(0,j.zn)(c,{expected:k.ZS.joinValues(a),received:c.parsedType,code:g.eq.invalid_type}),j.uY}if(this._cache||(this._cache=new Set(k.ZS.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=k.ZS.objectValues(b);return(0,j.zn)(c,{received:c.data,code:g.eq.invalid_enum_value,options:a}),j.uY}return(0,j.OK)(a.data)}get enum(){return this._def.values}}ag.create=(a,b)=>new ag({values:a,typeName:f.ZodNativeEnum,...n(b)});class ah extends o{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==k.Zp.promise&&!1===b.common.async)return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.promise,received:b.parsedType}),j.uY;let c=b.parsedType===k.Zp.promise?b.data:Promise.resolve(b.data);return(0,j.OK)(c.then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}ah.create=(a,b)=>new ah({type:a,typeName:f.ZodPromise,...n(b)});class ai extends o{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===f.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,e={addIssue:a=>{(0,j.zn)(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(e.addIssue=e.addIssue.bind(e),"preprocess"===d.type){let a=d.transform(c.data,e);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return j.uY;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?j.uY:"dirty"===d.status||"dirty"===b.value?(0,j.jm)(d.value):d});{if("aborted"===b.value)return j.uY;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?j.uY:"dirty"===d.status||"dirty"===b.value?(0,j.jm)(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,e);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?j.uY:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?j.uY:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>(0,j.fn)(a)?Promise.resolve(d.transform(a.value,e)).then(a=>({status:b.value,value:a})):j.uY);else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!(0,j.fn)(a))return j.uY;let f=d.transform(a.value,e);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:f}}k.ZS.assertNever(d)}}ai.create=(a,b,c)=>new ai({schema:a,typeName:f.ZodEffects,effect:b,...n(c)}),ai.createWithPreprocess=(a,b,c)=>new ai({schema:b,effect:{type:"preprocess",transform:a},typeName:f.ZodEffects,...n(c)});class aj extends o{_parse(a){return this._getType(a)===k.Zp.undefined?(0,j.OK)(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}aj.create=(a,b)=>new aj({innerType:a,typeName:f.ZodOptional,...n(b)});class ak extends o{_parse(a){return this._getType(a)===k.Zp.null?(0,j.OK)(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}ak.create=(a,b)=>new ak({innerType:a,typeName:f.ZodNullable,...n(b)});class al extends o{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===k.Zp.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}al.create=(a,b)=>new al({innerType:a,typeName:f.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...n(b)});class am extends o{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return(0,j.xP)(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new g.G(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new g.G(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}am.create=(a,b)=>new am({innerType:a,typeName:f.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...n(b)});class an extends o{_parse(a){if(this._getType(a)!==k.Zp.nan){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:g.eq.invalid_type,expected:k.Zp.nan,received:b.parsedType}),j.uY}return{status:"valid",value:a.data}}}an.create=a=>new an({typeName:f.ZodNaN,...n(a)});let ao=Symbol("zod_brand");class ap extends o{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}class aq extends o{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?j.uY:"dirty"===a.status?(b.dirty(),(0,j.jm)(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?j.uY:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new aq({in:a,out:b,typeName:f.ZodPipeline})}}class ar extends o{_parse(a){let b=this._def.innerType._parse(a),c=a=>((0,j.fn)(a)&&(a.value=Object.freeze(a.value)),a);return(0,j.xP)(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}function as(a,b){let c="function"==typeof a?a(b):"string"==typeof a?{message:a}:a;return"string"==typeof c?{message:c}:c}function at(a,b={},c){return a?P.create().superRefine((d,e)=>{let f=a(d);if(f instanceof Promise)return f.then(a=>{if(!a){let a=as(b,d),f=a.fatal??c??!0;e.addIssue({code:"custom",...a,fatal:f})}});if(!f){let a=as(b,d),f=a.fatal??c??!0;e.addIssue({code:"custom",...a,fatal:f})}}):P.create()}ar.create=(a,b)=>new ar({innerType:a,typeName:f.ZodReadonly,...n(b)});let au={object:U.lazycreate};!function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"}(f||(f={}));let av=(a,b={message:`Input not instance of ${a.name}`})=>at(b=>b instanceof a,b),aw=H.create,ax=I.create,ay=an.create,az=J.create,aA=K.create,aB=L.create,aC=M.create,aD=N.create,aE=O.create,aF=P.create,aG=Q.create,aH=R.create,aI=S.create,aJ=T.create,aK=U.create,aL=U.strictCreate,aM=V.create,aN=X.create,aO=Y.create,aP=Z.create,aQ=$.create,aR=_.create,aS=aa.create,aT=ab.create,aU=ac.create,aV=ad.create,aW=af.create,aX=ag.create,aY=ah.create,aZ=ai.create,a$=aj.create,a_=ak.create,a0=ai.createWithPreprocess,a1=aq.create,a2=()=>aw().optional(),a3=()=>ax().optional(),a4=()=>aA().optional(),a5={string:a=>H.create({...a,coerce:!0}),number:a=>I.create({...a,coerce:!0}),boolean:a=>K.create({...a,coerce:!0}),bigint:a=>J.create({...a,coerce:!0}),date:a=>L.create({...a,coerce:!0})},a6=j.uY},80158:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.ConnectivityState=void 0,function(a){a[a.IDLE=0]="IDLE",a[a.CONNECTING=1]="CONNECTING",a[a.READY=2]="READY",a[a.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",a[a.SHUTDOWN=4]="SHUTDOWN"}(c||(b.ConnectivityState=c={}))},80277:(a,b,c)=>{"use strict";c.r(b),c.d(b,{Resource:()=>e.F,browserDetector:()=>k,browserDetectorSync:()=>j,defaultServiceName:()=>f.m,detectResources:()=>F,detectResourcesSync:()=>G,envDetector:()=>p,envDetectorSync:()=>o,hostDetector:()=>u,hostDetectorSync:()=>t,osDetector:()=>w,osDetectorSync:()=>v,processDetector:()=>A,processDetectorSync:()=>z,serviceInstanceIdDetectorSync:()=>C});var d,e=c(57182),f=c(29990),g=c(56679),h=c(79361),i=function(){return(i=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},j=new(function(){function a(){}return a.prototype.detect=function(a){if("undefined"==typeof navigator||(null==(d=null==(c=global.process)?void 0:c.versions)?void 0:d.node)!==void 0||(null==(f=global.Bun)?void 0:f.version)!==void 0)return e.F.empty();var b,c,d,f,h=((b={})[g.lb]="browser",b[g.C3]="Web Browser",b[g.cV]=navigator.userAgent,b);return this._getResourceAttributes(h,a)},a.prototype._getResourceAttributes=function(a,b){return""===a[g.cV]?(h.s.debug("BrowserDetector failed: Unable to find required browser resources. "),e.F.empty()):new e.F(i({},a))},a}()),k=new(function(){function a(){}return a.prototype.detect=function(a){return Promise.resolve(j.detect(a))},a}()),l=c(66336),m=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},n=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},o=new(function(){function a(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return a.prototype.detect=function(a){var b={},c=(0,l._)(),d=c.OTEL_RESOURCE_ATTRIBUTES,f=c.OTEL_SERVICE_NAME;if(d)try{var i=this._parseResourceAttributes(d);Object.assign(b,i)}catch(a){h.s.debug("EnvDetector failed: "+a.message)}return f&&(b[g.AV]=f),new e.F(b)},a.prototype._parseResourceAttributes=function(a){if(!a)return{};var b,c,d={},e=a.split(this._COMMA_SEPARATOR,-1);try{for(var f=m(e),g=f.next();!g.done;g=f.next()){var h=g.value.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2===h.length){var i=n(h,2),j=i[0],k=i[1];if(j=j.trim(),k=k.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(j))throw Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(k))throw Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);d[j]=decodeURIComponent(k)}}}catch(a){b={error:a}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(b)throw b.error}}return d},a.prototype._isValid=function(a){return a.length<=this._MAX_LENGTH&&this._isBaggageOctetString(a)},a.prototype._isBaggageOctetString=function(a){for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(c<33||44===c||59===c||92===c||c>126)return!1}return!0},a.prototype._isValidAndNotEmpty=function(a){return a.length>0&&this._isValid(a)},a}()),p=new(function(){function a(){}return a.prototype.detect=function(a){return Promise.resolve(o.detect(a))},a}()),q=c(21820),r=function(a){switch(a){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return a}},s=function(a){switch(a){case"sunos":return"solaris";case"win32":return"windows";default:return a}};switch(c(19771).platform){case"darwin":d=c(50344).D;break;case"linux":d=c(73816).D;break;case"freebsd":d=c(4481).D;break;case"win32":d=c(46596).D;break;default:d=c(26083).D}var t=new(function(){function a(){}return a.prototype.detect=function(a){var b,c=((b={})[g.RK]=(0,q.hostname)(),b[g.yT]=r((0,q.arch)()),b);return new e.F(c,this._getAsyncAttributes())},a.prototype._getAsyncAttributes=function(){return d().then(function(a){var b={};return a&&(b[g.zs]=a),b})},a}()),u=new(function(){function a(){}return a.prototype.detect=function(a){return Promise.resolve(t.detect(a))},a}()),v=new(function(){function a(){}return a.prototype.detect=function(a){var b,c=((b={})[g.ko]=s((0,q.platform)()),b[g.AC]=(0,q.release)(),b);return new e.F(c)},a}()),w=new(function(){function a(){}return a.prototype.detect=function(a){return Promise.resolve(v.detect(a))},a}()),x=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},y=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},z=new(function(){function a(){}return a.prototype.detect=function(a){var b,c=((b={})[g.ky]=process.pid,b[g.fP]=process.title,b[g.xQ]=process.execPath,b[g.U2]=y(y([process.argv[0]],x(process.execArgv),!1),x(process.argv.slice(1)),!1),b[g.cV]=process.versions.node,b[g.lb]="nodejs",b[g.C3]="Node.js",b);process.argv.length>1&&(c[g.Cn]=process.argv[1]);try{var d=q.userInfo();c[g.Yb]=d.username}catch(a){h.s.debug("error obtaining process owner: "+a)}return new e.F(c)},a}()),A=new(function(){function a(){}return a.prototype.detect=function(a){return Promise.resolve(z.detect(a))},a}()),B=c(55511),C=new(function(){function a(){}return a.prototype.detect=function(a){var b,c=((b={})[g.PL]=(0,B.randomUUID)(),b);return new e.F(c)},a}()),D=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},E=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},F=function(a){return void 0===a&&(a={}),D(void 0,void 0,void 0,function(){var b;return E(this,function(c){switch(c.label){case 0:return[4,Promise.all((a.detectors||[]).map(function(b){return D(void 0,void 0,void 0,function(){var c,d;return E(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,b.detect(a)];case 1:return c=f.sent(),h.s.debug(b.constructor.name+" found resource.",c),[2,c];case 2:return d=f.sent(),h.s.debug(b.constructor.name+" failed: "+d.message),[2,e.F.empty()];case 3:return[2]}})})}))];case 1:return H(b=c.sent()),[2,b.reduce(function(a,b){return a.merge(b)},e.F.empty())]}})})},G=function(a){void 0===a&&(a={});var b,c=(null!=(b=a.detectors)?b:[]).map(function(b){try{var c,d=b.detect(a);return(c=null!==d&&"object"==typeof d&&"function"==typeof d.then?new e.F({},D(void 0,void 0,void 0,function(){var a;return E(this,function(b){switch(b.label){case 0:return[4,d];case 1:return a=b.sent(),[2,a.attributes]}})})):d).waitForAsyncAttributes?c.waitForAsyncAttributes().then(function(){return h.s.debug(b.constructor.name+" found resource.",c)}):h.s.debug(b.constructor.name+" found resource.",c),c}catch(a){return h.s.error(b.constructor.name+" failed: "+a.message),e.F.empty()}}),d=c.reduce(function(a,b){return a.merge(b)},e.F.empty());return d.waitForAsyncAttributes&&d.waitForAsyncAttributes().then(function(){H(c)}),d},H=function(a){a.forEach(function(a){if(Object.keys(a.attributes).length>0){var b=JSON.stringify(a.attributes,null,4);h.s.verbose(b)}})}},80339:(a,b,c)=>{a.exports=(0,c(68530).AtomRW)(0,function(a,b,c){return a.reset(null,c,null)},function(a,b,c,d){return a.reset(null,d)})},80390:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(24206);class e extends Error{constructor(a,b,c,e){super(e||`can't resolve reference ${c} from id ${b}`),this.missingRef=(0,d.resolveUrl)(a,b,c),this.missingSchema=(0,d.normalizeId)((0,d.getFullPath)(a,this.missingRef))}}b.default=e},80496:(a,b)=>{"use strict";b.__esModule=!0,b.extend=g,b.indexOf=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return -1},b.escapeExpression=function(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return e.test(a)?a.replace(d,f):a},b.isEmpty=function(a){return!a&&0!==a||!!j(a)&&0===a.length},b.createFrame=function(a){var b=g({},a);return b._parent=a,b},b.blockParams=function(a,b){return a.path=b,a},b.appendContextPath=function(a,b){return(a?a+".":"")+b};var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,e=/[&<>"'`=]/;function f(a){return c[a]}function g(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}var h=Object.prototype.toString;b.toString=h;var i=function(a){return"function"==typeof a};i(/x/)&&(b.isFunction=i=function(a){return"function"==typeof a&&"[object Function]"===h.call(a)}),b.isFunction=i;var j=Array.isArray||function(a){return!!a&&"object"==typeof a&&"[object Array]"===h.call(a)};b.isArray=j},80526:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0})},80579:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=k(c(29021)),g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(c(72204)),h=k(c(33873)),i=c(77848),j=k(c(24818));function k(a){return a&&a.__esModule?a:{default:a}}var l=function(){function a(){if(!(this instanceof a))throw TypeError("Cannot call a class as a function")}return e(a,null,[{key:"loadJaegerThriftDefinition",value:function(){return f.default.readFileSync(h.default.join(__dirname,"./jaeger-idl/thrift/jaeger.thrift"),"ascii")}},{key:"buildAgentThriftPath",value:function(){return h.default.join(__dirname,"./thriftrw-idl/agent.thrift")}},{key:"getThriftTags",value:function(b){for(var c=[],e=0;e<b.length;e++){var f=b[e],g=f.key,h=a.emptyBuffer,i=a.emptyBuffer,j=!1,k=0,l="",m="",n=d(f.value);"number"===n?(m=a._thrift.TagType.DOUBLE,k=f.value):"boolean"===n?(m=a._thrift.TagType.BOOL,j=f.value):f.value instanceof Buffer?(m=a._thrift.TagType.BINARY,i=f.value):"object"===n?(m=a._thrift.TagType.STRING,l=JSON.stringify(f.value)):(m=a._thrift.TagType.STRING,l="string"===n?f.value:String(f.value)),c.push({key:g,vType:m,vStr:l,vDouble:k,vBool:j,vLong:h,vBinary:i})}return c}},{key:"getThriftLogs",value:function(b){for(var c=[],d=0;d<b.length;d++){var e=b[d];c.push({timestamp:j.default.encodeInt64(1e3*e.timestamp),fields:a.getThriftTags(e.fields)})}return c}},{key:"spanRefsToThriftRefs",value:function(b){for(var c=[],d=0;d<b.length;d++){var e=void 0,f=b[d],h=b[d].referencedContext();if(f.type()===g.REFERENCE_CHILD_OF)e=a._thrift.SpanRefType.CHILD_OF;else{if(f.type()!==g.REFERENCE_FOLLOWS_FROM)continue;e=a._thrift.SpanRefType.FOLLOWS_FROM}c.push({refType:e,traceIdLow:a.getTraceIdLow(h.traceId),traceIdHigh:a.getTraceIdHigh(h.traceId),spanId:h.spanId})}return c}},{key:"getTraceIdLow",value:function(b){return null!=b?b.slice(-8):a.emptyBuffer}},{key:"getTraceIdHigh",value:function(b){return null!=b&&b.length>8?b.slice(-16,-8):a.emptyBuffer}},{key:"spanToThrift",value:function(b){var c=a.getThriftTags(b._tags),d=a.getThriftLogs(b._logs);return{traceIdLow:a.getTraceIdLow(b._spanContext.traceId),traceIdHigh:a.getTraceIdHigh(b._spanContext.traceId),spanId:b._spanContext.spanId,parentSpanId:b._spanContext.parentId||a.emptyBuffer,operationName:b._operationName,references:a.spanRefsToThriftRefs(b._references),flags:b._spanContext.flags,startTime:j.default.encodeInt64(1e3*b._startTime),duration:j.default.encodeInt64(1e3*b._duration),tags:c,logs:d}}}]),a}();l._thrift=new i.Thrift({source:l.loadJaegerThriftDefinition(),allowOptionalArguments:!0}),l.emptyBuffer=j.default.newBuffer(8),b.default=l},80764:(a,b,c)=>{"use strict";c.d(b,{s:()=>i});var d=c(76673),e=c(16426),f=c(60012),g=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function i(a,b){return{resourceSpans:function(a,b){for(var c=function(a){var b,c,d=new Map;try{for(var e=g(a),f=e.next();!f.done;f=e.next()){var h=f.value,i=d.get(h.resource);i||(i=new Map,d.set(h.resource,i));var j=h.instrumentationLibrary.name+"@"+(h.instrumentationLibrary.version||"")+":"+(h.instrumentationLibrary.schemaUrl||""),k=i.get(j);k||(k=[],i.set(j,k)),k.push(h)}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d}(a),e=[],i=c.entries(),j=i.next();!j.done;){for(var k=h(j.value,2),l=k[0],m=k[1],n=[],o=m.values(),p=o.next();!p.done;){var q=p.value;if(q.length>0){var r=q.map(function(a){return function(a,b){var c,e=a.spanContext(),f=a.status;return{traceId:b.encodeSpanContext(e.traceId),spanId:b.encodeSpanContext(e.spanId),parentSpanId:b.encodeOptionalSpanContext(a.parentSpanId),traceState:null==(c=e.traceState)?void 0:c.serialize(),name:a.name,kind:null==a.kind?0:a.kind+1,startTimeUnixNano:b.encodeHrTime(a.startTime),endTimeUnixNano:b.encodeHrTime(a.endTime),attributes:(0,d.Zs)(a.attributes),droppedAttributesCount:a.droppedAttributesCount,events:a.events.map(function(a){var c,e;return c=a,e=b,{attributes:c.attributes?(0,d.Zs)(c.attributes):[],name:c.name,timeUnixNano:e.encodeHrTime(c.time),droppedAttributesCount:c.droppedAttributesCount||0}}),droppedEventsCount:a.droppedEventsCount,status:{code:f.code,message:f.message},links:a.links.map(function(a){return function(a,b){var c;return{attributes:a.attributes?(0,d.Zs)(a.attributes):[],spanId:b.encodeSpanContext(a.context.spanId),traceId:b.encodeSpanContext(a.context.traceId),traceState:null==(c=a.context.traceState)?void 0:c.serialize(),droppedAttributesCount:a.droppedAttributesCount||0}}(a,b)}),droppedLinksCount:a.droppedLinksCount}}(a,b)});n.push({scope:(0,d.d1)(q[0].instrumentationLibrary),spans:r,schemaUrl:q[0].instrumentationLibrary.schemaUrl})}p=o.next()}var s={resource:(0,f.Z)(l),scopeSpans:n,schemaUrl:void 0};e.push(s),j=i.next()}return e}(a,(0,e.Az)(b))}}},81096:(a,b,c)=>{"use strict";c.r(b),c.d(b,{OTLPTraceExporter:()=>n});var d=c(24774),e=c(66336),f=c(89162),g=c(144),h=c(30648),i=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),j=function(){return(j=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},k="v1/traces",l="http://localhost:4318/"+k,m={"User-Agent":"OTel-OTLP-Exporter-JavaScript/0.52.1"},n=function(a){function b(b){void 0===b&&(b={});var c=a.call(this,b,h.U1,"application/json")||this;return c.headers=j(j(j(j({},c.headers),m),d.parseKeyPairsIntoRecord((0,e._)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),(0,f.QG)(null==b?void 0:b.headers)),c}return i(b,a),b.prototype.getDefaultUrl=function(a){return"string"==typeof a.url?a.url:(0,e._)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,f.u3)((0,e._)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,e._)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,f.Ir)((0,e._)().OTEL_EXPORTER_OTLP_ENDPOINT,k):l},b}(g.u)},81145:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{GenerateResponse:()=>l}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(76944),j=c(67113),k=c(20689);class l{message;finishReason;finishMessage;usage;custom;raw;request;operation;model;parser;constructor(a,b){let c=a.message||a.candidates?.[0]?.message;c&&(this.message=new k.Message(c,{parser:b?.parser})),this.finishReason=a.finishReason||a.candidates?.[0]?.finishReason,this.finishMessage=a.finishMessage||a.candidates?.[0]?.finishMessage,this.usage=a.usage||{},this.custom=a.custom||{},this.raw=a.raw||this.custom,this.request=b?.request,this.operation=a?.operation}assertValid(){if("blocked"===this.finishReason)throw new j.GenerationBlockedError(this,`Generation blocked${this.finishMessage?`: ${this.finishMessage}`:"."}`);if(!this.message&&!this.operation)throw new j.GenerationResponseError(this,`Model did not generate a message. Finish reason: '${this.finishReason}': ${this.finishMessage}`)}assertValidSchema(a){if(a?.output?.schema||this.request?.output?.schema){let b=this.output;(0,i.parseSchema)(b,{jsonSchema:a?.output?.schema||this.request?.output?.schema})}}isValid(a){try{return this.assertValid(),this.assertValidSchema(a),!0}catch(a){return!1}}get output(){return this.message?.output||null}get text(){return this.message?.text||""}get reasoning(){return this.message?.reasoning||""}get media(){return this.message?.media||null}get data(){return this.message?.data||null}get toolRequests(){return this.message?.toolRequests||[]}get interrupts(){return this.message?.interrupts||[]}get messages(){if(!this.request)throw Error("Can't construct history for response without request reference.");if(!this.message)throw Error("Can't construct history for response without generated message.");return[...this.request?.messages,this.message.toJSON()]}toJSON(){let a={message:this.message?.toJSON(),finishReason:this.finishReason,finishMessage:this.finishMessage,usage:this.usage,custom:this.custom.toJSON?.()||this.custom,request:this.request,operation:this.operation};return a.finishMessage||delete a.finishMessage,a.request||delete a.request,a.operation||delete a.operation,a}}},81390:(a,b,c)=>{"use strict";var d=c(34275),e=c(65444),f=c(68423),g=c(74876),h=c(42218),i=c(79159),j=c(69731);function k(a){let b=!1!==a.prettyErrors;return{lineCounter:a.lineCounter||b&&new i.LineCounter||null,prettyErrors:b}}function l(a,b={}){let{lineCounter:c,prettyErrors:e}=k(b),g=new j.Parser(c?.addNewLine),h=new d.Composer(b),i=null;for(let b of h.compose(g.parse(a),!0,a.length))if(i){if("silent"!==i.options.logLevel){i.errors.push(new f.YAMLParseError(b.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else i=b;return e&&c&&(i.errors.forEach(f.prettifyError(a,c)),i.warnings.forEach(f.prettifyError(a,c))),i}b.parse=function(a,b,c){let d;"function"==typeof b?d=b:void 0===c&&b&&"object"==typeof b&&(c=b);let e=l(a,c);if(!e)return null;if(e.warnings.forEach(a=>g.warn(e.options.logLevel,a)),e.errors.length>0)if("silent"!==e.options.logLevel)throw e.errors[0];else e.errors=[];return e.toJS(Object.assign({reviver:d},c))},b.parseAllDocuments=function(a,b={}){let{lineCounter:c,prettyErrors:e}=k(b),g=new j.Parser(c?.addNewLine),h=new d.Composer(b),i=Array.from(h.compose(g.parse(a)));if(e&&c)for(let b of i)b.errors.forEach(f.prettifyError(a,c)),b.warnings.forEach(f.prettifyError(a,c));return i.length>0?i:Object.assign([],{empty:!0},h.streamInfo())},b.parseDocument=l,b.stringify=function(a,b,c){let d=null;if("function"==typeof b||Array.isArray(b)?d=b:void 0===c&&b&&(c=b),"string"==typeof c&&(c=c.length),"number"==typeof c){let a=Math.round(c);c=a<1?void 0:a>8?{indent:8}:{indent:a}}if(void 0===a){let{keepUndefined:a}=c??b??{};if(!a)return}return h.isDocument(a)&&!d?a.toString(c):new e.Document(a,d,c).toString(c)}},81588:(a,b,c)=>{"use strict";c.d(b,{FU:()=>f,M1:()=>e,Zf:()=>g});var d=(0,c(76956).n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function e(a){return a.setValue(d,!0)}function f(a){return a.deleteValue(d)}function g(a){return!0===a.getValue(d)}},81842:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.CompressionAlgorithms=void 0,function(a){a[a.identity=0]="identity",a[a.deflate=1]="deflate",a[a.gzip=2]="gzip"}(c||(b.CompressionAlgorithms=c={}))},82126:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InternalChannel=b.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=void 0;let d=c(97945),e=c(16960),f=c(14067),g=c(96269),h=c(33604),i=c(56458),j=c(27398),k=c(22354),l=c(43313),m=c(38702),n=c(77538),o=c(9413),p=c(80158),q=c(49682),r=c(46638),s=c(8319),t=c(55929),u=c(25479),v=c(16390),w=c(68586),x=c(35210),y=new Map;class z extends x.BaseSubchannelWrapper{constructor(a,b){super(a),this.channel=b,this.refCount=0,this.subchannelStateListener=(a,c,d,e)=>{b.throttleKeepalive(e)}}ref(){0===this.refCount&&(this.child.addConnectivityStateListener(this.subchannelStateListener),this.channel.addWrappedSubchannel(this)),this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class A{pick(a){return{pickResultType:g.PickResultType.DROP,status:{code:i.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new h.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}}b.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX="grpc.internal.no_subchannel";class B{constructor(a){this.target=a,this.trace=new q.ChannelzTrace,this.callTracker=new q.ChannelzCallTracker,this.childrenTracker=new q.ChannelzChildrenTracker,this.state=p.ConnectivityState.IDLE}getChannelzInfoCallback(){return()=>({target:this.target,state:this.state,trace:this.trace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()})}}class C{constructor(a,c,h){var r,s,t,u,x,A;if(this.credentials=c,this.options=h,this.connectivityState=p.ConnectivityState.IDLE,this.currentPicker=new g.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.callRefTimer=null,this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),"string"!=typeof a)throw TypeError("Channel target must be a string");if(!(c instanceof d.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(h&&"object"!=typeof h)throw TypeError("Channel options must be an object");this.channelzInfoTracker=new B(a);let C=(0,o.parseUri)(a);if(null===C)throw Error(`Could not parse target name "${a}"`);let D=(0,l.mapUriDefaultScheme)(C);if(null===D)throw Error(`Could not find a default scheme for target name "${a}"`);0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,q.registerChannelzChannel)(a,this.channelzInfoTracker.getChannelzInfoCallback(),this.channelzEnabled),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,l.getDefaultAuthority)(D);let E=(0,n.mapProxyName)(D,h);this.target=E.target,this.options=Object.assign({},this.options,E.extraOptions),this.subchannelPool=(0,f.getSubchannelPool)((null!=(r=this.options["grpc.use_local_subchannel_pool"])?r:0)===0),this.retryBufferTracker=new w.MessageBufferTracker(null!=(s=this.options["grpc.retry_buffer_size"])?s:0x1000000,null!=(t=this.options["grpc.per_rpc_retry_buffer_size"])?t:1048576),this.keepaliveTime=null!=(u=this.options["grpc.keepalive_time_ms"])?u:-1,this.idleTimeoutMs=Math.max(null!=(x=this.options["grpc.client_idle_timeout_ms"])?x:18e5,1e3),this.resolvingLoadBalancer=new e.ResolvingLoadBalancer(this.target,{createSubchannel:(a,c)=>{let d={};for(let[a,e]of Object.entries(c))a.startsWith(b.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX)||(d[a]=e);let e=this.subchannelPool.getOrCreateSubchannel(this.target,a,d,this.credentials);return e.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Created subchannel or used existing subchannel",e.getChannelzRef()),new z(e,this)},updateState:(a,b)=>{this.currentPicker=b;let c=this.pickQueue.slice();for(let a of(this.pickQueue=[],c.length>0&&this.callRefTimerUnref(),c))a.doPick();this.updateState(a)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:a=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.refChild(a)},removeChannelzChild:a=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.unrefChild(a)}},this.options,(a,b)=>{var c;a.retryThrottling?y.set(this.getTarget(),new w.RetryThrottler(a.retryThrottling.maxTokens,a.retryThrottling.tokenRatio,y.get(this.getTarget()))):y.delete(this.getTarget()),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Address resolution succeeded"),null==(c=this.configSelector)||c.unref(),this.configSelector=b,this.currentResolutionError=null,process.nextTick(()=>{let a=this.configSelectionQueue;for(let b of(this.configSelectionQueue=[],a.length>0&&this.callRefTimerUnref(),a))b.getConfig()})},a=>{this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_WARNING","Address resolution failed with code "+a.code+' and details "'+a.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,v.restrictControlPlaneStatusCode)(a.code,a.details)),{metadata:a.metadata}));let b=this.configSelectionQueue;for(let c of(this.configSelectionQueue=[],b.length>0&&this.callRefTimerUnref(),b))c.reportResolverError(a)}),this.filterStackFactory=new j.FilterStackFactory([new k.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(h,void 0,2));let F=Error();(0,m.isTracerEnabled)("channel_stacktrace")&&(0,m.trace)(i.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null==(A=F.stack)?void 0:A.substring(F.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}trace(a,b){(0,m.trace)(null!=b?b:i.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,o.uriToString)(this.target)+" "+a)}callRefTimerRef(){var a,b,c,d;this.callRefTimer||(this.callRefTimer=setInterval(()=>{},0x7fffffff)),(null==(b=(a=this.callRefTimer).hasRef)?void 0:b.call(a))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null==(d=(c=this.callRefTimer).ref)||d.call(c))}callRefTimerUnref(){var a,b,c;(!(null==(a=this.callRefTimer)?void 0:a.hasRef)||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null==(c=null==(b=this.callRefTimer)?void 0:b.unref)||c.call(b))}removeConnectivityStateWatcher(a){let b=this.connectivityStateWatchers.findIndex(b=>b===a);b>=0&&this.connectivityStateWatchers.splice(b,1)}updateState(a){for(let b of((0,m.trace)(i.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,o.uriToString)(this.target)+" "+p.ConnectivityState[this.connectivityState]+" -> "+p.ConnectivityState[a]),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Connectivity state change to "+p.ConnectivityState[a]),this.connectivityState=a,this.channelzInfoTracker.state=a,this.connectivityStateWatchers.slice()))a!==b.currentState&&(b.timer&&clearTimeout(b.timer),this.removeConnectivityStateWatcher(b),b.callback());a!==p.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(a){if(a>this.keepaliveTime)for(let b of(this.keepaliveTime=a,this.wrappedSubchannels))b.throttleKeepalive(a)}addWrappedSubchannel(a){this.wrappedSubchannels.add(a)}removeWrappedSubchannel(a){this.wrappedSubchannels.delete(a)}doPick(a,b){return this.currentPicker.pick({metadata:a,extraPickInfo:b})}queueCallForPick(a){this.pickQueue.push(a),this.callRefTimerRef()}getConfig(a,b){return(this.connectivityState!==p.ConnectivityState.SHUTDOWN&&this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector.invoke(a,b,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(a){this.configSelectionQueue.push(a),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(p.ConnectivityState.IDLE),this.currentPicker=new g.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.callRefTimer&&(clearInterval(this.callRefTimer),this.callRefTimer=null)}startIdleTimeout(a){var b,c;this.idleTimer=setTimeout(()=>{if(this.callCount>0)return void this.startIdleTimeout(this.idleTimeoutMs);let a=new Date().valueOf()-this.lastActivityTimestamp.valueOf();a>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-a)},a),null==(c=(b=this.idleTimer).unref)||c.call(b)}maybeStartIdleTimer(){this.connectivityState===p.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.channelzInfoTracker.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(a){this.channelzEnabled&&(a.code===i.Status.OK?this.channelzInfoTracker.callTracker.addCallSucceeded():this.channelzInfoTracker.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(a,b,c,d,e){let f=(0,u.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+f+'] method="'+b+'"'),new r.LoadBalancingCall(this,a,b,c,d,e,f)}createRetryingCall(a,b,c,d,e){let f=(0,u.getNextCallNumber)();return this.trace("createRetryingCall ["+f+'] method="'+b+'"'),new w.RetryingCall(this,a,b,c,d,e,f,this.retryBufferTracker,y.get(this.getTarget()))}createResolvingCall(a,b,c,d,e){let f=(0,u.getNextCallNumber)();this.trace("createResolvingCall ["+f+'] method="'+a+'", deadline='+(0,s.deadlineToString)(b));let g={deadline:b,flags:null!=e?e:i.Propagate.DEFAULTS,host:null!=c?c:this.defaultAuthority,parentCall:d},h=new t.ResolvingCall(this,a,g,this.filterStackFactory.clone(),f);return this.onCallStart(),h.addStatusWatcher(a=>{this.onCallEnd(a)}),h}close(){var a;for(let a of(this.resolvingLoadBalancer.destroy(),this.updateState(p.ConnectivityState.SHUTDOWN),this.currentPicker=new A,this.configSelectionQueue))a.cancelWithStatus(i.Status.UNAVAILABLE,"Channel closed before call started");for(let a of(this.configSelectionQueue=[],this.pickQueue))a.cancelWithStatus(i.Status.UNAVAILABLE,"Channel closed before call started");this.pickQueue=[],this.callRefTimer&&clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,q.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels(),null==(a=this.configSelector)||a.unref(),this.configSelector=null}getTarget(){return(0,o.uriToString)(this.target)}getConnectivityState(a){let b=this.connectivityState;return a&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),b}watchConnectivityState(a,b,c){if(this.connectivityState===p.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let d=null;if(b!==1/0){let a=b instanceof Date?b:new Date(b),f=new Date;if(b===-1/0||a<=f)return void process.nextTick(c,Error("Deadline passed without connectivity state change"));d=setTimeout(()=>{this.removeConnectivityStateWatcher(e),c(Error("Deadline passed without connectivity state change"))},a.getTime()-f.getTime())}let e={currentState:a,callback:c,timer:d};this.connectivityStateWatchers.push(e)}getChannelzRef(){return this.channelzRef}createCall(a,b,c,d,e){if("string"!=typeof a)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof b||b instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===p.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(a,b,c,d,e)}getOptions(){return this.options}}b.InternalChannel=C},82141:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parsePipelineDef=void 0;let d=c(31958);b.parsePipelineDef=(a,b)=>{if("input"===b.pipeStrategy)return(0,d.parseDef)(a.in._def,b);if("output"===b.pipeStrategy)return(0,d.parseDef)(a.out._def,b);let c=(0,d.parseDef)(a.in._def,{...b,currentPath:[...b.currentPath,"allOf","0"]}),e=(0,d.parseDef)(a.out._def,{...b,currentPath:[...b.currentPath,"allOf",c?"1":"0"]});return{allOf:[c,e].filter(a=>void 0!==a)}}},82499:(a,b,c)=>{a.exports=function(){function a(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function b(){this.constructor=a}return b.prototype=Error.prototype,a.prototype=new b,{SyntaxError:a,parse:function(b){var d,e,f,g,h,i=arguments.length>1?arguments[1]:{},j={},k={Program:c5},l=c5,m="cpp_namespace",n={type:"literal",value:"cpp_namespace",description:'"cpp_namespace"'},o="php_namespace",p={type:"literal",value:"php_namespace",description:'"php_namespace"'},q="py_module",r={type:"literal",value:"py_module",description:'"py_module"'},s="perl_package",t={type:"literal",value:"perl_package",description:'"perl_package"'},u="ruby_namespace",v={type:"literal",value:"ruby_namespace",description:'"ruby_namespace"'},w="smalltalk_category",x={type:"literal",value:"smalltalk_category",description:'"smalltalk_category"'},y="smalltalk_prefix",z={type:"literal",value:"smalltalk_prefix",description:'"smalltalk_prefix"'},A="java_package",B={type:"literal",value:"java_package",description:'"java_package"'},C="cocoa_package",D={type:"literal",value:"cocoa_package",description:'"cocoa_package"'},E="xsd_namespace",F={type:"literal",value:"xsd_namespace",description:'"xsd_namespace"'},G="csharp_namespace",H={type:"literal",value:"csharp_namespace",description:'"csharp_namespace"'},I="smalltalk.category",J={type:"literal",value:"smalltalk.category",description:'"smalltalk.category"'},K="smalltalk.prefix",L={type:"literal",value:"smalltalk.prefix",description:'"smalltalk.prefix"'},M={type:"literal",value:"*",description:'"*"'},N=function(a){},O=function(a,b){},P={type:"literal",value:"cpp",description:'"cpp"'},Q="java",R={type:"literal",value:"java",description:'"java"'},S="py.twisted",T={type:"literal",value:"py.twisted",description:'"py.twisted"'},U={type:"literal",value:"py",description:'"py"'},V="perl",W={type:"literal",value:"perl",description:'"perl"'},X={type:"literal",value:"rb",description:'"rb"'},Y="cocoa",Z={type:"literal",value:"cocoa",description:'"cocoa"'},$="csharp",_={type:"literal",value:"csharp",description:'"csharp"'},aa={type:"literal",value:"php",description:'"php"'},ab={type:"literal",value:"as3",description:'"as3"'},ac="c_glib",ad={type:"literal",value:"c_glib",description:'"c_glib"'},ae={type:"literal",value:"js",description:'"js"'},af={type:"literal",value:"st",description:'"st"'},ag={type:"literal",value:"go",description:'"go"'},ah="delphi",ai={type:"literal",value:"delphi",description:'"delphi"'},aj={type:"literal",value:"lua",description:'"lua"'},ak={type:"literal",value:",",description:'","'},al={type:"literal",value:";",description:'";"'},am={type:"other",description:"list separator"},an={type:"literal",value:"{",description:'"{"'},ao={type:"literal",value:"}",description:'"}"'},ap={type:"literal",value:"=",description:'"="'},aq={type:"literal",value:"[",description:'"["'},ar=function(a){return a},as={type:"literal",value:"]",description:'"]"'},at={type:"literal",value:":",description:'":"'},au="struct",av={type:"literal",value:"struct",description:'"struct"'},aw="xsd_all",ax={type:"literal",value:"xsd_all",description:'"xsd_all"'},ay="xsd_optional",az={type:"literal",value:"xsd_optional",description:'"xsd_optional"'},aA="xsd_nillable",aB={type:"literal",value:"xsd_nillable",description:'"xsd_nillable"'},aC="xsd_attributes",aD={type:"literal",value:"xsd_attributes",description:'"xsd_attributes"'},aE="exception",aF={type:"literal",value:"exception",description:'"exception"'},aG="service",aH={type:"literal",value:"service",description:'"service"'},aI="extends",aJ={type:"literal",value:"extends",description:'"extends"'},aK={type:"literal",value:"(",description:'"("'},aL={type:"literal",value:")",description:'")"'},aM="oneway",aN={type:"literal",value:"oneway",description:'"oneway"'},aO="throws",aP={type:"literal",value:"throws",description:'"throws"'},aQ={type:"literal",value:"&",description:'"&"'},aR="required",aS={type:"literal",value:"required",description:'"required"'},aT="optional",aU={type:"literal",value:"optional",description:'"optional"'},aV="void",aW={type:"literal",value:"void",description:'"void"'},aX="bool",aY={type:"literal",value:"bool",description:'"bool"'},aZ="byte",a$={type:"literal",value:"byte",description:'"byte"'},a_={type:"literal",value:"i8",description:'"i8"'},a0={type:"literal",value:"i16",description:'"i16"'},a1={type:"literal",value:"i32",description:'"i32"'},a2={type:"literal",value:"i64",description:'"i64"'},a3="double",a4={type:"literal",value:"double",description:'"double"'},a5="string",a6={type:"literal",value:"string",description:'"string"'},a7="binary",a8={type:"literal",value:"binary",description:'"binary"'},a9="slist",ba={type:"literal",value:"slist",description:'"slist"'},bb={type:"literal",value:"map",description:'"map"'},bc={type:"literal",value:"<",description:'"<"'},bd={type:"literal",value:">",description:'">"'},be={type:"literal",value:"set",description:'"set"'},bf="list",bg={type:"literal",value:"list",description:'"list"'},bh="cpp_type",bi={type:"literal",value:"cpp_type",description:'"cpp_type"'},bj=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].name]=a[c].value;return b},bk=/^[a-zA-Z0-9_.]/,bl={type:"class",value:"[a-zA-Z0-9_.]",description:"[a-zA-Z0-9_.]"},bm={type:"other",description:"identifier"},bn=void 0,bo={type:"literal",value:"_",description:'"_"'},bp={type:"literal",value:"",description:'"\\u200C"'},bq={type:"literal",value:"",description:'"\\u200D"'},br={type:"literal",value:".",description:'"."'},bs=/^[A-Za-z_]/,bt={type:"class",value:"[A-Za-z_]",description:"[A-Za-z_]"},bu={type:"any",description:"any character"},bv={type:"other",description:"whitespace"},bw={type:"literal",value:"	",description:'"\\t"'},bx={type:"literal",value:"\v",description:'"\\x0B"'},by={type:"literal",value:"\f",description:'"\\f"'},bz={type:"literal",value:" ",description:'" "'},bA={type:"literal",value:"\xa0",description:'"\\xA0"'},bB={type:"literal",value:"\uFEFF",description:'"\\uFEFF"'},bC=/^[\n\r\u2028\u2029]/,bD={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},bE={type:"other",description:"end of line"},bF={type:"literal",value:"\n",description:'"\\n"'},bG={type:"literal",value:"\r\n",description:'"\\r\\n"'},bH={type:"literal",value:"\r",description:'"\\r"'},bI={type:"literal",value:"\u2028",description:'"\\u2028"'},bJ={type:"literal",value:"\u2029",description:'"\\u2029"'},bK={type:"other",description:"comment"},bL={type:"literal",value:"/*",description:'"/*"'},bM={type:"literal",value:"*/",description:'"*/"'},bN=function(a){return a},bO=function(a){return new dL.Comment(a)},bP={type:"literal",value:"//",description:'"//"'},bQ=function(a){return a},bR={type:"literal",value:"#",description:'"#"'},bS={type:"other",description:"string"},bT={type:"literal",value:'"',description:'"\\""'},bU=function(a){return a.join("")},bV={type:"literal",value:"'",description:'"\'"'},bW={type:"literal",value:"\\",description:'"\\\\"'},bX=function(){return c0()},bY=function(a){return a},bZ={type:"literal",value:"0",description:'"0"'},b$={type:"literal",value:"b",description:'"b"'},b_={type:"literal",value:"f",description:'"f"'},b0={type:"literal",value:"n",description:'"n"'},b1={type:"literal",value:"r",description:'"r"'},b2={type:"literal",value:"t",description:'"t"'},b3={type:"literal",value:"v",description:'"v"'},b4={type:"literal",value:"x",description:'"x"'},b5={type:"literal",value:"u",description:'"u"'},b6=function(a){return String.fromCharCode(parseInt(a,16))},b7={type:"other",description:"hex literal"},b8={type:"literal",value:"0x",description:'"0x"'},b9=/^[0-9a-f]/i,ca={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},cb={type:"other",description:"number"},cc=/^[+\-]/,cd={type:"class",value:"[+\\-]",description:"[+\\-]"},ce={type:"other",description:"decimal literal"},cf=function(){return new dL.Literal(parseFloat(c0()))},cg={type:"literal",value:"e",description:'"e"'},ch=/^[0-9]/,ci={type:"class",value:"[0-9]",description:"[0-9]"},cj="include",ck={type:"literal",value:"include",description:'"include"'},cl="cpp_include",cm={type:"literal",value:"cpp_include",description:'"cpp_include"'},cn="namespace",co={type:"literal",value:"namespace",description:'"namespace"'},cp="typedef",cq={type:"literal",value:"typedef",description:'"typedef"'},cr="enum",cs={type:"literal",value:"enum",description:'"enum"'},ct="senum",cu={type:"literal",value:"senum",description:'"senum"'},cv="const",cw={type:"literal",value:"const",description:'"const"'},cx="union",cy={type:"literal",value:"union",description:'"union"'},cz=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0561-\u0587\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7FA\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,cA={type:"class",value:"[a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137-\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148-\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C-\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA-\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9-\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC-\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF-\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F-\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0-\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB-\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE-\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0561-\\u0587\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6-\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FC7\\u1FD0-\\u1FD3\\u1FD6-\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6-\\u1FF7\\u210A\\u210E-\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C-\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65-\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73-\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3-\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7FA\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A]",description:"[a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137-\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148-\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C-\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA-\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9-\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC-\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF-\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F-\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0-\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB-\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE-\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0561-\\u0587\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6-\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FC7\\u1FD0-\\u1FD3\\u1FD6-\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6-\\u1FF7\\u210A\\u210E-\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C-\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65-\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73-\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3-\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7FA\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A]"},cB=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uAA70\uAADD\uAAF3-\uAAF4\uFF70\uFF9E-\uFF9F]/,cC={type:"class",value:"[\\u02B0-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0374\\u037A\\u0559\\u0640\\u06E5-\\u06E6\\u07F4-\\u07F5\\u07FA\\u081A\\u0824\\u0828\\u0971\\u0E46\\u0EC6\\u10FC\\u17D7\\u1843\\u1AA7\\u1C78-\\u1C7D\\u1D2C-\\u1D6A\\u1D78\\u1D9B-\\u1DBF\\u2071\\u207F\\u2090-\\u209C\\u2C7C-\\u2C7D\\u2D6F\\u2E2F\\u3005\\u3031-\\u3035\\u303B\\u309D-\\u309E\\u30FC-\\u30FE\\uA015\\uA4F8-\\uA4FD\\uA60C\\uA67F\\uA717-\\uA71F\\uA770\\uA788\\uA7F8-\\uA7F9\\uA9CF\\uAA70\\uAADD\\uAAF3-\\uAAF4\\uFF70\\uFF9E-\\uFF9F]",description:"[\\u02B0-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0374\\u037A\\u0559\\u0640\\u06E5-\\u06E6\\u07F4-\\u07F5\\u07FA\\u081A\\u0824\\u0828\\u0971\\u0E46\\u0EC6\\u10FC\\u17D7\\u1843\\u1AA7\\u1C78-\\u1C7D\\u1D2C-\\u1D6A\\u1D78\\u1D9B-\\u1DBF\\u2071\\u207F\\u2090-\\u209C\\u2C7C-\\u2C7D\\u2D6F\\u2E2F\\u3005\\u3031-\\u3035\\u303B\\u309D-\\u309E\\u30FC-\\u30FE\\uA015\\uA4F8-\\uA4FD\\uA60C\\uA67F\\uA717-\\uA71F\\uA770\\uA788\\uA7F8-\\uA7F9\\uA9CF\\uAA70\\uAADD\\uAAF3-\\uAAF4\\uFF70\\uFF9E-\\uFF9F]"},cD=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0977\u0979-\u097F\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58-\u0C59\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,cE={type:"class",value:"[\\xAA\\xBA\\u01BB\\u01C0-\\u01C3\\u0294\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u063F\\u0641-\\u064A\\u066E-\\u066F\\u0671-\\u06D3\\u06D5\\u06EE-\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u0800-\\u0815\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0972-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC-\\u09DD\\u09DF-\\u09E1\\u09F0-\\u09F1\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0-\\u0AE1\\u0B05-\\u0B0C\\u0B0F-\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58-\\u0C59\\u0C60-\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0-\\u0CE1\\u0CF1-\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA-\\u0EAB\\u0EAD-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065-\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10D0-\\u10FA\\u10FD-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17DC\\u1820-\\u1842\\u1844-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE-\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C77\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5-\\u1CF6\\u2135-\\u2138\\u2D30-\\u2D67\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3006\\u303C\\u3041-\\u3096\\u309F\\u30A1-\\u30FA\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA014\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA500-\\uA60B\\uA610-\\uA61F\\uA62A-\\uA62B\\uA66E\\uA6A0-\\uA6E5\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA6F\\uAA71-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADC\\uAAE0-\\uAAEA\\uAAF2\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40-\\uFB41\\uFB43-\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF66-\\uFF6F\\uFF71-\\uFF9D\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]",description:"[\\xAA\\xBA\\u01BB\\u01C0-\\u01C3\\u0294\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u063F\\u0641-\\u064A\\u066E-\\u066F\\u0671-\\u06D3\\u06D5\\u06EE-\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u0800-\\u0815\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0972-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC-\\u09DD\\u09DF-\\u09E1\\u09F0-\\u09F1\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0-\\u0AE1\\u0B05-\\u0B0C\\u0B0F-\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58-\\u0C59\\u0C60-\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0-\\u0CE1\\u0CF1-\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA-\\u0EAB\\u0EAD-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065-\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10D0-\\u10FA\\u10FD-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17DC\\u1820-\\u1842\\u1844-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE-\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C77\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5-\\u1CF6\\u2135-\\u2138\\u2D30-\\u2D67\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3006\\u303C\\u3041-\\u3096\\u309F\\u30A1-\\u30FA\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA014\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA500-\\uA60B\\uA610-\\uA61F\\uA62A-\\uA62B\\uA66E\\uA6A0-\\uA6E5\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA6F\\uAA71-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADC\\uAAE0-\\uAAEA\\uAAF2\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40-\\uFB41\\uFB43-\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF66-\\uFF6F\\uFF71-\\uFF9D\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"},cF=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,cG={type:"class",value:"[\\u01C5\\u01C8\\u01CB\\u01F2\\u1F88-\\u1F8F\\u1F98-\\u1F9F\\u1FA8-\\u1FAF\\u1FBC\\u1FCC\\u1FFC]",description:"[\\u01C5\\u01C8\\u01CB\\u01F2\\u1F88-\\u1F8F\\u1F98-\\u1F9F\\u1FA8-\\u1FAF\\u1FBC\\u1FCC\\u1FFC]"},cH=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA\uFF21-\uFF3A]/,cI={type:"class",value:"[A-Z\\xC0-\\xD6\\xD8-\\xDE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178-\\u0179\\u017B\\u017D\\u0181-\\u0182\\u0184\\u0186-\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193-\\u0194\\u0196-\\u0198\\u019C-\\u019D\\u019F-\\u01A0\\u01A2\\u01A4\\u01A6-\\u01A7\\u01A9\\u01AC\\u01AE-\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7-\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A-\\u023B\\u023D-\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9-\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0-\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E-\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D-\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA\\uFF21-\\uFF3A]",description:"[A-Z\\xC0-\\xD6\\xD8-\\xDE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178-\\u0179\\u017B\\u017D\\u0181-\\u0182\\u0184\\u0186-\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193-\\u0194\\u0196-\\u0198\\u019C-\\u019D\\u019F-\\u01A0\\u01A2\\u01A4\\u01A6-\\u01A7\\u01A9\\u01AC\\u01AE-\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7-\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A-\\u023B\\u023D-\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9-\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0-\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E-\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D-\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA\\uFF21-\\uFF3A]"},cJ=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u19B0-\u19C0\u19C8-\u19C9\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BAC-\u1BAD\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,cK={type:"class",value:"[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0982-\\u0983\\u09BE-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0B02-\\u0B03\\u0B3E\\u0B40\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0B57\\u0BBE-\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82-\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0CD5-\\u0CD6\\u0D02-\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82-\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2-\\u0DF3\\u0F3E-\\u0F3F\\u0F7F\\u102B-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u1056-\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083-\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8-\\u19C9\\u1A19-\\u1A1A\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B82\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BAC-\\u1BAD\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1C24-\\u1C2B\\u1C34-\\u1C35\\u1CE1\\u1CF2-\\u1CF3\\u302E-\\u302F\\uA823-\\uA824\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C3\\uA952-\\uA953\\uA983\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uA9C0\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA4D\\uAA7B\\uAAEB\\uAAEE-\\uAAEF\\uAAF5\\uABE3-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEC]",description:"[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0982-\\u0983\\u09BE-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0B02-\\u0B03\\u0B3E\\u0B40\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0B57\\u0BBE-\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82-\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0CD5-\\u0CD6\\u0D02-\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82-\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2-\\u0DF3\\u0F3E-\\u0F3F\\u0F7F\\u102B-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u1056-\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083-\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8-\\u19C9\\u1A19-\\u1A1A\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B82\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BAC-\\u1BAD\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1C24-\\u1C2B\\u1C34-\\u1C35\\u1CE1\\u1CF2-\\u1CF3\\u302E-\\u302F\\uA823-\\uA824\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C3\\uA952-\\uA953\\uA983\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uA9C0\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA4D\\uAA7B\\uAAEB\\uAAEE-\\uAAEF\\uAAF5\\uABE3-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEC]"},cL=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u08FE\u0900-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1DC0-\u1DE6\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26]/,cM={type:"class",value:"[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1-\\u05C2\\u05C4-\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7-\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u08FE\\u0900-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2-\\u09E3\\u0A01-\\u0A02\\u0A3C\\u0A41-\\u0A42\\u0A47-\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70-\\u0A71\\u0A75\\u0A81-\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7-\\u0AC8\\u0ACD\\u0AE2-\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62-\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55-\\u0C56\\u0C62-\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC-\\u0CCD\\u0CE2-\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62-\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB-\\u0EBC\\u0EC8-\\u0ECD\\u0F18-\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86-\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039-\\u103A\\u103D-\\u103E\\u1058-\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085-\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17B4-\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193B\\u1A17-\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80-\\u1B81\\u1BA2-\\u1BA5\\u1BA8-\\u1BA9\\u1BAB\\u1BE6\\u1BE8-\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1DC0-\\u1DE6\\u1DFC-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302D\\u3099-\\u309A\\uA66F\\uA674-\\uA67D\\uA69F\\uA6F0-\\uA6F1\\uA802\\uA806\\uA80B\\uA825-\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31-\\uAA32\\uAA35-\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7-\\uAAB8\\uAABE-\\uAABF\\uAAC1\\uAAEC-\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]",description:"[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1-\\u05C2\\u05C4-\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7-\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u08FE\\u0900-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2-\\u09E3\\u0A01-\\u0A02\\u0A3C\\u0A41-\\u0A42\\u0A47-\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70-\\u0A71\\u0A75\\u0A81-\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7-\\u0AC8\\u0ACD\\u0AE2-\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62-\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55-\\u0C56\\u0C62-\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC-\\u0CCD\\u0CE2-\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62-\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB-\\u0EBC\\u0EC8-\\u0ECD\\u0F18-\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86-\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039-\\u103A\\u103D-\\u103E\\u1058-\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085-\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17B4-\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193B\\u1A17-\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80-\\u1B81\\u1BA2-\\u1BA5\\u1BA8-\\u1BA9\\u1BAB\\u1BE6\\u1BE8-\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1DC0-\\u1DE6\\u1DFC-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302D\\u3099-\\u309A\\uA66F\\uA674-\\uA67D\\uA69F\\uA6F0-\\uA6F1\\uA802\\uA806\\uA80B\\uA825-\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31-\\uAA32\\uAA35-\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7-\\uAAB8\\uAABE-\\uAABF\\uAAC1\\uAAEC-\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"},cN=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,cO={type:"class",value:"[0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]",description:"[0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"},cP=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,cQ={type:"class",value:"[\\u16EE-\\u16F0\\u2160-\\u2182\\u2185-\\u2188\\u3007\\u3021-\\u3029\\u3038-\\u303A\\uA6E6-\\uA6EF]",description:"[\\u16EE-\\u16F0\\u2160-\\u2182\\u2185-\\u2188\\u3007\\u3021-\\u3029\\u3038-\\u303A\\uA6E6-\\uA6EF]"},cR=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,cS={type:"class",value:"[_\\u203F-\\u2040\\u2054\\uFE33-\\uFE34\\uFE4D-\\uFE4F\\uFF3F]",description:"[_\\u203F-\\u2040\\u2054\\uFE33-\\uFE34\\uFE4D-\\uFE4F\\uFF3F]"},cT=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,cU={type:"class",value:"[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]",description:"[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]"},cV=0,cW=0,cX=0,cY={line:1,column:1,seenCR:!1},cZ=0,c$=[],c_=0;if("startRule"in i){if(!(i.startRule in k))throw Error("Can't start parsing from rule \""+i.startRule+'".');l=k[i.startRule]}function c0(){return b.substring(cW,cV)}function c1(){return c3(cW).line}function c2(){return c3(cW).column}function c3(a){if(cX!==a){cX>a&&(cX=0,cY={line:1,column:1,seenCR:!1});var c,d,e=cY;for(c=cX;c<a;c++)"\n"===(d=b.charAt(c))?(!e.seenCR&&e.line++,e.column=1,e.seenCR=!1):"\r"===d||"\u2028"===d||"\u2029"===d?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1);cX=a}return cY}function c4(a){cV<cZ||(cV>cZ&&(cZ=cV,c$=[]),c$.push(a))}function c5(){var a,b,c,d,e;if(a=cV,dr()!==j){for(b=[],c=c6();c!==j;)b.push(c),c=c6();if(b!==j){for(c=[],d=c7();d!==j;)c.push(d),d=c7();c!==j?(cW=a,e=c,a=new dL.Program(b.filter(Boolean),e)):(cV=a,a=j)}else cV=a,a=j}else cV=a,a=j;return a}function c6(){var a,c,d,e,f,g,h,i,k,l;return(a=function(){var a,c,d,e,f,g,h,i,k;if(a=cV,g=cV,b.substr(cV,7)===cj?(h=cj,cV+=7):(h=j,0===c_&&c4(ck)),h!==j?(i=cV,c_++,k=dp(),c_--,k===j?i=bn:(cV=i,i=j),i!==j&&(k=dr())!==j?g=h=[h,i,k]:(cV=g,g=j)):(cV=g,g=j),g!==j)((d=dl())===j&&(d=null),d!==j&&dr()!==j&&(e=dz())!==j)?(cW=a,f=d,a=c=new dL.Include(e,f,c1(),c2())):(cV=a,a=j);else cV=a,a=j;return a}())===j&&(e=cV,(h=cV,b.substr(cV,11)===cl?(i=cl,cV+=11):(i=j,0===c_&&c4(cm)),i!==j?(k=cV,c_++,l=dp(),c_--,l===j?k=bn:(cV=k,k=j),k!==j&&(l=dr())!==j?h=i=[i,k,l]:(cV=h,h=j)):(cV=h,h=j),(f=h)!==j&&(g=dz())!==j)?e=f=[f,g]:(cV=e,e=j),(a=e)===j&&(a=function(){var a,c,d,e,f,g,h,i;if(a=cV,(c=dK())!==j){if("cpp"===b.substr(cV,3)?(i="cpp",cV+=3):(i=j,0===c_&&c4(P)),i===j&&(b.substr(cV,4)===Q?(i=Q,cV+=4):(i=j,0===c_&&c4(R)),i===j&&(b.substr(cV,10)===S?(i=S,cV+=10):(i=j,0===c_&&c4(T)),i===j&&("py"===b.substr(cV,2)?(i="py",cV+=2):(i=j,0===c_&&c4(U)),i===j&&(b.substr(cV,4)===V?(i=V,cV+=4):(i=j,0===c_&&c4(W)),i===j&&("rb"===b.substr(cV,2)?(i="rb",cV+=2):(i=j,0===c_&&c4(X)),i===j&&(b.substr(cV,5)===Y?(i=Y,cV+=5):(i=j,0===c_&&c4(Z)),i===j&&(b.substr(cV,6)===$?(i=$,cV+=6):(i=j,0===c_&&c4(_)),i===j&&("php"===b.substr(cV,3)?(i="php",cV+=3):(i=j,0===c_&&c4(aa)),i===j&&("as3"===b.substr(cV,3)?(i="as3",cV+=3):(i=j,0===c_&&c4(ab)),i===j&&(b.substr(cV,6)===ac?(i=ac,cV+=6):(i=j,0===c_&&c4(ad)),i===j&&("js"===b.substr(cV,2)?(i="js",cV+=2):(i=j,0===c_&&c4(ae)),i===j&&("st"===b.substr(cV,2)?(i="st",cV+=2):(i=j,0===c_&&c4(af)),i===j&&("go"===b.substr(cV,2)?(i="go",cV+=2):(i=j,0===c_&&c4(ag)),i===j&&(b.substr(cV,6)===ah?(i=ah,cV+=6):(i=j,0===c_&&c4(ai)),i===j&&("lua"===b.substr(cV,3)?(i="lua",cV+=3):(i=j,0===c_&&c4(aj))))))))))))))))),(d=i)!==j)(e=dr())!==j&&(f=dl())!==j?(cW=a,g=d,h=f,a=c=new dL.Namespace(h,g)):(cV=a,a=j);else cV=a,a=j}else cV=a,a=j;return a===j&&(a=cV,(c=dK())!==j?(b.substr(cV,18)===I?(d=I,cV+=18):(d=j,0===c_&&c4(J)),d!==j&&(e=dr())!==j&&(f=dq())!==j?a=c=[c,d,e,f]:(cV=a,a=j)):(cV=a,a=j),a===j&&(a=cV,(c=dK())!==j?(b.substr(cV,16)===K?(d=K,cV+=16):(d=j,0===c_&&c4(L)),d!==j&&(e=dr())!==j&&(f=dl())!==j?a=c=[c,d,e,f]:(cV=a,a=j)):(cV=a,a=j),a===j&&(a=cV,b.substr(cV,13)===o?(c=o,cV+=13):(c=j,0===c_&&c4(p)),c!==j&&(d=dr())!==j&&(e=dz())!==j?a=c=[c,d,e]:(cV=a,a=j),a===j&&(a=cV,b.substr(cV,13)===E?(c=E,cV+=13):(c=j,0===c_&&c4(F)),c!==j&&(d=dr())!==j&&(e=dz())!==j?a=c=[c,d,e]:(cV=a,a=j),a===j&&(a=cV,(c=dK())!==j?(42===b.charCodeAt(cV)?(d="*",cV++):(d=j,0===c_&&c4(M)),d!==j&&(e=dr())!==j&&(f=dl())!==j?(cW=a,a=c=N(d)):(cV=a,a=j)):(cV=a,a=j),a===j&&(a=cV,(c=dK())!==j&&(d=dl())!==j&&(e=dl())!==j?(cW=a,a=c=O(d,e)):(cV=a,a=j))))))),a}())===j)&&(a=cV,b.substr(cV,13)===m?(c=m,cV+=13):(c=j,0===c_&&c4(n)),c!==j&&(d=dl())!==j?a=c=[c,d]:(cV=a,a=j),a===j&&(a=cV,b.substr(cV,13)===o?(c=o,cV+=13):(c=j,0===c_&&c4(p)),c!==j&&(d=dl())!==j?a=c=[c,d]:(cV=a,a=j),a===j&&(a=cV,b.substr(cV,9)===q?(c=q,cV+=9):(c=j,0===c_&&c4(r)),c!==j&&(d=dl())!==j?a=c=[c,d]:(cV=a,a=j),a===j&&(a=cV,b.substr(cV,12)===s?(c=s,cV+=12):(c=j,0===c_&&c4(t)),c!==j&&(d=dl())!==j?a=c=[c,d]:(cV=a,a=j),a===j&&(a=cV,b.substr(cV,14)===u?(c=u,cV+=14):(c=j,0===c_&&c4(v)),c!==j&&(d=dl())!==j?a=c=[c,d]:(cV=a,a=j),a===j&&(a=cV,b.substr(cV,18)===w?(c=w,cV+=18):(c=j,0===c_&&c4(x)),c!==j&&(d=dq())!==j?a=c=[c,d]:(cV=a,a=j),a===j&&(a=cV,b.substr(cV,16)===y?(c=y,cV+=16):(c=j,0===c_&&c4(z)),c!==j&&(d=dl())!==j?a=c=[c,d]:(cV=a,a=j),a===j&&(a=cV,b.substr(cV,12)===A?(c=A,cV+=12):(c=j,0===c_&&c4(B)),c!==j&&(d=dl())!==j?a=c=[c,d]:(cV=a,a=j),a===j&&(a=cV,b.substr(cV,13)===C?(c=C,cV+=13):(c=j,0===c_&&c4(D)),c!==j&&(d=dl())!==j?a=c=[c,d]:(cV=a,a=j),a===j&&(a=cV,b.substr(cV,13)===E?(c=E,cV+=13):(c=j,0===c_&&c4(F)),c!==j&&(d=dz())!==j?a=c=[c,d]:(cV=a,a=j),a===j&&(a=cV,b.substr(cV,16)===G?(c=G,cV+=16):(c=j,0===c_&&c4(H)),c!==j&&(d=dl())!==j?a=c=[c,d]:(cV=a,a=j)))))))))))),a}function c7(){var a;return(a=function(){var a,c,d,e,f,g,h,i,k,l;if(a=cV,h=cV,b.substr(cV,5)===cv?(i=cv,cV+=5):(i=j,0===c_&&c4(cw)),i!==j?(k=cV,c_++,l=dp(),c_--,l===j?k=bn:(cV=k,k=j),k!==j&&(l=dr())!==j?h=i=[i,k,l]:(cV=h,h=j)):(cV=h,h=j),h!==j)(c=dg())!==j&&(d=dl())!==j&&(61===b.charCodeAt(cV)?(e="=",cV++):(e=j,0===c_&&c4(ap)),e!==j&&dr()!==j&&(f=db())!==j&&((g=c8())===j&&(g=null),g!==j&&dr()!==j))?(cW=a,a=new dL.Const(d,c,f)):(cV=a,a=j);else cV=a,a=j;return a}())===j&&(a=function(){var a,c,d,e,f,g,h,i,k,l,m,n;if(a=cV,h=cV,b.substr(cV,7)===cp?(i=cp,cV+=7):(i=j,0===c_&&c4(cq)),i!==j?(k=cV,c_++,l=dp(),c_--,l===j?k=bn:(cV=k,k=j),k!==j&&(l=dr())!==j?h=i=[i,k,l]:(cV=h,h=j)):(cV=h,h=j),h!==j)if(dr()!==j){if((m=cV,(n=dg())!==j&&dr()!==j)?(cW=m,m=n):(cV=m,m=j),(c=m)!==j)(d=dl())!==j&&((e=di())===j&&(e=null),e!==j&&((f=c8())===j&&(f=null),f!==j))?(cW=a,g=e,a=new dL.Typedef(c,d,g)):(cV=a,a=j);else cV=a,a=j}else cV=a,a=j;else cV=a,a=j;return a}())===j&&(a=function(){var a,c,d,e,f,g,h,i,k,l,m,n;if(a=cV,k=cV,b.substr(cV,4)===cr?(l=cr,cV+=4):(l=j,0===c_&&c4(cs)),l!==j?(m=cV,c_++,n=dp(),c_--,n===j?m=bn:(cV=m,m=j),m!==j&&(n=dr())!==j?k=l=[l,m,n]:(cV=k,k=j)):(cV=k,k=j),k!==j)if(dr()!==j)if((c=dl())!==j)if(dr()!==j)if(123===b.charCodeAt(cV)?(d="{",cV++):(d=j,0===c_&&c4(an)),d!==j)if(dr()!==j){for(e=[],f=c9();f!==j;)e.push(f),f=c9();e!==j&&(f=dr())!==j&&(125===b.charCodeAt(cV)?(g="}",cV++):(g=j,0===c_&&c4(ao)),g!==j&&dr()!==j&&((h=di())===j&&(h=null),h!==j))?(cW=a,i=h,a=new dL.Enum(c,e,i)):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;return a}())===j&&(a=function(){var a,c,d,e,f,g,h,i,k,l,m;if(a=cV,i=cV,b.substr(cV,5)===ct?(k=ct,cV+=5):(k=j,0===c_&&c4(cu)),k!==j?(l=cV,c_++,m=dp(),c_--,m===j?l=bn:(cV=l,l=j),l!==j&&(m=dr())!==j?i=k=[k,l,m]:(cV=i,i=j)):(cV=i,i=j),i!==j)if((c=dl())!==j)if(123===b.charCodeAt(cV)?(d="{",cV++):(d=j,0===c_&&c4(an)),d!==j)if(dr()!==j){for(e=[],f=da();f!==j;)e.push(f),f=da();e!==j&&(125===b.charCodeAt(cV)?(f="}",cV++):(f=j,0===c_&&c4(ao)),f!==j&&dr()!==j&&((g=di())===j&&(g=null),g!==j))?(cW=a,h=g,a=new dL.Senum(c,e,h)):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;return a}())===j&&(a=function(){var a,c,d,e,f,g,h,i,k,l;if(a=cV,b.substr(cV,6)===au?(c=au,cV+=6):(c=j,0===c_&&c4(av)),c!==j)if(dr()!==j)if((d=dl())!==j)if((e=dd())===j&&(e=null),e!==j)if(dr()!==j)if(123===b.charCodeAt(cV)?(f="{",cV++):(f=j,0===c_&&c4(an)),f!==j)if(dr()!==j){for(g=[],h=df();h!==j;)g.push(h),h=df();g!==j&&(h=dr())!==j&&(125===b.charCodeAt(cV)?(i="}",cV++):(i=j,0===c_&&c4(ao)),i!==j&&dr()!==j&&((k=di())===j&&(k=null),k!==j))?(cW=a,l=k,a=c=new dL.Struct(d,g,l)):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;return a}())===j&&(a=function(){var a,c,d,e,f,g,h,i,k,l,m,n,o;if(a=cV,l=cV,b.substr(cV,5)===cx?(m=cx,cV+=5):(m=j,0===c_&&c4(cy)),m!==j?(n=cV,c_++,o=dp(),c_--,o===j?n=bn:(cV=n,n=j),n!==j&&(o=dr())!==j?l=m=[m,n,o]:(cV=l,l=j)):(cV=l,l=j),l!==j)if((c=dl())!==j)if((d=dd())===j&&(d=null),d!==j)if(dr()!==j)if(123===b.charCodeAt(cV)?(e="{",cV++):(e=j,0===c_&&c4(an)),e!==j)if(dr()!==j){for(f=[],g=df();g!==j;)f.push(g),g=df();f!==j&&(g=dr())!==j&&(125===b.charCodeAt(cV)?(h="}",cV++):(h=j,0===c_&&c4(ao)),h!==j&&dr()!==j&&((i=di())===j&&(i=null),i!==j))?(cW=a,k=i,a=new dL.Union(c,f,k)):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;return a}())===j&&(a=function(){var a,c,d,e,f,g,h,i,k;if(a=cV,b.substr(cV,9)===aE?(c=aE,cV+=9):(c=j,0===c_&&c4(aF)),c!==j)if(dr()!==j)if((d=dl())!==j)if(123===b.charCodeAt(cV)?(e="{",cV++):(e=j,0===c_&&c4(an)),e!==j)if(dr()!==j){for(f=[],g=df();g!==j;)f.push(g),g=df();f!==j&&(g=dr())!==j&&(125===b.charCodeAt(cV)?(h="}",cV++):(h=j,0===c_&&c4(ao)),h!==j&&dr()!==j&&((i=di())===j&&(i=null),i!==j&&dr()!==j))?(cW=a,k=i,a=c=new dL.Exception(d,f,k)):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;return a}())===j&&(a=function(){var a,c,d,e,f,g,h,i,k,l,m,n,o,p;if(a=cV,b.substr(cV,7)===aG?(c=aG,cV+=7):(c=j,0===c_&&c4(aH)),c!==j)if(dr()!==j)if((d=dl())!==j){if((n=cV,b.substr(cV,7)===aI?(o=aI,cV+=7):(o=j,0===c_&&c4(aJ)),o!==j&&dr()!==j&&(p=dl())!==j)?(cW=n,n=o=p):(cV=n,n=j),(e=n)===j&&(e=null),e!==j)if(123===b.charCodeAt(cV)?(f="{",cV++):(f=j,0===c_&&c4(an)),f!==j)if(dr()!==j){for(g=[],h=de();h!==j;)g.push(h),h=de();g!==j&&(h=dr())!==j&&(125===b.charCodeAt(cV)?(i="}",cV++):(i=j,0===c_&&c4(ao)),i!==j&&dr()!==j&&((k=di())===j&&(k=null),k!==j))?(cW=a,l=e,m=k,a=c=new dL.Service(d,g,m,l)):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;else cV=a,a=j}else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;return a}()),a}function c8(){var a,c,d,e;return c_++,c=cV,44===b.charCodeAt(cV)?(d=",",cV++):(d=j,0===c_&&c4(ak)),d!==j&&(e=dr())!==j?c=d=[d,e]:(cV=c,c=j),c===j&&(c=cV,59===b.charCodeAt(cV)?(d=";",cV++):(d=j,0===c_&&c4(al)),d!==j&&(e=dr())!==j?c=d=[d,e]:(cV=c,c=j)),a=c,c_--,a===j&&0===c_&&c4(am),a}function c9(){var a,c,d,e,f,g,h,i,k;return(a=cV,(c=dl())!==j)?((d=cV,61===b.charCodeAt(cV)?(e="=",cV++):(e=j,0===c_&&c4(ap)),e!==j&&(f=dr())!==j&&(g=dk())!==j)?(cW=d,d=e=g):(cV=d,d=j),(d===j&&(d=null),d!==j&&(e=dr())!==j&&((f=di())===j&&(f=null),f!==j&&((g=c8())===j&&(g=null),g!==j&&dr()!==j)))?(cW=a,h=c,i=d,k=f,a=c=new dL.EnumDefinition(h,i,k)):(cV=a,a=j)):(cV=a,a=j),a}function da(){var a,b,c;return(a=cV,(b=dz())!==j&&((c=c8())===j&&(c=null),c!==j))?(cW=a,a=b):(cV=a,a=j),a}function db(){var a,c,d,e,f,g,h;return(a=function(){var a,c,d,e,f,g;if(a=cV,91===b.charCodeAt(cV)?(c="[",cV++):(c=j,0===c_&&c4(aq)),c!==j)if(dr()!==j){for(d=[],e=cV,(f=db())!==j&&dr()!==j?((g=c8())===j&&(g=null),g!==j&&dr()!==j?(cW=e,e=f=ar(f)):(cV=e,e=j)):(cV=e,e=j);e!==j;)d.push(e),e=cV,(f=db())!==j&&dr()!==j?((g=c8())===j&&(g=null),g!==j&&dr()!==j?(cW=e,e=f=ar(f)):(cV=e,e=j)):(cV=e,e=j);d!==j&&(93===b.charCodeAt(cV)?(e="]",cV++):(e=j,0===c_&&c4(as)),e!==j&&(f=dr())!==j)?(cW=a,a=c=new dL.ConstList(d)):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;return a}())===j&&(a=function(){var a,c,d,e;if(a=cV,123===b.charCodeAt(cV)?(c="{",cV++):(c=j,0===c_&&c4(an)),c!==j)if(dr()!==j){for(d=[],e=dc();e!==j;)d.push(e),e=dc();d!==j&&(125===b.charCodeAt(cV)?(e="}",cV++):(e=j,0===c_&&c4(ao)),e!==j&&dr()!==j)?(cW=a,a=c=new dL.ConstMap(d)):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;return a}())===j&&(c_++,c=cV,(d=dz())!==j&&(cW=c,e=d,d=new dL.Literal(e)),c=d,c_--,c===j&&(d=j,0===c_&&c4(bS)),(a=c)===j&&(c_++,(f=dF())===j&&((f=cV,cc.test(b.charAt(cV))?(g=b.charAt(cV),cV++):(g=j,0===c_&&c4(cd)),g===j&&(g=null),g!==j&&(h=function(){var a,c,d,e,f,g;if(c_++,a=cV,c=[],(d=dI())!==j)for(;d!==j;)c.push(d),d=dI();else c=j;if(c!==j){if(d=cV,46===b.charCodeAt(cV)?(e=".",cV++):(e=j,0===c_&&c4(br)),e!==j){if(f=[],(g=dI())!==j)for(;g!==j;)f.push(g),g=dI();else f=j;f!==j?d=e=[e,f]:(cV=d,d=j)}else cV=d,d=j;d===j&&(d=null),d!==j?((e=dH())===j&&(e=null),e!==j?(cW=a,a=c=cf()):(cV=a,a=j)):(cV=a,a=j)}else cV=a,a=j;if(a===j){if(a=cV,46===b.charCodeAt(cV)?(c=".",cV++):(c=j,0===c_&&c4(br)),c!==j){if(d=[],(e=dI())!==j)for(;e!==j;)d.push(e),e=dI();else d=j;d!==j?((e=dH())===j&&(e=null),e!==j?(cW=a,a=c=cf()):(cV=a,a=j)):(cV=a,a=j)}else cV=a,a=j;if(a===j){if(a=cV,c=[],(d=dI())!==j)for(;d!==j;)c.push(d),d=dI();else c=j;c!==j?((d=dH())===j&&(d=null),d!==j?(cW=a,a=c=cf()):(cV=a,a=j)):(cV=a,a=j)}}return c_--,a===j&&(c=j,0===c_&&c4(ce)),a}())!==j)?(cW=f,f=g=h):(cV=f,f=j),f===j&&(f=dJ())),c_--,f===j&&(g=j,0===c_&&c4(cb)),(a=f)===j))&&(a=dl()),a}function dc(){var a,c,d,e,f,g;return(a=cV,(c=db())!==j&&dr()!==j&&(58===b.charCodeAt(cV)?(d=":",cV++):(d=j,0===c_&&c4(at)),d!==j&&dr()!==j&&(e=db())!==j&&dr()!==j&&((f=c8())===j&&(f=null),f!==j)))?(cW=a,g=c,a=c=new dL.ConstEntry(g,e)):(cV=a,a=j),a}function dd(){var a,c,d;return a=cV,b.substr(cV,7)===aw?(c=aw,cV+=7):(c=j,0===c_&&c4(ax)),c!==j&&(d=dr())!==j?a=c=[c,d]:(cV=a,a=j),a}function de(){var a,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s;if(a=cV,dr()!==j){if(p=cV,b.substr(cV,6)===aM?(q=aM,cV+=6):(q=j,0===c_&&c4(aN)),q!==j&&dr()!==j?(cW=p,p=q=!0):(cV=p,p=j),p===j&&(p=cV,(q=[])!==j&&(cW=p,q=!1),p=q),(c=p)!==j){if(r=cV,b.substr(cV,4)===aV?(s=aV,cV+=4):(s=j,0===c_&&c4(aW)),s!==j&&dr()!==j?(cW=r,r=s=new dL.BaseType("void")):(cV=r,r=j),r===j&&(r=dg()),(d=r)!==j)if((e=dl())!==j)if(40===b.charCodeAt(cV)?(f="(",cV++):(f=j,0===c_&&c4(aK)),f!==j)if(dr()!==j){for(g=[],h=df();h!==j;)g.push(h),h=df();g!==j&&(h=dr())!==j&&(41===b.charCodeAt(cV)?(i=")",cV++):(i=j,0===c_&&c4(aL)),i!==j&&dr()!==j&&((k=function(){var a,c,d,e,f,g;if(a=cV,b.substr(cV,6)===aO?(c=aO,cV+=6):(c=j,0===c_&&c4(aP)),c!==j)if(dr()!==j)if(40===b.charCodeAt(cV)?(d="(",cV++):(d=j,0===c_&&c4(aK)),d!==j)if(dr()!==j){for(e=[],f=df();f!==j;)e.push(f),f=df();e!==j&&(f=dr())!==j&&(41===b.charCodeAt(cV)?(g=")",cV++):(g=j,0===c_&&c4(aL)),g!==j&&dr()!==j)?(cW=a,a=c=e):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;return a}())===j&&(k=null),k!==j&&((l=di())===j&&(l=null),l!==j&&((m=c8())===j&&(m=null),m!==j&&ds()!==j))))?(cW=a,n=k,o=l,a=new dL.FunctionDefinition(e,g,d,n,o,c)):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j}else cV=a,a=j}else cV=a,a=j;return a}function df(){var a,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;if(a=cV,ds()!==j){if((q=cV,(r=dk())!==j&&(58===b.charCodeAt(cV)?(s=":",cV++):(s=j,0===c_&&c4(at)),s!==j&&ds()!==j))?(cW=q,t=r,q=r=new dL.FieldIdentifier(t.value,c1(),c2())):(cV=q,q=j),(c=q)===j&&(c=null),c!==j){if(u=cV,b.substr(cV,8)===aR?(v=aR,cV+=8):(v=j,0===c_&&c4(aS)),v!==j&&dr()!==j?(cW=u,u=v="required"):(cV=u,u=j),u===j&&(u=cV,b.substr(cV,8)===aT?(v=aT,cV+=8):(v=j,0===c_&&c4(aU)),v!==j&&dr()!==j?(cW=u,u=v="optional"):(cV=u,u=j)),(d=u)===j&&(d=null),d!==j)if((e=dg())!==j){if(w=cV,38===b.charCodeAt(cV)?(x="&",cV++):(x=j,0===c_&&c4(aQ)),x===j&&(x=null),x!==j&&dr()!==j?(cW=w,w=x=!0):(cV=w,w=j),w===j&&(w=cV,(x=[])!==j&&(cW=w,x=!1),w=x),(f=w)===j&&(f=null),f!==j)if((g=dm())!==j){if((y=cV,61===b.charCodeAt(cV)?(z="=",cV++):(z=j,0===c_&&c4(ap)),z!==j&&dr()!==j&&(A=db())!==j&&dr()!==j)?(cW=y,y=z=A):(cV=y,y=j),(h=y)===j&&(h=null),h!==j){if((B=cV,F=cV,b.substr(cV,12)===ay?(G=ay,cV+=12):(G=j,0===c_&&c4(az)),G!==j&&(H=dr())!==j?F=G=[G,H]:(cV=F,F=j),(C=F)===j&&(C=null),C!==j)?(I=cV,b.substr(cV,12)===aA?(J=aA,cV+=12):(J=j,0===c_&&c4(aB)),J!==j&&(K=dr())!==j?I=J=[J,K]:(cV=I,I=j),(D=I)===j&&(D=null),D!==j?((E=function(){var a,c,d,e,f,g,h,i,k;if(a=cV,b.substr(cV,14)===aC?(c=aC,cV+=14):(c=j,0===c_&&c4(aD)),c!==j)if((d=dr())!==j)if(123===b.charCodeAt(cV)?(e="{",cV++):(e=j,0===c_&&c4(an)),e!==j)if((f=dr())!==j){for(g=[],h=df();h!==j;)g.push(h),h=df();g!==j&&(h=dr())!==j?(125===b.charCodeAt(cV)?(i="}",cV++):(i=j,0===c_&&c4(ao)),i!==j&&(k=dr())!==j?a=c=[c,d,e,f,g,h,i,k]:(cV=a,a=j)):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;else cV=a,a=j;return a}())===j&&(E=null),E!==j?B=C=[C,D,E]:(cV=B,B=j)):(cV=B,B=j)):(cV=B,B=j),(i=B)===j&&(i=null),i!==j)((k=di())===j&&(k=null),k!==j&&((l=c8())===j&&(l=null),l!==j))?(cW=a,m=c,n=d,o=h,p=k,a=new dL.Field(m,e,g,n,o,p)):(cV=a,a=j);else cV=a,a=j}else cV=a,a=j}else cV=a,a=j;else cV=a,a=j}else cV=a,a=j;else cV=a,a=j}else cV=a,a=j}else cV=a,a=j;return a}function dg(){var a,c;return(a=function(){var a,c,d,e,f,g;if(a=cV,b.substr(cV,4)===aX?(g=aX,cV+=4):(g=j,0===c_&&c4(aY)),g===j&&(b.substr(cV,4)===aZ?(g=aZ,cV+=4):(g=j,0===c_&&c4(a$)),g===j&&("i8"===b.substr(cV,2)?(g="i8",cV+=2):(g=j,0===c_&&c4(a_)),g===j&&("i16"===b.substr(cV,3)?(g="i16",cV+=3):(g=j,0===c_&&c4(a0)),g===j&&("i32"===b.substr(cV,3)?(g="i32",cV+=3):(g=j,0===c_&&c4(a1)),g===j&&("i64"===b.substr(cV,3)?(g="i64",cV+=3):(g=j,0===c_&&c4(a2)),g===j&&(b.substr(cV,6)===a3?(g=a3,cV+=6):(g=j,0===c_&&c4(a4)),g===j&&(b.substr(cV,6)===a5?(g=a5,cV+=6):(g=j,0===c_&&c4(a6)),g===j&&(b.substr(cV,6)===a7?(g=a7,cV+=6):(g=j,0===c_&&c4(a8)),g===j&&(b.substr(cV,5)===a9?(g=a9,cV+=5):(g=j,0===c_&&c4(ba))))))))))),(c=g)!==j)dr()!==j&&((d=di())===j&&(d=null),d!==j)?(cW=a,e=c,f=d,a=c=new dL.BaseType(e,f)):(cV=a,a=j);else cV=a,a=j;return a}())===j&&((c=function(){var a,c,d,e,f,g,h,i,k,l;return(a=cV,"map"===b.substr(cV,3)?(c="map",cV+=3):(c=j,0===c_&&c4(bb)),c!==j&&dr()!==j&&((d=dh())===j&&(d=null),d!==j&&(60===b.charCodeAt(cV)?(e="<",cV++):(e=j,0===c_&&c4(bc)),e!==j&&dr()!==j&&(f=dg())!==j&&dr()!==j&&(44===b.charCodeAt(cV)?(g=",",cV++):(g=j,0===c_&&c4(ak)),g!==j&&dr()!==j&&(h=dg())!==j&&dr()!==j&&(62===b.charCodeAt(cV)?(i=">",cV++):(i=j,0===c_&&c4(bd)),i!==j&&dr()!==j&&((k=di())===j&&(k=null),k!==j))))))?(cW=a,l=k,a=c=new dL.MapType(f,h,l)):(cV=a,a=j),a}())===j&&(c=function(){var a,c,d,e,f,g,h,i;return(a=cV,"set"===b.substr(cV,3)?(c="set",cV+=3):(c=j,0===c_&&c4(be)),c!==j&&dr()!==j&&((d=dh())===j&&(d=null),d!==j&&(60===b.charCodeAt(cV)?(e="<",cV++):(e=j,0===c_&&c4(bc)),e!==j&&dr()!==j&&(f=dg())!==j&&dr()!==j&&(62===b.charCodeAt(cV)?(g=">",cV++):(g=j,0===c_&&c4(bd)),g!==j&&dr()!==j&&((h=di())===j&&(h=null),h!==j)))))?(cW=a,i=h,a=c=new dL.SetType(f,i)):(cV=a,a=j),a}())===j&&(c=function(){var a,c,d,e,f,g,h,i;return(a=cV,b.substr(cV,4)===bf?(c=bf,cV+=4):(c=j,0===c_&&c4(bg)),c!==j&&dr()!==j&&(60===b.charCodeAt(cV)?(d="<",cV++):(d=j,0===c_&&c4(bc)),d!==j&&dr()!==j&&(e=dg())!==j&&dr()!==j&&(62===b.charCodeAt(cV)?(f=">",cV++):(f=j,0===c_&&c4(bd)),f!==j&&dr()!==j&&((g=di())===j&&(g=null),g!==j&&((h=dh())===j&&(h=null),h!==j)))))?(cW=a,i=g,a=c=new dL.ListType(e,i)):(cV=a,a=j),a}()),(a=c)===j)&&(a=dl()),a}function dh(){var a,c,d,e;return a=cV,b.substr(cV,8)===bh?(c=bh,cV+=8):(c=j,0===c_&&c4(bi)),c!==j&&(d=dr())!==j&&(e=dz())!==j?a=c=[c,d,e]:(cV=a,a=j),a}function di(){var a,c,d,e,f;if(a=cV,40===b.charCodeAt(cV)?(c="(",cV++):(c=j,0===c_&&c4(aK)),c!==j)if(dr()!==j){for(d=[],e=dj();e!==j;)d.push(e),e=dj();d!==j&&(e=dr())!==j?(41===b.charCodeAt(cV)?(f=")",cV++):(f=j,0===c_&&c4(aL)),f!==j&&dr()!==j?(cW=a,a=c=bj(d)):(cV=a,a=j)):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;return a}function dj(){var a,c,d,e,f,g,h;return(a=cV,(c=dm())!==j)?((d=cV,61===b.charCodeAt(cV)?(e="=",cV++):(e=j,0===c_&&c4(ap)),e!==j&&dr()!==j&&(f=dz())!==j)?(cW=d,d=e=f):(cV=d,d=j),(d===j&&(d=null),d!==j&&((e=c8())===j&&(e=null),e!==j))?(cW=a,g=c,h=d,a=c=new dL.TypeAnnotation(g,h)):(cV=a,a=j)):(cV=a,a=j),a}function dk(){var a;return(a=dF())===j&&(a=dJ()),a}function dl(){var a,b,c;return(a=cV,(b=dm())!==j&&dr()!==j)?(cW=a,c=b,a=b=new dL.Identifier(c,c1(),c2())):(cV=a,a=j),a}function dm(){var a,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x;if(c_++,a=cV,c=cV,c_++,h=cV,b.substr(cV,4)===aV?(i=aV,cV+=4):(i=j,0===c_&&c4(aW)),i!==j?(k=cV,c_++,l=dp(),c_--,l===j?k=bn:(cV=k,k=j),k!==j&&(l=dr())!==j?h=i=[i,k,l]:(cV=h,h=j)):(cV=h,h=j),(g=h)===j&&(m=cV,"set"===b.substr(cV,3)?(n="set",cV+=3):(n=j,0===c_&&c4(be)),n!==j?(o=cV,c_++,p=dp(),c_--,p===j?o=bn:(cV=o,o=j),o!==j&&(p=dr())!==j?m=n=[n,o,p]:(cV=m,m=j)):(cV=m,m=j),(g=m)===j&&(q=cV,"map"===b.substr(cV,3)?(r="map",cV+=3):(r=j,0===c_&&c4(bb)),r!==j?(s=cV,c_++,t=dp(),c_--,t===j?s=bn:(cV=s,s=j),s!==j&&(t=dr())!==j?q=r=[r,s,t]:(cV=q,q=j)):(cV=q,q=j),(g=q)===j&&(u=cV,b.substr(cV,4)===bf?(v=bf,cV+=4):(v=j,0===c_&&c4(bg)),v!==j?(w=cV,c_++,x=dp(),c_--,x===j?w=bn:(cV=w,w=j),w!==j&&(x=dr())!==j?u=v=[v,w,x]:(cV=u,u=j)):(cV=u,u=j),g=u))),d=g,c_--,d===j?c=bn:(cV=c,c=j),c!==j)if((d=dn())!==j){for(e=[],f=dp();f!==j;)e.push(f),f=dp();e!==j&&(f=dr())!==j?(cW=a,a=c=d+e.join("")):(cV=a,a=j)}else cV=a,a=j;else cV=a,a=j;return c_--,a===j&&(c=j,0===c_&&c4(bm)),a}function dn(){var a,c,d,e,f,g,h,i;return cH.test(b.charAt(cV))?(d=b.charAt(cV),cV++):(d=j,0===c_&&c4(cI)),(c=d)===j&&(cz.test(b.charAt(cV))?(e=b.charAt(cV),cV++):(e=j,0===c_&&c4(cA)),(c=e)===j&&(cF.test(b.charAt(cV))?(f=b.charAt(cV),cV++):(f=j,0===c_&&c4(cG)),(c=f)===j&&(cB.test(b.charAt(cV))?(g=b.charAt(cV),cV++):(g=j,0===c_&&c4(cC)),(c=g)===j&&(cD.test(b.charAt(cV))?(h=b.charAt(cV),cV++):(h=j,0===c_&&c4(cE)),(c=h)===j))))&&(cP.test(b.charAt(cV))?(i=b.charAt(cV),cV++):(i=j,0===c_&&c4(cQ)),c=i),(a=c)===j&&(95===b.charCodeAt(cV)?(a="_",cV++):(a=j,0===c_&&c4(bo))),a}function dp(){var a,c,d,e,f,g;return(a=dn())===j&&(cL.test(b.charAt(cV))?(d=b.charAt(cV),cV++):(d=j,0===c_&&c4(cM)),(c=d)===j&&(cJ.test(b.charAt(cV))?(e=b.charAt(cV),cV++):(e=j,0===c_&&c4(cK)),c=e),(a=c)===j&&(cN.test(b.charAt(cV))?(f=b.charAt(cV),cV++):(f=j,0===c_&&c4(cO)),(a=f)===j&&(cR.test(b.charAt(cV))?(g=b.charAt(cV),cV++):(g=j,0===c_&&c4(cS)),(a=g)===j)))&&(8204===b.charCodeAt(cV)?(a="",cV++):(a=j,0===c_&&c4(bp)),a===j&&(8205===b.charCodeAt(cV)?(a="",cV++):(a=j,0===c_&&c4(bq)),a===j&&(46===b.charCodeAt(cV)?(a=".",cV++):(a=j,0===c_&&c4(br))))),a}function dq(){var a,c,d,e,f,g,h,i,k,l;(a=cV,e=cV,f=cV,c_++,h=cV,"map"===b.substr(cV,3)?(i="map",cV+=3):(i=j,0===c_&&c4(bb)),i===j&&("set"===b.substr(cV,3)?(i="set",cV+=3):(i=j,0===c_&&c4(be)),i===j&&(b.substr(cV,4)===bf?(i=bf,cV+=4):(i=j,0===c_&&c4(bg)))),i!==j?(k=cV,c_++,bs.test(b.charAt(cV))?(l=b.charAt(cV),cV++):(l=j,0===c_&&c4(bt)),c_--,l===j?k=bn:(cV=k,k=j),k!==j?h=i=[i,k]:(cV=h,h=j)):(cV=h,h=j),g=h,c_--,g===j?f=bn:(cV=f,f=j),f!==j&&(g=function(){var a,c;if(a=[],bk.test(b.charAt(cV))?(c=b.charAt(cV),cV++):(c=j,0===c_&&c4(bl)),c!==j)for(;c!==j;)a.push(c),bk.test(b.charAt(cV))?(c=b.charAt(cV),cV++):(c=j,0===c_&&c4(bl));else a=j;return a}())!==j?e=f=[f,g]:(cV=e,e=j),(c=e)!==j)&&(cW=a,d=c,c=new dL.Identifier(d,c1(),c2()));return c}function dr(){var a,b;for(a=[],(b=du())===j&&(b=dw())===j&&(b=dx());b!==j;)a.push(b),(b=du())===j&&(b=dw())===j&&(b=dx());return a}function ds(){var a,b;for(a=[],(b=du())===j&&(b=dy());b!==j;)a.push(b),(b=du())===j&&(b=dy());return a}function dt(){var a;return b.length>cV?(a=b.charAt(cV),cV++):(a=j,0===c_&&c4(bu)),a}function du(){var a,c;return c_++,9===b.charCodeAt(cV)?(a="	",cV++):(a=j,0===c_&&c4(bw)),a===j&&(11===b.charCodeAt(cV)?(a="\v",cV++):(a=j,0===c_&&c4(bx)),a===j&&(12===b.charCodeAt(cV)?(a="\f",cV++):(a=j,0===c_&&c4(by)),a===j&&(32===b.charCodeAt(cV)?(a=" ",cV++):(a=j,0===c_&&c4(bz)),a===j&&(160===b.charCodeAt(cV)?(a="\xa0",cV++):(a=j,0===c_&&c4(bA)),a===j&&(65279===b.charCodeAt(cV)?(a="\uFEFF",cV++):(a=j,0===c_&&c4(bB)),a===j&&(cT.test(b.charAt(cV))?(c=b.charAt(cV),cV++):(c=j,0===c_&&c4(cU)),a=c)))))),c_--,a===j&&0===c_&&c4(bv),a}function dv(){var a;return bC.test(b.charAt(cV))?(a=b.charAt(cV),cV++):(a=j,0===c_&&c4(bD)),a}function dw(){var a;return c_++,10===b.charCodeAt(cV)?(a="\n",cV++):(a=j,0===c_&&c4(bF)),a===j&&("\r\n"===b.substr(cV,2)?(a="\r\n",cV+=2):(a=j,0===c_&&c4(bG)),a===j&&(13===b.charCodeAt(cV)?(a="\r",cV++):(a=j,0===c_&&c4(bH)),a===j&&(8232===b.charCodeAt(cV)?(a="\u2028",cV++):(a=j,0===c_&&c4(bI)),a===j&&(8233===b.charCodeAt(cV)?(a="\u2029",cV++):(a=j,0===c_&&c4(bJ)))))),c_--,a===j&&0===c_&&c4(bE),a}function dx(){var a;return c_++,(a=function(){var a,c,d,e,f,g;if(a=cV,"/*"===b.substr(cV,2)?(c="/*",cV+=2):(c=j,0===c_&&c4(bL)),c!==j){for(d=[],e=cV,f=cV,c_++,"*/"===b.substr(cV,2)?(g="*/",cV+=2):(g=j,0===c_&&c4(bM)),c_--,g===j?f=bn:(cV=f,f=j),f!==j&&(g=dt())!==j?(cW=e,e=f=bN(g)):(cV=e,e=j);e!==j;)d.push(e),e=cV,f=cV,c_++,"*/"===b.substr(cV,2)?(g="*/",cV+=2):(g=j,0===c_&&c4(bM)),c_--,g===j?f=bn:(cV=f,f=j),f!==j&&(g=dt())!==j?(cW=e,e=f=bN(g)):(cV=e,e=j);d!==j?("*/"===b.substr(cV,2)?(e="*/",cV+=2):(e=j,0===c_&&c4(bM)),e!==j?(cW=a,a=c=bO(d)):(cV=a,a=j)):(cV=a,a=j)}else cV=a,a=j;return a}())===j&&(a=function(){var a,c,d,e,f,g;if(a=cV,"//"===b.substr(cV,2)?(c="//",cV+=2):(c=j,0===c_&&c4(bP)),c!==j){for(d=[],e=cV,f=cV,c_++,g=dv(),c_--,g===j?f=bn:(cV=f,f=j),f!==j&&(g=dt())!==j?(cW=e,e=f=bQ(g)):(cV=e,e=j);e!==j;)d.push(e),e=cV,f=cV,c_++,g=dv(),c_--,g===j?f=bn:(cV=f,f=j),f!==j&&(g=dt())!==j?(cW=e,e=f=bQ(g)):(cV=e,e=j);d!==j?(cW=a,a=c=bO(d)):(cV=a,a=j)}else cV=a,a=j;return a}())===j&&(a=function(){var a,c,d,e,f,g;if(a=cV,35===b.charCodeAt(cV)?(c="#",cV++):(c=j,0===c_&&c4(bR)),c!==j){for(d=[],e=cV,f=cV,c_++,g=dv(),c_--,g===j?f=bn:(cV=f,f=j),f!==j&&(g=dt())!==j?(cW=e,e=f=bQ(g)):(cV=e,e=j);e!==j;)d.push(e),e=cV,f=cV,c_++,g=dv(),c_--,g===j?f=bn:(cV=f,f=j),f!==j&&(g=dt())!==j?(cW=e,e=f=bQ(g)):(cV=e,e=j);d!==j?(cW=a,a=c=bO(d)):(cV=a,a=j)}else cV=a,a=j;return a}()),c_--,a===j&&0===c_&&c4(bK),a}function dy(){var a,c,d,e,f,g;if(a=cV,"/*"===b.substr(cV,2)?(c="/*",cV+=2):(c=j,0===c_&&c4(bL)),c!==j){for(d=[],e=cV,f=cV,c_++,"*/"===b.substr(cV,2)?(g="*/",cV+=2):(g=j,0===c_&&c4(bM)),g===j&&(g=dv()),c_--,g===j?f=bn:(cV=f,f=j),f!==j&&(g=dt())!==j?e=f=[f,g]:(cV=e,e=j);e!==j;)d.push(e),e=cV,f=cV,c_++,"*/"===b.substr(cV,2)?(g="*/",cV+=2):(g=j,0===c_&&c4(bM)),g===j&&(g=dv()),c_--,g===j?f=bn:(cV=f,f=j),f!==j&&(g=dt())!==j?e=f=[f,g]:(cV=e,e=j);d!==j?("*/"===b.substr(cV,2)?(e="*/",cV+=2):(e=j,0===c_&&c4(bM)),e!==j?a=c=[c,d,e]:(cV=a,a=j)):(cV=a,a=j)}else cV=a,a=j;return a}function dz(){var a,c,d,e;if(c_++,a=cV,34===b.charCodeAt(cV)?(c='"',cV++):(c=j,0===c_&&c4(bT)),c!==j){for(d=[],e=dA();e!==j;)d.push(e),e=dA();d!==j?(34===b.charCodeAt(cV)?(e='"',cV++):(e=j,0===c_&&c4(bT)),e!==j&&dr()!==j?(cW=a,a=c=bU(d)):(cV=a,a=j)):(cV=a,a=j)}else cV=a,a=j;if(a===j)if(a=cV,39===b.charCodeAt(cV)?(c="'",cV++):(c=j,0===c_&&c4(bV)),c!==j){for(d=[],e=dB();e!==j;)d.push(e),e=dB();d!==j?(39===b.charCodeAt(cV)?(e="'",cV++):(e=j,0===c_&&c4(bV)),e!==j&&dr()!==j?(cW=a,a=c=bU(d)):(cV=a,a=j)):(cV=a,a=j)}else cV=a,a=j;return c_--,a===j&&(c=j,0===c_&&c4(bS)),a}function dA(){var a,c,d;return a=cV,c=cV,c_++,34===b.charCodeAt(cV)?(d='"',cV++):(d=j,0===c_&&c4(bT)),d===j&&(92===b.charCodeAt(cV)?(d="\\",cV++):(d=j,0===c_&&c4(bW)),d===j&&(d=dv())),c_--,d===j?c=bn:(cV=c,c=j),c!==j&&(d=dt())!==j?(cW=a,a=c=bX()):(cV=a,a=j),a===j&&(a=cV,92===b.charCodeAt(cV)?(c="\\",cV++):(c=j,0===c_&&c4(bW)),c!==j&&(d=dD())!==j?(cW=a,a=c=bY(d)):(cV=a,a=j),a===j&&(a=dC())),a}function dB(){var a,c,d;return a=cV,c=cV,c_++,39===b.charCodeAt(cV)?(d="'",cV++):(d=j,0===c_&&c4(bV)),d===j&&(92===b.charCodeAt(cV)?(d="\\",cV++):(d=j,0===c_&&c4(bW)),d===j&&(d=dv())),c_--,d===j?c=bn:(cV=c,c=j),c!==j&&(d=dt())!==j?(cW=a,a=c=bX()):(cV=a,a=j),a===j&&(a=cV,92===b.charCodeAt(cV)?(c="\\",cV++):(c=j,0===c_&&c4(bW)),c!==j&&(d=dD())!==j?(cW=a,a=c=bY(d)):(cV=a,a=j),a===j&&(a=dC())),a}function dC(){var a,c;return a=cV,92===b.charCodeAt(cV)?(c="\\",cV++):(c=j,0===c_&&c4(bW)),c!==j&&dw()!==j?(cW=a,a=c=""):(cV=a,a=j),a}function dD(){var a,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return(f=dE())===j&&(g=cV,h=cV,c_++,(k=dE())===j&&(k=dI())===j&&(120===b.charCodeAt(cV)?(k="x",cV++):(k=j,0===c_&&c4(b4)),k===j&&(117===b.charCodeAt(cV)?(k="u",cV++):(k=j,0===c_&&c4(b5)))),(i=k)===j&&(i=dv()),c_--,i===j?h=bn:(cV=h,h=j),h!==j&&(i=dt())!==j?(cW=g,g=h=bX()):(cV=g,g=j),f=g),(a=f)===j&&(a=cV,48===b.charCodeAt(cV)?(c="0",cV++):(c=j,0===c_&&c4(bZ)),c!==j?(d=cV,c_++,e=dI(),c_--,e===j?d=bn:(cV=d,d=j),d!==j?(cW=a,a=c="\0"):(cV=a,a=j)):(cV=a,a=j),a===j&&(l=cV,120===b.charCodeAt(cV)?(m="x",cV++):(m=j,0===c_&&c4(b4)),m!==j?(n=cV,o=cV,(p=dG())!==j&&(q=dG())!==j?o=p=[p,q]:(cV=o,o=j),o!==j&&(o=b.substring(n,cV)),(n=o)!==j?(cW=l,l=m=b6(n)):(cV=l,l=j)):(cV=l,l=j),(a=l)===j)&&(r=cV,117===b.charCodeAt(cV)?(s="u",cV++):(s=j,0===c_&&c4(b5)),s!==j?(t=cV,u=cV,(v=dG())!==j&&(w=dG())!==j&&(x=dG())!==j&&(y=dG())!==j?u=v=[v,w,x,y]:(cV=u,u=j),u!==j&&(u=b.substring(t,cV)),(t=u)!==j?(cW=r,r=s=b6(t)):(cV=r,r=j)):(cV=r,r=j),a=r)),a}function dE(){var a,c;return 39===b.charCodeAt(cV)?(a="'",cV++):(a=j,0===c_&&c4(bV)),a===j&&(34===b.charCodeAt(cV)?(a='"',cV++):(a=j,0===c_&&c4(bT)),a===j&&(92===b.charCodeAt(cV)?(a="\\",cV++):(a=j,0===c_&&c4(bW)),a===j&&(a=cV,98===b.charCodeAt(cV)?(c="b",cV++):(c=j,0===c_&&c4(b$)),c!==j&&(cW=a,c="\b"),(a=c)===j&&(a=cV,102===b.charCodeAt(cV)?(c="f",cV++):(c=j,0===c_&&c4(b_)),c!==j&&(cW=a,c="\f"),(a=c)===j&&(a=cV,110===b.charCodeAt(cV)?(c="n",cV++):(c=j,0===c_&&c4(b0)),c!==j&&(cW=a,c="\n"),(a=c)===j&&(a=cV,114===b.charCodeAt(cV)?(c="r",cV++):(c=j,0===c_&&c4(b1)),c!==j&&(cW=a,c="\r"),(a=c)===j&&(a=cV,116===b.charCodeAt(cV)?(c="t",cV++):(c=j,0===c_&&c4(b2)),c!==j&&(cW=a,c="	"),(a=c)===j&&(a=cV,118===b.charCodeAt(cV)?(c="v",cV++):(c=j,0===c_&&c4(b3)),c!==j&&(cW=a,c="\v"),a=c)))))))),a}function dF(){var a,c,d,e,f,g;if(c_++,a=cV,"0x"===b.substr(cV,2).toLowerCase()?(c=b.substr(cV,2),cV+=2):(c=j,0===c_&&c4(b8)),c!==j){if(d=cV,e=[],(f=dG())!==j)for(;f!==j;)e.push(f),f=dG();else e=j;(e!==j&&(e=b.substring(d,cV)),(d=e)!==j)?(cW=a,g=d,a=c=new dL.Literal(parseInt(g,16))):(cV=a,a=j)}else cV=a,a=j;return c_--,a===j&&(c=j,0===c_&&c4(b7)),a}function dG(){var a;return b9.test(b.charAt(cV))?(a=b.charAt(cV),cV++):(a=j,0===c_&&c4(ca)),a}function dH(){var a,c,d,e;return a=cV,("e"===b.substr(cV,1).toLowerCase()?(e=b.charAt(cV),cV++):(e=j,0===c_&&c4(cg)),(c=e)!==j&&(d=dJ())!==j)?a=c=[c,d]:(cV=a,a=j),a}function dI(){var a;return ch.test(b.charAt(cV))?(a=b.charAt(cV),cV++):(a=j,0===c_&&c4(ci)),a}function dJ(){var a,c,d,e;if(a=cV,cc.test(b.charAt(cV))?(c=b.charAt(cV),cV++):(c=j,0===c_&&c4(cd)),c===j&&(c=null),c!==j){if(d=[],(e=dI())!==j)for(;e!==j;)d.push(e),e=dI();else d=j;d!==j?(cW=a,a=c=new dL.Literal(parseFloat(c0(),10))):(cV=a,a=j)}else cV=a,a=j;return a}function dK(){var a,c,d,e;return a=cV,b.substr(cV,9)===cn?(c=cn,cV+=9):(c=j,0===c_&&c4(co)),c!==j?(d=cV,c_++,e=dp(),c_--,e===j?d=bn:(cV=d,d=j),d!==j&&(e=dr())!==j?a=c=[c,d,e]:(cV=a,a=j)):(cV=a,a=j),a}var dL=c(24024);if((h=l())!==j&&cV===b.length)return h;throw h!==j&&cV<b.length&&c4({type:"end",description:"end of input"}),d=c$,f=c3(e=cZ),g=e<b.length?b.charAt(e):null,null!==d&&function(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:+(a.description>b.description)});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}(d),new a(function(a,b){var c,d=Array(a.length);for(c=0;c<a.length;c++)d[c]=a[c].description;return"Expected "+(a.length>1?d.slice(0,-1).join(", ")+" or "+d[a.length-1]:d[0])+" but "+(b?'"'+function(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}(b)+'"':"end of input")+" found."}(d,g),d,g,e,f.line,f.column)}}}()},82625:(a,b,c)=>{"use strict";var d=c(89220);function e(){d.Base.call(this)}c(28354).inherits(e,d.Base),e.prototype.toBuffer=function(a){return d.toBufferResult(this,a)},e.prototype.fromBuffer=function(a,b){return d.fromBufferResult(this,a,b)},a.exports=e},82701:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{handleCacheIfNeeded:()=>n,handleContextCache:()=>m}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(42592),j=c(6250),k=c(44037),l=c(69506);async function m(a,b,c,d,e){let f=new i.GoogleAICacheManager(a),{cachedContent:g,chatRequest:h}=(0,l.getContentForCache)(b,c,d,e);g.model=d;let m=(0,l.generateCacheKey)(g);g.displayName=m;let n=await (0,l.lookupContextCache)(f,m);if(k.logger.debug(`Cache hit: ${n?"true":"false"}`),!n)try{k.logger.debug("No cache found, creating one.");let a={...g,ttlSeconds:(0,l.calculateTTL)(e)};n=await f.create(a),k.logger.debug(`Created new cache entry with key: ${m}`)}catch(a){throw k.logger.error(`Failed to create cache with key ${m}: ${a}`),new j.GenkitError({status:"INTERNAL",message:`Failed to create cache: ${a}`})}if(!n)throw new j.GenkitError({status:"INTERNAL",message:"Failed to use context cache feature"});return{cache:n,newChatRequest:h}}async function n(a,b,c,d,e){if(!e||!(0,l.validateContextCacheRequest)(b,d))return{chatRequest:c,cache:null};let{cache:f,newChatRequest:g}=await m(a,b,c,d,e);return{chatRequest:g,cache:f}}},82740:a=>{"use strict";var b=Object.create(null);b.STOP=0,b.VOID=1,b.BOOL=2,b.BYTE=3,b.I8=3,b.DOUBLE=4,b.I16=6,b.I32=8,b.I64=10,b.STRING=11,b.STRUCT=12,b.MAP=13,b.SET=14,b.LIST=15,a.exports=b},82746:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904);b.default={data:new d.Name("data"),valCxt:new d.Name("valCxt"),instancePath:new d.Name("instancePath"),parentData:new d.Name("parentData"),parentDataProperty:new d.Name("parentDataProperty"),rootData:new d.Name("rootData"),dynamicAnchors:new d.Name("dynamicAnchors"),vErrors:new d.Name("vErrors"),errors:new d.Name("errors"),this:new d.Name("this"),self:new d.Name("self"),scope:new d.Name("scope"),json:new d.Name("json"),jsonPos:new d.Name("jsonPos"),jsonLen:new d.Name("jsonLen"),jsonPart:new d.Name("jsonPart")}},82762:(a,b,c)=>{"use strict";var d=c(89220),e=c(28354).inherits,f=c(32437);function g(a,b){if(!(this instanceof g))return new g(a,b);this.key=a,this.val=b}function h(a,b,c){if(!(this instanceof h))return new h(a,b,c);this.ktypeid=a,this.vtypeid=b,this.pairs=c||[]}function i(a){if(!(this instanceof i))return new i(a);this.ttypes=a.ttypes,d.Base.call(this)}e(i,d.Base),i.prototype.headerRW=d.Series([d.Int8,d.Int8,d.Int32BE]),i.prototype.poolByteLength=function(a,b){var c,d=this.ttypes[b.ktypeid];if(!d)return a.reset(f.InvalidTypeidError({what:"map::ktype",typeid:b.ktypeid}));var e=this.ttypes[b.vtypeid];if(!e)return a.reset(f.InvalidTypeidError({what:"map::vtype",typeid:b.vtypeid}));for(var g=6,h=0;h<b.pairs.length;h++){var i=b.pairs[h];if((c=d.poolByteLength(a,i.key)).err||(g+=c.length,(c=e.poolByteLength(a,i.val)).err))return c;g+=c.length}return a.reset(null,g)},i.prototype.poolWriteInto=function(a,b,c,d){var e=this.ttypes[b.ktypeid];if(!e)return a.reset(f.InvalidTypeidError({what:"map::ktype",typeid:b.ktypeid}));var g=this.ttypes[b.vtypeid];if(!g)return a.reset(f.InvalidTypeidError({what:"map::vtype",typeid:b.vtypeid}));var h=this.headerRW.poolWriteInto(a,[b.ktypeid,b.vtypeid,b.pairs.length],c,d);if(h.err)return h;d=h.offset;for(var i=0;i<b.pairs.length;i++){var j=b.pairs[i];if((h=e.poolWriteInto(a,j.key,c,d)).err||(d=h.offset,(h=g.poolWriteInto(a,j.val,c,d)).err))return h;d=h.offset}return a.reset(null,d)},i.prototype.poolReadFrom=function(a,b,c){var d=this.headerRW.poolReadFrom(a,b,c);if(d.err)return d;c=d.offset;var e=d.value[0],i=d.value[1],j=d.value[2];if(j<0)return a.reset(f.InvalidSizeError({size:j,what:"map::size"}),c);var k=new h(e,i),l=this.ttypes[k.ktypeid];if(!l)return a.reset(f.InvalidTypeidError({what:"map::ktype",typeid:k.ktypeid}),c);var m=this.ttypes[k.vtypeid];if(!m)return a.reset(f.InvalidTypeidError({what:"map::vtype",typeid:k.vtypeid}),c);for(var n=0;n<j;n++){if((d=l.poolReadFrom(a,b,c)).err)return d;c=d.offset;var o=d.value;if((d=m.poolReadFrom(a,b,c)).err)return d;c=d.offset;var p=d.value;k.pairs.push(g(o,p))}return a.reset(null,c,k)},a.exports.TPair=g,a.exports.TMap=h,a.exports.TMapRW=i},83096:(a,b,c)=>{"use strict";b.__esModule=!0,b.SourceLocation=function(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}},b.id=function(a){return/^\[.*\]$/.test(a)?a.substring(1,a.length-1):a},b.stripFlags=function(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}},b.stripComment=function(a){return a.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},b.preparePath=function(a,b,c){c=this.locInfo(c);for(var e=a?"@":"",f=[],g=0,h=0,i=b.length;h<i;h++){var j=b[h].part,k=b[h].original!==j;if(e+=(b[h].separator||"")+j,k||".."!==j&&"."!==j&&"this"!==j)f.push(j);else if(f.length>0)throw new d.default("Invalid path: "+e,{loc:c});else".."===j&&g++}return{type:"PathExpression",data:a,depth:g,parts:f,original:e,loc:c}},b.prepareMustache=function(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2);return{type:/\*/.test(d)?"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:"{"!==g&&"&"!==g,strip:e,loc:this.locInfo(f)}},b.prepareRawBlock=function(a,b,c,d){e(a,c);var f={type:"Program",body:b,strip:{},loc:d=this.locInfo(d)};return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:d}},b.prepareBlock=function(a,b,c,f,g,h){f&&f.path&&e(a,f);var i=/\*/.test(a.open);b.blockParams=a.blockParams;var j=void 0,k=void 0;if(c){if(i)throw new d.default("Unexpected inverse block on decorator",c);c.chain&&(c.program.body[0].closeStrip=f.strip),k=c.strip,j=c.program}return g&&(g=j,j=b,b=g),{type:i?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:j,openStrip:a.strip,inverseStrip:k,closeStrip:f&&f.strip,loc:this.locInfo(h)}},b.prepareProgram=function(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,strip:{},loc:b}},b.preparePartialBlock=function(a,b,c,d){return e(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(d)}};var d=function(a){return a&&a.__esModule?a:{default:a}}(c(99008));function e(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new d.default(a.path.original+" doesn't match "+b,c)}}},83255:(a,b,c)=>{"use strict";var d=c(32355),e=c(42218),f=c(94214),g=c(41604);b.createStringifyContext=function(a,b){let c,d=Object.assign({blockQuote:!0,commentString:f.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},a.schema.toStringOptions,b);switch(d.collectionStyle){case"block":c=!1;break;case"flow":c=!0;break;default:c=null}return{anchors:new Set,doc:a,flowCollectionPadding:d.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof d.indent?" ".repeat(d.indent):"  ",inFlow:c,options:d}},b.stringify=function(a,b,c,f){let h;if(e.isPair(a))return a.toString(b,c,f);if(e.isAlias(a)){if(b.doc.directives)return a.toString(b);if(b.resolvedAliases?.has(a))throw TypeError("Cannot stringify circular structure without alias nodes");b.resolvedAliases?b.resolvedAliases.add(a):b.resolvedAliases=new Set([a]),a=a.resolve(b.doc)}let i=e.isNode(a)?a:b.doc.createNode(a,{onTagObj:a=>h=a});h??(h=function(a,b){let c,d;if(b.tag){let c=a.filter(a=>a.tag===b.tag);if(c.length>0)return c.find(a=>a.format===b.format)??c[0]}if(e.isScalar(b)){c=b.value;let e=a.filter(a=>a.identify?.(c));if(e.length>1){let a=e.filter(a=>a.test);a.length>0&&(e=a)}d=e.find(a=>a.format===b.format)??e.find(a=>!a.format)}else c=b,d=a.find(a=>a.nodeClass&&c instanceof a.nodeClass);if(!d){let a=c?.constructor?.name??(null===c?"null":typeof c);throw Error(`Tag not resolved for ${a} value`)}return d}(b.doc.schema.tags,i));let j=function(a,b,{anchors:c,doc:f}){if(!f.directives)return"";let g=[],h=(e.isScalar(a)||e.isCollection(a))&&a.anchor;h&&d.anchorIsValid(h)&&(c.add(h),g.push(`&${h}`));let i=a.tag??(b.default?null:b.tag);return i&&g.push(f.directives.tagString(i)),g.join(" ")}(i,h,b);j.length>0&&(b.indentAtStart=(b.indentAtStart??0)+j.length+1);let k="function"==typeof h.stringify?h.stringify(i,b,c,f):e.isScalar(i)?g.stringifyString(i,b,c,f):i.toString(b,c,f);return j?e.isScalar(i)||"{"===k[0]||"["===k[0]?`${j} ${k}`:`${j}
${b.indent}${k}`:k}},83361:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseBrandedDef=void 0;let d=c(31958);b.parseBrandedDef=function(a,b){return(0,d.parseDef)(a.type._def,b)}},83442:(a,b,c)=>{"use strict";c.r(b),c.d(b,{CompressionAlgorithm:()=>f.U,OTLPExporterBase:()=>g.S,OTLPExporterBrowserBase:()=>r,OTLPExporterError:()=>j.N,OTLPExporterNodeBase:()=>d.u,appendResourcePathToUrl:()=>h.Ir,appendRootPathToUrlIfNeeded:()=>h.u3,configureCompression:()=>e.Ft,configureExporterTimeout:()=>h.rH,createHttpAgent:()=>e.KX,invalidTimeout:()=>h.xl,parseHeaders:()=>h.QG,sendWithHttp:()=>e.Pk,sendWithXhr:()=>m});var d=c(144),e=c(28617),f=c(19136),g=c(595),h=c(89162),i=c(79361),j=c(13781),k=function(){return(k=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},l=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function m(a,b,c,d,e,f){var g,m,n=!1,o=setTimeout(function(){clearTimeout(g),n=!0,m.readyState===XMLHttpRequest.DONE?f(new j.N("Request Timeout")):m.abort()},d),p=function(d,q){void 0===d&&(d=h.J9),void 0===q&&(q=h.Tj),(m=new XMLHttpRequest).open("POST",b),Object.entries(k(k({},{Accept:"application/json","Content-Type":"application/json"}),c)).forEach(function(a){var b=l(a,2),c=b[0],d=b[1];m.setRequestHeader(c,d)}),m.send(a),m.onreadystatechange=function(){if(m.readyState===XMLHttpRequest.DONE&&!1===n)if(m.status>=200&&m.status<=299)i.s.debug("xhr success",a),e(),clearTimeout(o),clearTimeout(g);else if(m.status&&(0,h.$q)(m.status)&&d>0)q=h.Q5*q,g=setTimeout(function(){p(d-1,q)},m.getResponseHeader("Retry-After")?(0,h.u6)(m.getResponseHeader("Retry-After")):Math.round(Math.random()*(h.Rr-q)+q));else f(new j.N("Failed to export with XHR (status: "+m.status+")",m.status)),clearTimeout(o),clearTimeout(g)},m.onabort=function(){n&&f(new j.N("Request Timeout")),clearTimeout(o),clearTimeout(g)},m.onerror=function(){n&&f(new j.N("Request Timeout")),clearTimeout(o),clearTimeout(g)}};p()}var n=c(24774),o=c(66336),p=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),q=function(){return(q=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},r=function(a){function b(b,c,d){void 0===b&&(b={});var e=a.call(this,b)||this;return e._useXHR=!1,e._serializer=c,e._contentType=d,e._useXHR=!!b.headers||"function"!=typeof navigator.sendBeacon,e._useXHR?e._headers=Object.assign({},(0,h.QG)(b.headers),n.parseKeyPairsIntoRecord((0,o._)().OTEL_EXPORTER_OTLP_HEADERS)):e._headers={},e}return p(b,a),b.prototype.onInit=function(){},b.prototype.onShutdown=function(){},b.prototype.send=function(a,b,c){var d,e=this;if(this._shutdownOnce.isCalled)return void i.s.debug("Shutdown already started. Cannot send objects");var f=null!=(d=this._serializer.serializeRequest(a))?d:new Uint8Array,g=new Promise(function(a,b){if(e._useXHR)m(f,e.url,q(q({},e._headers),{"Content-Type":e._contentType}),e.timeoutMillis,a,b);else{var c,d;c=e.url,d={type:e._contentType},navigator.sendBeacon(c,new Blob([f],d))?(i.s.debug("sendBeacon - can send",f),a()):b(new j.N("sendBeacon - cannot send "+f))}}).then(b,c);this._sendingPromises.push(g);var h=function(){var a=e._sendingPromises.indexOf(g);e._sendingPromises.splice(a,1)};g.then(h,h)},b}(g.S)},83640:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ChannelImplementation=void 0;let d=c(97945),e=c(82126);class f{constructor(a,b,c){if("string"!=typeof a)throw TypeError("Channel target must be a string");if(!(b instanceof d.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(c&&"object"!=typeof c)throw TypeError("Channel options must be an object");this.internalChannel=new e.InternalChannel(a,b,c)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(a){return this.internalChannel.getConnectivityState(a)}watchConnectivityState(a,b,c){this.internalChannel.watchConnectivityState(a,b,c)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(a,b,c,d,e){if("string"!=typeof a)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof b||b instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(a,b,c,d,e)}}b.ChannelImplementation=f},83681:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseReadonlyDef=void 0;let d=c(31958);b.parseReadonlyDef=(a,b)=>(0,d.parseDef)(a.innerType._def,b)},83896:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(19518),b),e(c(20482),b),e(c(50130),b),e(c(90737),b),e(c(31958),b),e(c(37712),b),e(c(10715),b),e(c(91810),b),e(c(64710),b),e(c(74361),b),e(c(83361),b),e(c(85535),b),e(c(65431),b),e(c(90506),b),e(c(35427),b),e(c(17216),b),e(c(59320),b),e(c(73076),b),e(c(45055),b),e(c(26981),b),e(c(1735),b),e(c(43316),b),e(c(65756),b),e(c(65312),b),e(c(43638),b),e(c(56823),b),e(c(82141),b),e(c(65966),b),e(c(83681),b),e(c(32044),b),e(c(77949),b),e(c(93416),b),e(c(68575),b),e(c(57341),b),e(c(69316),b),e(c(90999),b),e(c(65549),b),e(c(96483),b),b.default=c(96483).zodToJsonSchema},83926:(a,b,c)=>{"use strict";Object.create;var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames;Object.getPrototypeOf;var g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{checkOp:()=>k,predictModel:()=>j}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(73396);function j(a,b,d){return async(e,f)=>{var g;let h=(await c.e(634).then(c.bind(c,40634))).default,j=await h((g={model:a,apiVersion:"v1beta",apiKey:b,method:d},`https://generativelanguage.googleapis.com/${g.apiVersion}/models/${g.model}:${g.method}?key=${g.apiKey}`),{method:"POST",body:JSON.stringify({instances:e,parameters:f}),headers:{"Content-Type":"application/json","X-Goog-Api-Client":(0,i.getGenkitClientHeader)()}});if(!j.ok)throw Error(`Error from Gemini AI predict: HTTP ${j.status}: ${await j.text()}`);return await j.json()}}async function k(a,b){var d;let e=(await c.e(634).then(c.bind(c,40634))).default,f=await e((d={apiVersion:"v1beta",operation:a,apiKey:b},`https://generativelanguage.googleapis.com/${d.apiVersion}/${d.operation}?key=${d.apiKey}`),{method:"GET",headers:{"Content-Type":"application/json","X-Goog-Api-Client":(0,i.getGenkitClientHeader)()}});if(!f.ok)throw Error(`Error from operation API: HTTP ${f.status}: ${await f.text()}`);return await f.json()}},84183:function(a,b,c){"use strict";var d,e=this&&this.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(b,"__esModule",{value:!0});var f=c(38623),g=new f.default,h=null,i=new(function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.startSpan=function(){var a=h||g;return a.startSpan.apply(a,arguments)},b.prototype.inject=function(){var a=h||g;return a.inject.apply(a,arguments)},b.prototype.extract=function(){var a=h||g;return a.extract.apply(a,arguments)},b}(f.default));b.initGlobalTracer=function(a){h=a},b.globalTracer=function(){return i}},84191:(a,b,c)=>{"use strict";c.r(b),c.d(b,{JaegerPropagator:()=>l,UBER_BAGGAGE_HEADER_PREFIX:()=>k,UBER_TRACE_ID_HEADER:()=>j});var d=c(88018),e=c(37002),f=c(54616),g=c(81588),h=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},j="uber-trace-id",k="uberctx",l=function(){function a(a){"string"==typeof a?(this._jaegerTraceHeader=a,this._jaegerBaggageHeaderPrefix=k):(this._jaegerTraceHeader=(null==a?void 0:a.customTraceHeader)||j,this._jaegerBaggageHeaderPrefix=(null==a?void 0:a.customBaggageHeaderPrefix)||k)}return a.prototype.inject=function(a,b,c){var j,k,l=d.u.getSpanContext(a),m=e.$.getBaggage(a);if(l&&!1===(0,g.Zf)(a)){var n="0"+(l.traceFlags||f.X.NONE).toString(16);c.set(b,this._jaegerTraceHeader,l.traceId+":"+l.spanId+":0:"+n)}if(m)try{for(var o=h(m.getAllEntries()),p=o.next();!p.done;p=o.next()){var q=i(p.value,2),r=q[0],s=q[1];c.set(b,this._jaegerBaggageHeaderPrefix+"-"+r,encodeURIComponent(s.value))}}catch(a){j={error:a}}finally{try{p&&!p.done&&(k=o.return)&&k.call(o)}finally{if(j)throw j.error}}},a.prototype.extract=function(a,b,c){var f,g,j,k=this,l=c.get(b,this._jaegerTraceHeader),n=Array.isArray(l)?l[0]:l,o=c.keys(b).filter(function(a){return a.startsWith(k._jaegerBaggageHeaderPrefix+"-")}).map(function(a){var d=c.get(b,a);return{key:a.substring(k._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(d)?d[0]:d}}),p=a;if("string"==typeof n){var q=function(a){var b=decodeURIComponent(a).split(":");if(4!==b.length)return null;var c=i(b,4),d=c[0],e=c[1],f=c[3];return{traceId:d.padStart(32,"0"),spanId:e.padStart(16,"0"),isRemote:!0,traceFlags:m.test(f)?1&parseInt(f,16):1}}(n);q&&(p=d.u.setSpanContext(p,q))}if(0===o.length)return p;var r=null!=(j=e.$.getBaggage(a))?j:e.$.createBaggage();try{for(var s=h(o),t=s.next();!t.done;t=s.next()){var u=t.value;void 0!==u.value&&(r=r.setEntry(u.key,{value:decodeURIComponent(u.value)}))}}catch(a){f={error:a}}finally{try{t&&!t.done&&(g=s.return)&&g.call(s)}finally{if(f)throw f.error}}return e.$.setBaggage(p,r)},a.prototype.fields=function(){return[this._jaegerTraceHeader]},a}(),m=/^[0-9a-f]{1,2}$/i},84596:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(k,{ResourceInputSchema:()=>o,ResourceOutputSchema:()=>p,defineResource:()=>s,dynamicResource:()=>w,findMatchingResource:()=>t,isDynamicResourceAction:()=>u,lookupResourceByName:()=>r,resolveResources:()=>q,resource:()=>v}),a.exports=j(e({},"__esModule",{value:!0}),k);var l=c(40979),m=((a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)))(c(58302)),n=c(14015);let o=l.z.object({uri:l.z.string()}),p=l.z.object({content:l.z.array(n.PartSchema)});async function q(a,b){return b&&0!==b.length?await Promise.all(b.map(async b=>{if("string"==typeof b)return await r(a,b);if((0,l.isAction)(b))return b;throw Error("Resources must be strings, or actions")})):[]}async function r(a,b){let c=await a.lookupAction(b)||await a.lookupAction(`/resource/${b}`)||await a.lookupAction(`/dynamic-action-provider/${b}`);if(!c)throw Error(`Resource ${b} not found`);return c}function s(a,b,c){let d=w(b,c);return d.matches=x(b.uri,b.template),a.registerAction("resource",d),d}async function t(a,b,c){for(let a of b)if(a.matches(c))return a;for(let b of Object.keys(await a.listResolvableActions()))if(b.startsWith("/resource/")){let d=await a.lookupAction(b);if(d.matches(c))return d}}function u(a){return(0,l.isAction)(a)&&!a.__registry}function v(a,b){return w(a,b)}function w(a,b){let c=a.uri??a.template;if(!c)throw new l.GenkitError({status:"INVALID_ARGUMENT",message:"must specify either url or template options"});let d=x(a.uri,a.template),e=(0,l.action)({actionType:"resource",name:a.name??c,description:a.description,inputSchema:o,outputSchema:p,metadata:{resource:{uri:a.uri,template:a.template},...a.metadata,type:"resource",dynamic:!0}},async(e,f)=>{if(!d(e))throw new l.GenkitError({status:"INVALID_ARGUMENT",message:`input ${e} did not match template ${c}`});let g=await b(e,f);return g.content.map(b=>(b.metadata||(b.metadata={}),b.metadata?.resource?!b.metadata.resource.parent&&(b.metadata.resource.parent={uri:e.uri},a.template&&(b.metadata.resource.parent.template=a.template)):(b.metadata.resource={uri:e.uri},a.template&&(b.metadata.resource.template=a.template)),b)),g});return e.matches=d,e.attach=a=>e,e}function x(a,b){if(a)return b=>b.uri===a;if(b){let a=(0,m.default)(b);return b=>void 0!==a.fromUri(b.uri)}throw new l.GenkitError({status:"INVALID_ARGUMENT",message:"must specify either url or template options"})}},84618:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{GENERIC_GEMINI_MODEL:()=>R,GeminiConfigSchema:()=>s,GeminiGemmaConfigSchema:()=>t,GeminiTtsConfigSchema:()=>u,SUPPORTED_GEMINI_MODELS:()=>Q,aggregateResponses:()=>$,cleanSchema:()=>Y,defineGoogleAIModel:()=>Z,fromGeminiCandidate:()=>X,gemini:()=>S,gemini10Pro:()=>v,gemini15Flash:()=>x,gemini15Flash8b:()=>y,gemini15Pro:()=>w,gemini20Flash:()=>z,gemini20FlashExp:()=>A,gemini20FlashLite:()=>B,gemini20ProExp0205:()=>C,gemini25Flash:()=>J,gemini25FlashLite:()=>K,gemini25FlashPreview0417:()=>D,gemini25FlashPreviewTts:()=>E,gemini25Pro:()=>I,gemini25ProExp0325:()=>F,gemini25ProPreview0325:()=>G,gemini25ProPreviewTts:()=>H,gemma312bit:()=>L,gemma31bit:()=>M,gemma327bit:()=>N,gemma34bit:()=>O,gemma3ne4bit:()=>P,toGeminiMessage:()=>V,toGeminiSystemInstruction:()=>W,toGeminiTool:()=>T}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(50212),j=c(6250),k=c(48145),l=c(5030),m=c(43264),n=c(73396),o=c(82701),p=c(69506);let q=j.z.object({category:j.z.enum(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:j.z.enum(["BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE"])}),r=j.z.object({prebuiltVoiceConfig:j.z.object({voiceName:j.z.union([j.z.enum(["Zephyr","Puck","Charon","Kore","Fenrir","Leda","Orus","Aoede","Callirrhoe","Autonoe","Enceladus","Iapetus","Umbriel","Algieba","Despina","Erinome","Algenib","Rasalgethi","Laomedeia","Achernar","Alnilam","Schedar","Gacrux","Pulcherrima","Achird","Zubenelgenubi","Vindemiatrix","Sadachbia","Sadaltager","Sulafat"]),j.z.string()]).describe("Name of the preset voice to use").optional()}).describe("Configuration for the prebuilt speaker to use").passthrough().optional()}).describe("Configuration for the voice to use").passthrough(),s=k.GenerationCommonConfigSchema.extend({temperature:j.z.number().min(0).max(2).describe(k.GenerationCommonConfigDescriptions.temperature+" The default value is 1.0.").optional(),topP:j.z.number().min(0).max(1).describe(k.GenerationCommonConfigDescriptions.topP+" The default value is 0.95.").optional(),apiKey:j.z.string().describe("Overrides the plugin-configured API key, if specified.").optional(),safetySettings:j.z.array(q).describe("Adjust how likely you are to see responses that could be harmful. Content is blocked based on the probability that it is harmful.").optional(),codeExecution:j.z.union([j.z.boolean(),j.z.object({}).strict()]).describe("Enables the model to generate and run code.").optional(),contextCache:j.z.boolean().describe("Context caching allows you to save and reuse precomputed input tokens that you wish to use repeatedly.").optional(),functionCallingConfig:j.z.object({mode:j.z.enum(["MODE_UNSPECIFIED","AUTO","ANY","NONE"]).optional(),allowedFunctionNames:j.z.array(j.z.string()).optional()}).describe("Controls how the model uses the provided tools (function declarations). With AUTO (Default) mode, the model decides whether to generate a natural language response or suggest a function call based on the prompt and context. With ANY, the model is constrained to always predict a function call and guarantee function schema adherence. With NONE, the model is prohibited from making function calls.").optional(),responseModalities:j.z.array(j.z.enum(["TEXT","IMAGE","AUDIO"])).describe("The modalities to be used in response. Only supported for 'gemini-2.0-flash-exp' model at present.").optional(),googleSearchRetrieval:j.z.union([j.z.boolean(),j.z.object({}).passthrough()]).describe("Retrieve public web data for grounding, powered by Google Search.").optional(),thinkingConfig:j.z.object({includeThoughts:j.z.boolean().describe("Indicates whether to include thoughts in the response.If true, thoughts are returned only when available.").optional(),thinkingBudget:j.z.number().min(0).max(24576).describe("The thinking budget parameter gives the model guidance on the number of thinking tokens it can use when generating a response. A greater number of tokens is typically associated with more detailed thinking, which is needed for solving more complex tasks. Setting the thinking budget to 0 disables thinking.").optional()}).optional()}).passthrough(),t=s.extend({temperature:j.z.number().min(0).max(1).describe(k.GenerationCommonConfigDescriptions.temperature+" The default value is 1.0.").optional()}).passthrough(),u=s.extend({speechConfig:j.z.object({voiceConfig:r.optional(),multiSpeakerVoiceConfig:j.z.object({speakerVoiceConfigs:j.z.array(j.z.object({speaker:j.z.string().describe("Name of the speaker to use"),voiceConfig:r}).describe("Configuration for a single speaker in a multi speaker setup").passthrough()).describe("Configuration for all the enabled speaker voices")}).describe("Configuration for multi-speaker setup").passthrough().optional()}).describe("Speech generation config").passthrough().optional()}).passthrough(),v=(0,k.modelRef)({name:"googleai/gemini-1.0-pro",info:{label:"Google AI - Gemini Pro",versions:["gemini-pro","gemini-1.0-pro-latest","gemini-1.0-pro-001"],supports:{multiturn:!0,media:!1,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:s}),w=(0,k.modelRef)({name:"googleai/gemini-1.5-pro",info:{label:"Google AI - Gemini 1.5 Pro",supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"},versions:["gemini-1.5-pro-latest","gemini-1.5-pro-001","gemini-1.5-pro-002"]},configSchema:s}),x=(0,k.modelRef)({name:"googleai/gemini-1.5-flash",info:{label:"Google AI - Gemini 1.5 Flash",supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools",contextCache:!0},versions:["gemini-1.5-flash-latest","gemini-1.5-flash-001","gemini-1.5-flash-002"]},configSchema:s}),y=(0,k.modelRef)({name:"googleai/gemini-1.5-flash-8b",info:{label:"Google AI - Gemini 1.5 Flash",supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"},versions:["gemini-1.5-flash-8b-latest","gemini-1.5-flash-8b-001"]},configSchema:s}),z=(0,k.modelRef)({name:"googleai/gemini-2.0-flash",info:{label:"Google AI - Gemini 2.0 Flash",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:s}),A=(0,k.modelRef)({name:"googleai/gemini-2.0-flash-exp",info:{label:"Google AI - Gemini 2.0 Flash (Experimental)",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:s}),B=(0,k.modelRef)({name:"googleai/gemini-2.0-flash-lite",info:{label:"Google AI - Gemini 2.0 Flash Lite",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:s}),C=(0,k.modelRef)({name:"googleai/gemini-2.0-pro-exp-02-05",info:{label:"Google AI - Gemini 2.0 Pro Exp 02-05",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:s}),D=(0,k.modelRef)({name:"googleai/gemini-2.5-flash-preview-04-17",info:{label:"Google AI - Gemini 2.5 Flash Preview 04-17",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:s}),E=(0,k.modelRef)({name:"googleai/gemini-2.5-flash-preview-tts",info:{label:"Google AI - Gemini 2.5 Flash Preview TTS",versions:[],supports:{multiturn:!1,media:!1,tools:!1,toolChoice:!1,systemRole:!1,constrained:"no-tools"}},configSchema:u}),F=(0,k.modelRef)({name:"googleai/gemini-2.5-pro-exp-03-25",info:{label:"Google AI - Gemini 2.5 Pro Exp 03-25",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:s}),G=(0,k.modelRef)({name:"googleai/gemini-2.5-pro-preview-03-25",info:{label:"Google AI - Gemini 2.5 Pro Preview 03-25",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:s}),H=(0,k.modelRef)({name:"googleai/gemini-2.5-pro-preview-tts",info:{label:"Google AI - Gemini 2.5 Pro Preview TTS",versions:[],supports:{multiturn:!1,media:!1,tools:!1,toolChoice:!1,systemRole:!1,constrained:"no-tools"}},configSchema:u}),I=(0,k.modelRef)({name:"googleai/gemini-2.5-pro",info:{label:"Google AI - Gemini 2.5 Pro",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:s}),J=(0,k.modelRef)({name:"googleai/gemini-2.5-flash",info:{label:"Google AI - Gemini 2.5 Flash",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:s}),K=(0,k.modelRef)({name:"googleai/gemini-2.5-flash-lite",info:{label:"Google AI - Gemini 2.5 Flash Lite",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:s}),L=(0,k.modelRef)({name:"googleai/gemma-3-12b-it",info:{label:"Google AI - Gemma 3 12B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:t}),M=(0,k.modelRef)({name:"googleai/gemma-3-1b-it",info:{label:"Google AI - Gemma 3 1B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:t}),N=(0,k.modelRef)({name:"googleai/gemma-3-27b-it",info:{label:"Google AI - Gemma 3 27B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:t}),O=(0,k.modelRef)({name:"googleai/gemma-3-4b-it",info:{label:"Google AI - Gemma 3 4B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:t}),P=(0,k.modelRef)({name:"googleai/gemma-3n-e4b-it",info:{label:"Google AI - Gemma 3n E4B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:t}),Q={"gemini-1.5-pro":w,"gemini-1.5-flash":x,"gemini-1.5-flash-8b":y,"gemini-2.0-pro-exp-02-05":C,"gemini-2.0-flash":z,"gemini-2.0-flash-lite":B,"gemini-2.0-flash-exp":A,"gemini-2.5-pro-exp-03-25":F,"gemini-2.5-pro-preview-03-25":G,"gemini-2.5-pro-preview-tts":H,"gemini-2.5-flash-preview-04-17":D,"gemini-2.5-flash-preview-tts":E,"gemini-2.5-flash":J,"gemini-2.5-flash-lite":K,"gemini-2.5-pro":I,"gemma-3-12b-it":L,"gemma-3-1b-it":M,"gemma-3-27b-it":N,"gemma-3-4b-it":O,"gemma-3n-e4b-it":P},R=(0,k.modelRef)({name:"googleai/gemini",configSchema:s,info:{label:"Google Gemini",supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}}});function S(a,b={}){let c=function(a,b={}){let c=Object.keys(Q).filter(b=>a.startsWith(b)).reduce((a,b)=>b.length>a.length?b:a,"");return c?Q[c].withConfig({...b,version:a}):R.withConfig({...b,version:a})}(a);return(0,k.modelRef)({name:`googleai/${a}`,config:b,configSchema:s,info:{...c.info,label:c.name.endsWith(a)?c.info?.label:`Google AI - ${a}`}})}function T(a){return{name:a.name.replace(/\//g,"__"),description:a.description,parameters:function a(b){let c;if(!b||!b.type)return;let d={};if(b.description&&(d.description=b.description),b.enum&&(d.type=i.SchemaType.STRING,d.enum=b.enum),b.nullable&&(d.nullable=b.nullable),Array.isArray(b.type)){let a=b.type;a.includes("null")&&(d.nullable=!0),c=a.find(a=>"null"!==a)}else c=b.type;if("object"===c){let c={};return Object.keys(b.properties??{}).forEach(d=>{c[d]=a(b.properties[d])}),{...d,type:i.SchemaType.OBJECT,properties:c,required:b.required}}{if("array"===c)return{...d,type:i.SchemaType.ARRAY,items:a(b.items)};let e=i.SchemaType[c.toUpperCase()];if(!e)throw new j.GenkitError({status:"INVALID_ARGUMENT",message:`Unsupported property type ${c.toUpperCase()}`});return{...d,type:e}}}(a.inputSchema)}}function U(a){if(void 0!==a.text)return{text:a.text||" "};if(a.media){if(a.media.url.startsWith("data:")){let b=a.media.url,c=b.substring(b.indexOf(",")+1);return{inlineData:{mimeType:a.media.contentType||b.substring(b.indexOf(":")+1,b.indexOf(";")),data:c}}}if(!a.media.contentType)throw Error("Must supply a `contentType` when sending File URIs to Gemini.");return{fileData:{mimeType:a.media.contentType,fileUri:a.media.url}}}if(a.toolRequest){if(!a?.toolRequest?.input)throw Error("Invalid ToolRequestPart: input was missing.");return{functionCall:{name:a.toolRequest.name,args:a.toolRequest.input}}}if(a.toolResponse){if(!a?.toolResponse?.output)throw Error("Invalid ToolResponsePart: output was missing.");return{functionResponse:{name:a.toolResponse.name,response:{name:a.toolResponse.name,content:a.toolResponse.output}}}}if(a.custom){if(!a.custom)throw Error("Invalid GeminiPart: missing custom");if(a.custom.codeExecutionResult)return{codeExecutionResult:a.custom.codeExecutionResult};if(a.custom.executableCode)return{executableCode:a.custom.executableCode};throw Error("Unsupported Custom Part type")}if("string"==typeof a.reasoning){let b={thought:!0};return a.metadata?.thoughtSignature&&(b.thoughtSignature=a.metadata.thoughtSignature),a.reasoning?.length&&(b.text=a.reasoning),b}throw Error("Unsupported Part type"+JSON.stringify(a))}function V(a,b){let c=a.content;return"tool"===a.role&&(c=[...a.content].sort((a,b)=>{let c=a.toolResponse?.ref,d=b.toolResponse?.ref;return c||d?c?d?Number.parseInt(c,10)-Number.parseInt(d,10):-1:1:0})),{role:function(a,b){switch(a){case"user":default:return"user";case"model":return"model";case"system":if(b?.info?.supports?.systemRole)throw Error("system role is only supported for a single message in the first position");throw Error("system role is not supported");case"tool":return"function"}}(a.role,b),parts:c.map(U)}}function W(a){return{role:"user",parts:a.content.map(U)}}function X(a,b=!1){let c=a.content?.parts||[];return{index:a.index||0,message:{role:"model",content:c.map((a,b)=>(function(a,b,c){if("thought"in a)return{reasoning:a.text||"",metadata:{thoughtSignature:a.thoughtSignature}};if("string"==typeof a.text)return{text:a.text};if(a.inlineData){if(!a.inlineData||!a.inlineData.hasOwnProperty("mimeType")||!a.inlineData.hasOwnProperty("data"))throw Error("Invalid InlineDataPart: missing required properties");let{mimeType:b,data:c}=a.inlineData;return{media:{url:`data:${b};base64,${c}`,contentType:b}}}if(a.functionCall){if(!a.functionCall)throw Error("Invalid FunctionCallPart");return{toolRequest:{name:a.functionCall.name,input:a.functionCall.args,ref:c}}}if(a.functionResponse){if(!a.functionResponse)throw Error("Invalid FunctionResponsePart.");return{toolResponse:{name:a.functionResponse.name.replace(/__/g,"/"),output:a.functionResponse.response}}}if(a.executableCode){if(!a.executableCode)throw Error("Invalid GeminiPart: missing executableCode");return{custom:{executableCode:{language:a.executableCode.language,code:a.executableCode.code}}}}if(a.codeExecutionResult){if(!a.codeExecutionResult)throw Error("Invalid GeminiPart: missing codeExecutionResult");return{custom:{codeExecutionResult:{outcome:a.codeExecutionResult.outcome,output:a.codeExecutionResult.output}}}}throw Error("Unsupported GeminiPart type: "+JSON.stringify(a))})(a,0,b.toString()))},finishReason:function(a){if(!a)return"unknown";switch(a){case"STOP":return"stop";case"MAX_TOKENS":return"length";case"SAFETY":case"RECITATION":return"blocked";default:return"unknown"}}(a.finishReason),finishMessage:a.finishMessage,custom:{safetyRatings:a.safetyRatings,citationMetadata:a.citationMetadata}}}function Y(a){let b=structuredClone(a);for(let a in b){if("$schema"===a||"additionalProperties"===a){delete b[a];continue}"object"==typeof b[a]&&(b[a]=Y(b[a])),"type"===a&&Array.isArray(b[a])&&(b[a]=b[a].find(a=>"null"!==a))}return b}function Z({ai:a,name:b,apiKey:c,apiVersion:d,baseUrl:e,info:f,defaultConfig:g,debugTraces:h}){let q;if(!1!==c&&!(q=c||(0,n.getApiKeyFromEnvVar)()))throw new j.GenkitError({status:"FAILED_PRECONDITION",message:"Please pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable.\nFor more details see https://genkit.dev/docs/plugins/google-genai"});let r=b.startsWith("googleai/")?b.substring(9):b,t=Q[r]??(0,k.modelRef)({name:`googleai/${r}`,info:{label:`Google AI - ${r}`,supports:{multiturn:!0,media:!0,tools:!0,systemRole:!0,output:["text","json"]},...f},configSchema:s}),u=[];return t.info?.supports?.media&&u.push((0,l.downloadRequestMedia)({maxBytes:0xa00000,filter:a=>{try{let b=new URL(a.media.url);if(["generativelanguage.googleapis.com","www.youtube.com","youtube.com","youtu.be"].includes(b.hostname))return!1}catch{}return!0}})),a.defineModel({apiVersion:"v2",name:t.name,...t.info,configSchema:t.configSchema,use:u},async(b,{streamingRequested:c,sendChunk:f,abortSignal:l})=>{let s,u,v,w={apiClient:(0,n.getGenkitClientHeader)()};d&&(w.apiVersion=d),d&&(w.baseUrl=e);let x={...g,...b.config},y=[...b.messages];if(0===y.length)throw Error("No messages provided.");if(t.info?.supports?.systemRole){let a=y.find(a=>"system"===a.role);a&&(y.splice(y.indexOf(a),1),v=W(a))}let z=[];b.tools?.length&&z.push({functionDeclarations:b.tools.map(T)});let{apiKey:A,safetySettings:B,codeExecution:C,version:D,functionCallingConfig:E,googleSearchRetrieval:F,tools:G,...H}=x;C&&z.push({codeExecution:!0===b.config.codeExecution?{}:b.config.codeExecution}),G&&z.push(...G),F&&z.push({googleSearch:!0===F?{}:F}),E?s={functionCallingConfig:{allowedFunctionNames:E.allowedFunctionNames,mode:function(a){if(void 0!==a)switch(a){case"MODE_UNSPECIFIED":return i.FunctionCallingMode.MODE_UNSPECIFIED;case"ANY":return i.FunctionCallingMode.ANY;case"AUTO":return i.FunctionCallingMode.AUTO;case"NONE":return i.FunctionCallingMode.NONE;default:throw Error(`unsupported function calling mode: ${a}`)}}(E.mode)}}:b.toolChoice&&(s={functionCallingConfig:{mode:function(a){if(void 0!==a)switch(a){case"required":return i.FunctionCallingMode.ANY;case"auto":return i.FunctionCallingMode.AUTO;case"none":return i.FunctionCallingMode.NONE;default:throw Error(`unsupported function calling mode: ${a}`)}}(b.toolChoice)}});let I=b.output?.format==="json"||b.output?.contentType==="application/json"&&0===z.length,J={...H,candidateCount:b.candidates||void 0,responseMimeType:I?"application/json":void 0};b.output?.constrained&&I&&(J.responseSchema=Y(b.output.schema));let K=V(y[y.length-1],t),L=a=>X(a,I),M={systemInstruction:v,generationConfig:J,tools:z.length?z:void 0,toolConfig:s,history:y.slice(0,-1).map(a=>V(a,t)),safetySettings:B},N=D||t.version||r,O=(0,p.extractCacheConfig)(b),{chatRequest:P,cache:Q}=await (0,o.handleCacheIfNeeded)(q,b,M,N,O);if(!A&&!q)throw new j.GenkitError({status:"INVALID_ARGUMENT",message:"GoogleAI plugin was initialized with {apiKey: false} but no apiKey configuration was passed at call time."});let R=new i.GoogleGenerativeAI(A||q);u=Q?R.getGenerativeModelFromCachedContent(Q,{model:N},w):R.getGenerativeModel({model:N},w);let S=async()=>{let a;if(c){let b=await u.startChat(P).sendMessageStream(K.parts,{...w,signal:l}),c=[];for await(let a of b.stream)c.push(a),a.candidates?.forEach(a=>{let b=L(a);f({index:b.index,content:b.message.content})});a=$(c)}else a=(await u.startChat(P).sendMessage(K.parts,{...w,signal:l})).response;let d=a.candidates||[];if(a.candidates?.undefined&&d.push(a.candidates.undefined),!d.length)throw new j.GenkitError({status:"FAILED_PRECONDITION",message:"No valid candidates returned."});let e=d.map(L)||[],g=a.usageMetadata;return{candidates:e,custom:a,usage:{...(0,k.getBasicUsageStats)(b.messages,e),inputTokens:g?.promptTokenCount,outputTokens:g?.candidatesTokenCount,thoughtsTokens:g?.thoughtsTokenCount,totalTokens:g?.totalTokenCount,cachedContentTokens:g?.cachedContentTokenCount}}};return h?await (0,m.runInNewSpan)(a.registry,{metadata:{name:c?"sendMessageStream":"sendMessage"}},async a=>{a.input={sdk:"@google/generative-ai",cache:Q,model:u.model,chatOptions:P,parts:K.parts,options:w};let b=await S();return a.output=b.custom,b}):await S()})}function $(a){let b=a[a.length-1],c={promptFeedback:b?.promptFeedback};for(let b of a){if(b.candidates){let a=0;for(let d of b.candidates)if(c.candidates||(c.candidates=[]),c.candidates[a]||(c.candidates[a]={index:a}),c.candidates[a].citationMetadata=d.citationMetadata,c.candidates[a].groundingMetadata=d.groundingMetadata,c.candidates[a].finishReason=d.finishReason,c.candidates[a].finishMessage=d.finishMessage,c.candidates[a].safetyRatings=d.safetyRatings,d.content&&d.content.parts)for(let b of(c.candidates[a].content||(c.candidates[a].content={role:d.content.role||"user",parts:[]}),d.content.parts)){let d={};b.text&&(d.text=b.text),b.thought&&(d.thought=b.thought),b.thoughtSignature&&(d.thoughtSignature=b.thoughtSignature),b.functionCall&&(d.functionCall=b.functionCall),b.executableCode&&(d.executableCode=b.executableCode),b.codeExecutionResult&&(d.codeExecutionResult=b.codeExecutionResult),0===Object.keys(d).length&&(d.text=""),c.candidates[a].content.parts.push(d)}a++}b.usageMetadata&&(c.usageMetadata=b.usageMetadata)}return c}},85327:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>d(a,b,c)>0},85371:(a,b,c)=>{"use strict";var d=c(89220),e=c(82740),f=new d.String(d.Int32BE,"utf-8");function g(a){this.annotations=a}g.prototype.rw=f,g.prototype.name="string",g.prototype.typeid=e.STRING,g.prototype.surface=String,g.prototype.models="type",a.exports.StringRW=f,a.exports.ThriftString=g},85467:(a,b,c)=>{"use strict";var d=c(42218),e=c(83255),f=c(94214);function g({indent:a,options:{commentString:b}},c,d,e){if(d&&e&&(d=d.replace(/^\n+/,"")),d){let e=f.indentComment(b(d),a);c.push(e.trimStart())}}b.stringifyCollection=function(a,b,c){return(b.inFlow??a.flow?function({items:a},b,{flowChars:c,itemIndent:h}){let{indent:i,indentStep:j,flowCollectionPadding:k,options:{commentString:l}}=b,m=Object.assign({},b,{indent:h+=j,inFlow:!0,type:null}),n=!1,o=0,p=[];for(let c=0;c<a.length;++c){let i=a[c],j=null;if(d.isNode(i))i.spaceBefore&&p.push(""),g(b,p,i.commentBefore,!1),i.comment&&(j=i.comment);else if(d.isPair(i)){let a=d.isNode(i.key)?i.key:null;a&&(a.spaceBefore&&p.push(""),g(b,p,a.commentBefore,!1),a.comment&&(n=!0));let c=d.isNode(i.value)?i.value:null;c?(c.comment&&(j=c.comment),c.commentBefore&&(n=!0)):null==i.value&&a?.comment&&(j=a.comment)}j&&(n=!0);let k=e.stringify(i,m,()=>j=null);c<a.length-1&&(k+=","),j&&(k+=f.lineComment(k,h,l(j))),!n&&(p.length>o||k.includes("\n"))&&(n=!0),p.push(k),o=p.length}let{start:q,end:r}=c;if(0===p.length)return q+r;if(!n){let a=p.reduce((a,b)=>a+b.length+2,2);n=b.options.lineWidth>0&&a>b.options.lineWidth}if(!n)return`${q}${k}${p.join(" ")}${k}${r}`;{let a=q;for(let b of p)a+=b?`
${j}${i}${b}`:"\n";return`${a}
${i}${r}`}}:function({comment:a,items:b},c,{blockItemPrefix:h,flowChars:i,itemIndent:j,onChompKeep:k,onComment:l}){let m,{indent:n,options:{commentString:o}}=c,p=Object.assign({},c,{indent:j,type:null}),q=!1,r=[];for(let a=0;a<b.length;++a){let i=b[a],k=null;if(d.isNode(i))!q&&i.spaceBefore&&r.push(""),g(c,r,i.commentBefore,q),i.comment&&(k=i.comment);else if(d.isPair(i)){let a=d.isNode(i.key)?i.key:null;a&&(!q&&a.spaceBefore&&r.push(""),g(c,r,a.commentBefore,q))}q=!1;let l=e.stringify(i,p,()=>k=null,()=>q=!0);k&&(l+=f.lineComment(l,j,o(k))),q&&k&&(q=!1),r.push(h+l)}if(0===r.length)m=i.start+i.end;else{m=r[0];for(let a=1;a<r.length;++a){let b=r[a];m+=b?`
${n}${b}`:"\n"}}return a?(m+="\n"+f.indentComment(o(a),n),l&&l()):q&&k&&k(),m})(a,b,c)}},85535:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseCatchDef=void 0;let d=c(31958);b.parseCatchDef=(a,b)=>(0,d.parseDef)(a.innerType._def,b)},85584:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.spanToThrift=void 0;let d=c(68948),e=c(26061),f=c(51227);function g(a){let b=typeof a;return"boolean"===b||"number"===b?a:String(a)}b.spanToThrift=function(a){let b=a.spanContext().traceId.padStart(32,"0"),c=b.slice(0,16),h=b.slice(16),i=a.parentSpanId?f.Utils.encodeInt64(a.parentSpanId):f.ThriftUtils.emptyBuffer,j=Object.keys(a.attributes).map(b=>({key:b,value:g(a.attributes[b])}));a.status.code!==d.SpanStatusCode.UNSET&&(j.push({key:"otel.status_code",value:d.SpanStatusCode[a.status.code]}),a.status.message&&j.push({key:"otel.status_description",value:a.status.message})),a.status.code===d.SpanStatusCode.ERROR&&j.push({key:"error",value:!0}),void 0!==a.kind&&a.kind!==d.SpanKind.INTERNAL&&j.push({key:"span.kind",value:d.SpanKind[a.kind].toLowerCase()}),Object.keys(a.resource.attributes).forEach(b=>j.push({key:b,value:g(a.resource.attributes[b])})),a.instrumentationLibrary&&(j.push({key:"otel.library.name",value:g(a.instrumentationLibrary.name)}),j.push({key:"otel.library.version",value:g(a.instrumentationLibrary.version)})),a.droppedAttributesCount&&j.push({key:"otel.dropped_attributes_count",value:g(a.droppedAttributesCount)}),a.droppedEventsCount&&j.push({key:"otel.dropped_events_count",value:g(a.droppedEventsCount)}),a.droppedLinksCount&&j.push({key:"otel.dropped_links_count",value:g(a.droppedLinksCount)});let k=f.ThriftUtils.getThriftTags(j),l=a.events.map(a=>{let b=[{key:"event",value:a.name}],c=a.attributes;return c&&Object.keys(c).forEach(a=>b.push({key:a,value:g(c[a])})),a.droppedAttributesCount&&b.push({key:"otel.event.dropped_attributes_count",value:a.droppedAttributesCount}),{timestamp:(0,e.hrTimeToMilliseconds)(a.time),fields:b}}),m=f.ThriftUtils.getThriftLogs(l);return{traceIdLow:f.Utils.encodeInt64(h),traceIdHigh:f.Utils.encodeInt64(c),spanId:f.Utils.encodeInt64(a.spanContext().spanId),parentSpanId:i,operationName:a.name,references:a.links.map(a=>{let b=f.ThriftReferenceType.FOLLOWS_FROM,c=a.context.traceId,d=f.Utils.encodeInt64(c.slice(0,16));return{traceIdLow:f.Utils.encodeInt64(c.slice(16)),traceIdHigh:d,spanId:f.Utils.encodeInt64(a.context.spanId),refType:b}}),flags:a.spanContext().traceFlags||1,startTime:f.Utils.encodeInt64((0,e.hrTimeToMicroseconds)(a.startTime)),duration:f.Utils.encodeInt64((0,e.hrTimeToMicroseconds)(a.duration)),tags:k,logs:m}}},85724:(a,b,c)=>{"use strict";var d=c(8408),e=c(24148);let f={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:a=>"nan"===a.slice(-3).toLowerCase()?NaN:"-"===a[0]?-1/0:1/0,stringify:e.stringifyNumber};b.float={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(a){let b=new d.Scalar(parseFloat(a)),c=a.indexOf(".");return -1!==c&&"0"===a[a.length-1]&&(b.minFractionDigits=a.length-c-1),b},stringify:e.stringifyNumber},b.floatExp={identify:a=>"number"==typeof a,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:a=>parseFloat(a),stringify(a){let b=Number(a.value);return isFinite(b)?b.toExponential():e.stringifyNumber(a)}},b.floatNaN=f},85783:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{GeminiEmbeddingConfigSchema:()=>n,SUPPORTED_MODELS:()=>r,TaskTypeSchema:()=>m,defineGoogleAIEmbedder:()=>s,geminiEmbedding001:()=>q,textEmbedding004:()=>p,textEmbeddingGecko001:()=>o}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(50212),j=c(6250),k=c(8110),l=c(73396);let m=j.z.enum(["RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING"]),n=j.z.object({apiKey:j.z.string().optional(),taskType:m.optional(),title:j.z.string().optional(),version:j.z.string().optional(),outputDimensionality:j.z.number().min(1).max(768).optional()}),o=(0,k.embedderRef)({name:"googleai/embedding-001",configSchema:n,info:{dimensions:768,label:"Google Gen AI - Text Embedding Gecko (Legacy)",supports:{input:["text"]}}}),p=(0,k.embedderRef)({name:"googleai/text-embedding-004",configSchema:n,info:{dimensions:768,label:"Google Gen AI - Text Embedding 001",supports:{input:["text"]}}}),q=(0,k.embedderRef)({name:"googleai/gemini-embedding-001",configSchema:n,info:{dimensions:768,label:"Google Gen AI - Gemini Embedding 001",supports:{input:["text"]}}}),r={"embedding-001":o,"text-embedding-004":p,"gemini-embedding-001":q};function s(a,b,c){let d;if(!1!==c.apiKey&&!(d=c?.apiKey||(0,l.getApiKeyFromEnvVar)()))throw Error("Please pass in the API key or set either GEMINI_API_KEY or GOOGLE_API_KEY environment variable.\nFor more details see https://genkit.dev/docs/plugins/google-genai");let e=r[b]??(0,k.embedderRef)({name:b,configSchema:n,info:{dimensions:768,label:`Google AI - ${b}`,supports:{input:["text","image","video"]}}}),f=e.name.startsWith("googleai/")?e.name.substring(9):e.name;return a.defineEmbedder({name:e.name,configSchema:n,info:e.info},async(a,b)=>{if(!1===c.apiKey&&!b?.apiKey)throw new j.GenkitError({status:"INVALID_ARGUMENT",message:"GoogleAI plugin was initialized with {apiKey: false} but no apiKey configuration was passed at call time."});let g=new i.GoogleGenerativeAI(b?.apiKey||d).getGenerativeModel({model:b?.version||e.config?.version||e.version||f});return{embeddings:await Promise.all(a.map(async a=>({embedding:(await g.embedContent({taskType:b?.taskType,title:b?.title,content:{role:"",parts:[{text:a.text}]},outputDimensionality:b?.outputDimensionality})).embedding.values})))}})}},85786:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RoundRobinLoadBalancer=void 0,b.setup=function(){(0,d.registerLoadBalancerType)(l,o,m)};let d=c(20606),e=c(80158),f=c(96269),g=c(38702),h=c(56458),i=c(41835),j=c(8557);function k(a){g.trace(h.LogVerbosity.DEBUG,"round_robin",a)}let l="round_robin";class m{getLoadBalancerName(){return l}constructor(){}toJsonObject(){return{[l]:{}}}static createFromJson(a){return new m}}class n{constructor(a,b=0){this.children=a,this.nextIndex=b}pick(a){let b=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,b.pick(a)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}}class o{constructor(a){this.channelControlHelper=a,this.children=[],this.currentState=e.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,d.createChildChannelControlHelper)(a,{updateState:(a,b,c)=>{this.currentState===e.ConnectivityState.READY&&a!==e.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),c&&(this.lastError=c),this.calculateAndUpdateState()}})}countChildrenWithState(a){return this.children.filter(b=>b.getConnectivityState()===a).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(e.ConnectivityState.READY)>0){let a=this.children.filter(a=>a.getConnectivityState()===e.ConnectivityState.READY),b=0;if(null!==this.currentReadyPicker){let c=this.currentReadyPicker.peekNextEndpoint();(b=a.findIndex(a=>(0,i.endpointEqual)(a.getEndpoint(),c)))<0&&(b=0)}this.updateState(e.ConnectivityState.READY,new n(a.map(a=>({endpoint:a.getEndpoint(),picker:a.getPicker()})),b),null)}else if(this.countChildrenWithState(e.ConnectivityState.CONNECTING)>0)this.updateState(e.ConnectivityState.CONNECTING,new f.QueuePicker(this),null);else if(this.countChildrenWithState(e.ConnectivityState.TRANSIENT_FAILURE)>0){let a=`round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:a}),a)}else this.updateState(e.ConnectivityState.IDLE,new f.QueuePicker(this),null);for(let a of this.children)a.getConnectivityState()===e.ConnectivityState.IDLE&&a.exitIdle()}}updateState(a,b,c){k(e.ConnectivityState[this.currentState]+" -> "+e.ConnectivityState[a]),a===e.ConnectivityState.READY?this.currentReadyPicker=b:this.currentReadyPicker=null,this.currentState=a,this.channelControlHelper.updateState(a,b,c)}resetSubchannelList(){for(let a of this.children)a.destroy();this.children=[]}updateAddressList(a,b,c,d){var g;if(!(b instanceof m))return!1;if(!a.ok)return 0===this.children.length&&this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker(a.error),a.error.details),!0;let h=Math.random()*a.value.length|0,l=(g=a.value,[...g.slice(h),...g.slice(0,h)]);if(this.resetSubchannelList(),0===l.length){let a=`No addresses resolved. Resolution note: ${d}`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:a}),a)}for(let a of(k("Connect to endpoint list "+l.map(i.endpointToString)),this.updatesPaused=!0,this.children=l.map(a=>new j.LeafLoadBalancer(a,this.childChannelControlHelper,c,d)),this.children))a.startConnecting();return this.updatesPaused=!1,this.calculateAndUpdateState(),!0}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return l}}b.RoundRobinLoadBalancer=o},85981:(a,b,c)=>{"use strict";var d=c(17350),e=c(78207),f=c(32557),g=c(51139),h=c(77750),i=c(85724),j=c(51905),k=c(27263),l=c(30430),m=c(3642),n=c(97167),o=c(470),p=c(28832),q=c(66164),r=c(2495),s=c(69023);let t=new Map([["core",k.schema],["failsafe",[d.map,f.seq,g.string]],["json",l.schema],["yaml11",q.schema],["yaml-1.1",q.schema]]),u={binary:m.binary,bool:h.boolTag,float:i.float,floatExp:i.floatExp,floatNaN:i.floatNaN,floatTime:s.floatTime,int:j.int,intHex:j.intHex,intOct:j.intOct,intTime:s.intTime,map:d.map,merge:n.merge,null:e.nullTag,omap:o.omap,pairs:p.pairs,seq:f.seq,set:r.set,timestamp:s.timestamp};b.coreKnownTags={"tag:yaml.org,2002:binary":m.binary,"tag:yaml.org,2002:merge":n.merge,"tag:yaml.org,2002:omap":o.omap,"tag:yaml.org,2002:pairs":p.pairs,"tag:yaml.org,2002:set":r.set,"tag:yaml.org,2002:timestamp":s.timestamp},b.getTags=function(a,b,c){let d=t.get(b);if(d&&!a)return c&&!d.includes(n.merge)?d.concat(n.merge):d.slice();let e=d;if(!e)if(Array.isArray(a))e=[];else{let a=Array.from(t.keys()).filter(a=>"yaml11"!==a).map(a=>JSON.stringify(a)).join(", ");throw Error(`Unknown schema "${b}"; use one of ${a} or define customTags array`)}if(Array.isArray(a))for(let b of a)e=e.concat(b);else"function"==typeof a&&(e=a(e.slice()));return c&&(e=e.concat(n.merge)),e.reduce((a,b)=>{let c="string"==typeof b?u[b]:b;if(!c){let a=JSON.stringify(b),c=Object.keys(u).map(a=>JSON.stringify(a)).join(", ");throw Error(`Unknown custom tag ${a}; use one of ${c}`)}return a.includes(c)||a.push(c),a},[])}},86038:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b,c,e,f)=>{"string"==typeof c&&(f=e,e=c,c=void 0);try{return new d(a instanceof d?a.version:a,c).inc(b,e,f).version}catch(a){return null}}},86224:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(58704),e=function(){function a(){}return a.prototype.context=function(){return this._context()},a.prototype.tracer=function(){return this._tracer()},a.prototype.setOperationName=function(a){return this._setOperationName(a),this},a.prototype.setBaggageItem=function(a,b){return this._setBaggageItem(a,b),this},a.prototype.getBaggageItem=function(a){return this._getBaggageItem(a)},a.prototype.setTag=function(a,b){var c;return this._addTags(((c={})[a]=b,c)),this},a.prototype.addTags=function(a){return this._addTags(a),this},a.prototype.log=function(a,b){return this._log(a,b),this},a.prototype.logEvent=function(a,b){return this._log({event:a,payload:b})},a.prototype.finish=function(a){this._finish(a)},a.prototype._context=function(){return d.spanContext},a.prototype._tracer=function(){return d.tracer},a.prototype._setOperationName=function(a){},a.prototype._setBaggageItem=function(a,b){},a.prototype._getBaggageItem=function(a){},a.prototype._addTags=function(a){},a.prototype._log=function(a,b){},a.prototype._finish=function(a){},a}();b.Span=e,b.default=e},86272:(a,b,c)=>{"use strict";b.__esModule=!0;var d=c(80496);b.default=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(!0===b)return f(this);if(!1===b||null==b)return e(this);if(d.isArray(b))if(b.length>0)return c.ids&&(c.ids=[c.name]),a.helpers.each(b,c);else return e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},a.exports=b.default},86459:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.Allow=b.MalformedJSON=b.PartialJSON=b.parseJSON=b.parse=void 0;let f=c(17293);Object.defineProperty(b,"Allow",{enumerable:!0,get:function(){return f.Allow}}),e(c(17293),b);class g extends Error{}b.PartialJSON=g;class h extends Error{}function i(a,b=f.Allow.ALL){if("string"!=typeof a)throw TypeError(`expecting str, got ${typeof a}`);if(!a.trim())throw Error(`${a} is empty`);return j(a.trim(),b)}b.MalformedJSON=h,b.parseJSON=i;let j=(a,b)=>{let c=a.length,d=0,e=a=>{throw new g(`${a} at position ${d}`)},i=a=>{throw new h(`${a} at position ${d}`)},j=()=>(o(),d>=c&&e("Unexpected end of input"),'"'===a[d])?k():"{"===a[d]?l():"["===a[d]?m():"null"===a.substring(d,d+4)||f.Allow.NULL&b&&c-d<4&&"null".startsWith(a.substring(d))?(d+=4,null):"true"===a.substring(d,d+4)||f.Allow.BOOL&b&&c-d<4&&"true".startsWith(a.substring(d))?(d+=4,!0):"false"===a.substring(d,d+5)||f.Allow.BOOL&b&&c-d<5&&"false".startsWith(a.substring(d))?(d+=5,!1):"Infinity"===a.substring(d,d+8)||f.Allow.INFINITY&b&&c-d<8&&"Infinity".startsWith(a.substring(d))?(d+=8,1/0):"-Infinity"===a.substring(d,d+9)||f.Allow._INFINITY&b&&1<c-d&&c-d<9&&"-Infinity".startsWith(a.substring(d))?(d+=9,-1/0):"NaN"===a.substring(d,d+3)||f.Allow.NAN&b&&c-d<3&&"NaN".startsWith(a.substring(d))?(d+=3,NaN):n(),k=()=>{let g=d,h=!1;for(d++;d<c&&('"'!==a[d]||h&&"\\"===a[d-1]);)h="\\"===a[d]&&!h,d++;if('"'==a.charAt(d))try{return JSON.parse(a.substring(g,++d-Number(h)))}catch(a){i(String(a))}else if(f.Allow.STR&b)try{return JSON.parse(a.substring(g,d-Number(h))+'"')}catch(b){return JSON.parse(a.substring(g,a.lastIndexOf("\\"))+'"')}e("Unterminated string literal")},l=()=>{d++,o();let g={};try{for(;"}"!==a[d];){if(o(),d>=c&&f.Allow.OBJ&b)return g;let e=k();o(),d++;try{let a=j();g[e]=a}catch(a){if(f.Allow.OBJ&b)return g;throw a}o(),","===a[d]&&d++}}catch(a){if(f.Allow.OBJ&b)return g;e("Expected '}' at end of object")}return d++,g},m=()=>{d++;let c=[];try{for(;"]"!==a[d];)c.push(j()),o(),","===a[d]&&d++}catch(a){if(f.Allow.ARR&b)return c;e("Expected ']' at end of array")}return d++,c},n=()=>{if(0===d){"-"===a&&i("Not sure what '-' is");try{return JSON.parse(a)}catch(c){if(f.Allow.NUM&b)try{return JSON.parse(a.substring(0,a.lastIndexOf("e")))}catch(a){}i(String(c))}}let g=d;for("-"===a[d]&&d++;a[d]&&-1===",]}".indexOf(a[d]);)d++;d!=c||f.Allow.NUM&b||e("Unterminated number literal");try{return JSON.parse(a.substring(g,d))}catch(b){"-"===a.substring(g,d)&&e("Not sure what '-' is");try{return JSON.parse(a.substring(g,a.lastIndexOf("e")))}catch(a){i(String(a))}}},o=()=>{for(;d<c&&" \n\r	".includes(a[d]);)d++};return j()};b.parse=i},87099:(a,b,c)=>{"use strict";let{normalizeIPv6:d,removeDotSegments:e,recomposeAuthority:f,normalizeComponentEncoding:g,isIPv4:h,nonSimpleDomain:i}=c(64508),{SCHEMES:j,getSchemeHandler:k}=c(23919);function l(a,b,c,d){let f={};return d||(a=o(m(a,c),c),b=o(m(b,c),c)),!(c=c||{}).tolerant&&b.scheme?(f.scheme=b.scheme,f.userinfo=b.userinfo,f.host=b.host,f.port=b.port,f.path=e(b.path||""),f.query=b.query):(void 0!==b.userinfo||void 0!==b.host||void 0!==b.port?(f.userinfo=b.userinfo,f.host=b.host,f.port=b.port,f.path=e(b.path||""),f.query=b.query):(b.path?("/"===b.path[0]?f.path=e(b.path):(void 0===a.userinfo&&void 0===a.host&&void 0===a.port||a.path?a.path?f.path=a.path.slice(0,a.path.lastIndexOf("/")+1)+b.path:f.path=b.path:f.path="/"+b.path,f.path=e(f.path)),f.query=b.query):(f.path=a.path,void 0!==b.query?f.query=b.query:f.query=a.query),f.userinfo=a.userinfo,f.host=a.host,f.port=a.port),f.scheme=a.scheme),f.fragment=b.fragment,f}function m(a,b){let c={host:a.host,scheme:a.scheme,userinfo:a.userinfo,port:a.port,path:a.path,query:a.query,nid:a.nid,nss:a.nss,uuid:a.uuid,fragment:a.fragment,reference:a.reference,resourceName:a.resourceName,secure:a.secure,error:""},d=Object.assign({},b),g=[],h=k(d.scheme||c.scheme);h&&h.serialize&&h.serialize(c,d),void 0!==c.path&&(d.skipEscape?c.path=unescape(c.path):(c.path=escape(c.path),void 0!==c.scheme&&(c.path=c.path.split("%3A").join(":")))),"suffix"!==d.reference&&c.scheme&&g.push(c.scheme,":");let i=f(c);if(void 0!==i&&("suffix"!==d.reference&&g.push("//"),g.push(i),c.path&&"/"!==c.path[0]&&g.push("/")),void 0!==c.path){let a=c.path;d.absolutePath||h&&h.absolutePath||(a=e(a)),void 0===i&&"/"===a[0]&&"/"===a[1]&&(a="/%2F"+a.slice(2)),g.push(a)}return void 0!==c.query&&g.push("?",c.query),void 0!==c.fragment&&g.push("#",c.fragment),g.join("")}let n=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function o(a,b){let c=Object.assign({},b),e={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},f=!1;"suffix"===c.reference&&(a=c.scheme?c.scheme+":"+a:"//"+a);let g=a.match(n);if(g){if(e.scheme=g[1],e.userinfo=g[3],e.host=g[4],e.port=parseInt(g[5],10),e.path=g[6]||"",e.query=g[7],e.fragment=g[8],isNaN(e.port)&&(e.port=g[5]),e.host)if(!1===h(e.host)){let a=d(e.host);e.host=a.host.toLowerCase(),f=a.isIPV6}else f=!0;void 0!==e.scheme||void 0!==e.userinfo||void 0!==e.host||void 0!==e.port||void 0!==e.query||e.path?void 0===e.scheme?e.reference="relative":void 0===e.fragment?e.reference="absolute":e.reference="uri":e.reference="same-document",c.reference&&"suffix"!==c.reference&&c.reference!==e.reference&&(e.error=e.error||"URI is not a "+c.reference+" reference.");let b=k(c.scheme||e.scheme);if(!c.unicodeSupport&&(!b||!b.unicodeSupport)&&e.host&&(c.domainHost||b&&b.domainHost)&&!1===f&&i(e.host))try{e.host=URL.domainToASCII(e.host.toLowerCase())}catch(a){e.error=e.error||"Host's domain name can not be converted to ASCII: "+a}(!b||b&&!b.skipNormalize)&&(-1!==a.indexOf("%")&&(void 0!==e.scheme&&(e.scheme=unescape(e.scheme)),void 0!==e.host&&(e.host=unescape(e.host))),e.path&&(e.path=escape(unescape(e.path))),e.fragment&&(e.fragment=encodeURI(decodeURIComponent(e.fragment)))),b&&b.parse&&b.parse(e,c)}else e.error=e.error||"URI can not be parsed.";return e}let p={SCHEMES:j,normalize:function(a,b){return"string"==typeof a?a=m(o(a,b),b):"object"==typeof a&&(a=o(m(a,b),b)),a},resolve:function(a,b,c){let d=c?Object.assign({scheme:"null"},c):{scheme:"null"},e=l(o(a,d),o(b,d),d,!0);return d.skipEscape=!0,m(e,d)},resolveComponent:l,equal:function(a,b,c){return"string"==typeof a?a=m(g(o(a=unescape(a),c),!0),{...c,skipEscape:!0}):"object"==typeof a&&(a=m(g(a,!0),{...c,skipEscape:!0})),"string"==typeof b?b=m(g(o(b=unescape(b),c),!0),{...c,skipEscape:!0}):"object"==typeof b&&(b=m(g(b,!0),{...c,skipEscape:!0})),a.toLowerCase()===b.toLowerCase()},serialize:m,parse:o};a.exports=p,a.exports.default=p,a.exports.fastUri=p},87130:(a,b,c)=>{"use strict";c.r(b),c.d(b,{OrderedMap:()=>l});var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function e(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}"function"==typeof SuppressedError&&SuppressedError;var f=function(){function a(a,b,c){void 0===c&&(c=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=a,this.o=b,this.l=c}return a.prototype.v=function(){var a=this,b=a.h.h===a;if(b&&1===a.l)a=a.i;else if(a.t)for(a=a.t;a.i;)a=a.i;else{if(b)return a.h;for(var c=a.h;c.t===a;)c=(a=c).h;a=c}return a},a.prototype.p=function(){var a=this;if(a.i){for(a=a.i;a.t;)a=a.t;return a}for(var b=a.h;b.i===a;)b=(a=b).h;return a.i!==b?b:a},a.prototype.T=function(){var a=this.h,b=this.i,c=b.t;return a.h===this?a.h=b:a.t===this?a.t=b:a.i=b,b.h=a,b.t=this,this.h=b,this.i=c,c&&(c.h=this),b},a.prototype.I=function(){var a=this.h,b=this.t,c=b.i;return a.h===this?a.h=b:a.t===this?a.t=b:a.i=b,b.h=a,b.i=this,this.h=b,this.t=c,c&&(c.h=this),b},a}(),g=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.O=1,b}return e(b,a),b.prototype.T=function(){var b=a.prototype.T.call(this);return this.M(),b.M(),b},b.prototype.I=function(){var b=a.prototype.I.call(this);return this.M(),b.M(),b},b.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},b}(f),h=function(){function a(a){void 0===a&&(a=0),this.iteratorType=a}return a.prototype.equals=function(a){return this.C===a.C},a}();function i(){throw RangeError("Iterator access denied!")}var j=function(a){function b(b,c){void 0===b&&(b=function(a,b){return a<b?-1:+(a>b)}),void 0===c&&(c=!1);var d=a.call(this)||this;return d.N=void 0,d.g=b,d.enableIndex=c,d.S=c?g:f,d.A=new d.S,d}return e(b,a),b.prototype.m=function(a,b){for(var c=this.A;a;){var d=this.g(a.u,b);if(d<0)a=a.i;else{if(!(d>0))return a;c=a,a=a.t}}return c},b.prototype.B=function(a,b){for(var c=this.A;a;)0>=this.g(a.u,b)?a=a.i:(c=a,a=a.t);return c},b.prototype.j=function(a,b){for(var c=this.A;a;){var d=this.g(a.u,b);if(d<0)c=a,a=a.i;else{if(!(d>0))return a;a=a.t}}return c},b.prototype.k=function(a,b){for(var c=this.A;a;)0>this.g(a.u,b)?(c=a,a=a.i):a=a.t;return c},b.prototype.R=function(a){for(;;){var b=a.h;if(b===this.A)return;if(1===a.l){a.l=0;return}if(a===b.t){var c=b.i;if(1===c.l)c.l=0,b.l=1,b===this.N?this.N=b.T():b.T();else if(c.i&&1===c.i.l){c.l=b.l,b.l=0,c.i.l=0,b===this.N?this.N=b.T():b.T();return}else c.t&&1===c.t.l?(c.l=1,c.t.l=0,c.I()):(c.l=1,a=b)}else{var c=b.t;if(1===c.l)c.l=0,b.l=1,b===this.N?this.N=b.I():b.I();else if(c.t&&1===c.t.l){c.l=b.l,b.l=0,c.t.l=0,b===this.N?this.N=b.I():b.I();return}else c.i&&1===c.i.l?(c.l=1,c.i.l=0,c.T()):(c.l=1,a=b)}}},b.prototype.G=function(a){if(1===this._)return void this.clear();for(var b=a;b.t||b.i;){if(b.i)for(b=b.i;b.t;)b=b.t;else b=b.t;var c=a.u;a.u=b.u,b.u=c;var d=a.o;a.o=b.o,b.o=d,a=b}this.A.t===b?this.A.t=b.h:this.A.i===b&&(this.A.i=b.h),this.R(b);var e=b.h;if(b===e.t?e.t=void 0:e.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;e!==this.A;)e.O-=1,e=e.h},b.prototype.P=function(a){for(var b="number"==typeof a?a:void 0,c="function"==typeof a?a:void 0,d=void 0===a?[]:void 0,e=0,f=this.N,g=[];g.length||f;)if(f)g.push(f),f=f.t;else{if(f=g.pop(),e===b)return f;d&&d.push(f),c&&c(f,e,this),e+=1,f=f.i}return d},b.prototype.q=function(a){for(;;){var b=a.h;if(0===b.l)return;var c=b.h;if(b===c.t){var d=c.i;if(d&&1===d.l){if(d.l=b.l=0,c===this.N)return;c.l=1,a=c;continue}if(a===b.i){if(a.l=0,a.t&&(a.t.h=b),a.i&&(a.i.h=c),b.i=a.t,c.t=a.i,a.t=b,a.i=c,c===this.N)this.N=a,this.A.h=a;else{var e=c.h;e.t===c?e.t=a:e.i=a}a.h=c.h,b.h=a,c.h=a,c.l=1}else{b.l=0,c===this.N?this.N=c.I():c.I(),c.l=1;return}}else{var d=c.t;if(d&&1===d.l){if(d.l=b.l=0,c===this.N)return;c.l=1,a=c;continue}if(a===b.t){if(a.l=0,a.t&&(a.t.h=c),a.i&&(a.i.h=b),c.i=a.t,b.t=a.i,a.t=c,a.i=b,c===this.N)this.N=a,this.A.h=a;else{var e=c.h;e.t===c?e.t=a:e.i=a}a.h=c.h,b.h=a,c.h=a,c.l=1}else{b.l=0,c===this.N?this.N=c.T():c.T(),c.l=1;return}}this.enableIndex&&(b.M(),c.M(),a.M());return}},b.prototype.D=function(a,b,c){if(void 0===this.N)return this._+=1,this.N=new this.S(a,b,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var d,e=this.A.t,f=this.g(e.u,a);if(0===f)return e.o=b,this._;if(f>0)e.t=new this.S(a,b),e.t.h=e,d=e.t,this.A.t=d;else{var g=this.A.i,h=this.g(g.u,a);if(0===h)return g.o=b,this._;if(h<0)g.i=new this.S(a,b),g.i.h=g,d=g.i,this.A.i=d;else{if(void 0!==c){var i=c.C;if(i!==this.A){var j=this.g(i.u,a);if(0===j)return i.o=b,this._;if(j>0){var k=i.v(),l=this.g(k.u,a);if(0===l)return k.o=b,this._;l<0&&(d=new this.S(a,b),void 0===k.i?(k.i=d,d.h=k):(i.t=d,d.h=i))}}}if(void 0===d)for(d=this.N;;){var m=this.g(d.u,a);if(m>0){if(void 0===d.t){d.t=new this.S(a,b),d.t.h=d,d=d.t;break}d=d.t}else{if(!(m<0))return d.o=b,this._;if(void 0===d.i){d.i=new this.S(a,b),d.i.h=d,d=d.i;break}d=d.i}}}}if(this.enableIndex)for(var n=d.h;n!==this.A;)n.O+=1,n=n.h;return this.q(d),this._+=1,this._},b.prototype.F=function(a,b){for(;a;){var c=this.g(a.u,b);if(c<0)a=a.i;else{if(!(c>0))return a;a=a.t}}return a||this.A},b.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},b.prototype.updateKeyByIterator=function(a,b){var c=a.C;if(c===this.A&&i(),1===this._)return c.u=b,!0;var d=c.p().u;if(c===this.A.t)return this.g(d,b)>0&&(c.u=b,!0);var e=c.v().u;return c===this.A.i?0>this.g(e,b)&&(c.u=b,!0):!(this.g(e,b)>=0||0>=this.g(d,b))&&(c.u=b,!0)},b.prototype.eraseElementByPos=function(a){if(a<0||a>this._-1)throw RangeError();var b=this.P(a);return this.G(b),this._},b.prototype.eraseElementByKey=function(a){if(0===this._)return!1;var b=this.F(this.N,a);return b!==this.A&&(this.G(b),!0)},b.prototype.eraseElementByIterator=function(a){var b=a.C;b===this.A&&i();var c=void 0===b.i;return 0===a.iteratorType?c&&a.next():c&&void 0!==b.t||a.next(),this.G(b),a},b.prototype.getHeight=function(){return 0===this._?0:function a(b){return b?Math.max(a(b.t),a(b.i))+1:0}(this.N)},b}(function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b}(function(){function a(){this._=0}return Object.defineProperty(a.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),a.prototype.size=function(){return this._},a.prototype.empty=function(){return 0===this._},a}())),k=function(a){function b(b,c,d,e){var f=a.call(this,b,c,e)||this;return f.container=d,f}return e(b,a),Object.defineProperty(b.prototype,"pointer",{get:function(){this.C===this.A&&i();var a=this;return new Proxy([],{get:function(b,c){return"0"===c?a.C.u:"1"===c?a.C.o:(b[0]=a.C.u,b[1]=a.C.o,b[c])},set:function(b,c,d){if("1"!==c)throw TypeError("prop must be 1");return a.C.o=d,!0}})},enumerable:!1,configurable:!0}),b.prototype.copy=function(){return new b(this.C,this.A,this.container,this.iteratorType)},b}(function(a){function b(b,c,d){var e=a.call(this,d)||this;return e.C=b,e.A=c,0===e.iteratorType?(e.pre=function(){return this.C===this.A.t&&i(),this.C=this.C.v(),this},e.next=function(){return this.C===this.A&&i(),this.C=this.C.p(),this}):(e.pre=function(){return this.C===this.A.i&&i(),this.C=this.C.p(),this},e.next=function(){return this.C===this.A&&i(),this.C=this.C.v(),this}),e}return e(b,a),Object.defineProperty(b.prototype,"index",{get:function(){var a=this.C,b=this.A.h;if(a===this.A)return b?b.O-1:0;var c=0;for(a.t&&(c+=a.t.O);a!==b;){var d=a.h;a===d.i&&(c+=1,d.t&&(c+=d.t.O)),a=d}return c},enumerable:!1,configurable:!0}),b.prototype.isAccessible=function(){return this.C!==this.A},b}(h)),l=function(a){function b(b,c,d){void 0===b&&(b=[]);var e=a.call(this,c,d)||this;return b.forEach(function(a){e.setElement(a[0],a[1])}),e}return e(b,a),b.prototype.begin=function(){return new k(this.A.t||this.A,this.A,this)},b.prototype.end=function(){return new k(this.A,this.A,this)},b.prototype.rBegin=function(){return new k(this.A.i||this.A,this.A,this,1)},b.prototype.rEnd=function(){return new k(this.A,this.A,this,1)},b.prototype.front=function(){if(0!==this._){var a=this.A.t;return[a.u,a.o]}},b.prototype.back=function(){if(0!==this._){var a=this.A.i;return[a.u,a.o]}},b.prototype.lowerBound=function(a){return new k(this.m(this.N,a),this.A,this)},b.prototype.upperBound=function(a){return new k(this.B(this.N,a),this.A,this)},b.prototype.reverseLowerBound=function(a){return new k(this.j(this.N,a),this.A,this)},b.prototype.reverseUpperBound=function(a){return new k(this.k(this.N,a),this.A,this)},b.prototype.forEach=function(a){this.P(function(b,c,d){a([b.u,b.o],c,d)})},b.prototype.setElement=function(a,b,c){return this.D(a,b,c)},b.prototype.getElementByPos=function(a){if(a<0||a>this._-1)throw RangeError();var b=this.P(a);return[b.u,b.o]},b.prototype.find=function(a){return new k(this.F(this.N,a),this.A,this)},b.prototype.getElementByKey=function(a){return this.F(this.N,a).o},b.prototype.union=function(a){var b=this;return a.forEach(function(a){b.setElement(a[0],a[1])}),this._},b.prototype[Symbol.iterator]=function(){var a,b,c,d;return function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(h){return function(i){var j=[h,i];if(c)throw TypeError("Generator is already executing.");for(;f&&(f=0,j[0]&&(g=0)),g;)try{if(c=1,d&&(e=2&j[0]?d.return:j[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,j[1])).done)return e;switch(d=0,e&&(j=[2&j[0],e.value]),j[0]){case 0:case 1:e=j;break;case 4:return g.label++,{value:j[1],done:!1};case 5:g.label++,d=j[1],j=[0];continue;case 7:j=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===j[0]||2===j[0])){g=0;continue}if(3===j[0]&&(!e||j[1]>e[0]&&j[1]<e[3])){g.label=j[1];break}if(6===j[0]&&g.label<e[1]){g.label=e[1],e=j;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(j);break}e[2]&&g.ops.pop(),g.trys.pop();continue}j=b.call(a,g)}catch(a){j=[6,a],d=0}finally{c=e=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}}(this,function(e){switch(e.label){case 0:a=this._,b=this.P(),c=0,e.label=1;case 1:if(!(c<a))return[3,4];return[4,[(d=b[c]).u,d.o]];case 2:e.sent(),e.label=3;case 3:return++c,[3,1];case 4:return[2]}})},b}(j)},87713:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904),e=c(46178),f=c(55832),g=c(5896);b.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{schema:b,parentSchema:c,it:d}=a,{prefixItems:h}=c;d.items=!0,(0,e.alwaysValidSchema)(d,b)||(h?(0,g.validateAdditionalItems)(a,h):a.ok((0,f.validateArray)(a)))}}},87928:(a,b,c)=>{"use strict";var d=c(14755),e=c(42218),f=c(89344);function g(a,b,c){let e=c;for(let a=b.length-1;a>=0;--a){let c=b[a];if("number"==typeof c&&Number.isInteger(c)&&c>=0){let a=[];a[c]=e,e=a}else e=new Map([[c,e]])}return d.createNode(e,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw Error("This should not happen, please report a bug.")},schema:a,sourceObjects:new Map})}let h=a=>null==a||"object"==typeof a&&!!a[Symbol.iterator]().next().done;class i extends f.NodeBase{constructor(a,b){super(a),Object.defineProperty(this,"schema",{value:b,configurable:!0,enumerable:!1,writable:!0})}clone(a){let b=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return a&&(b.schema=a),b.items=b.items.map(b=>e.isNode(b)||e.isPair(b)?b.clone(a):b),this.range&&(b.range=this.range.slice()),b}addIn(a,b){if(h(a))this.add(b);else{let[c,...d]=a,f=this.get(c,!0);if(e.isCollection(f))f.addIn(d,b);else if(void 0===f&&this.schema)this.set(c,g(this.schema,d,b));else throw Error(`Expected YAML collection at ${c}. Remaining path: ${d}`)}}deleteIn(a){let[b,...c]=a;if(0===c.length)return this.delete(b);let d=this.get(b,!0);if(e.isCollection(d))return d.deleteIn(c);throw Error(`Expected YAML collection at ${b}. Remaining path: ${c}`)}getIn(a,b){let[c,...d]=a,f=this.get(c,!0);return 0===d.length?!b&&e.isScalar(f)?f.value:f:e.isCollection(f)?f.getIn(d,b):void 0}hasAllNullValues(a){return this.items.every(b=>{if(!e.isPair(b))return!1;let c=b.value;return null==c||a&&e.isScalar(c)&&null==c.value&&!c.commentBefore&&!c.comment&&!c.tag})}hasIn(a){let[b,...c]=a;if(0===c.length)return this.has(b);let d=this.get(b,!0);return!!e.isCollection(d)&&d.hasIn(c)}setIn(a,b){let[c,...d]=a;if(0===d.length)this.set(c,b);else{let a=this.get(c,!0);if(e.isCollection(a))a.setIn(d,b);else if(void 0===a&&this.schema)this.set(c,g(this.schema,d,b));else throw Error(`Expected YAML collection at ${c}. Remaining path: ${d}`)}}}b.Collection=i,b.collectionFromPath=g,b.isEmptyPath=h},87938:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(k,{StatusCodes:()=>m,StatusNameSchema:()=>n,StatusSchema:()=>r,httpStatusCode:()=>p}),a.exports=j(e({},"__esModule",{value:!0}),k);var l=((a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)))(c(62934)),m=(a=>(a[a.OK=0]="OK",a[a.CANCELLED=1]="CANCELLED",a[a.UNKNOWN=2]="UNKNOWN",a[a.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",a[a.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",a[a.NOT_FOUND=5]="NOT_FOUND",a[a.ALREADY_EXISTS=6]="ALREADY_EXISTS",a[a.PERMISSION_DENIED=7]="PERMISSION_DENIED",a[a.UNAUTHENTICATED=16]="UNAUTHENTICATED",a[a.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",a[a.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",a[a.ABORTED=10]="ABORTED",a[a.OUT_OF_RANGE=11]="OUT_OF_RANGE",a[a.UNIMPLEMENTED=12]="UNIMPLEMENTED",a[a.INTERNAL=13]="INTERNAL",a[a.UNAVAILABLE=14]="UNAVAILABLE",a[a.DATA_LOSS=15]="DATA_LOSS",a))(m||{});let n=l.enum(["OK","CANCELLED","UNKNOWN","INVALID_ARGUMENT","DEADLINE_EXCEEDED","NOT_FOUND","ALREADY_EXISTS","PERMISSION_DENIED","UNAUTHENTICATED","RESOURCE_EXHAUSTED","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","UNIMPLEMENTED","INTERNAL","UNAVAILABLE","DATA_LOSS"]),o={OK:200,CANCELLED:499,UNKNOWN:500,INVALID_ARGUMENT:400,DEADLINE_EXCEEDED:504,NOT_FOUND:404,ALREADY_EXISTS:409,PERMISSION_DENIED:403,UNAUTHENTICATED:401,RESOURCE_EXHAUSTED:429,FAILED_PRECONDITION:400,ABORTED:409,OUT_OF_RANGE:400,UNIMPLEMENTED:501,INTERNAL:500,UNAVAILABLE:503,DATA_LOSS:500};function p(a){if(!(a in o))throw Error(`Invalid status code ${a}`);return o[a]}let q=l.nativeEnum(m),r=l.object({code:q,message:l.string(),details:l.any().optional()})},88180:(a,b,c)=>{"use strict";var d=c(28354),e=c(12412),f=c(88900).ThriftList,g=c(82740);function h(a,b){f.call(this,a,b),this.mode=b&&b["js.type"]||"array",this.form=null,this.surface=null,"object"===this.mode?("string"===a.name?this.rw.form=this.objectStringForm:"byte"===a.name||"i16"===a.name||"i32"===a.name?this.rw.form=this.objectNumberForm:e.fail("sets with js.type of 'object' must have a value type of 'string', 'byte', 'i16', or 'i32'"),this.surface=Object):"array"===this.mode?(this.rw.form=this.arrayForm,this.surface=Array):e.fail("set must have js.type of object or array (default)"),this.annotations=b}d.inherits(h,f),h.prototype.name="set",h.prototype.typeid=g.SET,h.prototype.altTypeid=g.LIST,h.prototype.models="type",h.prototype.arrayForm={create:function(){return[]},add:function(a,b){a.push(b)},toArray:function(a){return e(Array.isArray(a),"set must be expressed as an array"),a}},h.prototype.objectNumberForm={create:function(){return{}},add:function(a,b){a[b]=!0},toArray:function(a){e(a&&"object"==typeof a,"set must be expressed as an object");for(var b=Object.keys(a),c=[],d=0;d<b.length;d++)a[b[d]]&&c.push(+b[d]);return c}},h.prototype.objectStringForm={create:function(){return{}},add:function(a,b){a[b]=!0},toArray:function(a){e(a&&"object"==typeof a,"set must be expressed as an object");for(var b=Object.keys(a),c=[],d=0;d<b.length;d++)a[b[d]]&&c.push(b[d]);return c}},a.exports.ThriftSet=h},88512:(a,b)=>{"use strict";b.applyReviver=function a(b,c,d,e){if(e&&"object"==typeof e)if(Array.isArray(e))for(let c=0,d=e.length;c<d;++c){let d=e[c],f=a(b,e,String(c),d);void 0===f?delete e[c]:f!==d&&(e[c]=f)}else if(e instanceof Map)for(let c of Array.from(e.keys())){let d=e.get(c),f=a(b,e,c,d);void 0===f?e.delete(c):f!==d&&e.set(c,f)}else if(e instanceof Set)for(let c of Array.from(e)){let d=a(b,e,c,c);void 0===d?e.delete(c):d!==c&&(e.delete(c),e.add(d))}else for(let[c,d]of Object.entries(e)){let f=a(b,e,c,d);void 0===f?delete e[c]:f!==d&&(e[c]=f)}return b.call(c,d,e)}},88834:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55832),e=c(38904),f=c(46178);b.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,e.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,e._)`{missingProperty: ${a}}`},code(a){let{gen:b,schema:c,schemaCode:g,data:h,$data:i,it:j}=a,{opts:k}=j;if(!i&&0===c.length)return;let l=c.length>=k.loopRequired;if(j.allErrors?function(){if(l||i)a.block$data(e.nil,m);else for(let b of c)(0,d.checkReportMissingProp)(a,b)}():function(){let f=b.let("missing");if(l||i){let c=b.let("valid",!0);a.block$data(c,()=>{var i,j;return i=f,j=c,void(a.setParams({missingProperty:i}),b.forOf(i,g,()=>{b.assign(j,(0,d.propertyInData)(b,h,i,k.ownProperties)),b.if((0,e.not)(j),()=>{a.error(),b.break()})},e.nil))}),a.ok(c)}else b.if((0,d.checkMissingProp)(a,c,f)),(0,d.reportMissingProp)(a,f),b.else()}(),k.strictRequired){let b=a.parentSchema.properties,{definedProperties:d}=a.it;for(let a of c)if((null==b?void 0:b[a])===void 0&&!d.has(a)){let b=j.schemaEnv.baseId+j.errSchemaPath,c=`required property "${a}" is not defined at "${b}" (strictRequired)`;(0,f.checkStrictMode)(j,c,j.opts.strictRequired)}}function m(){b.forOf("prop",g,c=>{a.setParams({missingProperty:c}),b.if((0,d.noPropertyInData)(b,h,c,k.ownProperties),()=>a.error())})}}}},88900:(a,b,c)=>{"use strict";var d=c(89220),e=c(12412),f=c(82740),g=c(32437),h=c(28354);function i(a,b){this.valueType=a,this.rw=new j(a,this),this.annotations=b}function j(a,b){this.valueType=a,this.model=b,d.Base.call(this)}i.prototype.name="list",i.prototype.typeid=f.LIST,i.prototype.surface=Array,i.prototype.models="type",h.inherits(j,d.Base),j.prototype.headerRW=d.Series([d.Int8,d.Int32BE]),j.prototype.form={create:function(){return[]},add:function(a,b){a.push(b)},toArray:function(a){return e(Array.isArray(a),"list must be expressed as an array"),a}},j.prototype.poolByteLength=function(a,b){var c,d=this.valueType;b=this.form.toArray(b);for(var e=5,f=0;f<b.length;f++){if((c=d.rw.poolByteLength(a,b[f])).err)return c;e+=c.length}return a.reset(null,e)},j.prototype.poolWriteInto=function(a,b,c,d){var e=this.valueType;b=this.form.toArray(b);var f=this.headerRW.poolWriteInto(a,[e.typeid,b.length],c,d);if(f.err)return f;d=f.offset;for(var g=0;g<b.length;g++){if((f=e.rw.poolWriteInto(a,b[g],c,d)).err)return f;d=f.offset}return a.reset(null,d)},j.prototype.poolReadFrom=function(a,b,c){var d=this.valueType,e=this.headerRW.poolReadFrom(a,b,c);if(e.err)return e;c=e.offset;var f=e.value[0],h=e.value[1];if(f!==d.typeid)return a.reset(g.TypeIdMismatch({encoded:f,expectedId:d.typeid,expected:d.name,what:this.model.name}),c,null);if(h<0)return a.reset(g.InvalidSizeError({size:h,what:this.model.name}),c,null);for(var i=this.form.create(),j=0;j<h;j++){if((e=d.rw.poolReadFrom(a,b,c)).err)return e;c=e.offset,this.form.add(i,e.value)}return a.reset(null,c,i)},a.exports.ListRW=j,a.exports.ThriftList=i},89092:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ChildLoadBalancerHandler=void 0;let d=c(20606),e=c(80158);class f{constructor(a){this.channelControlHelper=a,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(a){this.parent=a,this.child=null}createSubchannel(a,b){return this.parent.channelControlHelper.createSubchannel(a,b)}updateState(a,b,c){var d;if(this.calledByPendingChild()){if(a===e.ConnectivityState.CONNECTING)return;null==(d=this.parent.currentChild)||d.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(a,b,c)}requestReresolution(){var a;let b=null!=(a=this.parent.pendingChild)?a:this.parent.currentChild;this.child===b&&this.parent.channelControlHelper.requestReresolution()}setChild(a){this.child=a}addChannelzChild(a){this.parent.channelControlHelper.addChannelzChild(a)}removeChannelzChild(a){this.parent.channelControlHelper.removeChannelzChild(a)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(a,b){return a.getLoadBalancerName()!==b.getLoadBalancerName()}updateAddressList(a,b,c,e){let f;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,b)){let a=new this.ChildPolicyHelper(this),c=(0,d.createLoadBalancer)(b,a);a.setChild(c),null===this.currentChild?(this.currentChild=c,f=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=c,f=this.pendingChild)}else f=null===this.pendingChild?this.currentChild:this.pendingChild;return this.latestConfig=b,f.updateAddressList(a,b,c,e)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return"child_load_balancer_helper"}}b.ChildLoadBalancerHandler=f},89162:(a,b,c)=>{"use strict";c.d(b,{$q:()=>p,Ir:()=>l,J9:()=>g,Q5:()=>j,QG:()=>k,Rr:()=>i,Tj:()=>h,rH:()=>n,u3:()=>m,u6:()=>q,xl:()=>o});var d=c(79361),e=c(66336),f=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},g=5,h=1e3,i=5e3,j=1.5;function k(a){void 0===a&&(a={});var b={};return Object.entries(a).forEach(function(a){var c=f(a,2),e=c[0],g=c[1];void 0!==g?b[e]=String(g):d.s.warn('Header "'+e+'" has invalid value ('+g+") and will be ignored")}),b}function l(a,b){return a.endsWith("/")||(a+="/"),a+b}function m(a){try{var b=new URL(a);return""===b.pathname&&(b.pathname=b.pathname+"/"),b.toString()}catch(b){return d.s.warn("Could not parse export URL: '"+a+"'"),a}}function n(a){var b,c;return"number"!=typeof a?(c=Number(null!=(b=(0,e._)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)?b:(0,e._)().OTEL_EXPORTER_OTLP_TIMEOUT))<=0?o(c,1e4):c:a<=0?o(a,1e4):a}function o(a,b){return d.s.warn("Timeout must be greater than 0",a),b}function p(a){return[429,502,503,504].includes(a)}function q(a){if(null==a)return -1;var b=Number.parseInt(a,10);if(Number.isInteger(b))return b>0?1e3*b:-1;var c=new Date(a).getTime()-Date.now();return c>=0?c:0}},89220:(a,b,c)=>{a.exports.fromBuffer=c(65653).fromBuffer,a.exports.byteLength=c(65653).byteLength,a.exports.toBuffer=c(65653).toBuffer,a.exports.intoBuffer=c(65653).intoBuffer,a.exports.fromBufferTuple=c(65653).fromBufferTuple,a.exports.byteLengthTuple=c(65653).byteLengthTuple,a.exports.toBufferTuple=c(65653).toBufferTuple,a.exports.intoBufferTuple=c(65653).intoBufferTuple,a.exports.fromBufferResult=c(65653).fromBufferResult,a.exports.byteLengthResult=c(65653).byteLengthResult,a.exports.toBufferResult=c(65653).toBufferResult,a.exports.intoBufferResult=c(65653).intoBufferResult,a.exports.formatError=c(65653).formatError,a.exports.Base=c(37451).BufferRW,a.exports.LengthResult=c(37451).LengthResult,a.exports.WriteResult=c(37451).WriteResult,a.exports.ReadResult=c(37451).ReadResult;var d=c(68530);a.exports.AtomRW=d.AtomRW,a.exports.Int8=d.Int8,a.exports.Int16BE=d.Int16BE,a.exports.Int32BE=d.Int32BE,a.exports.Int16LE=d.Int16LE,a.exports.Int32LE=d.Int32LE,a.exports.UInt8=d.UInt8,a.exports.UInt16BE=d.UInt16BE,a.exports.UInt32BE=d.UInt32BE,a.exports.UInt16LE=d.UInt16LE,a.exports.UInt32LE=d.UInt32LE,a.exports.FloatLE=d.FloatLE,a.exports.FloatBE=d.FloatBE,a.exports.DoubleLE=d.DoubleLE,a.exports.DoubleBE=d.DoubleBE,a.exports.Null=c(80339),a.exports.FixedWidth=c(10499);var e=c(69121),f=e(d.UInt8),g=e(d.UInt16BE);a.exports.buf1=f,a.exports.buf2=g,a.exports.VariableBuffer=e;var h=c(91403),i=c(58470),j=h(d.UInt8,"utf8"),k=h(d.UInt16BE,"utf8"),l=h(i.unsigned,"utf8");a.exports.str1=j,a.exports.str2=k,a.exports.strn=l,a.exports.String=h,a.exports.varint=i,a.exports.Series=c(89955),a.exports.Struct=c(72447),a.exports.Switch=c(65076),a.exports.Repeat=c(95793),a.exports.Skip=c(45545)},89309:(a,b,c)=>{"use strict";c.d(b,{o:()=>e});var d=c(79361);function e(){return function(a){var b;d.s.error("string"==typeof(b=a)?b:JSON.stringify(function(a){for(var b={},c=a;null!==c;)Object.getOwnPropertyNames(c).forEach(function(a){if(!b[a]){var d=c[a];d&&(b[a]=String(d))}}),c=Object.getPrototypeOf(c);return b}(b)))}}},89344:(a,b,c)=>{"use strict";var d=c(88512),e=c(42218),f=c(89390);class g{constructor(a){Object.defineProperty(this,e.NODE_TYPE,{value:a})}clone(){let a=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(a.range=this.range.slice()),a}toJS(a,{mapAsMap:b,maxAliasCount:c,onAnchor:g,reviver:h}={}){if(!e.isDocument(a))throw TypeError("A document argument is required");let i={anchors:new Map,doc:a,keep:!0,mapAsMap:!0===b,mapKeyWarned:!1,maxAliasCount:"number"==typeof c?c:100},j=f.toJS(this,"",i);if("function"==typeof g)for(let{count:a,res:b}of i.anchors.values())g(b,a);return"function"==typeof h?d.applyReviver(h,{"":j},"",j):j}}b.NodeBase=g},89390:(a,b,c)=>{"use strict";var d=c(42218);b.toJS=function a(b,c,e){if(Array.isArray(b))return b.map((b,c)=>a(b,String(c),e));if(b&&"function"==typeof b.toJSON){if(!e||!d.hasAnchor(b))return b.toJSON(c,e);let a={aliasCount:0,count:1,res:void 0};e.anchors.set(b,a),e.onCreate=b=>{a.res=b,delete e.onCreate};let f=b.toJSON(c,e);return e.onCreate&&e.onCreate(f),f}return"bigint"!=typeof b||e?.keep?b:Number(b)}},89439:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.makeClientConstructor=g,b.loadPackageDefinition=function(a){let b={};for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)){let d=a[c],e=c.split(".");if(e.some(a=>f(a)))continue;let h=e[e.length-1],i=b;for(let a of e.slice(0,-1))i[a]||(i[a]={}),i=i[a];"format"in d?i[h]=d:i[h]=g(d,h,{})}return b};let d=c(12582),e={unary:d.Client.prototype.makeUnaryRequest,server_stream:d.Client.prototype.makeServerStreamRequest,client_stream:d.Client.prototype.makeClientStreamRequest,bidi:d.Client.prototype.makeBidiStreamRequest};function f(a){return["__proto__","prototype","constructor"].includes(a)}function g(a,b,c){c||(c={});class g extends d.Client{}return Object.keys(a).forEach(b=>{var c,d,h,i;let j;if(f(b))return;let k=a[b];if("string"==typeof b&&"$"===b.charAt(0))throw Error("Method names cannot start with $");j=k.requestStream?k.responseStream?"bidi":"client_stream":k.responseStream?"server_stream":"unary";let l=k.requestSerialize,m=k.responseDeserialize,n=(c=e[j],d=k.path,h=l,i=m,function(...a){return c.call(this,d,h,i,...a)});g.prototype[b]=n,Object.assign(g.prototype[b],k),k.originalName&&!f(k.originalName)&&(g.prototype[k.originalName]=g.prototype[b])}),g.service=a,g.serviceName=b,g}},89843:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extendErrors=b.resetErrorsCount=b.reportExtraError=b.reportError=b.keyword$DataError=b.keywordError=void 0;let d=c(38904),e=c(46178),f=c(82746);function g(a,b){let c=a.const("err",b);a.if((0,d._)`${f.default.vErrors} === null`,()=>a.assign(f.default.vErrors,(0,d._)`[${c}]`),(0,d._)`${f.default.vErrors}.push(${c})`),a.code((0,d._)`${f.default.errors}++`)}function h(a,b){let{gen:c,validateName:e,schemaEnv:f}=a;f.$async?c.throw((0,d._)`new ${a.ValidationError}(${b})`):(c.assign((0,d._)`${e}.errors`,b),c.return(!1))}b.keywordError={message:({keyword:a})=>(0,d.str)`must pass "${a}" keyword validation`},b.keyword$DataError={message:({keyword:a,schemaType:b})=>b?(0,d.str)`"${a}" keyword must be ${b} ($data)`:(0,d.str)`"${a}" keyword is invalid ($data)`},b.reportError=function(a,c=b.keywordError,e,f){let{it:i}=a,{gen:k,compositeRule:l,allErrors:m}=i,n=j(a,c,e);(null!=f?f:l||m)?g(k,n):h(i,(0,d._)`[${n}]`)},b.reportExtraError=function(a,c=b.keywordError,d){let{it:e}=a,{gen:i,compositeRule:k,allErrors:l}=e;g(i,j(a,c,d)),k||l||h(e,f.default.vErrors)},b.resetErrorsCount=function(a,b){a.assign(f.default.errors,b),a.if((0,d._)`${f.default.vErrors} !== null`,()=>a.if(b,()=>a.assign((0,d._)`${f.default.vErrors}.length`,b),()=>a.assign(f.default.vErrors,null)))},b.extendErrors=function({gen:a,keyword:b,schemaValue:c,data:e,errsCount:g,it:h}){if(void 0===g)throw Error("ajv implementation error");let i=a.name("err");a.forRange("i",g,f.default.errors,g=>{a.const(i,(0,d._)`${f.default.vErrors}[${g}]`),a.if((0,d._)`${i}.instancePath === undefined`,()=>a.assign((0,d._)`${i}.instancePath`,(0,d.strConcat)(f.default.instancePath,h.errorPath))),a.assign((0,d._)`${i}.schemaPath`,(0,d.str)`${h.errSchemaPath}/${b}`),h.opts.verbose&&(a.assign((0,d._)`${i}.schema`,c),a.assign((0,d._)`${i}.data`,e))})};let i={keyword:new d.Name("keyword"),schemaPath:new d.Name("schemaPath"),params:new d.Name("params"),propertyName:new d.Name("propertyName"),message:new d.Name("message"),schema:new d.Name("schema"),parentSchema:new d.Name("parentSchema")};function j(a,b,c){let{createErrors:g}=a.it;return!1===g?(0,d._)`{}`:function(a,b,c={}){let{gen:g,it:h}=a,j=[function({errorPath:a},{instancePath:b}){let c=b?(0,d.str)`${a}${(0,e.getErrorPath)(b,e.Type.Str)}`:a;return[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,c)]}(h,c),function({keyword:a,it:{errSchemaPath:b}},{schemaPath:c,parentSchema:f}){let g=f?b:(0,d.str)`${b}/${a}`;return c&&(g=(0,d.str)`${g}${(0,e.getErrorPath)(c,e.Type.Str)}`),[i.schemaPath,g]}(a,c)];return function(a,{params:b,message:c},e){let{keyword:g,data:h,schemaValue:j,it:k}=a,{opts:l,propertyName:m,topSchemaRef:n,schemaPath:o}=k;e.push([i.keyword,g],[i.params,"function"==typeof b?b(a):b||(0,d._)`{}`]),l.messages&&e.push([i.message,"function"==typeof c?c(a):c]),l.verbose&&e.push([i.schema,j],[i.parentSchema,(0,d._)`${n}${o}`],[f.default.data,h]),m&&e.push([i.propertyName,m])}(a,b,j),g.object(...j)}(a,b,c)}},89922:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Http2SubchannelConnector=void 0;let d=c(73496),e=c(34631),f=c(49682),g=c(56458),h=c(77538),i=c(38702),j=c(43313),k=c(41835),l=c(9413),m=c(91645),n=c(42697),o=c(25479),p="transport",q=c(19092).rE,{HTTP2_HEADER_AUTHORITY:r,HTTP2_HEADER_CONTENT_TYPE:s,HTTP2_HEADER_METHOD:t,HTTP2_HEADER_PATH:u,HTTP2_HEADER_TE:v,HTTP2_HEADER_USER_AGENT:w}=d.constants,x=Buffer.from("too_many_pings","ascii");class y{constructor(a,b,c,g){this.session=a,this.options=c,this.remoteName=g,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,k.subchannelAddressToString)(b),0===c["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.streamTracker=new f.ChannelzCallTrackerStub):this.streamTracker=new f.ChannelzCallTracker,this.channelzRef=(0,f.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[c["grpc.primary_user_agent"],`grpc-node-js/${q}`,c["grpc.secondary_user_agent"]].filter(a=>a).join(" "),"grpc.keepalive_time_ms"in c?this.keepaliveTimeMs=c["grpc.keepalive_time_ms"]:this.keepaliveTimeMs=-1,"grpc.keepalive_timeout_ms"in c?this.keepaliveTimeoutMs=c["grpc.keepalive_timeout_ms"]:this.keepaliveTimeoutMs=2e4,"grpc.keepalive_permit_without_calls"in c?this.keepaliveWithoutCalls=1===c["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,a.once("close",()=>{this.trace("session closed"),this.handleDisconnect()}),a.once("goaway",(a,b,c)=>{let e=!1;a===d.constants.NGHTTP2_ENHANCE_YOUR_CALM&&c&&c.equals(x)&&(e=!0),this.trace("connection closed by GOAWAY with code "+a+" and data "+(null==c?void 0:c.toString())),this.reportDisconnectToOwner(e)}),a.once("error",a=>{this.trace("connection closed with error "+a.message),this.handleDisconnect()}),a.socket.once("close",a=>{this.trace("connection closed. hadError="+a),this.handleDisconnect()}),i.isTracerEnabled(p)&&(a.on("remoteSettings",b=>{this.trace("new settings received"+(this.session!==a?" on the old connection":"")+": "+JSON.stringify(b))}),a.on("localSettings",b=>{this.trace("local settings acknowledged by remote"+(this.session!==a?" on the old connection":"")+": "+JSON.stringify(b))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer(),a.socket instanceof e.TLSSocket?this.authContext={transportSecurityType:"ssl",sslPeerCertificate:a.socket.getPeerCertificate()}:this.authContext={}}getChannelzInfo(){var a,b,c;let d,e=this.session.socket,f=e.remoteAddress?(0,k.stringToSubchannelAddress)(e.remoteAddress,e.remotePort):null,g=e.localAddress?(0,k.stringToSubchannelAddress)(e.localAddress,e.localPort):null;if(this.session.encrypted){let b=e.getCipher(),c=e.getCertificate(),f=e.getPeerCertificate();d={cipherSuiteStandardName:null!=(a=b.standardName)?a:null,cipherSuiteOtherName:b.standardName?null:b.name,localCertificate:c&&"raw"in c?c.raw:null,remoteCertificate:f&&"raw"in f?f.raw:null}}else d=null;return{remoteAddress:f,localAddress:g,security:d,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!=(b=this.session.state.localWindowSize)?b:null,remoteFlowControlWindow:null!=(c=this.session.state.remoteWindowSize)?c:null}}trace(a){i.trace(g.LogVerbosity.DEBUG,p,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}keepaliveTrace(a){i.trace(g.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}flowControlTrace(a){i.trace(g.LogVerbosity.DEBUG,"transport_flowctrl","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}internalsTrace(a){i.trace(g.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}reportDisconnectToOwner(a){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(b=>b(a)))}handleDisconnect(){for(let a of(this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1),this.activeCalls))a.onDisconnect();setImmediate(()=>{this.session.destroy()})}addDisconnectListener(a){this.disconnectListeners.push(a)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var a,b;if(!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}if(this.keepaliveTimer)return void console.error("keepaliveTimeout is not null");this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null==(b=(a=this.keepaliveTimer).unref)||b.call(a);let c="";try{this.session.ping((a,b,c)=>{this.clearKeepaliveTimeout(),a?(this.keepaliveTrace("Ping failed with error "+a.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer())})||(c="Ping returned false")}catch(a){c=(a instanceof Error?a.message:"")||"Unknown error"}c&&(this.keepaliveTrace("Ping send failed: "+c),this.handleDisconnect())}maybeStartKeepalivePingTimer(){var a,b;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing()},this.keepaliveTimeMs),null==(b=(a=this.keepaliveTimer).unref)||b.call(a)))}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null)}removeActiveCall(a){this.activeCalls.delete(a),0===this.activeCalls.size&&this.session.unref()}addActiveCall(a){this.activeCalls.add(a),1===this.activeCalls.size&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(a,b,c,d,e){let f,g,h,i=a.toHttp2Headers();i[r]=b,i[w]=this.userAgent,i[s]="application/grpc",i[t]="POST",i[u]=c,i[v]="trailers";try{f=this.session.request(i)}catch(a){throw this.handleDisconnect(),a}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),g={addMessageSent:()=>{var a;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null==(a=e.addMessageSent)||a.call(e)},addMessageReceived:()=>{var a;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null==(a=e.addMessageReceived)||a.call(e)},onCallEnd:a=>{var b;null==(b=e.onCallEnd)||b.call(e,a),this.removeActiveCall(h)},onStreamEnd:a=>{var b;a?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null==(b=e.onStreamEnd)||b.call(e,a)}}):g={addMessageSent:()=>{var a;null==(a=e.addMessageSent)||a.call(e)},addMessageReceived:()=>{var a;null==(a=e.addMessageReceived)||a.call(e)},onCallEnd:a=>{var b;null==(b=e.onCallEnd)||b.call(e,a),this.removeActiveCall(h)},onStreamEnd:a=>{var b;null==(b=e.onStreamEnd)||b.call(e,a)}},h=new n.Http2SubchannelCall(f,g,d,this,(0,o.getNextCallNumber)()),this.addActiveCall(h),h}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}getAuthContext(){return this.authContext}shutdown(){this.session.close(),(0,f.unregisterChannelzRef)(this.channelzRef)}}class z{constructor(a){this.channelTarget=a,this.session=null,this.isShutdown=!1}trace(a){i.trace(g.LogVerbosity.DEBUG,p,(0,l.uriToString)(this.channelTarget)+" "+a)}createSession(a,b,c){return this.isShutdown?Promise.reject():a.socket.closed?Promise.reject("Connection closed before starting HTTP/2 handshake"):new Promise((e,f)=>{var g,h,i,k,m,n,o;let p=null,q=this.channelTarget;if("grpc.http_connect_target"in c){let a=(0,l.parseUri)(c["grpc.http_connect_target"]);a&&(q=a,p=(0,l.uriToString)(a))}let r=a.secure?"https":"http",s=(0,j.getDefaultAuthority)(q),t=()=>{var a;null==(a=this.session)||a.destroy(),this.session=null,setImmediate(()=>{B||(B=!0,f(`${A.trim()} (${new Date().toISOString()})`))})},u=a=>{var b;null==(b=this.session)||b.destroy(),A=a.message,this.trace("connection failed with error "+A),B||(B=!0,f(`${A} (${new Date().toISOString()})`))},v={createConnection:(b,c)=>a.socket,settings:{initialWindowSize:null!=(k=null!=(g=c["grpc-node.flow_control_window"])?g:null==(i=null==(h=d.getDefaultSettings)?void 0:h.call(d))?void 0:i.initialWindowSize)?k:65535}},w=d.connect(`${r}://${s}`,v),x=null!=(o=null==(n=null==(m=d.getDefaultSettings)?void 0:m.call(d))?void 0:n.initialWindowSize)?o:65535,z=c["grpc-node.flow_control_window"];this.session=w;let A="Failed to connect",B=!1;w.unref(),w.once("remoteSettings",()=>{var d;if(z&&z>x)try{w.setLocalWindowSize(z)}catch(b){let a=z-(null!=(d=w.state.localWindowSize)?d:x);a>0&&w.incrementWindowSize(a)}w.removeAllListeners(),a.socket.removeListener("close",t),a.socket.removeListener("error",u),e(new y(w,b,c,p)),this.session=null}),w.once("close",t),w.once("error",u),a.socket.once("close",t),a.socket.once("error",u)})}tcpConnect(a,b){return(0,h.getProxiedConnection)(a,b).then(b=>b||new Promise((b,c)=>{let d=()=>{c(Error("Socket closed"))},e=a=>{c(a)},f=m.connect(a,()=>{f.removeListener("close",d),f.removeListener("error",e),b(f)});f.once("close",d),f.once("error",e)}))}async connect(a,b,c){if(this.isShutdown)return Promise.reject();let d=null,e=null,f=(0,k.subchannelAddressToString)(a);try{return this.trace(f+" Waiting for secureConnector to be ready"),await b.waitForReady(),this.trace(f+" secureConnector is ready"),(d=await this.tcpConnect(a,c)).setNoDelay(),this.trace(f+" Established TCP connection"),e=await b.connect(d),this.trace(f+" Established secure connection"),this.createSession(e,a,c)}catch(a){throw null==d||d.destroy(),null==e||e.socket.destroy(),a}}shutdown(){var a;this.isShutdown=!0,null==(a=this.session)||a.close(),this.session=null}}b.Http2SubchannelConnector=z},89955:(a,b,c)=>{a.exports=h;var d=c(28354).inherits,e=c(37451).ReadResult,f=c(37451).BufferRW,g=c(8193);function h(a){if((!Array.isArray(a)||arguments.length>1)&&(a=Array.prototype.slice.call(arguments)),!(this instanceof h))return new h(a);this.rws=a,f.call(this)}d(h,f),h.prototype.poolByteLength=function(a,b){if(!Array.isArray(b)&&null!==b)return a.reset(g.expected(b,"an array or null"));for(var c=0,d=0;d<this.rws.length;d++){if(this.rws[d].poolByteLength(a,b&&b[d]),a.err)return a;c+=a.length}return a.reset(null,c)},h.prototype.poolWriteInto=function(a,b,c,d){if(!Array.isArray(b)&&null!==b)return a.reset(g.expected(b,"an array or null"),d);for(var e=0;e<this.rws.length&&(this.rws[e].poolWriteInto(a,b&&b[e],c,d),!a.err);e++)d=a.offset;return a};var i=new e;h.prototype.poolReadFrom=function(a,b,c){for(var d=Array(this.rws.length),e=0;e<this.rws.length;e++){if(this.rws[e].poolReadFrom(i,b,c),i.err)return a.copyFrom(i);c=i.offset,d[e]=i.value}return a.value=d,a.reset(null,c,a.value)}},90008:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.addCommonProtos=b.loadProtosWithOptionsSync=b.loadProtosWithOptions=void 0;let d=c(29021),e=c(33873),f=c(42260);function g(a,b){let c=a.resolvePath;a.resolvePath=(a,f)=>{if(e.isAbsolute(f))return f;for(let a of b){let b=e.join(a,f);try{return d.accessSync(b,d.constants.R_OK),b}catch(a){continue}}return process.emitWarning(`${f} not found in any of the include paths ${b}`),c(a,f)}}b.loadProtosWithOptions=async function(a,b){let c=new f.Root;if((b=b||{}).includeDirs){if(!Array.isArray(b.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));g(c,b.includeDirs)}let d=await c.load(a,b);return d.resolveAll(),d},b.loadProtosWithOptionsSync=function(a,b){let c=new f.Root;if((b=b||{}).includeDirs){if(!Array.isArray(b.includeDirs))throw Error("The includeDirs option must be an array");g(c,b.includeDirs)}let d=c.loadSync(a,b);return d.resolveAll(),d},b.addCommonProtos=function(){let a=c(96491),b=c(43436),d=c(15696),e=c(16591);f.common("api",a.nested.google.nested.protobuf.nested),f.common("descriptor",b.nested.google.nested.protobuf.nested),f.common("source_context",d.nested.google.nested.protobuf.nested),f.common("type",e.nested.google.nested.protobuf.nested)}},90506:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseDefaultDef=void 0;let d=c(31958);b.parseDefaultDef=function(a,b){return{...(0,d.parseDef)(a.innerType._def,b),default:a.defaultValue()}}},90541:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904);b.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:a,schemaCode:b})=>(0,d.str)`must NOT have ${"maxProperties"===a?"more":"fewer"} than ${b} properties`,params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a,f="maxProperties"===b?d.operators.GT:d.operators.LT;a.fail$data((0,d._)`Object.keys(${c}).length ${f} ${e}`)}}},90737:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getRelativePath=void 0,b.getRelativePath=(a,b)=>{let c=0;for(;c<a.length&&c<b.length&&a[c]===b[c];c++);return[(a.length-c).toString(),...b.slice(c)].join("/")}},90999:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseUnknownDef=void 0;let d=c(10715);b.parseUnknownDef=function(a){return(0,d.parseAnyDef)(a)}},91403:(a,b,c)=>{"use strict";a.exports=h;var d=c(28354).inherits,e=c(37451).ReadResult,f=c(8193),g=c(37451).BufferRW;function h(a,b){if(!(this instanceof h))return new h(a,b);this.sizerw=a,this.encoding=b||"utf8",this.sizerw.width?this.poolWriteInto=this.poolWriteFixedWidthInto:this.poolWriteInto=this.poolWriteVariableWidthInto,g.call(this)}d(h,g),h.prototype.poolByteLength=function(a,b){var c=0;if("string"==typeof b)c=Buffer.byteLength(b,this.encoding);else if(null!=b)return a.reset(f.expected(b,"string, null, or undefined"),null);return(this.sizerw.poolByteLength(a,c),a.err)?a:a.reset(null,a.length+c)},h.prototype.poolWriteFixedWidthInto=function(a,b,c,d){var e=d+this.sizerw.width,g=0;if("string"==typeof b)g=c.write(b,e,this.encoding);else if(null!=b)return a.reset(f.expected(b,"string, null, or undefined"),d);return(this.sizerw.poolWriteInto(a,g,c,d),a.err)?a:a.reset(null,e+g)},h.prototype.poolWriteVariableWidthInto=function(a,b,c,d){var e=0;if("string"==typeof b)e=Buffer.byteLength(b,this.encoding);else if(null!=b)return a.reset(f.expected(b,"string, null, or undefined"),d);var g=this.sizerw.poolWriteInto(a,e,c,d);return g.err||(d=g.offset,"string"==typeof b&&(g.offset+=c.write(b,d,this.encoding))),g},h.prototype.poolReadFrom=function(a,b,c){var d=this.sizerw.poolReadFrom(a,b,c);if(d.err)return d;var f=d.value,g=b.length-d.offset;if(g<f)return e.poolShortError(a,f,g,c,d.offset);var h=(c=d.offset)+f,i=b.toString(this.encoding,c,h);return a.reset(null,h,i)}},91790:(a,b,c)=>{"use strict";var d=c(89220),e=c(8193),f=c(28354),g=c(82740);function h(){}function i(a){this.annotations=a}c(32437),f.inherits(h,d.Base),h.prototype.name="i32",h.prototype.width=4,h.prototype.min=-0x80000000,h.prototype.max=0x7fffffff,h.prototype.poolReadFrom=function(a,b,c){var d=b.readInt32BE(c,!0);return a.reset(null,c+this.width,d)},h.prototype.poolWriteInto=function(a,b,c,f){var g=+b;if("string"!=typeof b&&"number"!=typeof b||!isFinite(g))return a.reset(new e.InvalidArgument({expected:"a number"}));var h=c.length-f;return h<this.width?d.WriteResult.poolShortError(a,this.width,h,f):b<this.min||b>this.max?a.reset(new e.RangeError({value:g,min:this.min,max:this.max})):(c.writeInt32BE(g,f,!0),a.reset(null,f+this.width))},h.prototype.poolByteLength=function(a,b){return a.reset(null,this.width)},i.prototype.rw=new h,i.prototype.name="i32",i.prototype.typeid=g.I32,i.prototype.surface=Number,i.prototype.models="type",a.exports.I32RW=h,a.exports.ThriftI32=i},91810:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseArrayDef=void 0;let d=c(62934),e=c(50130),f=c(31958);b.parseArrayDef=function(a,b){let c={type:"array"};return a.type?._def&&a.type?._def?.typeName!==d.ZodFirstPartyTypeKind.ZodAny&&(c.items=(0,f.parseDef)(a.type._def,{...b,currentPath:[...b.currentPath,"items"]})),a.minLength&&(0,e.setResponseValueAndErrors)(c,"minItems",a.minLength.value,a.minLength.message,b),a.maxLength&&(0,e.setResponseValueAndErrors)(c,"maxItems",a.maxLength.value,a.maxLength.message,b),a.exactLength&&((0,e.setResponseValueAndErrors)(c,"minItems",a.exactLength.value,a.exactLength.message,b),(0,e.setResponseValueAndErrors)(c,"maxItems",a.exactLength.value,a.exactLength.message,b)),c}},91898:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getResourceDetectorsFromEnv=void 0;let d=c(68948),e=c(80277);b.getResourceDetectorsFromEnv=function(){var a,b;let c=new Map([["env",e.envDetectorSync],["host",e.hostDetectorSync],["os",e.osDetectorSync],["serviceinstance",e.serviceInstanceIdDetectorSync],["process",e.processDetectorSync]]),f=null!=(b=null==(a=process.env.OTEL_NODE_RESOURCE_DETECTORS)?void 0:a.split(","))?b:["all"];return f.includes("all")?[...c.values()].flat():f.includes("none")?[]:f.flatMap(a=>{let b=c.get(a);return b||d.diag.error(`Invalid resource detector "${a}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`),b||[]})}},91984:(a,b)=>{"use strict";function c(a){let b,c=a.length,d=0,e=0;for(;e<c;)d++,(b=a.charCodeAt(e++))>=55296&&b<=56319&&e<c&&(64512&(b=a.charCodeAt(e)))==56320&&e++;return d}Object.defineProperty(b,"__esModule",{value:!0}),b.default=c,c.code='require("ajv/dist/runtime/ucs2length").default'},92172:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{Genkit:()=>w,__disableReflectionApi:()=>B,genkit:()=>y}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(72300),j=c(13672),k=c(37719),l=c(24317),m=c(95403),n=c(68448),o=c(1998),p=c(50438),q=c(40979),r=c(2799),s=c(44037),t=c(31315),u=c(24847),v=c(43264);class w{options;registry;reflectionServer=null;flows=[];get apiStability(){return this.registry.apiStability}constructor(a){this.options=a||{},this.registry=new u.Registry,this.options.context&&(this.registry.context=this.options.context),this.configure(),(0,q.isDevEnv)()&&!A&&(this.reflectionServer=new q.ReflectionServer(this.registry,{configuredEnvs:["dev"],name:this.options.name}),this.reflectionServer.start().catch(a=>s.logger.error)),a?.clientHeader&&(0,q.setClientHeader)(a?.clientHeader)}defineFlow(a,b){let c=(0,q.defineFlow)(this.registry,a,b);return this.flows.push(c),c}defineTool(a,b){return(0,i.defineTool)(this.registry,a,b)}dynamicTool(a,b){return(0,p.dynamicTool)(a,b)}defineDynamicActionProvider(a,b){return(0,q.defineDynamicActionProvider)(this.registry,a,b)}defineSchema(a,b){return(0,q.defineSchema)(this.registry,a,b)}defineJsonSchema(a,b){return(0,q.defineJsonSchema)(this.registry,a,b)}defineModel(a,b){return(0,m.defineModel)(this.registry,a,b)}defineBackgroundModel(a){return(0,m.defineBackgroundModel)(this.registry,a)}prompt(a,b){return this.wrapExecutablePromptPromise(`${a}${b?.variant?`.${b?.variant}`:""}`,(0,i.prompt)(this.registry,a,{...b,dir:this.options.promptDir??"./prompts"}))}wrapExecutablePromptPromise(a,b){let c=async(a,c)=>(await b)(a,c);return c.ref={name:a},c.render=async(a,c)=>(await b).render(a,c),c.stream=(c,d)=>{let e=new r.Channel,f=(0,v.runInNewSpan)(this.registry,{metadata:{name:a,input:c},labels:{[v.SPAN_TYPE_ATTR]:"dotprompt"}},()=>(0,i.generate)(this.registry,b.then(a=>a.render(c,{...d,onChunk:a=>e.send(a)}))));return f.then(()=>e.close(),a=>e.error(a)),{response:f,stream:e}},c.asTool=async()=>(await b).asTool(),c}definePrompt(a,b){if(b){if(a.messages)throw new q.GenkitError({status:"INVALID_ARGUMENT",message:"Cannot specify template/function argument and `options.messages` at the same time"});return"string"==typeof b?(0,i.definePrompt)(this.registry,{...a,messages:b}):(0,i.definePrompt)(this.registry,{...a,messages:async a=>(await b(a)).messages})}return(0,i.definePrompt)(this.registry,a)}defineRetriever(a,b){return(0,o.defineRetriever)(this.registry,a,b)}defineSimpleRetriever(a,b){return(0,o.defineSimpleRetriever)(this.registry,a,b)}defineIndexer(a,b){return(0,o.defineIndexer)(this.registry,a,b)}defineEvaluator(a,b){return(0,k.defineEvaluator)(this.registry,a,b)}defineEmbedder(a,b){return(0,j.defineEmbedder)(this.registry,a,b)}defineHelper(a,b){(0,i.defineHelper)(this.registry,a,b)}definePartial(a,b){(0,i.definePartial)(this.registry,a,b)}defineReranker(a,b){return(0,n.defineReranker)(this.registry,a,b)}embed(a){return(0,i.embed)(this.registry,a)}embedMany(a){return(0,j.embedMany)(this.registry,a)}evaluate(a){return(0,i.evaluate)(this.registry,a)}rerank(a){return(0,i.rerank)(this.registry,a)}index(a){return(0,o.index)(this.registry,a)}retrieve(a){return(0,i.retrieve)(this.registry,a)}async generate(a){let b;return b=a instanceof Promise?await a:"string"==typeof a||Array.isArray(a)?{prompt:a}:a,(0,i.generate)(this.registry,b)}generateStream(a){return("string"==typeof a||Array.isArray(a))&&(a={prompt:a}),(0,i.generateStream)(this.registry,a)}checkOperation(a){return(0,i.checkOperation)(this.registry,a)}run(a,b,c){return c?(0,q.run)(a,b,c,this.registry):(0,q.run)(a,b,this.registry)}currentContext(){return(0,q.getContext)()}configure(){let a=this.registry;(0,m.defineGenerateAction)(a),(0,l.configureFormats)(a);let b=[...this.options.plugins??[]];this.options.model&&this.registry.registerValue("defaultModel","defaultModel",this.options.model),null!==this.options.promptDir&&(0,i.loadPromptFolder)(this.registry,this.options.promptDir??"./prompts",""),b.forEach(b=>{if((0,t.isPluginV2)(b))s.logger.debug(`Registering v2 plugin ${b.name}...`),a.registerPluginProvider(b.name,{name:b.name,async initializer(){if(s.logger.debug(`Initializing plugin ${b.name}:`),!b.init)return;let c=await b.init();c?.forEach(c=>{x(a,c,b)})},async resolver(c,d){if(!b.resolve)return;let e=await b.resolve(c,d);e&&x(a,e,b)},listActions:async()=>"function"==typeof b.list?(await b.list()).map(a=>a.name.startsWith(`${b.name}/`)?a:{...a,name:`${b.name}/${a.name}`}):[]});else{let c=b(this);s.logger.debug(`Registering plugin ${c.name}...`),a.registerPluginProvider(c.name,{name:c.name,async initializer(){s.logger.debug(`Initializing plugin ${c.name}:`),await c.initializer()},async resolver(a,b){c.resolver&&await c.resolver(a,b)},listActions:async()=>c.listActions?await c.listActions():[]})}})}async stopServers(){await this.reflectionServer?.stop(),this.reflectionServer=null}}function x(a,b,c){if((0,q.isBackgroundAction)(b))(0,q.registerBackgroundAction)(a,b,{namespace:c.name});else if((0,q.isAction)(b)){if(!b.__action.actionType)throw new q.GenkitError({status:"INVALID_ARGUMENT",message:"Action type is missing for "+b.__action.name});a.registerAction(b.__action.actionType,b,{namespace:c.name})}else throw new q.GenkitError({status:"INVALID_ARGUMENT",message:"Unknown action type returned from plugin "+c.name})}function y(a){return new w(a)}let z=async()=>{s.logger.info("Shutting down all Genkit servers..."),await q.ReflectionServer.stopAll(),process.exit(0)};process.on("SIGTERM",z),process.on("SIGINT",z);let A=!1;function B(){A=!0}},92180:(a,b,c)=>{"use strict";var d=c(42218),e=c(8408),f=c(76368),g=c(34709);b.composeScalar=function(a,b,c,h){let i,j,{value:k,type:l,comment:m,range:n}="block-scalar"===b.type?f.resolveBlockScalar(a,b,h):g.resolveFlowScalar(b,a.options.strict,h),o=c?a.directives.tagName(c.source,a=>h(c,"TAG_RESOLVE_FAILED",a)):null;i=a.options.stringKeys&&a.atKey?a.schema[d.SCALAR]:o?function(a,b,c,e,f){if("!"===c)return a[d.SCALAR];let g=[];for(let b of a.tags)if(!b.collection&&b.tag===c)if(!b.default||!b.test)return b;else g.push(b);for(let a of g)if(a.test?.test(b))return a;let h=a.knownTags[c];return h&&!h.collection?(a.tags.push(Object.assign({},h,{default:!1,test:void 0})),h):(f(e,"TAG_RESOLVE_FAILED",`Unresolved tag: ${c}`,"tag:yaml.org,2002:str"!==c),a[d.SCALAR])}(a.schema,k,o,c,h):"scalar"===b.type?function({atKey:a,directives:b,schema:c},e,f,g){let h=c.tags.find(b=>(!0===b.default||a&&"key"===b.default)&&b.test?.test(e))||c[d.SCALAR];if(c.compat){let a=c.compat.find(a=>a.default&&a.test?.test(e))??c[d.SCALAR];if(h.tag!==a.tag){let c=b.tagString(h.tag),d=b.tagString(a.tag);g(f,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${c} or ${d}`,!0)}}return h}(a,k,b,h):a.schema[d.SCALAR];try{let f=i.resolve(k,a=>h(c??b,"TAG_RESOLVE_FAILED",a),a.options);j=d.isScalar(f)?f:new e.Scalar(f)}catch(a){h(c??b,"TAG_RESOLVE_FAILED",a instanceof Error?a.message:String(a)),j=new e.Scalar(k)}return j.range=n,j.source=k,l&&(j.type=l),o&&(j.tag=o),i.format&&(j.format=i.format),m&&(j.comment=m),j}},92391:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55832),e=c(38904),f=c(82746),g=c(46178);b.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,e._)`{additionalProperty: ${a.additionalProperty}}`},code(a){let{gen:b,schema:c,parentSchema:h,data:i,errsCount:j,it:k}=a;if(!j)throw Error("ajv implementation error");let{allErrors:l,opts:m}=k;if(k.props=!0,"all"!==m.removeAdditional&&(0,g.alwaysValidSchema)(k,c))return;let n=(0,d.allSchemaProperties)(h.properties),o=(0,d.allSchemaProperties)(h.patternProperties);function p(a){b.code((0,e._)`delete ${i}[${a}]`)}function q(d){if("all"===m.removeAdditional||m.removeAdditional&&!1===c)return void p(d);if(!1===c){a.setParams({additionalProperty:d}),a.error(),l||b.break();return}if("object"==typeof c&&!(0,g.alwaysValidSchema)(k,c)){let c=b.name("valid");"failing"===m.removeAdditional?(r(d,c,!1),b.if((0,e.not)(c),()=>{a.reset(),p(d)})):(r(d,c),l||b.if((0,e.not)(c),()=>b.break()))}}function r(b,c,d){let e={keyword:"additionalProperties",dataProp:b,dataPropType:g.Type.Str};!1===d&&Object.assign(e,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(e,c)}b.forIn("key",i,c=>{n.length||o.length?b.if(function(c){let f;if(n.length>8){let a=(0,g.schemaRefOrVal)(k,h.properties,"properties");f=(0,d.isOwnProperty)(b,a,c)}else f=n.length?(0,e.or)(...n.map(a=>(0,e._)`${c} === ${a}`)):e.nil;return o.length&&(f=(0,e.or)(f,...o.map(b=>(0,e._)`${(0,d.usePattern)(a,b)}.test(${c})`))),(0,e.not)(f)}(c),()=>q(c)):q(c)}),a.ok((0,e._)`${j} === ${f.default.errors}`)}}},92861:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55832),e=c(38904);b.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,e.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,e._)`{pattern: ${a}}`},code(a){let{data:b,$data:c,schema:f,schemaCode:g,it:h}=a,i=h.opts.unicodeRegExp?"u":"",j=c?(0,e._)`(new RegExp(${g}, ${i}))`:(0,d.usePattern)(a,f);a.fail$data((0,e._)`!${j}.test(${b})`)}}},92865:a=>{"use strict";var b=a.exports=function(a,c,d){"function"==typeof c&&(d=c,c={});var e="function"==typeof(d=c.cb||d)?d:d.pre||function(){};!function a(c,d,e,f,g,h,i,j,k,l){if(f&&"object"==typeof f&&!Array.isArray(f)){for(var m in d(f,g,h,i,j,k,l),f){var n=f[m];if(Array.isArray(n)){if(m in b.arrayKeywords)for(var o=0;o<n.length;o++)a(c,d,e,n[o],g+"/"+m+"/"+o,h,g,m,f,o)}else if(m in b.propsKeywords){if(n&&"object"==typeof n)for(var p in n)a(c,d,e,n[p],g+"/"+m+"/"+p.replace(/~/g,"~0").replace(/\//g,"~1"),h,g,m,f,p)}else(m in b.keywords||c.allKeys&&!(m in b.skipKeywords))&&a(c,d,e,n,g+"/"+m,h,g,m,f)}e(f,g,h,i,j,k,l)}}(c,e,d.post||function(){},a,"",a)};b.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},b.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},b.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},b.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},92869:a=>{"use strict";class b{constructor(){this.max=1e3,this.map=new Map}get(a){let b=this.map.get(a);if(void 0!==b)return this.map.delete(a),this.map.set(a,b),b}delete(a){return this.map.delete(a)}set(a,b){if(!this.delete(a)&&void 0!==b){if(this.map.size>=this.max){let a=this.map.keys().next().value;this.delete(a)}this.map.set(a,b)}return this}}a.exports=b},93416:(a,b,c)=>{"use strict";let d;Object.defineProperty(b,"__esModule",{value:!0}),b.parseStringDef=b.zodPatterns=void 0;let e=c(50130);function f(a,b){return"escape"===b.patternStrategy?function(a){let b="";for(let c=0;c<a.length;c++)g.has(a[c])||(b+="\\"),b+=a[c];return b}(a):a}b.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===d&&(d=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),d),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/},b.parseStringDef=function(a,c){let d={type:"string"};if(a.checks)for(let g of a.checks)switch(g.kind){case"min":(0,e.setResponseValueAndErrors)(d,"minLength","number"==typeof d.minLength?Math.max(d.minLength,g.value):g.value,g.message,c);break;case"max":(0,e.setResponseValueAndErrors)(d,"maxLength","number"==typeof d.maxLength?Math.min(d.maxLength,g.value):g.value,g.message,c);break;case"email":switch(c.emailStrategy){case"format:email":h(d,"email",g.message,c);break;case"format:idn-email":h(d,"idn-email",g.message,c);break;case"pattern:zod":i(d,b.zodPatterns.email,g.message,c)}break;case"url":h(d,"uri",g.message,c);break;case"uuid":h(d,"uuid",g.message,c);break;case"regex":i(d,g.regex,g.message,c);break;case"cuid":i(d,b.zodPatterns.cuid,g.message,c);break;case"cuid2":i(d,b.zodPatterns.cuid2,g.message,c);break;case"startsWith":i(d,RegExp(`^${f(g.value,c)}`),g.message,c);break;case"endsWith":i(d,RegExp(`${f(g.value,c)}$`),g.message,c);break;case"datetime":h(d,"date-time",g.message,c);break;case"date":h(d,"date",g.message,c);break;case"time":h(d,"time",g.message,c);break;case"duration":h(d,"duration",g.message,c);break;case"length":(0,e.setResponseValueAndErrors)(d,"minLength","number"==typeof d.minLength?Math.max(d.minLength,g.value):g.value,g.message,c),(0,e.setResponseValueAndErrors)(d,"maxLength","number"==typeof d.maxLength?Math.min(d.maxLength,g.value):g.value,g.message,c);break;case"includes":i(d,RegExp(f(g.value,c)),g.message,c);break;case"ip":"v6"!==g.version&&h(d,"ipv4",g.message,c),"v4"!==g.version&&h(d,"ipv6",g.message,c);break;case"base64url":i(d,b.zodPatterns.base64url,g.message,c);break;case"jwt":i(d,b.zodPatterns.jwt,g.message,c);break;case"cidr":"v6"!==g.version&&i(d,b.zodPatterns.ipv4Cidr,g.message,c),"v4"!==g.version&&i(d,b.zodPatterns.ipv6Cidr,g.message,c);break;case"emoji":i(d,b.zodPatterns.emoji(),g.message,c);break;case"ulid":i(d,b.zodPatterns.ulid,g.message,c);break;case"base64":switch(c.base64Strategy){case"format:binary":h(d,"binary",g.message,c);break;case"contentEncoding:base64":(0,e.setResponseValueAndErrors)(d,"contentEncoding","base64",g.message,c);break;case"pattern:zod":i(d,b.zodPatterns.base64,g.message,c)}break;case"nanoid":i(d,b.zodPatterns.nanoid,g.message,c)}return d};let g=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function h(a,b,c,d){a.format||a.anyOf?.some(a=>a.format)?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push({format:a.format,...a.errorMessage&&d.errorMessages&&{errorMessage:{format:a.errorMessage.format}}}),delete a.format,a.errorMessage&&(delete a.errorMessage.format,0===Object.keys(a.errorMessage).length&&delete a.errorMessage)),a.anyOf.push({format:b,...c&&d.errorMessages&&{errorMessage:{format:c}}})):(0,e.setResponseValueAndErrors)(a,"format",b,c,d)}function i(a,b,c,d){a.pattern||a.allOf?.some(a=>a.pattern)?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push({pattern:a.pattern,...a.errorMessage&&d.errorMessages&&{errorMessage:{pattern:a.errorMessage.pattern}}}),delete a.pattern,a.errorMessage&&(delete a.errorMessage.pattern,0===Object.keys(a.errorMessage).length&&delete a.errorMessage)),a.allOf.push({pattern:j(b,d),...c&&d.errorMessages&&{errorMessage:{pattern:c}}})):(0,e.setResponseValueAndErrors)(a,"pattern",j(b,d),c,d)}function j(a,b){if(!b.applyRegexFlags||!a.flags)return a.source;let c={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},d=c.i?a.source.toLowerCase():a.source,e="",f=!1,g=!1,h=!1;for(let a=0;a<d.length;a++){if(f){e+=d[a],f=!1;continue}if(c.i){if(g){if(d[a].match(/[a-z]/)){h?(e+=d[a],e+=`${d[a-2]}-${d[a]}`.toUpperCase(),h=!1):"-"===d[a+1]&&d[a+2]?.match(/[a-z]/)?(e+=d[a],h=!0):e+=`${d[a]}${d[a].toUpperCase()}`;continue}}else if(d[a].match(/[a-z]/)){e+=`[${d[a]}${d[a].toUpperCase()}]`;continue}}if(c.m){if("^"===d[a]){e+=`(^|(?<=[\r
]))`;continue}else if("$"===d[a]){e+=`($|(?=[\r
]))`;continue}}if(c.s&&"."===d[a]){e+=g?`${d[a]}\r
`:`[${d[a]}\r
]`;continue}e+=d[a],"\\"===d[a]?f=!0:g&&"]"===d[a]?g=!1:g||"["!==d[a]||(g=!0)}try{new RegExp(e)}catch{return console.warn(`Could not convert regex pattern at ${b.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return e}},93662:(a,b)=>{"use strict";b.emptyScalarPosition=function(a,b,c){if(b){c??(c=b.length);for(let d=c-1;d>=0;--d){let c=b[d];switch(c.type){case"space":case"comment":case"newline":a-=c.source.length;continue}for(c=b[++d];c?.type==="space";)a+=c.source.length,c=b[++d];break}}return a}},93689:(a,b,c)=>{"use strict";let d=c(74502);a.exports=(a,b,c)=>d(a,b,"<",c)},94214:(a,b)=>{"use strict";function c(a,b){return/^\n+$/.test(a)?a.substring(1):b?a.replace(/^(?! *$)/gm,b):a}b.indentComment=c,b.lineComment=(a,b,d)=>a.endsWith("\n")?c(d,b):d.includes("\n")?"\n"+c(d,b):(a.endsWith(" ")?"":" ")+d,b.stringifyComment=a=>a.replace(/^(?!$)(?: $)?/gm,"#")},94286:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AsyncLocalStorageContextManager=void 0;let d=c(68948),e=c(84297),f=c(73501);class g extends f.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new e.AsyncLocalStorage}active(){var a;return null!=(a=this._asyncLocalStorage.getStore())?a:d.ROOT_CONTEXT}with(a,b,c,...d){let e=null==c?b:b.bind(c);return this._asyncLocalStorage.run(a,e,...d)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}b.AsyncLocalStorageContextManager=g},94639:(a,b,c)=>{"use strict";var d=c(89220),e=c(82740),f=c(28354).inherits,g=c(32437);function h(a,b,c){if(!(this instanceof h))return new h(a,b,c);this.typeid=a,this.id=b,this.val=c}function i(a){if(!(this instanceof i))return new i(a);this.fields=a||[]}function j(a){if(!(this instanceof j))return new j(a);this.ttypes=a.ttypes}f(j,d.Base),j.prototype.poolByteLength=function(a,b){for(var c,d=1,e=0;e<b.fields.length;e++){var f=b.fields[e],h=this.ttypes[f.typeid];if(!h)return a.reset(g.InvalidTypeidError({typeid:f.typeid,what:"field::type"}));if(d+=3,(c=h.poolByteLength(a,f.val)).err)return c;d+=c.length}return a.reset(null,d)},j.prototype.poolWriteInto=function(a,b,c,f){for(var h,i=0;i<b.fields.length;i++){var j=b.fields[i],k=this.ttypes[j.typeid];if(!k)return a.reset(g.InvalidTypeidError({typeid:j.typeid,what:"field::type"}));if((h=d.Int8.poolWriteInto(a,j.typeid,c,f)).err||(f=h.offset,(h=d.Int16BE.poolWriteInto(a,j.id,c,f)).err)||(f=h.offset,(h=k.poolWriteInto(a,j.val,c,f)).err))return h;f=h.offset}return(h=d.Int8.poolWriteInto(a,e.STOP,c,f)).err?h:(f=h.offset,a.reset(null,f))},j.prototype.poolReadFrom=function(a,b,c){for(var f,j=new i;;){if((f=d.Int8.poolReadFrom(a,b,c)).err)return f;c=f.offset;var k=f.value;if(k===e.STOP)break;var l=this.ttypes[k];if(!l)return a.reset(g.InvalidTypeidError({typeid:k,what:"field::type"}),c);if((f=d.Int16BE.readFrom(b,c)).err)return f;c=f.offset;var m=f.value;if((f=l.poolReadFrom(a,b,c)).err)return f;c=f.offset;var n=f.value;j.fields.push(h(k,m,n))}return a.reset(null,c,j)},a.exports.TStruct=i,a.exports.TField=h,a.exports.TStructRW=j},94678:(a,b,c)=>{"use strict";var d=c(35653),e=c(28354),f=c(27910).Transform,g=c(36204);function h(a){if(!(this instanceof h))return new h(a);a||(a={}),a.colored&&(a=d(g.coloredOptions,a)),f.call(this,a),this.options=a,this.prefix=this.options.prefix||"",this.cols=this.options.cols||16,this.group=this.options.group||2,this.gutter=this.options.gutter||0,this.annotateLine=a.annotateLine||null,this.decorateHexen=this.options.decorateHexen||i,this.decorateHuman=this.options.decorateHuman||i,this.renderHexen=this.options.renderHexen||g.byte2hex,this.renderHuman=this.options.renderHuman||g.byte2char,this.groupSeparator=void 0===this.options.groupSeparator?" ":this.options.groupSeparator,this.headSep=void 0===this.options.headSep?": ":this.options.headSep,this.divide=void 0===this.options.divide?"  ":this.options.divide,this.emptyHexen=void 0===this.options.emptyHexen?"  ":this.options.emptyHexen,this.emptyHuman=this.options.emptyHuman||"",this.nullHuman=this.options.nullHuman||"",this.offsetWidth=this.options.offsetWidth||8,this.gutter=Math.max(this.offsetWidth,this.gutter),this.line="",this.hexen="",this.human="",this.reset()}function i(a,b,c){return c}e.inherits(h,f),h.prototype.reset=function(){this._finishLine(),this.screenOffset=0,this.totalOffset=0},h.prototype._transform=function(a,b,c){for(var d=0;d<a.length;d++)this.screenOffset%this.cols==0&&(this._finishLine(),this._startLine()),this._addByte(a[d]);c(null)},h.prototype._flush=function(a){0===this.totalOffset&&this.nullHuman&&(this._startLine(),this.human+=this.nullHuman),this._finishLine(),a(null)},h.prototype._startLine=function(){var a=g.pad("0",this.totalOffset.toString(16),this.offsetWidth);this.line=this.prefix+g.pad(" ",a,this.gutter)+this.headSep},h.prototype._finishLine=function(){if(this.line.length){var a=this.screenOffset%this.cols;if(0!==a||0===this.totalOffset&&this.nullHuman){a=this.cols-a;for(var b=0;b<a;b++)this._addEmpty()}this.line+=this.hexen+this.divide+this.human,this.annotateLine&&(this.line+=this.annotateLine(this.totalOffset-this.cols,this.totalOffset)),this.line+="\n",this.push(this.line),this.line="",this.hexen="",this.human=""}},h.prototype._addEmpty=function(){this._addPart(this.emptyHexen,this.emptyHuman)},h.prototype._addByte=function(a){var b=this.renderHexen(a),c=this.renderHuman(a);this._addPart(b,c,a)},h.prototype._addPart=function(a,b,c){a=this.decorateHexen(this.totalOffset,this.screenOffset,a,c),b=this.decorateHuman(this.totalOffset,this.screenOffset,b,c);var d=this.screenOffset%this.cols==0,e=this.screenOffset%this.group==0;!d&&e&&(this.hexen+=this.groupSeparator),this.hexen+=a,this.human+=b,this.totalOffset++,this.screenOffset++},a.exports=h},94764:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>d(a,b,c)>=0},94829:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty;a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),{})},95026:(a,b,c)=>{"use strict";c.d(b,{$W:()=>g,pJ:()=>f,su:()=>d.A});var d=c(22858);let e=d.A;function f(a){e=a}function g(){return e}},95104:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateAndNormalizeUrl=b.DEFAULT_COLLECTOR_URL=b.OTLPGRPCExporterNodeBase=void 0;var d=c(465);Object.defineProperty(b,"OTLPGRPCExporterNodeBase",{enumerable:!0,get:function(){return d.OTLPGRPCExporterNodeBase}});var e=c(60664);Object.defineProperty(b,"DEFAULT_COLLECTOR_URL",{enumerable:!0,get:function(){return e.DEFAULT_COLLECTOR_URL}}),Object.defineProperty(b,"validateAndNormalizeUrl",{enumerable:!0,get:function(){return e.validateAndNormalizeUrl}})},95223:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=[c(70124).default]},95291:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(86224);b.default=function(){function a(a,b){this._type=a,this._referencedContext=b instanceof d.default?b.context():b}return a.prototype.type=function(){return this._type},a.prototype.referencedContext=function(){return this._referencedContext},a}()},95403:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a},i={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(i,{CustomPartSchema:()=>n.CustomPartSchema,DataPartSchema:()=>n.DataPartSchema,MediaPartSchema:()=>n.MediaPartSchema,TextPartSchema:()=>n.TextPartSchema,ToolRequestPartSchema:()=>n.ToolRequestPartSchema,ToolResponsePartSchema:()=>n.ToolResponsePartSchema,backgroundModel:()=>v,defineBackgroundModel:()=>u,defineGenerateAction:()=>q.defineGenerateAction,defineModel:()=>t,getBasicUsageStats:()=>y,model:()=>r,modelActionMetadata:()=>x,modelRef:()=>function a(b){let c=b.name;b.namespace&&!c.startsWith(b.namespace+"/")&&(c=`${b.namespace}/${c}`);let d={...b,name:c};return d.withConfig=d=>a({...b,name:c,config:d}),d.withVersion=d=>a({...b,name:c,version:d}),d},resolveModel:()=>A,simulateConstrainedGeneration:()=>p.simulateConstrainedGeneration}),a.exports=h(d({},"__esModule",{value:!0}),i);var j=c(40979),k=c(42656),l=c(76944),m=c(643),n=c(25399),o=c(14015),p=c(29706),q=c(19606);function r(a,b){let c=(0,j.action)(s(a),(a,c)=>{let d=m.performance.now();return b(a,c).then(a=>({...a,latencyMs:m.performance.now()-d}))});return Object.assign(c,{__configSchema:a.configSchema||j.z.unknown()}),c}function s(a){let b=a.label||a.name,c=w(a);return{actionType:"model",name:a.name,description:b,inputSchema:o.GenerateRequestSchema,outputSchema:o.GenerateResponseSchema,metadata:{model:{label:b,customOptions:a.configSchema?(0,l.toJsonSchema)({schema:a.configSchema}):void 0,versions:a.versions,supports:a.supports}},use:c}}function t(a,b,c){let d=(0,j.defineAction)(a,s(b),(a,d)=>{let e=m.performance.now();return c(a,"v2"===b.apiVersion?d:d.streamingRequested?d.sendChunk:void 0).then(a=>({...a,latencyMs:m.performance.now()-e}))});return Object.assign(d,{__configSchema:b.configSchema||j.z.unknown()}),d}function u(a,b){let c=v(b);return(0,j.registerBackgroundAction)(a,c),c}function v(a){let b=a.label||a.name,c=w(a),d=(0,j.backgroundAction)({actionType:"background-model",name:a.name,description:b,inputSchema:o.GenerateRequestSchema,outputSchema:o.GenerateResponseSchema,metadata:{model:{label:b,customOptions:a.configSchema?(0,l.toJsonSchema)({schema:a.configSchema}):void 0,versions:a.versions,supports:a.supports}},use:c,async start(b){let c=m.performance.now(),d=await a.start(b);return Object.assign(d,{latencyMs:m.performance.now()-c}),d},check:async b=>a.check(b),cancel:a.cancel?async b=>{if(!a.cancel)throw new j.GenkitError({status:"UNIMPLEMENTED",message:"cancel not implemented"});return a.cancel(b)}:void 0});return Object.assign(d,{__configSchema:a.configSchema||j.z.unknown()}),d}function w(a){let b=a.use||[];a?.supports?.context||b.push((0,p.augmentWithContext)());let c=(0,p.simulateConstrainedGeneration)();return b.push((b,d)=>!a?.supports?.constrained||a?.supports?.constrained==="none"||a?.supports?.constrained==="no-tools"&&(b.tools?.length??0)>0?c(b,d):d(b)),b}function x({name:a,info:b,configSchema:c,background:d}){return{actionType:d?"background-model":"model",name:a,inputJsonSchema:(0,l.toJsonSchema)({schema:o.GenerateRequestSchema}),outputJsonSchema:d?(0,l.toJsonSchema)({schema:j.OperationSchema}):(0,l.toJsonSchema)({schema:o.GenerateResponseSchema}),metadata:{model:{...b,customOptions:c?(0,l.toJsonSchema)({schema:c}):void 0}}}}function y(a,b){let c=z(a.flatMap(a=>a.content)),d=z(Array.isArray(b)?b.flatMap(a=>a.message.content):b.content);return{inputCharacters:c.characters,inputImages:c.images,inputVideos:c.videos,inputAudioFiles:c.audio,outputCharacters:d.characters,outputImages:d.images,outputVideos:d.videos,outputAudioFiles:d.audio}}function z(a){return a.reduce((a,b)=>{let c=b.media?.contentType?.startsWith("image")||b.media?.url?.startsWith("data:image"),d=b.media?.contentType?.startsWith("video")||b.media?.url?.startsWith("data:video"),e=b.media?.contentType?.startsWith("audio")||b.media?.url?.startsWith("data:audio");return{characters:a.characters+(b.text?.length||0),images:a.images+ +!!c,videos:a.videos+ +!!d,audio:a.audio+ +!!e}},{characters:0,images:0,videos:0,audio:0})}async function A(a,b,c){let d,e;if(b||(b=await a.lookupValue("defaultModel","defaultModel")),!b)throw new j.GenkitError({status:"INVALID_ARGUMENT",message:"Must supply a `model` to `generate()` calls."});if("string"==typeof b)e=b,d={modelAction:await B(a,b)};else if(b.hasOwnProperty("__action"))e=b.__action.name,d={modelAction:b};else{let c=b;e=c.name,d={modelAction:await B(a,c.name),config:{...c.config},version:c.version}}if(!d.modelAction)throw new j.GenkitError({status:"NOT_FOUND",message:`Model '${e}' not found`});return c?.warnDeprecated&&d.modelAction.__action.metadata?.model?.stage==="deprecated"&&k.logger.warn(`Model '${d.modelAction.__action.name}' is deprecated and may be removed in a future release.`),d}async function B(a,b){return await a.lookupAction(`/model/${b}`)||await a.lookupAction(`/background-model/${b}`)}((a,b,c)=>(h(a,b,"default"),c&&h(c,b,"default")))(i,c(14015),a.exports)},95793:(a,b,c)=>{a.exports=g;var d=c(28354).inherits,e=c(37451).BufferRW,f=c(8193);function g(a,b){if(!(this instanceof g))return new g(a,b);this.countrw=a,this.repeatedrw=b,e.call(this)}d(g,e),g.prototype.poolByteLength=function(a,b){if(!Array.isArray(b))return a.reset(f.expected(b,"an array"));var c=this.countrw.poolByteLength(a,b.length);if(c.err)return c;for(var d=c.length,e=0;e<b.length;e++){var g=this.repeatedrw.poolByteLength(a,b[e]);if(g.err)return g;d+=c.length}return a.reset(null,d)},g.prototype.poolWriteInto=function(a,b,c,d){if(!Array.isArray(b))return a.reset(f.expected(b,"an array"),d);var e=this.countrw.poolWriteInto(a,b.length,c,d);if(e.err)return e;d=e.offset;for(var g=0;g<b.length&&!(e=this.repeatedrw.poolWriteInto(a,b[g],c,d)).err;g++)d=e.offset;return e},g.prototype.poolReadFrom=function(a,b,c){var d=this.countrw.poolReadFrom(a,b,c);if(d.err)return d;c=d.offset;for(var e=d.value,f=Array(e),g=0;g<e;g++){if((d=this.repeatedrw.poolReadFrom(a,b,c)).err)return d;c=d.offset,Array.isArray(d.value)?f[g]=d.value.slice(0):"object"==typeof d.value?f[g]=function(a){var b,c=Object.keys(a),d={};for(b=0;b<c.length;b++)d[c[b]]=a[c[b]];return d}(d.value):f[g]=d.value}return a.reset(null,c,f)}},95912:(a,b,c)=>{"use strict";var d=c(89220),e=c(8193),f=c(82740),g=d.Base(function(a){return a.reset(null,d.UInt8.width)},function(a,b,c){var e=d.UInt8.poolReadFrom(a,b,c);return e.err||(e.value=!!e.value),e},function(a,b,c,f){return"boolean"!=typeof b?a.reset(e.expected(b,"a boolean"),f):d.UInt8.poolWriteInto(a,Number(b),c,f)},!0);function h(a){this.annotations=a}h.prototype.rw=g,h.prototype.name="boolean",h.prototype.typeid=f.BOOL,h.prototype.surface=Boolean,h.prototype.models="type",a.exports.BooleanRW=g,a.exports.ThriftBoolean=h},96269:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.QueuePicker=b.UnavailablePicker=b.PickResultType=void 0;let e=c(33604),f=c(56458);!function(a){a[a.COMPLETE=0]="COMPLETE",a[a.QUEUE=1]="QUEUE",a[a.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",a[a.DROP=3]="DROP"}(d||(b.PickResultType=d={}));class g{constructor(a){this.status=Object.assign({code:f.Status.UNAVAILABLE,details:"No connection established",metadata:new e.Metadata},a)}pick(a){return{pickResultType:d.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}b.UnavailablePicker=g;class h{constructor(a,b){this.loadBalancer=a,this.childPicker=b,this.calledExitIdle=!1}pick(a){return(this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker)?this.childPicker.pick(a):{pickResultType:d.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}b.QueuePicker=h},96457:a=>{"use strict";function b(a){this.name=a.id.name,this.valueDefinition=a.value,this.defined=!1,this.value=null,this.surface=null}b.prototype.models="value",b.prototype.link=function(a){return!this.defined&&(this.defined=!0,this.value=a.resolveValue(this.valueDefinition),this.surface=this.value,a.consts[this.name]=this.value,/^[a-z]/.test(this.name)||(a[this.name]=this.value)),this},a.exports.Z=b},96483:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.zodToJsonSchema=void 0;let d=c(31958),e=c(20482),f=c(10715);b.zodToJsonSchema=(a,b)=>{let c=(0,e.getRefs)(b),g="object"==typeof b&&b.definitions?Object.entries(b.definitions).reduce((a,[b,e])=>({...a,[b]:(0,d.parseDef)(e._def,{...c,currentPath:[...c.basePath,c.definitionPath,b]},!0)??(0,f.parseAnyDef)(c)}),{}):void 0,h="string"==typeof b?b:b?.nameStrategy==="title"?void 0:b?.name,i=(0,d.parseDef)(a._def,void 0===h?c:{...c,currentPath:[...c.basePath,c.definitionPath,h]},!1)??(0,f.parseAnyDef)(c),j="object"==typeof b&&void 0!==b.name&&"title"===b.nameStrategy?b.name:void 0;void 0!==j&&(i.title=j),c.flags.hasReferencedOpenAiAnyType&&(g||(g={}),g[c.openAiAnyTypeName]||(g[c.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===c.$refStrategy?"1":[...c.basePath,c.definitionPath,c.openAiAnyTypeName].join("/")}}));let k=void 0===h?g?{...i,[c.definitionPath]:g}:i:{$ref:[..."relative"===c.$refStrategy?[]:c.basePath,c.definitionPath,h].join("/"),[c.definitionPath]:{...g,[h]:i}};return"jsonSchema7"===c.target?k.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===c.target||"openAi"===c.target)&&(k.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===c.target&&("anyOf"in k||"oneOf"in k||"allOf"in k||"type"in k&&Array.isArray(k.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),k}},96496:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateKeywordUsage=b.validSchemaType=b.funcKeywordCode=b.macroKeywordCode=void 0;let d=c(38904),e=c(82746),f=c(55832),g=c(89843);function h(a){let{gen:b,data:c,it:e}=a;b.if(e.parentData,()=>b.assign(c,(0,d._)`${e.parentData}[${e.parentDataProperty}]`))}function i(a,b,c){if(void 0===c)throw Error(`keyword "${b}" failed to compile`);return a.scopeValue("keyword","function"==typeof c?{ref:c}:{ref:c,code:(0,d.stringify)(c)})}b.macroKeywordCode=function(a,b){let{gen:c,keyword:e,schema:f,parentSchema:g,it:h}=a,j=b.macro.call(h.self,f,g,h),k=i(c,e,j);!1!==h.opts.validateSchema&&h.self.validateSchema(j,!0);let l=c.name("valid");a.subschema({schema:j,schemaPath:d.nil,errSchemaPath:`${h.errSchemaPath}/${e}`,topSchemaRef:k,compositeRule:!0},l),a.pass(l,()=>a.error(!0))},b.funcKeywordCode=function(a,b){var c;let{gen:j,keyword:k,schema:l,parentSchema:m,$data:n,it:o}=a;!function({schemaEnv:a},b){if(b.async&&!a.$async)throw Error("async keyword in sync schema")}(o,b);let p=i(j,k,!n&&b.compile?b.compile.call(o.self,l,m,o):b.validate),q=j.let("valid");function r(c=b.async?(0,d._)`await `:d.nil){let g=o.opts.passContext?e.default.this:e.default.self,h=!("compile"in b&&!n||!1===b.schema);j.assign(q,(0,d._)`${c}${(0,f.callValidateCode)(a,p,g,h)}`,b.modifying)}function s(a){var c;j.if((0,d.not)(null!=(c=b.valid)?c:q),a)}a.block$data(q,function(){if(!1===b.errors)r(),b.modifying&&h(a),s(()=>a.error());else{let c=b.async?function(){let a=j.let("ruleErrs",null);return j.try(()=>r((0,d._)`await `),b=>j.assign(q,!1).if((0,d._)`${b} instanceof ${o.ValidationError}`,()=>j.assign(a,(0,d._)`${b}.errors`),()=>j.throw(b))),a}():function(){let a=(0,d._)`${p}.errors`;return j.assign(a,null),r(d.nil),a}();b.modifying&&h(a),s(()=>(function(a,b){let{gen:c}=a;c.if((0,d._)`Array.isArray(${b})`,()=>{c.assign(e.default.vErrors,(0,d._)`${e.default.vErrors} === null ? ${b} : ${e.default.vErrors}.concat(${b})`).assign(e.default.errors,(0,d._)`${e.default.vErrors}.length`),(0,g.extendErrors)(a)},()=>a.error())})(a,c))}}),a.ok(null!=(c=b.valid)?c:q)},b.validSchemaType=function(a,b,c=!1){return!b.length||b.some(b=>"array"===b?Array.isArray(a):"object"===b?a&&"object"==typeof a&&!Array.isArray(a):typeof a==b||c&&void 0===a)},b.validateKeywordUsage=function({schema:a,opts:b,self:c,errSchemaPath:d},e,f){if(Array.isArray(e.keyword)?!e.keyword.includes(f):e.keyword!==f)throw Error("ajv implementation error");let g=e.dependencies;if(null==g?void 0:g.some(b=>!Object.prototype.hasOwnProperty.call(a,b)))throw Error(`parent schema must have dependencies of ${f}: ${g.join(",")}`);if(e.validateSchema&&!e.validateSchema(a[f])){let a=`keyword "${f}" value is invalid at path "${d}": `+c.errorsText(e.validateSchema.errors);if("log"===b.validateSchema)c.logger.error(a);else throw Error(a)}}},96564:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(38904),e=c(391),f=c(46226),g=c(80390),h=c(46178);b.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:b}})=>a===e.DiscrError.Tag?`tag "${b}" must be string`:`value of tag "${b}" must be in oneOf`,params:({params:{discrError:a,tag:b,tagName:c}})=>(0,d._)`{error: ${a}, tag: ${c}, tagValue: ${b}}`},code(a){let{gen:b,data:c,schema:i,parentSchema:j,it:k}=a,{oneOf:l}=j;if(!k.opts.discriminator)throw Error("discriminator: requires discriminator option");let m=i.propertyName;if("string"!=typeof m)throw Error("discriminator: requires propertyName");if(i.mapping)throw Error("discriminator: mapping is not supported");if(!l)throw Error("discriminator: requires oneOf keyword");let n=b.let("valid",!1),o=b.const("tag",(0,d._)`${c}${(0,d.getProperty)(m)}`);b.if((0,d._)`typeof ${o} == "string"`,()=>(function(){let c=function(){var a;let b={},c=e(j),d=!0;for(let b=0;b<l.length;b++){let j=l[b];if((null==j?void 0:j.$ref)&&!(0,h.schemaHasRulesButRef)(j,k.self.RULES)){let a=j.$ref;if((j=f.resolveRef.call(k.self,k.schemaEnv.root,k.baseId,a))instanceof f.SchemaEnv&&(j=j.schema),void 0===j)throw new g.default(k.opts.uriResolver,k.baseId,a)}let n=null==(a=null==j?void 0:j.properties)?void 0:a[m];if("object"!=typeof n)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);d=d&&(c||e(j)),function(a,b){if(a.const)i(a.const,b);else if(a.enum)for(let c of a.enum)i(c,b);else throw Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}(n,b)}if(!d)throw Error(`discriminator: "${m}" must be required`);return b;function e({required:a}){return Array.isArray(a)&&a.includes(m)}function i(a,c){if("string"!=typeof a||a in b)throw Error(`discriminator: "${m}" values must be unique strings`);b[a]=c}}();for(let e in b.if(!1),c)b.elseIf((0,d._)`${o} === ${e}`),b.assign(n,function(c){let e=b.name("valid"),f=a.subschema({keyword:"oneOf",schemaProp:c},e);return a.mergeEvaluated(f,d.Name),e}(c[e]));b.else(),a.error(!1,{discrError:e.DiscrError.Mapping,tag:o,tagName:m}),b.endIf()})(),()=>a.error(!1,{discrError:e.DiscrError.Tag,tag:o,tagName:m})),a.ok(n)}}},96775:(a,b,c)=>{"use strict";let d=c(78871);a.exports=(a,b,c)=>new d(a,c).compare(new d(b,c))},96786:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GrpcExporterTransport=b.createEmptyMetadata=b.createSslCredentials=b.createInsecureCredentials=void 0,b.createInsecureCredentials=function(){let{credentials:a}=c(47265);return a.createInsecure()},b.createSslCredentials=function(a,b,d){let{credentials:e}=c(47265);return e.createSsl(a,b,d)},b.createEmptyMetadata=function(){let{Metadata:a}=c(47265);return new a};class d{constructor(a){this._parameters=a}shutdown(){var a;null==(a=this._client)||a.close()}send(a){let b=Buffer.from(a);if(null==this._client){let{createServiceClientConstructor:a}=c(44917);try{this._metadata=this._parameters.metadata()}catch(a){return Promise.resolve({status:"failure",error:a})}let b=a(this._parameters.grpcPath,this._parameters.grpcName);try{var d;this._client=new b(this._parameters.address,this._parameters.credentials(),{"grpc.default_compression_algorithm":(d=this._parameters.compression,2*("gzip"===d))})}catch(a){return Promise.resolve({status:"failure",error:a})}}return new Promise(a=>{let c=Date.now()+this._parameters.timeoutMillis;if(null==this._metadata)return a({error:Error("metadata was null"),status:"failure"});this._client.export(b,this._metadata,{deadline:c},(b,c)=>{b?a({status:"failure",error:b}):a({data:c,status:"success"})})})}}b.GrpcExporterTransport=d},97106:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>0!==d(a,b,c)},97167:(a,b,c)=>{"use strict";var d=c(42218),e=c(8408);let f={identify:a=>"<<"===a||"symbol"==typeof a&&"<<"===a.description,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new e.Scalar(Symbol("<<")),{addToJSMap:g}),stringify:()=>"<<"};function g(a,b,c){if(c=a&&d.isAlias(c)?c.resolve(a.doc):c,d.isSeq(c))for(let d of c.items)h(a,b,d);else if(Array.isArray(c))for(let d of c)h(a,b,d);else h(a,b,c)}function h(a,b,c){let e=a&&d.isAlias(c)?c.resolve(a.doc):c;if(!d.isMap(e))throw Error("Merge sources must be maps or map aliases");for(let[c,d]of e.toJSON(null,a,Map))b instanceof Map?b.has(c)||b.set(c,d):b instanceof Set?b.add(c):Object.prototype.hasOwnProperty.call(b,c)||Object.defineProperty(b,c,{value:d,writable:!0,enumerable:!0,configurable:!0});return b}b.addMergeToJSMap=g,b.isMergeKey=(a,b)=>(f.identify(b)||d.isScalar(b)&&(!b.type||b.type===e.Scalar.PLAIN)&&f.identify(b.value))&&a?.doc.schema.tags.some(a=>a.tag===f.tag&&a.default),b.merge=f},97216:(a,b,c)=>{var d=c(28354),e=c(27910).Transform,f=c(18975);function g(a,b){if(!(this instanceof g))return new g(a,b);b||(b={}),void 0===b.highWaterMark&&(b.highWaterMark=1),e.call(this,b),this.hex=f(b),this.hex.pipe(a)}a.exports=g,d.inherits(g,e),g.prototype._transform=function(a,b,c){var d=this;d.hex.write(a,b,function(){d.push(a),c()})},g.prototype._flush=function(a){this.hex.end(null,null,a)}},97579:(a,b,c)=>{"use strict";let d=c(96775);a.exports=(a,b,c)=>0>=d(a,b,c)},97798:(a,b,c)=>{"use strict";c.r(b),c.d(b,{OTLPTraceExporter:()=>n});var d=c(24774),e=c(66336),f=c(89162),g=c(144),h=c(20795),i=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),j=function(){return(j=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},k="v1/traces",l="http://localhost:4318/"+k,m={"User-Agent":"OTel-OTLP-Exporter-JavaScript/0.52.1"},n=function(a){function b(b){void 0===b&&(b={});var c=a.call(this,b,h.nW,"application/x-protobuf")||this;return c.headers=j(j(j(j({},c.headers),m),d.parseKeyPairsIntoRecord((0,e._)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),(0,f.QG)(null==b?void 0:b.headers)),c}return i(b,a),b.prototype.getDefaultUrl=function(a){return"string"==typeof a.url?a.url:(0,e._)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,f.u3)((0,e._)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,e._)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,f.Ir)((0,e._)().OTEL_EXPORTER_OTLP_ENDPOINT,k):l},b}(g.u)},97866:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.default=function(){function a(){if(!(this instanceof a))throw TypeError("Cannot call a class as a function")}return c(a,[{key:"info",value:function(a){}},{key:"error",value:function(a){}}]),a}()},97945:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ChannelCredentials=void 0,b.createCertificateProviderChannelCredentials=function(a,b,c){return new q(a,b,null!=c?c:{})};let d=c(34631),e=c(32970),f=c(30762),g=c(9413),h=c(43313),i=c(38702),j=c(56458);function k(a,b){if(a&&!(a instanceof Buffer))throw TypeError(`${b}, if provided, must be a Buffer.`)}class l{compose(a){return new r(this,a)}static createSsl(a,b,c,e){var g;if(k(a,"Root certificate"),k(b,"Private key"),k(c,"Certificate chain"),b&&!c)throw Error("Private key must be given with accompanying certificate chain");if(!b&&c)throw Error("Certificate chain must be given with accompanying private key");return new p((0,d.createSecureContext)({ca:null!=(g=null!=a?a:(0,f.getDefaultRootsData)())?g:void 0,key:null!=b?b:void 0,cert:null!=c?c:void 0,ciphers:f.CIPHER_SUITES}),null!=e?e:{})}static createFromSecureContext(a,b){return new p(a,null!=b?b:{})}static createInsecure(){return new m}}b.ChannelCredentials=l;class m extends l{constructor(){super()}compose(a){throw Error("Cannot compose insecure credentials")}_isSecure(){return!1}_equals(a){return a instanceof m}_createSecureConnector(a,b,c){return{connect:a=>Promise.resolve({socket:a,secure:!1}),waitForReady:()=>Promise.resolve(),getCallCredentials:()=>null!=c?c:e.CallCredentials.createEmpty(),destroy(){}}}}function n(a,b,c,e){var f,i;let j={secureContext:a},k=c;if("grpc.http_connect_target"in e){let a=(0,g.parseUri)(e["grpc.http_connect_target"]);a&&(k=a)}let l=(0,h.getDefaultAuthority)(k),m=(0,g.splitHostPort)(l),n=null!=(f=null==m?void 0:m.host)?f:l;if(j.host=n,b.checkServerIdentity&&(j.checkServerIdentity=b.checkServerIdentity),void 0!==b.rejectUnauthorized&&(j.rejectUnauthorized=b.rejectUnauthorized),j.ALPNProtocols=["h2"],e["grpc.ssl_target_name_override"]){let a=e["grpc.ssl_target_name_override"],b=null!=(i=j.checkServerIdentity)?i:d.checkServerIdentity;j.checkServerIdentity=(c,d)=>b(a,d),j.servername=a}else j.servername=n;return e["grpc-node.tls_enable_trace"]&&(j.enableTrace=!0),j}class o{constructor(a,b){this.connectionOptions=a,this.callCredentials=b}connect(a){let b=Object.assign({socket:a},this.connectionOptions);return new Promise((a,c)=>{let e=(0,d.connect)(b,()=>{var b;if((null==(b=this.connectionOptions.rejectUnauthorized)||b)&&!e.authorized)return void c(e.authorizationError);a({socket:e,secure:!0})});e.on("error",a=>{c(a)})})}waitForReady(){return Promise.resolve()}getCallCredentials(){return this.callCredentials}destroy(){}}class p extends l{constructor(a,b){super(),this.secureContext=a,this.verifyOptions=b}_isSecure(){return!0}_equals(a){return this===a||a instanceof p&&this.secureContext===a.secureContext&&this.verifyOptions.checkServerIdentity===a.verifyOptions.checkServerIdentity}_createSecureConnector(a,b,c){return new o(n(this.secureContext,this.verifyOptions,a,b),null!=c?c:e.CallCredentials.createEmpty())}}class q extends l{constructor(a,b,c){super(),this.caCertificateProvider=a,this.identityCertificateProvider=b,this.verifyOptions=c,this.refcount=0,this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this),this.secureContextWatchers=[]}_isSecure(){return!0}_equals(a){var b,c;return this===a||a instanceof q&&this.caCertificateProvider===a.caCertificateProvider&&this.identityCertificateProvider===a.identityCertificateProvider&&(null==(b=this.verifyOptions)?void 0:b.checkServerIdentity)===(null==(c=a.verifyOptions)?void 0:c.checkServerIdentity)}ref(){var a;0===this.refcount&&(this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener),null==(a=this.identityCertificateProvider)||a.addIdentityCertificateListener(this.identityCertificateUpdateListener)),this.refcount+=1}unref(){var a;this.refcount-=1,0===this.refcount&&(this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener),null==(a=this.identityCertificateProvider)||a.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_createSecureConnector(a,b,c){return this.ref(),new q.SecureConnectorImpl(this,a,b,null!=c?c:e.CallCredentials.createEmpty())}maybeUpdateWatchers(){if(this.hasReceivedUpdates()){for(let a of this.secureContextWatchers)a(this.getLatestSecureContext());this.secureContextWatchers=[]}}handleCaCertificateUpdate(a){this.latestCaUpdate=a,this.maybeUpdateWatchers()}handleIdentityCertitificateUpdate(a){this.latestIdentityUpdate=a,this.maybeUpdateWatchers()}hasReceivedUpdates(){return void 0!==this.latestCaUpdate&&(!this.identityCertificateProvider||void 0!==this.latestIdentityUpdate)}getSecureContext(){return this.hasReceivedUpdates()?Promise.resolve(this.getLatestSecureContext()):new Promise(a=>{this.secureContextWatchers.push(a)})}getLatestSecureContext(){var a,b;if(!this.latestCaUpdate||null!==this.identityCertificateProvider&&!this.latestIdentityUpdate)return null;try{return(0,d.createSecureContext)({ca:this.latestCaUpdate.caCertificate,key:null==(a=this.latestIdentityUpdate)?void 0:a.privateKey,cert:null==(b=this.latestIdentityUpdate)?void 0:b.certificate,ciphers:f.CIPHER_SUITES})}catch(a){return(0,i.log)(j.LogVerbosity.ERROR,"Failed to createSecureContext with error "+a.message),null}}}q.SecureConnectorImpl=class{constructor(a,b,c,d){this.parent=a,this.channelTarget=b,this.options=c,this.callCredentials=d}connect(a){return new Promise((b,c)=>{let e=this.parent.getLatestSecureContext();if(!e)return void c(Error("Failed to load credentials"));a.closed&&c(Error("Socket closed while loading credentials"));let f=Object.assign({socket:a},n(e,this.parent.verifyOptions,this.channelTarget,this.options)),g=()=>{c(Error("Socket closed"))},h=a=>{c(a)},i=(0,d.connect)(f,()=>{var a;if(i.removeListener("close",g),i.removeListener("error",h),(null==(a=this.parent.verifyOptions.rejectUnauthorized)||a)&&!i.authorized)return void c(i.authorizationError);b({socket:i,secure:!0})});i.once("close",g),i.once("error",h)})}async waitForReady(){await this.parent.getSecureContext()}getCallCredentials(){return this.callCredentials}destroy(){this.parent.unref()}};class r extends l{constructor(a,b){if(super(),this.channelCredentials=a,this.callCredentials=b,!a._isSecure())throw Error("Cannot compose insecure credentials")}compose(a){let b=this.callCredentials.compose(a);return new r(this.channelCredentials,b)}_isSecure(){return!0}_equals(a){return this===a||a instanceof r&&this.channelCredentials._equals(a.channelCredentials)&&this.callCredentials._equals(a.callCredentials)}_createSecureConnector(a,b,c){let d=this.callCredentials.compose(null!=c?c:e.CallCredentials.createEmpty());return this.channelCredentials._createSecureConnector(a,b,d)}}},97988:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.formatLimitDefinition=void 0;let d=c(173),e=c(38904),f=e.operators,g={formatMaximum:{okStr:"<=",ok:f.LTE,fail:f.GT},formatMinimum:{okStr:">=",ok:f.GTE,fail:f.LT},formatExclusiveMaximum:{okStr:"<",ok:f.LT,fail:f.GTE},formatExclusiveMinimum:{okStr:">",ok:f.GT,fail:f.LTE}};b.formatLimitDefinition={keyword:Object.keys(g),type:"string",schemaType:"string",$data:!0,error:{message:({keyword:a,schemaCode:b})=>(0,e.str)`should be ${g[a].okStr} ${b}`,params:({keyword:a,schemaCode:b})=>(0,e._)`{comparison: ${g[a].okStr}, limit: ${b}}`},code(a){let{gen:b,data:c,schemaCode:f,keyword:h,it:i}=a,{opts:j,self:k}=i;if(!j.validateFormats)return;let l=new d.KeywordCxt(i,k.RULES.all.format.definition,"format");function m(a){return(0,e._)`${a}.compare(${c}, ${f}) ${g[h].fail} 0`}l.$data?function(){let c=b.scopeValue("formats",{ref:k.formats,code:j.code.formats}),d=b.const("fmt",(0,e._)`${c}[${l.schemaCode}]`);a.fail$data((0,e.or)((0,e._)`typeof ${d} != "object"`,(0,e._)`${d} instanceof RegExp`,(0,e._)`typeof ${d}.compare != "function"`,m(d)))}():function(){let c=l.schema,d=k.formats[c];if(!d||!0===d)return;if("object"!=typeof d||d instanceof RegExp||"function"!=typeof d.compare)throw Error(`"${h}": format "${c}" does not define "compare" function`);let f=b.scopeValue("formats",{key:c,ref:d,code:j.code.formats?(0,e._)`${j.code.formats}${(0,e.getProperty)(c)}`:void 0});a.fail$data(m(f))}()},dependencies:["format"]},b.default=a=>(a.addKeyword(b.formatLimitDefinition),a)},98095:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{GENERIC_VEO_INFO:()=>n,VeoConfigSchema:()=>m,defineVeoModel:()=>o}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(6250),j=c(48145),k=c(73396),l=c(83926);let m=i.z.object({negativePrompt:i.z.string().optional(),aspectRatio:i.z.enum(["9:16","16:9"]).describe("Desired aspect ratio of the output video.").optional(),personGeneration:i.z.enum(["dont_allow","allow_adult","allow_all"]).describe("Control if/how images of people will be generated by the model.").optional(),durationSeconds:i.z.number().step(1).min(5).max(8).describe("Length of each output video in seconds, between 5 and 8.").optional(),enhance_prompt:i.z.boolean().describe("Enable or disable the prompt rewriter. Enabled by default.").optional()}).passthrough(),n={label:"Google AI - Generic Veo",supports:{media:!0,multiturn:!1,tools:!1,systemRole:!1,output:["media"],longRunning:!0}};function o(a,b,c){if(!1!==c&&!(c=c||(0,k.getApiKeyFromEnvVar)()))throw new i.GenkitError({status:"FAILED_PRECONDITION",message:"Please pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable.\nFor more details see https://genkit.dev/docs/plugins/google-genai"});let d=`googleai/${b}`,e=(0,j.modelRef)({name:d,info:{...n,label:`Google AI - ${b}`},configSchema:m});return a.defineBackgroundModel({name:d,...e.info,configSchema:m,async start(a){let d={prompt:a.messages.at(-1).content.map(a=>a.text||"").join("")},f=function(a){let b=a.messages.at(-1)?.content.find(a=>!!a.media)?.media;if(b)return{bytesBase64Encoded:b?.url.split(",")[1],mimeType:b.contentType}}(a);f&&(d.image=f);let g=(0,l.predictModel)(e.version||b,c,"predictLongRunning");return p(await g([d],function(a){let b={...a?.config};for(let a in b)b[a]||delete b[a];return b}(a)))},check:async a=>p(await (0,l.checkOp)(a.id,c))})}function p(a){let b={id:a.name};return void 0!==a.done&&(b.done=a.done),a.error&&(b.error={message:a.error.message}),a.response&&a.response.generateVideoResponse&&a.response.generateVideoResponse.generatedSamples&&(b.output={finishReason:"stop",raw:a.response,message:{role:"model",content:a.response.generateVideoResponse.generatedSamples.map(a=>({media:{url:a.video.uri}}))}}),b}},99008:(a,b)=>{"use strict";b.__esModule=!0;var c=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function d(a,b){var e=b&&b.loc,f=void 0,g=void 0,h=void 0,i=void 0;e&&(f=e.start.line,g=e.end.line,h=e.start.column,i=e.end.column,a+=" - "+f+":"+h);for(var j=Error.prototype.constructor.call(this,a),k=0;k<c.length;k++)this[c[k]]=j[c[k]];Error.captureStackTrace&&Error.captureStackTrace(this,d);try{e&&(this.lineNumber=f,this.endLineNumber=g,Object.defineProperty?(Object.defineProperty(this,"column",{value:h,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:i,enumerable:!0})):(this.column=h,this.endColumn=i))}catch(a){}}d.prototype=Error(),b.default=d,a.exports=b.default},99052:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED:()=>hz,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED:()=>hA,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED:()=>hB,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED:()=>hC,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED:()=>he,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER:()=>hf,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER:()=>hg,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED:()=>hh,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE:()=>hH,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS:()=>hI,ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT:()=>hy,ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE:()=>hx,ATTR_ASPNETCORE_RATE_LIMITING_POLICY:()=>hD,ATTR_ASPNETCORE_RATE_LIMITING_RESULT:()=>hd,ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED:()=>hE,ATTR_ASPNETCORE_ROUTING_IS_FALLBACK:()=>hF,ATTR_ASPNETCORE_ROUTING_MATCH_STATUS:()=>hG,ATTR_CLIENT_ADDRESS:()=>hJ,ATTR_CLIENT_PORT:()=>hK,ATTR_ERROR_TYPE:()=>hL,ATTR_EXCEPTION_ESCAPED:()=>hN,ATTR_EXCEPTION_MESSAGE:()=>hO,ATTR_EXCEPTION_STACKTRACE:()=>hP,ATTR_EXCEPTION_TYPE:()=>hQ,ATTR_HTTP_REQUEST_HEADER:()=>hR,ATTR_HTTP_REQUEST_METHOD:()=>hS,ATTR_HTTP_REQUEST_METHOD_ORIGINAL:()=>h1,ATTR_HTTP_REQUEST_RESEND_COUNT:()=>h2,ATTR_HTTP_RESPONSE_HEADER:()=>h3,ATTR_HTTP_RESPONSE_STATUS_CODE:()=>h4,ATTR_HTTP_ROUTE:()=>h5,ATTR_JVM_GC_ACTION:()=>h6,ATTR_JVM_GC_NAME:()=>h7,ATTR_JVM_MEMORY_POOL_NAME:()=>h8,ATTR_JVM_MEMORY_TYPE:()=>h9,ATTR_JVM_THREAD_DAEMON:()=>ic,ATTR_JVM_THREAD_STATE:()=>id,ATTR_NETWORK_LOCAL_ADDRESS:()=>il,ATTR_NETWORK_LOCAL_PORT:()=>im,ATTR_NETWORK_PEER_ADDRESS:()=>io,ATTR_NETWORK_PEER_PORT:()=>ip,ATTR_NETWORK_PROTOCOL_NAME:()=>iq,ATTR_NETWORK_PROTOCOL_VERSION:()=>ir,ATTR_NETWORK_TRANSPORT:()=>is,ATTR_NETWORK_TYPE:()=>iy,ATTR_OTEL_SCOPE_NAME:()=>iB,ATTR_OTEL_SCOPE_VERSION:()=>iC,ATTR_OTEL_STATUS_CODE:()=>iD,ATTR_OTEL_STATUS_DESCRIPTION:()=>iG,ATTR_SERVER_ADDRESS:()=>iH,ATTR_SERVER_PORT:()=>iI,ATTR_SERVICE_NAME:()=>iJ,ATTR_SERVICE_VERSION:()=>iK,ATTR_SIGNALR_CONNECTION_STATUS:()=>iL,ATTR_SIGNALR_TRANSPORT:()=>iP,ATTR_TELEMETRY_SDK_LANGUAGE:()=>hi,ATTR_TELEMETRY_SDK_NAME:()=>hv,ATTR_TELEMETRY_SDK_VERSION:()=>hw,ATTR_URL_FRAGMENT:()=>iT,ATTR_URL_FULL:()=>iU,ATTR_URL_PATH:()=>iV,ATTR_URL_QUERY:()=>iW,ATTR_URL_SCHEME:()=>iX,ATTR_USER_AGENT_ORIGINAL:()=>iY,AWSECSLAUNCHTYPEVALUES_EC2:()=>hc.Jn,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>hc.Fz,AwsEcsLaunchtypeValues:()=>hc.AS,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>hc.WE,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>hc.op,CLOUDPLATFORMVALUES_AWS_EC2:()=>hc.WC,CLOUDPLATFORMVALUES_AWS_ECS:()=>hc.p7,CLOUDPLATFORMVALUES_AWS_EKS:()=>hc.Vx,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>hc.Vf,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>hc.JO,CLOUDPLATFORMVALUES_AZURE_AKS:()=>hc.Vm,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>hc.L6,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>hc.oH,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>hc.$R,CLOUDPLATFORMVALUES_AZURE_VM:()=>hc.zF,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>hc.$T,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>hc.a1,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>hc.qB,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>hc.Tg,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>hc.qN,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>hc.Eh,CLOUDPROVIDERVALUES_AWS:()=>hc.Xm,CLOUDPROVIDERVALUES_AZURE:()=>hc.BY,CLOUDPROVIDERVALUES_GCP:()=>hc.ov,CloudPlatformValues:()=>hc.ns,CloudProviderValues:()=>hc.jV,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>eZ,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>e5,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>e$,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>e4,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>e0,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>e7,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>e1,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>e_,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>e6,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>e3,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>e2,DBSYSTEMVALUES_ADABAS:()=>en,DBSYSTEMVALUES_CACHE:()=>em,DBSYSTEMVALUES_CASSANDRA:()=>eE,DBSYSTEMVALUES_CLOUDSCAPE:()=>ee,DBSYSTEMVALUES_COCKROACHDB:()=>eQ,DBSYSTEMVALUES_COLDFUSION:()=>eD,DBSYSTEMVALUES_COSMOSDB:()=>eK,DBSYSTEMVALUES_COUCHBASE:()=>eI,DBSYSTEMVALUES_COUCHDB:()=>eJ,DBSYSTEMVALUES_DB2:()=>ea,DBSYSTEMVALUES_DERBY:()=>ep,DBSYSTEMVALUES_DYNAMODB:()=>eL,DBSYSTEMVALUES_EDB:()=>el,DBSYSTEMVALUES_ELASTICSEARCH:()=>eO,DBSYSTEMVALUES_FILEMAKER:()=>eq,DBSYSTEMVALUES_FIREBIRD:()=>eo,DBSYSTEMVALUES_FIRSTSQL:()=>ek,DBSYSTEMVALUES_GEODE:()=>eN,DBSYSTEMVALUES_H2:()=>eC,DBSYSTEMVALUES_HANADB:()=>ei,DBSYSTEMVALUES_HBASE:()=>eF,DBSYSTEMVALUES_HIVE:()=>ed,DBSYSTEMVALUES_HSQLDB:()=>ef,DBSYSTEMVALUES_INFORMIX:()=>er,DBSYSTEMVALUES_INGRES:()=>ej,DBSYSTEMVALUES_INSTANTDB:()=>es,DBSYSTEMVALUES_INTERBASE:()=>et,DBSYSTEMVALUES_MARIADB:()=>eu,DBSYSTEMVALUES_MAXDB:()=>eh,DBSYSTEMVALUES_MEMCACHED:()=>eP,DBSYSTEMVALUES_MONGODB:()=>eG,DBSYSTEMVALUES_MSSQL:()=>d7,DBSYSTEMVALUES_MYSQL:()=>d8,DBSYSTEMVALUES_NEO4J:()=>eM,DBSYSTEMVALUES_NETEZZA:()=>ev,DBSYSTEMVALUES_ORACLE:()=>d9,DBSYSTEMVALUES_OTHER_SQL:()=>d6,DBSYSTEMVALUES_PERVASIVE:()=>ew,DBSYSTEMVALUES_POINTBASE:()=>ex,DBSYSTEMVALUES_POSTGRESQL:()=>eb,DBSYSTEMVALUES_PROGRESS:()=>eg,DBSYSTEMVALUES_REDIS:()=>eH,DBSYSTEMVALUES_REDSHIFT:()=>ec,DBSYSTEMVALUES_SQLITE:()=>ey,DBSYSTEMVALUES_SYBASE:()=>ez,DBSYSTEMVALUES_TERADATA:()=>eA,DBSYSTEMVALUES_VERTICA:()=>eB,DbCassandraConsistencyLevelValues:()=>e8,DbSystemValues:()=>eR,ERROR_TYPE_VALUE_OTHER:()=>hM,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>fp,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>fo,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>fn,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>ft,FAASINVOKEDPROVIDERVALUES_AWS:()=>fu,FAASINVOKEDPROVIDERVALUES_AZURE:()=>fv,FAASINVOKEDPROVIDERVALUES_GCP:()=>fw,FAASTRIGGERVALUES_DATASOURCE:()=>fe,FAASTRIGGERVALUES_HTTP:()=>ff,FAASTRIGGERVALUES_OTHER:()=>fi,FAASTRIGGERVALUES_PUBSUB:()=>fg,FAASTRIGGERVALUES_TIMER:()=>fh,FaasDocumentOperationValues:()=>fq,FaasInvokedProviderValues:()=>fx,FaasTriggerValues:()=>fj,HOSTARCHVALUES_AMD64:()=>hc.so,HOSTARCHVALUES_ARM32:()=>hc.hi,HOSTARCHVALUES_ARM64:()=>hc.UQ,HOSTARCHVALUES_IA64:()=>hc.av,HOSTARCHVALUES_PPC32:()=>hc.OZ,HOSTARCHVALUES_PPC64:()=>hc.DL,HOSTARCHVALUES_X86:()=>hc.ig,HTTPFLAVORVALUES_HTTP_1_0:()=>gB,HTTPFLAVORVALUES_HTTP_1_1:()=>gC,HTTPFLAVORVALUES_HTTP_2_0:()=>gD,HTTPFLAVORVALUES_QUIC:()=>gF,HTTPFLAVORVALUES_SPDY:()=>gE,HTTP_REQUEST_METHOD_VALUE_CONNECT:()=>hU,HTTP_REQUEST_METHOD_VALUE_DELETE:()=>hV,HTTP_REQUEST_METHOD_VALUE_GET:()=>hW,HTTP_REQUEST_METHOD_VALUE_HEAD:()=>hX,HTTP_REQUEST_METHOD_VALUE_OPTIONS:()=>hY,HTTP_REQUEST_METHOD_VALUE_OTHER:()=>hT,HTTP_REQUEST_METHOD_VALUE_PATCH:()=>hZ,HTTP_REQUEST_METHOD_VALUE_POST:()=>h$,HTTP_REQUEST_METHOD_VALUE_PUT:()=>h_,HTTP_REQUEST_METHOD_VALUE_TRACE:()=>h0,HostArchValues:()=>hc.Cg,HttpFlavorValues:()=>gG,JVM_MEMORY_TYPE_VALUE_HEAP:()=>ia,JVM_MEMORY_TYPE_VALUE_NON_HEAP:()=>ib,JVM_THREAD_STATE_VALUE_BLOCKED:()=>ie,JVM_THREAD_STATE_VALUE_NEW:()=>ig,JVM_THREAD_STATE_VALUE_RUNNABLE:()=>ih,JVM_THREAD_STATE_VALUE_TERMINATED:()=>ii,JVM_THREAD_STATE_VALUE_TIMED_WAITING:()=>ij,JVM_THREAD_STATE_VALUE_WAITING:()=>ik,MESSAGETYPEVALUES_RECEIVED:()=>ha,MESSAGETYPEVALUES_SENT:()=>g9,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>gJ,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>gK,MESSAGINGOPERATIONVALUES_PROCESS:()=>gP,MESSAGINGOPERATIONVALUES_RECEIVE:()=>gO,METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS:()=>iZ,METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES:()=>i$,METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS:()=>i_,METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS:()=>i2,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION:()=>i1,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE:()=>i0,METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS:()=>i3,METRIC_HTTP_CLIENT_REQUEST_DURATION:()=>i4,METRIC_HTTP_SERVER_REQUEST_DURATION:()=>i5,METRIC_JVM_CLASS_COUNT:()=>i6,METRIC_JVM_CLASS_LOADED:()=>i7,METRIC_JVM_CLASS_UNLOADED:()=>i8,METRIC_JVM_CPU_COUNT:()=>i9,METRIC_JVM_CPU_RECENT_UTILIZATION:()=>ja,METRIC_JVM_CPU_TIME:()=>jb,METRIC_JVM_GC_DURATION:()=>jc,METRIC_JVM_MEMORY_COMMITTED:()=>jd,METRIC_JVM_MEMORY_LIMIT:()=>je,METRIC_JVM_MEMORY_USED:()=>jf,METRIC_JVM_MEMORY_USED_AFTER_LAST_GC:()=>jg,METRIC_JVM_THREAD_COUNT:()=>jh,METRIC_KESTREL_ACTIVE_CONNECTIONS:()=>ji,METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES:()=>jj,METRIC_KESTREL_CONNECTION_DURATION:()=>jk,METRIC_KESTREL_QUEUED_CONNECTIONS:()=>jl,METRIC_KESTREL_QUEUED_REQUESTS:()=>jm,METRIC_KESTREL_REJECTED_CONNECTIONS:()=>jn,METRIC_KESTREL_TLS_HANDSHAKE_DURATION:()=>jo,METRIC_KESTREL_UPGRADED_CONNECTIONS:()=>jp,METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS:()=>jq,METRIC_SIGNALR_SERVER_CONNECTION_DURATION:()=>jr,MessageTypeValues:()=>hb,MessagingDestinationKindValues:()=>gL,MessagingOperationValues:()=>gQ,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>gg,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>gj,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>ge,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>gq,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>gh,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>gi,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>go,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>gd,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>gs,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>gk,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>gm,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>gr,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>gl,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>gn,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>gu,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>gp,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>gx,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>gv,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>gw,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>gt,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>gf,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>fT,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>fU,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>fV,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>fR,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>fS,NETTRANSPORTVALUES_INPROC:()=>fJ,NETTRANSPORTVALUES_IP:()=>fG,NETTRANSPORTVALUES_IP_TCP:()=>fE,NETTRANSPORTVALUES_IP_UDP:()=>fF,NETTRANSPORTVALUES_OTHER:()=>fK,NETTRANSPORTVALUES_PIPE:()=>fI,NETTRANSPORTVALUES_UNIX:()=>fH,NETWORK_TRANSPORT_VALUE_PIPE:()=>it,NETWORK_TRANSPORT_VALUE_QUIC:()=>iu,NETWORK_TRANSPORT_VALUE_TCP:()=>iv,NETWORK_TRANSPORT_VALUE_UDP:()=>iw,NETWORK_TRANSPORT_VALUE_UNIX:()=>ix,NETWORK_TYPE_VALUE_IPV4:()=>iz,NETWORK_TYPE_VALUE_IPV6:()=>iA,NetHostConnectionSubtypeValues:()=>gy,NetHostConnectionTypeValues:()=>fW,NetTransportValues:()=>fL,OSTYPEVALUES_AIX:()=>hc.cJ,OSTYPEVALUES_DARWIN:()=>hc.JW,OSTYPEVALUES_DRAGONFLYBSD:()=>hc.tD,OSTYPEVALUES_FREEBSD:()=>hc.xG,OSTYPEVALUES_HPUX:()=>hc.BT,OSTYPEVALUES_LINUX:()=>hc.Yh,OSTYPEVALUES_NETBSD:()=>hc.sS,OSTYPEVALUES_OPENBSD:()=>hc.h7,OSTYPEVALUES_SOLARIS:()=>hc.l9,OSTYPEVALUES_WINDOWS:()=>hc.xR,OSTYPEVALUES_Z_OS:()=>hc.Pi,OTEL_STATUS_CODE_VALUE_ERROR:()=>iE,OTEL_STATUS_CODE_VALUE_OK:()=>iF,OsTypeValues:()=>hc.h0,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>g_,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>gX,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>gS,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>g4,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>gV,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>g$,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>g2,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>gU,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>gW,RPCGRPCSTATUSCODEVALUES_OK:()=>gR,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>g0,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>gY,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>gZ,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>g5,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>g3,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>g1,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>gT,RpcGrpcStatusCodeValues:()=>g6,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>cH,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>cT,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>cE,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>cA,SEMATTRS_AWS_DYNAMODB_COUNT:()=>cR,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>cM,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>cK,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>cU,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>cI,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>cB,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>cG,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>cL,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>cF,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>cC,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>cD,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>cS,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>cO,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>cP,SEMATTRS_AWS_DYNAMODB_SELECT:()=>cJ,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>cN,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>cz,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>cQ,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>bo,SEMATTRS_CODE_FILEPATH:()=>ci,SEMATTRS_CODE_FUNCTION:()=>cg,SEMATTRS_CODE_LINENO:()=>cj,SEMATTRS_CODE_NAMESPACE:()=>ch,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>bz,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>bE,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>bD,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>bB,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>bx,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>by,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>bC,SEMATTRS_DB_CASSANDRA_TABLE:()=>bA,SEMATTRS_DB_CONNECTION_STRING:()=>bq,SEMATTRS_DB_HBASE_NAMESPACE:()=>bF,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>bs,SEMATTRS_DB_MONGODB_COLLECTION:()=>bH,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>bw,SEMATTRS_DB_NAME:()=>bt,SEMATTRS_DB_OPERATION:()=>bv,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>bG,SEMATTRS_DB_SQL_TABLE:()=>bI,SEMATTRS_DB_STATEMENT:()=>bu,SEMATTRS_DB_SYSTEM:()=>bp,SEMATTRS_DB_USER:()=>br,SEMATTRS_ENDUSER_ID:()=>cb,SEMATTRS_ENDUSER_ROLE:()=>cc,SEMATTRS_ENDUSER_SCOPE:()=>cd,SEMATTRS_EXCEPTION_ESCAPED:()=>bM,SEMATTRS_EXCEPTION_MESSAGE:()=>bK,SEMATTRS_EXCEPTION_STACKTRACE:()=>bL,SEMATTRS_EXCEPTION_TYPE:()=>bJ,SEMATTRS_FAAS_COLDSTART:()=>bV,SEMATTRS_FAAS_CRON:()=>bU,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>bP,SEMATTRS_FAAS_DOCUMENT_NAME:()=>bS,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>bQ,SEMATTRS_FAAS_DOCUMENT_TIME:()=>bR,SEMATTRS_FAAS_EXECUTION:()=>bO,SEMATTRS_FAAS_INVOKED_NAME:()=>bW,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>bX,SEMATTRS_FAAS_INVOKED_REGION:()=>bY,SEMATTRS_FAAS_TIME:()=>bT,SEMATTRS_FAAS_TRIGGER:()=>bN,SEMATTRS_HTTP_CLIENT_IP:()=>cy,SEMATTRS_HTTP_FLAVOR:()=>cq,SEMATTRS_HTTP_HOST:()=>cn,SEMATTRS_HTTP_METHOD:()=>ck,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>cs,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>ct,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>cu,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>cv,SEMATTRS_HTTP_ROUTE:()=>cx,SEMATTRS_HTTP_SCHEME:()=>co,SEMATTRS_HTTP_SERVER_NAME:()=>cw,SEMATTRS_HTTP_STATUS_CODE:()=>cp,SEMATTRS_HTTP_TARGET:()=>cm,SEMATTRS_HTTP_URL:()=>cl,SEMATTRS_HTTP_USER_AGENT:()=>cr,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>dm,SEMATTRS_MESSAGE_ID:()=>dl,SEMATTRS_MESSAGE_TYPE:()=>dk,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>dn,SEMATTRS_MESSAGING_CONSUMER_ID:()=>c5,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>c1,SEMATTRS_MESSAGING_DESTINATION:()=>cW,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>cX,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>c9,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>c8,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>c7,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>da,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>db,SEMATTRS_MESSAGING_MESSAGE_ID:()=>c0,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>c3,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>c2,SEMATTRS_MESSAGING_OPERATION:()=>c4,SEMATTRS_MESSAGING_PROTOCOL:()=>cZ,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>c$,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>c6,SEMATTRS_MESSAGING_SYSTEM:()=>cV,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>cY,SEMATTRS_MESSAGING_URL:()=>c_,SEMATTRS_NET_HOST_CARRIER_ICC:()=>b9,SEMATTRS_NET_HOST_CARRIER_MCC:()=>b7,SEMATTRS_NET_HOST_CARRIER_MNC:()=>b8,SEMATTRS_NET_HOST_CARRIER_NAME:()=>b6,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>b5,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>b4,SEMATTRS_NET_HOST_IP:()=>b1,SEMATTRS_NET_HOST_NAME:()=>b3,SEMATTRS_NET_HOST_PORT:()=>b2,SEMATTRS_NET_PEER_IP:()=>b$,SEMATTRS_NET_PEER_NAME:()=>b0,SEMATTRS_NET_PEER_PORT:()=>b_,SEMATTRS_NET_TRANSPORT:()=>bZ,SEMATTRS_PEER_SERVICE:()=>ca,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>df,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>di,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>dj,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>dh,SEMATTRS_RPC_JSONRPC_VERSION:()=>dg,SEMATTRS_RPC_METHOD:()=>de,SEMATTRS_RPC_SERVICE:()=>dd,SEMATTRS_RPC_SYSTEM:()=>dc,SEMATTRS_THREAD_ID:()=>ce,SEMATTRS_THREAD_NAME:()=>cf,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>hc.VH,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>hc.SV,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>hc.SA,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>hc.yB,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>hc.Zf,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>hc.MK,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>hc.v0,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>hc.an,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>hc.qF,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>hc.ZZ,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>hc.Dn,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>hc.E3,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>hc.xC,SEMRESATTRS_CLOUD_PLATFORM:()=>hc.Iq,SEMRESATTRS_CLOUD_PROVIDER:()=>hc.mA,SEMRESATTRS_CLOUD_REGION:()=>hc.Nw,SEMRESATTRS_CONTAINER_ID:()=>hc.ux,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>hc.uB,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>hc.RB,SEMRESATTRS_CONTAINER_NAME:()=>hc.aA,SEMRESATTRS_CONTAINER_RUNTIME:()=>hc.PZ,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>hc.I2,SEMRESATTRS_DEVICE_ID:()=>hc.tn,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>hc.BF,SEMRESATTRS_DEVICE_MODEL_NAME:()=>hc.Bt,SEMRESATTRS_FAAS_ID:()=>hc.Mm,SEMRESATTRS_FAAS_INSTANCE:()=>hc.uu,SEMRESATTRS_FAAS_MAX_MEMORY:()=>hc.PO,SEMRESATTRS_FAAS_NAME:()=>hc.Uf,SEMRESATTRS_FAAS_VERSION:()=>hc.lO,SEMRESATTRS_HOST_ARCH:()=>hc.yT,SEMRESATTRS_HOST_ID:()=>hc.zs,SEMRESATTRS_HOST_IMAGE_ID:()=>hc.HP,SEMRESATTRS_HOST_IMAGE_NAME:()=>hc.be,SEMRESATTRS_HOST_IMAGE_VERSION:()=>hc.g9,SEMRESATTRS_HOST_NAME:()=>hc.RK,SEMRESATTRS_HOST_TYPE:()=>hc.kE,SEMRESATTRS_K8S_CLUSTER_NAME:()=>hc.IG,SEMRESATTRS_K8S_CONTAINER_NAME:()=>hc.Pb,SEMRESATTRS_K8S_CRONJOB_NAME:()=>hc.Vy,SEMRESATTRS_K8S_CRONJOB_UID:()=>hc.gT,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>hc.Su,SEMRESATTRS_K8S_DAEMONSET_UID:()=>hc.rK,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>hc.do,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>hc.k7,SEMRESATTRS_K8S_JOB_NAME:()=>hc.z3,SEMRESATTRS_K8S_JOB_UID:()=>hc.mc,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>hc.Tl,SEMRESATTRS_K8S_NODE_NAME:()=>hc.Ky,SEMRESATTRS_K8S_NODE_UID:()=>hc.pV,SEMRESATTRS_K8S_POD_NAME:()=>hc.TH,SEMRESATTRS_K8S_POD_UID:()=>hc.gJ,SEMRESATTRS_K8S_REPLICASET_NAME:()=>hc.kv,SEMRESATTRS_K8S_REPLICASET_UID:()=>hc.PU,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>hc.kn,SEMRESATTRS_K8S_STATEFULSET_UID:()=>hc.f8,SEMRESATTRS_OS_DESCRIPTION:()=>hc.ik,SEMRESATTRS_OS_NAME:()=>hc.hQ,SEMRESATTRS_OS_TYPE:()=>hc.ko,SEMRESATTRS_OS_VERSION:()=>hc.AC,SEMRESATTRS_PROCESS_COMMAND:()=>hc.Cn,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>hc.U2,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>hc.x2,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>hc.fP,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>hc.xQ,SEMRESATTRS_PROCESS_OWNER:()=>hc.Yb,SEMRESATTRS_PROCESS_PID:()=>hc.ky,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>hc.C3,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>hc.lb,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>hc.cV,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>hc.PL,SEMRESATTRS_SERVICE_NAME:()=>hc.AV,SEMRESATTRS_SERVICE_NAMESPACE:()=>hc.ar,SEMRESATTRS_SERVICE_VERSION:()=>hc.xs,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>hc.nA,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>hc.Pl,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>hc.$L,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>hc.y$,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>hc.U1,SEMRESATTRS_WEBENGINE_NAME:()=>hc.HF,SEMRESATTRS_WEBENGINE_VERSION:()=>hc.WN,SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN:()=>iM,SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE:()=>iN,SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT:()=>iO,SIGNALR_TRANSPORT_VALUE_LONG_POLLING:()=>iQ,SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS:()=>iR,SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS:()=>iS,SemanticAttributes:()=>dp,SemanticResourceAttributes:()=>hc._2,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>hc.S5,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>hc.XE,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>hc.o2,TELEMETRYSDKLANGUAGEVALUES_GO:()=>hc.HE,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>hc.du,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>hc.wE,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>hc.tP,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>hc.$c,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>hc.jN,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>hc.uh,TELEMETRY_SDK_LANGUAGE_VALUE_CPP:()=>hj,TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET:()=>hk,TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG:()=>hl,TELEMETRY_SDK_LANGUAGE_VALUE_GO:()=>hm,TELEMETRY_SDK_LANGUAGE_VALUE_JAVA:()=>hn,TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS:()=>ho,TELEMETRY_SDK_LANGUAGE_VALUE_PHP:()=>hp,TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON:()=>hq,TELEMETRY_SDK_LANGUAGE_VALUE_RUBY:()=>hr,TELEMETRY_SDK_LANGUAGE_VALUE_RUST:()=>hs,TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT:()=>ht,TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS:()=>hu,TelemetrySdkLanguageValues:()=>hc.wP});var d=c(66556),e="aws.lambda.invoked_arn",f="db.system",g="db.connection_string",h="db.user",i="db.jdbc.driver_classname",j="db.name",k="db.statement",l="db.operation",m="db.mssql.instance_name",n="db.cassandra.keyspace",o="db.cassandra.page_size",p="db.cassandra.consistency_level",q="db.cassandra.table",r="db.cassandra.idempotence",s="db.cassandra.speculative_execution_count",t="db.cassandra.coordinator.id",u="db.cassandra.coordinator.dc",v="db.hbase.namespace",w="db.redis.database_index",x="db.mongodb.collection",y="db.sql.table",z="exception.type",A="exception.message",B="exception.stacktrace",C="exception.escaped",D="faas.trigger",E="faas.execution",F="faas.document.collection",G="faas.document.operation",H="faas.document.time",I="faas.document.name",J="faas.time",K="faas.cron",L="faas.coldstart",M="faas.invoked_name",N="faas.invoked_provider",O="faas.invoked_region",P="net.transport",Q="net.peer.ip",R="net.peer.port",S="net.peer.name",T="net.host.ip",U="net.host.port",V="net.host.name",W="net.host.connection.type",X="net.host.connection.subtype",Y="net.host.carrier.name",Z="net.host.carrier.mcc",$="net.host.carrier.mnc",_="net.host.carrier.icc",aa="peer.service",ab="enduser.id",ac="enduser.role",ad="enduser.scope",ae="thread.id",af="thread.name",ag="code.function",ah="code.namespace",ai="code.filepath",aj="code.lineno",ak="http.method",al="http.url",am="http.target",an="http.host",ao="http.scheme",ap="http.status_code",aq="http.flavor",ar="http.user_agent",as="http.request_content_length",at="http.request_content_length_uncompressed",au="http.response_content_length",av="http.response_content_length_uncompressed",aw="http.server_name",ax="http.route",ay="http.client_ip",az="aws.dynamodb.table_names",aA="aws.dynamodb.consumed_capacity",aB="aws.dynamodb.item_collection_metrics",aC="aws.dynamodb.provisioned_read_capacity",aD="aws.dynamodb.provisioned_write_capacity",aE="aws.dynamodb.consistent_read",aF="aws.dynamodb.projection",aG="aws.dynamodb.limit",aH="aws.dynamodb.attributes_to_get",aI="aws.dynamodb.index_name",aJ="aws.dynamodb.select",aK="aws.dynamodb.global_secondary_indexes",aL="aws.dynamodb.local_secondary_indexes",aM="aws.dynamodb.exclusive_start_table",aN="aws.dynamodb.table_count",aO="aws.dynamodb.scan_forward",aP="aws.dynamodb.segment",aQ="aws.dynamodb.total_segments",aR="aws.dynamodb.count",aS="aws.dynamodb.scanned_count",aT="aws.dynamodb.attribute_definitions",aU="aws.dynamodb.global_secondary_index_updates",aV="messaging.system",aW="messaging.destination",aX="messaging.destination_kind",aY="messaging.temp_destination",aZ="messaging.protocol",a$="messaging.protocol_version",a_="messaging.url",a0="messaging.message_id",a1="messaging.conversation_id",a2="messaging.message_payload_size_bytes",a3="messaging.message_payload_compressed_size_bytes",a4="messaging.operation",a5="messaging.consumer_id",a6="messaging.rabbitmq.routing_key",a7="messaging.kafka.message_key",a8="messaging.kafka.consumer_group",a9="messaging.kafka.client_id",ba="messaging.kafka.partition",bb="messaging.kafka.tombstone",bc="rpc.system",bd="rpc.service",be="rpc.method",bf="rpc.grpc.status_code",bg="rpc.jsonrpc.version",bh="rpc.jsonrpc.request_id",bi="rpc.jsonrpc.error_code",bj="rpc.jsonrpc.error_message",bk="message.type",bl="message.id",bm="message.compressed_size",bn="message.uncompressed_size",bo=e,bp=f,bq=g,br=h,bs=i,bt=j,bu=k,bv=l,bw=m,bx=n,by=o,bz=p,bA=q,bB=r,bC=s,bD=t,bE=u,bF=v,bG=w,bH=x,bI=y,bJ=z,bK=A,bL=B,bM=C,bN=D,bO=E,bP=F,bQ=G,bR=H,bS=I,bT=J,bU=K,bV=L,bW=M,bX=N,bY=O,bZ=P,b$=Q,b_=R,b0=S,b1=T,b2=U,b3=V,b4=W,b5=X,b6=Y,b7=Z,b8=$,b9=_,ca=aa,cb=ab,cc=ac,cd=ad,ce=ae,cf=af,cg=ag,ch=ah,ci=ai,cj=aj,ck=ak,cl=al,cm=am,cn=an,co=ao,cp=ap,cq=aq,cr=ar,cs=as,ct=at,cu=au,cv=av,cw=aw,cx=ax,cy=ay,cz=az,cA=aA,cB=aB,cC=aC,cD=aD,cE=aE,cF=aF,cG=aG,cH=aH,cI=aI,cJ=aJ,cK=aK,cL=aL,cM=aM,cN=aN,cO=aO,cP=aP,cQ=aQ,cR=aR,cS=aS,cT=aT,cU=aU,cV=aV,cW=aW,cX=aX,cY=aY,cZ=aZ,c$=a$,c_=a_,c0=a0,c1=a1,c2=a2,c3=a3,c4=a4,c5=a5,c6=a6,c7=a7,c8=a8,c9=a9,da=ba,db=bb,dc=bc,dd=bd,de=be,df=bf,dg=bg,dh=bh,di=bi,dj=bj,dk=bk,dl=bl,dm=bm,dn=bn,dp=(0,d.O)([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a$,a_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn]),dq="other_sql",dr="mssql",ds="mysql",dt="oracle",du="postgresql",dv="redshift",dw="hive",dx="cloudscape",dy="hsqldb",dz="progress",dA="maxdb",dB="hanadb",dC="ingres",dD="firstsql",dE="cache",dF="adabas",dG="firebird",dH="derby",dI="filemaker",dJ="informix",dK="instantdb",dL="interbase",dM="mariadb",dN="netezza",dO="pervasive",dP="pointbase",dQ="sqlite",dR="sybase",dS="teradata",dT="vertica",dU="coldfusion",dV="cassandra",dW="hbase",dX="mongodb",dY="redis",dZ="couchbase",d$="couchdb",d_="cosmosdb",d0="dynamodb",d1="neo4j",d2="geode",d3="elasticsearch",d4="memcached",d5="cockroachdb",d6=dq,d7=dr,d8=ds,d9=dt,ea="db2",eb=du,ec=dv,ed=dw,ee=dx,ef=dy,eg=dz,eh=dA,ei=dB,ej=dC,ek=dD,el="edb",em=dE,en=dF,eo=dG,ep=dH,eq=dI,er=dJ,es=dK,et=dL,eu=dM,ev=dN,ew=dO,ex=dP,ey=dQ,ez=dR,eA=dS,eB=dT,eC="h2",eD=dU,eE=dV,eF=dW,eG=dX,eH=dY,eI=dZ,eJ=d$,eK=d_,eL=d0,eM=d1,eN=d2,eO=d3,eP=d4,eQ=d5,eR=(0,d.O)([dq,dr,ds,dt,"db2",du,dv,dw,dx,dy,dz,dA,dB,dC,dD,"edb",dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,"h2",dU,dV,dW,dX,dY,dZ,d$,d_,d0,d1,d2,d3,d4,d5]),eS="each_quorum",eT="quorum",eU="local_quorum",eV="three",eW="local_one",eX="serial",eY="local_serial",eZ="all",e$=eS,e_=eT,e0=eU,e1="one",e2="two",e3=eV,e4=eW,e5="any",e6=eX,e7=eY,e8=(0,d.O)(["all",eS,eT,eU,"one","two",eV,eW,"any",eX,eY]),e9="datasource",fa="http",fb="pubsub",fc="timer",fd="other",fe=e9,ff=fa,fg=fb,fh=fc,fi=fd,fj=(0,d.O)([e9,fa,fb,fc,fd]),fk="insert",fl="edit",fm="delete",fn=fk,fo=fl,fp=fm,fq=(0,d.O)([fk,fl,fm]),fr="alibaba_cloud",fs="azure",ft=fr,fu="aws",fv=fs,fw="gcp",fx=(0,d.O)([fr,"aws",fs,"gcp"]),fy="ip_tcp",fz="ip_udp",fA="unix",fB="pipe",fC="inproc",fD="other",fE=fy,fF=fz,fG="ip",fH=fA,fI=fB,fJ=fC,fK=fD,fL=(0,d.O)([fy,fz,"ip",fA,fB,fC,fD]),fM="wifi",fN="wired",fO="cell",fP="unavailable",fQ="unknown",fR=fM,fS=fN,fT=fO,fU=fP,fV=fQ,fW=(0,d.O)([fM,fN,fO,fP,fQ]),fX="gprs",fY="edge",fZ="umts",f$="cdma",f_="evdo_0",f0="evdo_a",f1="cdma2000_1xrtt",f2="hsdpa",f3="hsupa",f4="hspa",f5="iden",f6="evdo_b",f7="ehrpd",f8="hspap",f9="td_scdma",ga="iwlan",gb="nrnsa",gc="lte_ca",gd=fX,ge=fY,gf=fZ,gg=f$,gh=f_,gi=f0,gj=f1,gk=f2,gl=f3,gm=f4,gn=f5,go=f6,gp="lte",gq=f7,gr=f8,gs="gsm",gt=f9,gu=ga,gv="nr",gw=gb,gx=gc,gy=(0,d.O)([fX,fY,fZ,f$,f_,f0,f1,f2,f3,f4,f5,f6,"lte",f7,f8,"gsm",f9,ga,"nr",gb,gc]),gz="SPDY",gA="QUIC",gB="1.0",gC="1.1",gD="2.0",gE=gz,gF=gA,gG={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:gz,QUIC:gA},gH="queue",gI="topic",gJ=gH,gK=gI,gL=(0,d.O)([gH,gI]),gM="receive",gN="process",gO=gM,gP=gN,gQ=(0,d.O)([gM,gN]),gR=0,gS=1,gT=2,gU=3,gV=4,gW=5,gX=6,gY=7,gZ=8,g$=9,g_=10,g0=11,g1=12,g2=13,g3=14,g4=15,g5=16,g6={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},g7="SENT",g8="RECEIVED",g9=g7,ha=g8,hb=(0,d.O)([g7,g8]),hc=c(1302),hd="aspnetcore.rate_limiting.result",he="acquired",hf="endpoint_limiter",hg="global_limiter",hh="request_canceled",hi="telemetry.sdk.language",hj="cpp",hk="dotnet",hl="erlang",hm="go",hn="java",ho="nodejs",hp="php",hq="python",hr="ruby",hs="rust",ht="swift",hu="webjs",hv="telemetry.sdk.name",hw="telemetry.sdk.version",hx="aspnetcore.diagnostics.handler.type",hy="aspnetcore.diagnostics.exception.result",hz="aborted",hA="handled",hB="skipped",hC="unhandled",hD="aspnetcore.rate_limiting.policy",hE="aspnetcore.request.is_unhandled",hF="aspnetcore.routing.is_fallback",hG="aspnetcore.routing.match_status",hH="failure",hI="success",hJ="client.address",hK="client.port",hL="error.type",hM="_OTHER",hN="exception.escaped",hO="exception.message",hP="exception.stacktrace",hQ="exception.type",hR=function(a){return"http.request.header."+a},hS="http.request.method",hT="_OTHER",hU="CONNECT",hV="DELETE",hW="GET",hX="HEAD",hY="OPTIONS",hZ="PATCH",h$="POST",h_="PUT",h0="TRACE",h1="http.request.method_original",h2="http.request.resend_count",h3=function(a){return"http.response.header."+a},h4="http.response.status_code",h5="http.route",h6="jvm.gc.action",h7="jvm.gc.name",h8="jvm.memory.pool.name",h9="jvm.memory.type",ia="heap",ib="non_heap",ic="jvm.thread.daemon",id="jvm.thread.state",ie="blocked",ig="new",ih="runnable",ii="terminated",ij="timed_waiting",ik="waiting",il="network.local.address",im="network.local.port",io="network.peer.address",ip="network.peer.port",iq="network.protocol.name",ir="network.protocol.version",is="network.transport",it="pipe",iu="quic",iv="tcp",iw="udp",ix="unix",iy="network.type",iz="ipv4",iA="ipv6",iB="otel.scope.name",iC="otel.scope.version",iD="otel.status_code",iE="ERROR",iF="OK",iG="otel.status_description",iH="server.address",iI="server.port",iJ="service.name",iK="service.version",iL="signalr.connection.status",iM="app_shutdown",iN="normal_closure",iO="timeout",iP="signalr.transport",iQ="long_polling",iR="server_sent_events",iS="web_sockets",iT="url.fragment",iU="url.full",iV="url.path",iW="url.query",iX="url.scheme",iY="user_agent.original",iZ="aspnetcore.diagnostics.exceptions",i$="aspnetcore.rate_limiting.active_request_leases",i_="aspnetcore.rate_limiting.queued_requests",i0="aspnetcore.rate_limiting.request.time_in_queue",i1="aspnetcore.rate_limiting.request_lease.duration",i2="aspnetcore.rate_limiting.requests",i3="aspnetcore.routing.match_attempts",i4="http.client.request.duration",i5="http.server.request.duration",i6="jvm.class.count",i7="jvm.class.loaded",i8="jvm.class.unloaded",i9="jvm.cpu.count",ja="jvm.cpu.recent_utilization",jb="jvm.cpu.time",jc="jvm.gc.duration",jd="jvm.memory.committed",je="jvm.memory.limit",jf="jvm.memory.used",jg="jvm.memory.used_after_last_gc",jh="jvm.thread.count",ji="kestrel.active_connections",jj="kestrel.active_tls_handshakes",jk="kestrel.connection.duration",jl="kestrel.queued_connections",jm="kestrel.queued_requests",jn="kestrel.rejected_connections",jo="kestrel.tls_handshake.duration",jp="kestrel.upgraded_connections",jq="signalr.server.active_connections",jr="signalr.server.connection.duration"},99308:(a,b,c)=>{"use strict";var d=c(48089),e=c(64072),f=c(62890);b.createScalarToken=d.createScalarToken,b.resolveAsScalar=d.resolveAsScalar,b.setScalarValue=d.setScalarValue,b.stringify=e.stringify,b.visit=f.visit,b.BOM="\uFEFF",b.DOCUMENT="\x02",b.FLOW_END="\x18",b.SCALAR="\x1f",b.isCollection=a=>!!a&&"items"in a,b.isScalar=a=>!!a&&("scalar"===a.type||"single-quoted-scalar"===a.type||"double-quoted-scalar"===a.type||"block-scalar"===a.type),b.prettyToken=function(a){switch(a){case"\uFEFF":return"<BOM>";case"\x02":return"<DOC>";case"\x18":return"<FLOW_END>";case"\x1f":return"<SCALAR>";default:return JSON.stringify(a)}},b.tokenType=function(a){switch(a){case"\uFEFF":return"byte-order-mark";case"\x02":return"doc-mode";case"\x18":return"flow-error-end";case"\x1f":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(a[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}},99355:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(9779),e=c(57599),f=c(76573),g=c(95223),h=c(59524);b.default=[d.default,e.default,(0,f.default)(),g.default,h.metadataVocabulary,h.contentVocabulary]},99591:(a,b,c)=>{"use strict";c.d(b,{Ir:()=>o,JU:()=>l,KJ:()=>h,VL:()=>n,W5:()=>i,_5:()=>g,lg:()=>e,mw:()=>p,tq:()=>j,u5:()=>k,uc:()=>f,w_:()=>m});var d=c(27845);function e(a){return[Math.trunc(a/1e3),Math.round(a%1e3*1e6)]}function f(){var a=d.u.timeOrigin;if("number"!=typeof a){var b=d.u;a=b.timing&&b.timing.fetchStart}return a}function g(a){return p(e(f()),e("number"==typeof a?a:d.u.now()))}function h(a){if(n(a))return a;if("number"==typeof a)if(a<f())return g(a);else return e(a);if(a instanceof Date)return e(a.getTime());throw TypeError("Invalid input type")}function i(a,b){var c=b[0]-a[0],d=b[1]-a[1];return d<0&&(c-=1,d+=1e9),[c,d]}function j(a){var b=""+"0".repeat(9)+a[1]+"Z",c=b.substr(b.length-9-1);return new Date(1e3*a[0]).toISOString().replace("000Z",c)}function k(a){return 1e9*a[0]+a[1]}function l(a){return 1e3*a[0]+a[1]/1e6}function m(a){return 1e6*a[0]+a[1]/1e3}function n(a){return Array.isArray(a)&&2===a.length&&"number"==typeof a[0]&&"number"==typeof a[1]}function o(a){return n(a)||"number"==typeof a||a instanceof Date}function p(a,b){var c=[a[0]+b[0],a[1]+b[1]];return c[1]>=1e9&&(c[1]-=1e9,c[0]+=1),c}}};