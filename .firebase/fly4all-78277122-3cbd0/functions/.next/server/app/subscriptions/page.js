(()=>{var a={};a.id=7651,a.ids=[7651],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},299:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(8808).A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},643:a=>{"use strict";a.exports=require("node:perf_hooks")},1708:a=>{"use strict";a.exports=require("node:process")},2225:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{i:()=>n});var e=c(91488);c(27806);var f=c(38710),g=c(79592),h=c(53608),i=c(14738),j=c(63097),k=c(61044),l=c(40410),m=a([h]);h=(m.then?(await m)():m)[0];let o=g.Ik({clientName:g.Yj().describe("The client's name."),clientPhone:g.Yj().describe("The client's phone number."),serviceName:g.Yj().describe("The name of the subscribed service."),amountDue:g.au.number().describe("The amount due for the installment."),currency:g.Yj().describe("The currency of the amount."),dueDate:g.Yj().describe("The due date of the installment in ISO format.")}),p=g.Ik({success:g.zM(),message:g.Yj()});async function n(a){return q(a)}let q=f.ai.defineFlow({name:"sendInstallmentReminderFlow",inputSchema:o,outputSchema:p},async a=>{let{accounts:b}=await (0,h.fn)(),c=b?.find(a=>a.isDefault);if(!c)return console.error("No default WhatsApp account found for sending reminders."),{success:!1,message:"WhatsApp service not configured."};let d=await (0,h.e8)(c.id);if(!d||!d.idInstance||!d.apiTokenInstance)return{success:!1,message:"WhatsApp credentials not found or incomplete."};let e=(0,i.GP)((0,j.H)(a.dueDate),"d MMMM yyyy",{locale:k.ar}),f=`${a.amountDue.toLocaleString()} ${a.currency}`,g=`
مرحباً ${a.clientName}،

نود تذكيركم بموعد استحقاق الدفعة الخاصة باشتراككم في خدمة "${a.serviceName}".

- المبلغ المستحق: *${f}*
- تاريخ الاستحقاق: *${e}*

يرجى التفضل بالسداد في الوقت المحدد لتجنب أي انقطاع في الخدمة.

مع تحياتنا،
فريق الروضتين
`;try{let b=`https://api.ultramsg.com/${d.idInstance}/messages/chat`,c=new URLSearchParams({token:d.apiTokenInstance,to:a.clientPhone,body:g,priority:"1"}),e=await fetch(b,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c}),f=await e.json();if("true"===f.sent)return{success:!0,message:"Reminder sent successfully."};throw Error(f.error?.message||"Failed to send WhatsApp message via ultramsg.")}catch(a){return console.error("Error sending reminder via ultramsg:",a),{success:!1,message:a.message||"Failed to send reminder."}}});(0,l.D)([n]),(0,e.A)(n,"40e90946cbd69c3cb9caefa3461c5f6eb19e516f47",null),d()}catch(a){d(a)}})},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:a=>{"use strict";a.exports=require("node:buffer")},7252:a=>{"use strict";a.exports=require("express")},7879:a=>{"use strict";a.exports=import("firebase-admin/firestore")},9801:a=>{"use strict";a.exports=import("firebase-admin/app")},10047:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>aR});var d=c(21124),e=c(38301),f=c.n(e),g=c(62186),h=c(99599),i=c(85708);let j=(0,i.createServerReference)("7f7228b058474be00c09729ab715fa20e010333dfa",i.callServer,void 0,i.findSourceMapURL,"getSubscriptions"),k=(0,i.createServerReference)("7f59f3075656a91b7ed27ed0deb8f239c13fb4a30e",i.callServer,void 0,i.findSourceMapURL,"getSubscriptionInstallmentsForAll");var l=c(64772),m=c(35284),n=c(51886),o=c(10656),p=c(49113),q=c(40822),r=c(75392),s=c(299);let t=(0,i.createServerReference)("40fb273cfe11e3acbfaa3953430203de2db167f95f",i.callServer,void 0,i.findSourceMapURL,"softDeleteSubscription");var u=c(37448),v=c(12439),w=c(79202),x=c(63822),y=c(25054),z=c(99187),A=c(44943),B=c(11563),C=c(40068),D=c(38692),E=c(34118),F=c(11943),G=c(58496);let H=(0,i.createServerReference)("7ea99aecbe6da08b740bfa589a23855143625f516a",i.callServer,void 0,i.findSourceMapURL,"paySubscriptionInstallment");var I=c(68120),J=c(97802),K=c(63009),L=c(99546),M=c(50937),N=c(31980),O=c(27186),P=c(25456),Q=c(45608),R=c(93758);let S=L.Ik({paymentAmount:L.au.number().positive("المبلغ يجب أن يكون أكبر من صفر."),paymentCurrency:L.k5(["USD","IQD"]),exchangeRate:L.au.number().optional(),discount:L.au.number().optional()}),T=({title:a,value:b,currency:c,className:e})=>(0,d.jsx)(g.Zp,{className:(0,A.cn)("text-center",e),children:(0,d.jsxs)(g.Wu,{className:"p-3",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:a}),(0,d.jsx)("p",{className:"text-lg font-bold font-mono",children:b.toLocaleString()})]})});function U({installment:a,subscription:b,onPaymentSuccess:c,children:g}){let[h,i]=(0,e.useState)(!1),{toast:j}=(0,u.dj)(),{data:k,loaded:l}=(0,J.Z)(),{user:n}=(0,K.A)(),[o,q]=(0,e.useState)(a),[r,s]=(0,e.useState)(b),t=(0,e.useMemo)(()=>(o.amount||0)-((o.paidAmount||0)+(o.discount||0)),[o]),v=(0,e.useMemo)(()=>(r.salePrice||0)-(r.paidAmount||0),[r]),w=(0,N.mN)({resolver:(0,M.u)(S),defaultValues:{paymentAmount:t>0?t:0,paymentCurrency:o.currency,exchangeRate:k?.settings?.currencySettings?.exchangeRates.USD_IQD||1480,discount:0}});f().useCallback(async()=>{if(!r.id)return;let a=await (0,G.I)(r.id);if(a){s(a);let b=a.installments?.find(a=>a.id===o.id);b&&q(b)}},[r.id,o.id]);let{isSubmitting:x,watch:y,control:z,handleSubmit:B}=w,L=y("paymentCurrency"),U=y("paymentAmount"),V=y("exchangeRate"),W=y("discount"),X=(0,e.useMemo)(()=>{let a=(U||0)+(W||0);return L===o.currency?a:V&&0!==V?"USD"===L?a*V:a/V:0},[L,o.currency,U,W,V]),Y=t-X,Z=async a=>{if(!n||!("role"in n)||!n.boxId)return void j({title:"خطأ",description:"الصندوق غير محدد للمستخدم الحالي.",variant:"destructive"});j({title:"جاري تسجيل الدفعة..."});let b=await H(o.id,n.boxId,a.paymentAmount,a.paymentCurrency,a.exchangeRate,a.discount);b.success?(j({title:"تم تسجيل الدفعة بنجاح"}),c(),i(!1)):j({title:"خطأ",description:b.error,variant:"destructive"})};return(0,d.jsxs)(C.lG,{open:h,onOpenChange:i,children:[(0,d.jsx)(C.zM,{asChild:!0,children:g}),(0,d.jsx)(C.Cf,{className:"p-0 sm:max-w-xl",children:(0,d.jsx)(O.lV,{...w,children:(0,d.jsxs)("form",{onSubmit:B(Z),className:"flex flex-col flex-grow overflow-hidden",children:[(0,d.jsxs)(C.c7,{className:"p-4 rounded-t-lg",style:{backgroundColor:"USD"===L?"hsl(var(--accent))":"hsl(var(--primary))",color:"white"},children:[(0,d.jsx)(C.L3,{className:"text-white",children:"تسجيل دفعة قسط"}),(0,d.jsx)(C.rr,{className:"text-white/80",children:"يمكنك تسديد القسط الحالي، أو تسديد مبلغ أكبر لتغطية أقساط مستقبلية أو ليكون كرصيد للعميل."})]}),(0,d.jsxs)("div",{className:"p-6 space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsx)(T,{title:"قيمة القسط",value:o.amount,currency:o.currency}),(0,d.jsx)(T,{title:"المتبقي من القسط",value:t,currency:o.currency,className:"border-red-500/50 bg-red-50 dark:bg-red-950/30"}),(0,d.jsx)(T,{title:"المتبقي من الاشتراك",value:v,currency:o.currency,className:"border-orange-500/50 bg-orange-50 dark:bg-orange-950/30"}),(0,d.jsx)(T,{title:"المتبقي بعد الدفعة",value:Y,currency:o.currency,className:"border-blue-500/50 bg-blue-50 dark:bg-blue-950/30"})]}),(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 pt-4 border-t",children:[(0,d.jsx)(O.zB,{control:z,name:"paymentAmount",render:({field:a})=>(0,d.jsxs)(O.eI,{children:[(0,d.jsx)(O.lR,{children:"المبلغ المدفوع الآن"}),(0,d.jsx)(O.MJ,{children:(0,d.jsx)(P.O,{currency:L,currencyClassName:(0,A.cn)("USD"===L?"bg-accent text-accent-foreground":"bg-primary text-primary-foreground"),value:a.value,onValueChange:b=>a.onChange(b||0)})}),(0,d.jsx)(O.C5,{})]})}),(0,d.jsx)(O.zB,{control:w.control,name:"paymentCurrency",render:({field:a})=>(0,d.jsxs)(O.eI,{children:[(0,d.jsx)(O.lR,{children:"عملة الدفع"}),(0,d.jsxs)(Q.l6,{onValueChange:a.onChange,value:a.value,children:[(0,d.jsx)(O.MJ,{children:(0,d.jsx)(Q.bq,{children:(0,d.jsx)(Q.yv,{})})}),(0,d.jsx)(Q.gC,{children:(k?.settings?.currencySettings?.currencies||[]).map(a=>(0,d.jsx)(Q.eb,{value:a.code,children:a.code},a.code))})]}),(0,d.jsx)(O.C5,{})]})}),(0,d.jsx)(O.zB,{control:z,name:"discount",render:({field:a})=>(0,d.jsxs)(O.eI,{children:[(0,d.jsx)(O.lR,{children:"خصم على القسط"}),(0,d.jsx)(O.MJ,{children:(0,d.jsx)(P.O,{currency:L,currencyClassName:(0,A.cn)("USD"===L?"bg-accent text-accent-foreground":"bg-primary text-primary-foreground"),value:a.value,onValueChange:b=>a.onChange(b||0)})}),(0,d.jsx)(O.C5,{})]})})]}),L!==o.currency&&(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,d.jsx)(O.zB,{control:z,name:"exchangeRate",render:({field:a})=>(0,d.jsxs)(O.eI,{children:[(0,d.jsx)(O.lR,{children:"سعر الصرف"}),(0,d.jsx)(O.MJ,{children:(0,d.jsx)(P.O,{value:a.value,onValueChange:b=>a.onChange(b||0)})}),(0,d.jsx)(O.C5,{})]})}),(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsx)(I.J,{children:"المبلغ المعادل"}),(0,d.jsx)(R.p,{value:`${X.toLocaleString()} ${o.currency}`,readOnly:!0,disabled:!0})]})]})]}),(0,d.jsx)(C.Es,{className:"p-4 border-t bg-background mt-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,d.jsx)(D.A,{className:"h-4 w-4"})," ",(0,d.jsx)("span",{children:n?.name||"..."})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,d.jsx)(E.A,{className:"h-4 w-4"})," ",(0,d.jsx)("span",{children:k?.boxes?.find(a=>a.id===n?.boxId)?.name||"..."})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,d.jsx)(F.A,{className:"h-4 w-4"})," ",(0,d.jsx)("span",{children:"رقم الفاتورة: (تلقائي)"})]})]}),(0,d.jsxs)(m.$,{type:"submit",disabled:x,children:[x&&(0,d.jsx)(p.A,{className:"me-2 h-4 w-4 animate-spin"}),"تأكيد استلام الدفعة"]})]})})]})})})]})}let V=(0,i.createServerReference)("7f29b1f619814d2bb347b7568d9fef0db3672866b7",i.callServer,void 0,i.findSourceMapURL,"getInstallmentPayments"),W=(0,i.createServerReference)("400839afac1c721e8a0733096582359b8356e40214",i.callServer,void 0,i.findSourceMapURL,"deletePayment"),X=(0,i.createServerReference)("40e90946cbd69c3cb9caefa3461c5f6eb19e516f47",i.callServer,void 0,i.findSourceMapURL,"sendInstallmentReminder");var Y=c(98341),Z=c(49566),$=c(77837),_=c(27410);let aa=(0,i.createServerReference)("60ac99fd5fe70fb62fed80f68193cb25204f5a2c28",i.callServer,void 0,i.findSourceMapURL,"updatePayment");var ab=c(68254);let ac=L.Ik({amount:L.au.number().positive("المبلغ يجب أن يكون أكبر من صفر."),date:L.p6({required_error:"تاريخ الدفع مطلوب"}),notes:L.Yj().optional()});function ad({payment:a,onPaymentUpdated:b,children:c}){let[f,g]=(0,e.useState)(!1),{toast:h}=(0,u.dj)(),i=(0,N.mN)({resolver:(0,M.u)(ac),defaultValues:{amount:a.amount,date:(0,y.H)(a.date),notes:a.notes||""}}),{isSubmitting:j,control:k,handleSubmit:l}=i,n=async c=>{let d=await aa(a.id,{...c,date:c.date.toISOString()});d.success?(h({title:"تم تحديث الدفعة بنجاح"}),b(),g(!1)):h({title:"خطأ",description:d.error,variant:"destructive"})};return(0,d.jsxs)(C.lG,{open:f,onOpenChange:g,children:[(0,d.jsx)(C.zM,{asChild:!0,children:c}),(0,d.jsxs)(C.Cf,{children:[(0,d.jsxs)(C.c7,{children:[(0,d.jsx)(C.L3,{children:"تعديل الدفعة"}),(0,d.jsx)(C.rr,{children:"قم بتحديث تفاصيل هذه الدفعة. سيتم تعديل الأرصدة تلقائيًا."})]}),(0,d.jsx)(O.lV,{...i,children:(0,d.jsxs)("form",{onSubmit:l(n),className:"space-y-4",children:[(0,d.jsx)(O.zB,{control:k,name:"amount",render:({field:b})=>(0,d.jsxs)(O.eI,{children:[(0,d.jsx)(O.lR,{children:"المبلغ"}),(0,d.jsx)(O.MJ,{children:(0,d.jsx)(P.O,{currency:a.currency,value:b.value,onValueChange:a=>b.onChange(a||0)})}),(0,d.jsx)(O.C5,{})]})}),(0,d.jsx)(O.zB,{control:k,name:"date",render:({field:a})=>(0,d.jsxs)(O.eI,{children:[(0,d.jsx)(O.lR,{children:"تاريخ الدفع"}),(0,d.jsxs)($.AM,{children:[(0,d.jsx)($.Wv,{asChild:!0,children:(0,d.jsx)(O.MJ,{children:(0,d.jsxs)(m.$,{variant:"outline",className:(0,A.cn)("w-full justify-start text-left font-normal",!a.value&&"text-muted-foreground"),children:[(0,d.jsx)(Y.A,{className:"mr-2 h-4 w-4"}),a.value?(0,x.GP)(a.value,"yyyy-MM-dd"):(0,d.jsx)("span",{children:"اختر تاريخًا"})]})})}),(0,d.jsx)($.hl,{className:"w-auto p-0",align:"start",children:(0,d.jsx)(_.V,{mode:"single",selected:a.value,onSelect:a.onChange,initialFocus:!0})})]}),(0,d.jsx)(O.C5,{})]})}),(0,d.jsx)(O.zB,{control:k,name:"notes",render:({field:a})=>(0,d.jsxs)(O.eI,{children:[(0,d.jsx)(O.lR,{children:"ملاحظات (اختياري)"}),(0,d.jsx)(O.MJ,{children:(0,d.jsx)(ab.T,{...a})}),(0,d.jsx)(O.C5,{})]})}),(0,d.jsx)(C.Es,{children:(0,d.jsxs)(m.$,{type:"submit",disabled:j,children:[j?(0,d.jsx)(p.A,{className:"me-2 h-4 w-4 animate-spin"}):(0,d.jsx)(Z.A,{className:"me-2 h-4 w-4"}),"حفظ التعديلات"]})})]})})]})]})}var ae=c(95366),af=c(24515);function ag({subscription:a,settings:b,installments:c=[]}){let e=(0,y.H)(a.purchaseDate),f=(0,y.H)(a.startDate),g=(0,ae.P)(f,a.numberOfInstallments),h=a.unitPrice||0,i=a.quantity||1,j=a.discount||0,k=h*i,l=a.salePrice,m=a.paidAmount||0,n=l-m,o=b.theme?.invoice||{};return(0,d.jsx)("div",{className:"bg-white p-4 sm:p-8 font-sans",dir:"rtl",children:(0,d.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[(0,d.jsxs)("header",{className:"flex justify-between items-start pb-6 border-b-2",children:[(0,d.jsxs)("div",{className:"text-left",children:[(0,d.jsx)("h2",{className:"text-4xl font-bold uppercase",style:{color:o.titleColor||"#333"},children:"فاتورة"}),(0,d.jsxs)("p",{className:"text-sm mt-1",children:[(0,d.jsx)("strong",{children:"رقم الفاتورة:"})," ",(0,d.jsx)("span",{className:"font-mono",children:a.invoiceNumber})]}),(0,d.jsxs)("p",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"تاريخ الفاتورة:"})," ",(0,d.jsx)("span",{className:"font-mono",children:(0,x.GP)(e,"yyyy-MM-dd")})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[b.theme?.assets?.invoice_logo?(0,d.jsx)(af.default,{src:b.theme.assets.invoice_logo,alt:o.companyName||"Company Logo",width:160,height:80,style:{objectFit:"contain"}}):(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:o.companyName||"Mudarib"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:o.companyAddress})]})]}),(0,d.jsx)("section",{className:"mt-8 mb-8 flex justify-between gap-4",children:(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"text-gray-500",children:"فاتورة إلى:"}),(0,d.jsx)("p",{className:"text-lg font-bold text-gray-800",children:a.clientName}),a.client?.phone&&(0,d.jsx)("p",{className:"text-sm text-gray-500",children:a.client.phone})]})}),(0,d.jsx)("section",{children:(0,d.jsxs)("table",{className:"w-full border-collapse text-sm",style:{borderCollapse:"collapse",direction:"rtl"},children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{style:{backgroundColor:o.headerColor||"#f3f4f6"},children:[(0,d.jsx)("th",{className:"p-3 font-bold text-gray-600 border text-right",style:{fontWeight:"bold"},children:"الوصف"}),(0,d.jsx)("th",{className:"p-3 font-bold text-gray-600 border w-24 text-center",style:{textAlign:"center",fontWeight:"bold"},children:"الكمية"}),(0,d.jsx)("th",{className:"p-3 font-bold text-gray-600 border w-32 text-center",style:{textAlign:"center",fontWeight:"bold"},children:"سعر الوحدة"}),(0,d.jsx)("th",{className:"p-3 font-bold text-gray-600 border w-32 text-center",style:{textAlign:"center",fontWeight:"bold"},children:"الخصم"}),(0,d.jsx)("th",{className:"p-3 font-bold text-gray-600 border w-32 text-center",style:{textAlign:"center",fontWeight:"bold"},children:"المجموع"})]})}),(0,d.jsx)("tbody",{children:(0,d.jsxs)("tr",{children:[(0,d.jsxs)("td",{className:"p-3 border align-top text-right",children:[(0,d.jsx)("p",{className:"font-bold",children:a.serviceName}),(0,d.jsxs)("p",{className:"text-xs text-gray-500 font-normal",children:["فترة الاشتراك من ",(0,x.GP)(f,"yyyy-MM-dd")," إلى ",(0,x.GP)(g,"yyyy-MM-dd"),"."]}),a.notes&&(0,d.jsx)("p",{className:"text-xs text-gray-400 mt-1 font-normal",children:a.notes})]}),(0,d.jsx)("td",{className:"p-3 border align-top font-mono",style:{textAlign:"center"},children:i}),(0,d.jsx)("td",{className:"p-3 border align-top font-mono",style:{textAlign:"center"},children:h.toFixed(2)}),(0,d.jsx)("td",{className:"p-3 border align-top font-mono",style:{textAlign:"center"},children:j.toFixed(2)}),(0,d.jsx)("td",{className:"p-3 border align-top font-mono",style:{textAlign:"center"},children:k.toFixed(2)})]})})]})}),c&&c.length>0&&(0,d.jsxs)("section",{className:"mt-8",children:[(0,d.jsx)("h3",{className:"font-bold text-lg text-right mb-2",style:{fontWeight:"bold"},children:"جدول الأقساط"}),(0,d.jsxs)("table",{className:"w-full border-collapse text-sm",style:{borderCollapse:"collapse",direction:"rtl"},children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{style:{backgroundColor:o.headerColor||"#f3f4f6"},children:[(0,d.jsx)("th",{className:"p-2 font-bold text-gray-600 border text-center",style:{textAlign:"center",fontWeight:"bold"},children:"تاريخ الاستحقاق"}),(0,d.jsx)("th",{className:"p-2 font-bold text-gray-600 border text-center",style:{textAlign:"center",fontWeight:"bold"},children:"المبلغ"}),(0,d.jsx)("th",{className:"p-2 font-bold text-gray-600 border text-center",style:{textAlign:"center",fontWeight:"bold"},children:"المسدد"}),(0,d.jsx)("th",{className:"p-2 font-bold text-gray-600 border text-center",style:{textAlign:"center",fontWeight:"bold"},children:"الخصم"}),(0,d.jsx)("th",{className:"p-2 font-bold text-gray-600 border text-center",style:{textAlign:"center",fontWeight:"bold"},children:"المتبقي"}),(0,d.jsx)("th",{className:"p-2 font-bold text-gray-600 border text-center",style:{textAlign:"center",fontWeight:"bold"},children:"الحالة"})]})}),(0,d.jsx)("tbody",{children:c.map(a=>{let b=(a.amount||0)-((a.paidAmount||0)+(a.discount||0));return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"p-2 border text-center",style:{textAlign:"center"},children:(0,x.GP)((0,y.H)(a.dueDate),"yyyy-MM-dd")}),(0,d.jsxs)("td",{className:"p-2 border font-mono text-center",style:{textAlign:"center"},children:[(a.amount||0).toFixed(2)," ",a.currency]}),(0,d.jsxs)("td",{className:"p-2 border font-mono text-green-600 text-center",style:{textAlign:"center"},children:[(a.paidAmount||0).toFixed(2)," ",a.currency]}),(0,d.jsxs)("td",{className:"p-2 border font-mono text-orange-600 text-center",style:{textAlign:"center"},children:[(a.discount||0).toFixed(2)," ",a.currency]}),(0,d.jsxs)("td",{className:"p-2 border font-mono text-red-600 text-center",style:{textAlign:"center"},children:[b.toFixed(2)," ",a.currency]}),(0,d.jsx)("td",{className:(0,A.cn)("p-2 border font-bold text-center","Paid"===a.status?"text-green-600":"text-red-600"),style:{textAlign:"center",fontWeight:"bold"},children:"Paid"===a.status?"مدفوع":"غير مدفوع"})]},a.id)})})]})]}),(0,d.jsx)("section",{className:"mt-8 flex w-full justify-end",children:(0,d.jsxs)("div",{className:"w-full max-w-sm space-y-2 text-right",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"font-bold text-gray-600",children:"المجموع الفرعي:"}),(0,d.jsxs)("span",{className:"font-mono font-bold",children:[k.toFixed(2)," ",a.currency]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"font-bold text-gray-600",children:"الخصم:"}),(0,d.jsxs)("span",{className:"font-mono font-bold text-red-500",children:["- ",j.toFixed(2)," ",a.currency]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center border-t pt-2 font-bold text-base",children:[(0,d.jsx)("span",{children:"المجموع الإجمالي:"}),(0,d.jsxs)("span",{className:"font-mono",children:[l.toFixed(2)," ",a.currency]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"font-bold text-gray-600",children:"المدفوع:"}),(0,d.jsxs)("span",{className:"font-mono font-bold text-green-600",children:[m.toFixed(2)," ",a.currency]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center rounded-lg bg-primary/10 p-2 font-bold text-lg",children:[(0,d.jsx)("span",{children:"المبلغ المستحق:"}),(0,d.jsxs)("span",{className:"font-mono",children:[n.toFixed(2)," ",a.currency]})]})]})}),(0,d.jsxs)("footer",{className:"mt-12 border-t pt-6 text-xs text-gray-500",children:[o.footerText&&(0,d.jsx)("p",{className:"mb-4 text-right",children:o.footerText}),(0,d.jsx)("p",{className:"text-right",children:"إذا كان لديك أي استفسار بخصوص هذه الفاتورة، الرجاء التواصل معنا."}),(0,d.jsxs)("div",{className:"mt-2 flex justify-between items-end",children:[(0,d.jsxs)("div",{className:"text-left",children:[(0,d.jsxs)("p",{children:["الهاتف: ",o.companyPhone]}),(0,d.jsxs)("p",{children:["الموقع: ",o.companyWeb]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"font-semibold",children:o.companyName||"Mudarib"}),(0,d.jsx)("p",{children:o.companyAddress})]})]})]})]})})}var ah=c(77249),ai=c(54163);function aj({subscription:a}){let[b,c]=(0,e.useState)(!1),{data:f,loaded:g}=(0,J.Z)(),h=f?.settings,[i,j]=(0,e.useState)([]),[k,l]=(0,e.useState)(!1);return(0,d.jsxs)(C.lG,{open:b,onOpenChange:c,children:[(0,d.jsx)(C.zM,{asChild:!0,children:(0,d.jsxs)(B._2,{onSelect:a=>a.preventDefault(),children:[(0,d.jsx)(ah.A,{className:"me-2 h-4 w-4"})," عرض الفاتورة"]})}),(0,d.jsxs)(C.Cf,{className:"max-w-4xl p-0",children:[(0,d.jsxs)(C.c7,{className:"p-4 border-b",children:[(0,d.jsx)(C.L3,{children:"فاتورة الاشتراك"}),(0,d.jsx)(C.rr,{children:"معاينة الفاتورة قبل الطباعة أو التصدير."})]}),(0,d.jsx)("div",{className:"max-h-[70vh] overflow-y-auto bg-muted/40 p-4",id:`invoice-print-area-${a.id}`,children:g&&h&&!k?(0,d.jsx)(ag,{subscription:a,settings:h,installments:i}):(0,d.jsx)("div",{className:"flex justify-center items-center h-96",children:(0,d.jsx)(p.A,{className:"h-8 w-8 animate-spin"})})}),(0,d.jsx)(C.Es,{className:"p-4 border-t",children:(0,d.jsxs)(m.$,{onClick:()=>{let b=document.getElementById(`invoice-print-area-${a.id}`);if(b){let a=document.body.innerHTML,c=b.innerHTML;document.body.innerHTML=c,window.print(),document.body.innerHTML=a,window.location.reload()}},disabled:!g||k,children:[(0,d.jsx)(ai.A,{className:"me-2 h-4 w-4"}),"طباعة"]})})]})]})}i.callServer,i.findSourceMapURL;let ak=(0,i.createServerReference)("70a1966b164872145df93c00584df7a0b9768aea98",i.callServer,void 0,i.findSourceMapURL,"updateSubscriptionStatus"),al=[{value:"Active",label:"نشط"},{value:"Suspended",label:"متوقف مؤقتًا"},{value:"Cancelled",label:"ملغي"}];function am({subscription:a,onStatusChange:b,children:c}){let[f,g]=(0,e.useState)(!1),[h,i]=(0,e.useState)(a.status),[j,k]=(0,e.useState)(a.cancellationReason||""),[l,n]=(0,e.useState)(!1),{toast:o}=(0,u.dj)(),q="Cancelled"===h||"Suspended"===h,r=async()=>{n(!0);let c=await ak(a.id,h,j);c.success?(o({title:"تم تحديث حالة الاشتراك بنجاح"}),b(),g(!1)):o({title:"خطأ",description:c.error,variant:"destructive"}),n(!1)};return(0,d.jsxs)(C.lG,{open:f,onOpenChange:g,children:[(0,d.jsx)(C.zM,{asChild:!0,children:c}),(0,d.jsxs)(C.Cf,{children:[(0,d.jsxs)(C.c7,{children:[(0,d.jsx)(C.L3,{children:"تغيير حالة الاشتراك"}),(0,d.jsx)(C.rr,{children:"اختر الحالة الجديدة للاشتراك. سيتم تسجيل التاريخ والوقت تلقائيًا."})]}),(0,d.jsxs)("div",{className:"space-y-4 py-4",children:[(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsx)(I.J,{children:"الحالة الجديدة"}),(0,d.jsxs)(Q.l6,{value:h,onValueChange:a=>i(a),children:[(0,d.jsx)(Q.bq,{children:(0,d.jsx)(Q.yv,{})}),(0,d.jsx)(Q.gC,{children:al.map(a=>(0,d.jsx)(Q.eb,{value:a.value,children:a.label},a.value))})]})]}),q&&(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsx)(I.J,{children:"السبب (اختياري)"}),(0,d.jsx)(ab.T,{value:j,onChange:a=>k(a.target.value)})]})]}),(0,d.jsx)(C.Es,{children:(0,d.jsxs)(m.$,{onClick:r,disabled:l,children:[l&&(0,d.jsx)(p.A,{className:"me-2 h-4 w-4 animate-spin"}),"حفظ التغييرات"]})})]})]})}var an=c(57105),ao=c(27810),ap=c(94340),aq=c(9683);function ar(){return null}var as=c(67094);let at=(a,b)=>null==a?"-":new Intl.NumberFormat("en-US").format(a)+` ${b}`,au={Active:"text-blue-600 bg-blue-100 border-blue-200 dark:bg-blue-900/50 dark:text-blue-300",Paid:"text-green-600 bg-green-100 border-green-200 dark:bg-green-900/50 dark:text-green-300",Cancelled:"text-gray-600 bg-gray-100 border-gray-200 dark:bg-gray-800/50 dark:text-gray-300",Suspended:"text-yellow-600 bg-yellow-100 border-yellow-200 dark:bg-yellow-900/50 dark:text-yellow-300"},av={Active:"نشط",Paid:"مدفوع بالكامل",Cancelled:"ملغي",Suspended:"متوقف"},aw={Paid:"text-green-600 bg-green-100 border-green-200",Unpaid:"text-red-600 bg-red-100 border-red-200"},ax={Paid:"مدفوع",Unpaid:"غير مدفوع"},ay=({installment:a,subscription:b,onDataChange:c})=>{let[e,g]=f().useState([]),[h,i]=f().useState(!1),[j,k]=f().useState(!1),{toast:l}=(0,u.dj)(),n=f().useCallback(async()=>{if(j)return void k(!1);i(!0);try{let b=await V(a.id);g(b),k(!0)}catch(a){l({title:"خطأ",description:`فشل تحميل دفعات القسط: ${a.message}`,variant:"destructive"})}finally{i(!1)}},[a.id,l,j]),o=async()=>{if(!b.client)return void l({title:"خطأ",description:"بيانات العميل غير متوفرة لهذا الاشتراك.",variant:"destructive"});l({title:"جاري إرسال التذكير..."});let c=await X({clientName:b.clientName,clientPhone:b.client.phone,serviceName:b.serviceName,amountDue:a.amount-(a.paidAmount||0)-(a.discount||0),currency:a.currency,dueDate:a.dueDate});c.success?l({title:"تم إرسال التذكير بنجاح"}):l({title:"فشل إرسال التذكير",description:c.message,variant:"destructive"})},r=async a=>{let b=await W(a);b.success?(l({title:"تم حذف الدفعة بنجاح"}),c()):l({title:"خطأ",description:b.error,variant:"destructive"})},s=(a.amount||0)-((a.paidAmount||0)+(a.discount||0));return(0,d.jsx)(as.Nt,{asChild:!0,children:(0,d.jsxs)("tbody",{className:"bg-background",children:[(0,d.jsxs)(w.Hj,{children:[(0,d.jsx)(w.nA,{className:"p-0 text-center",children:(0,d.jsx)(as.R6,{asChild:!0,children:(0,d.jsx)(m.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,children:(0,d.jsx)(an.A,{className:(0,A.cn)("h-4 w-4 transition-transform",j&&"rotate-180")})})})}),(0,d.jsx)(w.nA,{children:(0,x.GP)((0,y.H)(a.dueDate),"yyyy-MM-dd")}),(0,d.jsx)(w.nA,{children:(0,d.jsx)(z.E,{className:(0,A.cn)(aw[a.status],"font-bold"),children:ax[a.status]})}),(0,d.jsx)(w.nA,{className:"font-mono",children:at(a.amount,a.currency)}),(0,d.jsx)(w.nA,{className:"font-mono text-green-600",children:at(a.paidAmount||0,a.currency)}),(0,d.jsx)(w.nA,{className:"font-mono text-orange-600",children:at(a.discount||0,a.currency)}),(0,d.jsx)(w.nA,{className:"font-mono text-red-600",children:at(s,a.currency)}),(0,d.jsx)(w.nA,{className:"text-left",children:(0,d.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,d.jsx)(U,{installment:a,subscription:b,onPaymentSuccess:c,children:(0,d.jsx)(m.$,{size:"sm",variant:"secondary",disabled:"Paid"===a.status,children:"تسجيل دفعة"})}),(0,d.jsx)(m.$,{size:"sm",variant:"outline",onClick:a=>{a.stopPropagation(),o()},disabled:"Paid"===a.status,children:"إرسال تذكير"})]})})]}),(0,d.jsx)(as.Ke,{asChild:!0,children:(0,d.jsx)(w.Hj,{children:(0,d.jsx)(w.nA,{colSpan:8,className:"p-2",children:h?(0,d.jsx)("div",{className:"flex justify-center items-center h-24",children:(0,d.jsx)(p.A,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):e.length>0?(0,d.jsxs)("div",{className:"p-2 bg-slate-50 dark:bg-slate-900 rounded-md",children:[(0,d.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"الدفعات المسجلة:"}),(0,d.jsxs)(w.XI,{children:[(0,d.jsx)(w.A0,{children:(0,d.jsxs)(w.Hj,{children:[(0,d.jsx)(w.nd,{children:"تاريخ الدفع"}),(0,d.jsx)(w.nd,{children:"الموظف"}),(0,d.jsx)(w.nd,{children:"المبلغ"}),(0,d.jsx)(w.nd,{children:"الخصم"}),(0,d.jsx)(w.nd,{className:"text-center",children:"إجراءات"})]})}),(0,d.jsx)(w.BF,{children:e.map(b=>(0,d.jsxs)(w.Hj,{children:[(0,d.jsx)(w.nA,{children:(0,x.GP)((0,y.H)(b.date),"yyyy-MM-dd HH:mm")}),(0,d.jsx)(w.nA,{children:b.paidBy||"غير معروف"}),(0,d.jsx)(w.nA,{className:"font-mono",children:at(b.amount,a.currency)}),(0,d.jsx)(w.nA,{className:"font-mono",children:at(b.discount||0,a.currency)}),(0,d.jsx)(w.nA,{className:"text-center",children:(0,d.jsxs)("div",{className:"flex items-center justify-center",children:[(0,d.jsx)(ad,{payment:b,onPaymentUpdated:c,children:(0,d.jsx)(m.$,{variant:"ghost",size:"icon",className:"h-7 w-7 text-blue-600",children:(0,d.jsx)(ao.A,{className:"h-4 w-4"})})}),(0,d.jsxs)(v.Lt,{children:[(0,d.jsx)(v.tv,{asChild:!0,children:(0,d.jsx)(m.$,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",children:(0,d.jsx)(q.A,{className:"h-4 w-4"})})}),(0,d.jsxs)(v.EO,{children:[(0,d.jsxs)(v.wd,{children:[(0,d.jsx)(v.r7,{children:"هل أنت متأكد؟"}),(0,d.jsx)(v.$v,{children:"سيتم حذف هذه الدفعة وعكس تأثيرها المالي."})]}),(0,d.jsxs)(v.ck,{children:[(0,d.jsx)(v.Zr,{children:"إلغاء"}),(0,d.jsx)(v.Rx,{onClick:()=>r(b.id),className:(0,A.cn)((0,m.r)({variant:"destructive"})),children:"نعم، احذف"})]})]})]})]})})]},b.id))})]})]}):(0,d.jsx)("p",{className:"text-center text-sm text-muted-foreground p-4",children:"لا توجد دفعات مسجلة لهذا القسط."})})})})]})})},az=({subscription:a,allInstallments:b,onDataChange:c})=>{let{toast:g}=(0,u.dj)(),[h,i]=f().useState(!1),j=async()=>{let b=await t(a.id);b.success?(g({title:"تم حذف الاشتراك بنجاح"}),c()):g({title:"خطأ",description:b.error,variant:"destructive"})},k=a.paidAmount||0,l=a.salePrice-k,n=l<=.01&&"Cancelled"!==a.status&&"Suspended"!==a.status?"Paid":a.status,o=(0,e.useMemo)(()=>Array.isArray(b)?b.filter(b=>b.subscriptionId===a.id).sort((a,b)=>new Date(a.dueDate).getTime()-new Date(b.dueDate).getTime()):[],[b,a.id]),p=o.reduce((a,b)=>a+(b.discount||0),0);return(0,d.jsx)(as.Nt,{asChild:!0,children:(0,d.jsxs)("tbody",{className:"border-b",children:[(0,d.jsxs)(w.Hj,{"data-state":h?"open":"closed",onClick:()=>i(!h),className:"cursor-pointer",children:[(0,d.jsx)(w.nA,{children:(0,d.jsx)(as.R6,{asChild:!0,children:(0,d.jsx)(m.$,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,d.jsx)(an.A,{className:(0,A.cn)("h-4 w-4 transition-transform",h&&"rotate-180")})})})}),(0,d.jsx)(w.nA,{className:"font-semibold",children:a.invoiceNumber}),(0,d.jsx)(w.nA,{className:"font-semibold",children:a.serviceName}),(0,d.jsx)(w.nA,{children:a.clientName}),(0,d.jsx)(w.nA,{children:a.supplierName}),(0,d.jsx)(w.nA,{className:"text-center font-mono font-bold",children:at(a.salePrice,a.currency)}),(0,d.jsx)(w.nA,{className:"text-center font-mono font-bold text-green-700",children:at(a.profit,a.currency)}),(0,d.jsx)(w.nA,{className:"text-center font-mono font-bold text-green-600",children:at(k-p,a.currency)}),(0,d.jsx)(w.nA,{className:"text-center font-mono font-bold text-orange-600",children:at(p,a.currency)}),(0,d.jsx)(w.nA,{className:"text-center font-mono font-bold text-red-600",children:at(l,a.currency)}),(0,d.jsx)(w.nA,{className:"text-center",children:(0,d.jsx)(z.E,{variant:"outline",className:(0,A.cn)("capitalize font-bold",au[n]),children:av[n]})}),(0,d.jsx)(w.nA,{className:"text-center",children:(0,d.jsxs)(B.rI,{children:[(0,d.jsx)(B.ty,{asChild:!0,children:(0,d.jsx)(m.$,{variant:"ghost",className:"h-8 w-8 p-0",onClick:a=>a.stopPropagation(),children:(0,d.jsx)(ap.A,{className:"h-4 w-4"})})}),(0,d.jsxs)(B.SQ,{align:"end",children:[(0,d.jsx)(ar,{subscription:a,onSuccess:c,children:(0,d.jsxs)(B._2,{onSelect:a=>a.preventDefault(),children:[(0,d.jsx)(r.A,{className:"me-2 h-4 w-4"}),"إدارة الأقساط"]})}),(0,d.jsx)(aj,{subscription:a}),(0,d.jsx)(am,{subscription:a,onStatusChange:c,children:(0,d.jsxs)(B._2,{onSelect:a=>a.preventDefault(),children:[(0,d.jsx)(s.A,{className:"me-2 h-4 w-4"}),"تغيير الحالة"]})}),(0,d.jsx)(B.mB,{}),(0,d.jsxs)(v.Lt,{children:[(0,d.jsx)(v.tv,{asChild:!0,children:(0,d.jsxs)(B._2,{onSelect:a=>a.preventDefault(),className:"text-destructive focus:text-destructive",children:[(0,d.jsx)(q.A,{className:"me-2 h-4 w-4"}),"حذف"]})}),(0,d.jsxs)(v.EO,{children:[(0,d.jsxs)(v.wd,{children:[(0,d.jsx)(v.r7,{children:"هل أنت متأكد؟"}),(0,d.jsx)(v.$v,{children:"سيتم نقل الاشتراك إلى سجل المحذوفات."})]}),(0,d.jsxs)(v.ck,{children:[(0,d.jsx)(v.Zr,{children:"إلغاء"}),(0,d.jsx)(v.Rx,{onClick:a=>{a.stopPropagation(),j()},className:(0,A.cn)((0,m.r)({variant:"destructive"})),children:"نعم، احذف"})]})]})]})]})]})})]}),(0,d.jsx)(as.Ke,{asChild:!0,children:(0,d.jsx)(w.Hj,{children:(0,d.jsx)(w.nA,{colSpan:12,className:"p-2 bg-muted/50",children:(0,d.jsxs)("div",{className:"p-4 bg-background rounded-md",children:[(0,d.jsx)("h4",{className:"font-semibold mb-2",children:"جدول الأقساط"}),(0,d.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,d.jsxs)(w.XI,{children:[(0,d.jsx)(w.A0,{children:(0,d.jsxs)(w.Hj,{children:[(0,d.jsx)(w.nd,{className:"w-12"}),(0,d.jsx)(w.nd,{children:"تاريخ الاستحقاق"}),(0,d.jsx)(w.nd,{children:"الحالة"}),(0,d.jsx)(w.nd,{children:"المبلغ"}),(0,d.jsx)(w.nd,{children:"المدفوع"}),(0,d.jsx)(w.nd,{children:"الخصم"}),(0,d.jsx)(w.nd,{children:"المتبقي"}),(0,d.jsx)(w.nd,{className:"text-left w-[240px]",children:"الإجراءات"})]})}),o.map(b=>(0,d.jsx)(ay,{installment:b,subscription:a,onDataChange:c},b.id))]})})]})})})})]})})};function aA({subscriptions:a,allInstallments:b,onDataChange:c}){let[e,g]=f().useState(""),[h,i]=f().useState("all"),j=f().useMemo(()=>a.filter(a=>{let b=e.toLowerCase(),c=!e||a.serviceName.toLowerCase().includes(b)||a.clientName.toLowerCase().includes(b)||(a.supplierName||"").toLowerCase().includes(b)||(a.invoiceNumber||"").toLowerCase().includes(b),d=a.salePrice-(a.paidAmount||0)<=.01&&"Cancelled"!==a.status&&"Suspended"!==a.status?"Paid":a.status,f="all"===h||d===h;return c&&f}),[a,e,h]);return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,d.jsxs)("div",{className:"relative flex-grow",children:[(0,d.jsx)(aq.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,d.jsx)(R.p,{placeholder:"بحث باسم الاشتراك، العميل، المورد، أو رقم الفاتورة...",value:e,onChange:a=>g(a.target.value),className:"pr-10"})]}),(0,d.jsxs)(Q.l6,{value:h,onValueChange:a=>i(a),children:[(0,d.jsx)(Q.bq,{className:"w-full sm:w-[180px]",children:(0,d.jsx)(Q.yv,{})}),(0,d.jsxs)(Q.gC,{children:[(0,d.jsx)(Q.eb,{value:"all",children:"كل الحالات"}),Object.keys(av).map(a=>(0,d.jsx)(Q.eb,{value:a,children:av[a]},a))]})]})]}),(0,d.jsx)("div",{className:"border rounded-lg overflow-x-auto",children:(0,d.jsxs)(w.XI,{children:[(0,d.jsx)(w.A0,{children:(0,d.jsxs)(w.Hj,{children:[(0,d.jsx)(w.nd,{className:"w-[50px]"}),(0,d.jsx)(w.nd,{className:"font-bold",children:"الفاتورة"}),(0,d.jsx)(w.nd,{className:"font-bold",children:"الاشتراك"}),(0,d.jsx)(w.nd,{className:"font-bold",children:"العميل"}),(0,d.jsx)(w.nd,{className:"font-bold",children:"المورد"}),(0,d.jsx)(w.nd,{className:"text-center font-bold",children:"إجمالي البيع"}),(0,d.jsx)(w.nd,{className:"text-center font-bold",children:"الربح"}),(0,d.jsx)(w.nd,{className:"text-center font-bold",children:"المدفوع"}),(0,d.jsx)(w.nd,{className:"text-center font-bold",children:"الخصم"}),(0,d.jsx)(w.nd,{className:"text-center font-bold",children:"المتبقي"}),(0,d.jsx)(w.nd,{className:"text-center font-bold",children:"الحالة"}),(0,d.jsx)(w.nd,{className:"text-center font-bold",children:"الإجراءات"})]})}),0===j.length?(0,d.jsx)(w.BF,{children:(0,d.jsx)(w.Hj,{children:(0,d.jsx)(w.nA,{colSpan:12,className:"h-24 text-center",children:"لا توجد اشتراكات تطابق البحث."})})}):j.map(a=>(0,d.jsx)(az,{subscription:a,allInstallments:b,onDataChange:c},a.id))]})})]})}var aB=c(31407),aC=c(88869),aD=c(81989),aE=c(92080),aF=c(44345),aG=c(65409),aH=c(21853),aI=c(72001),aJ=c(1420);let aK=({title:a,description:b,icon:c,children:e,className:f})=>(0,d.jsxs)(g.Zp,{className:(0,A.cn)("flex flex-col",f),children:[(0,d.jsx)(g.aR,{children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"p-3 bg-muted rounded-full",children:(0,d.jsx)(c,{className:"h-6 w-6 text-primary"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.ZB,{children:a}),(0,d.jsx)(g.BT,{children:b})]})]})}),(0,d.jsx)(g.Wu,{className:"flex-grow space-y-4",children:e})]});function aL({settings:a,onSettingsChanged:b}){let[c,f]=(0,e.useState)(a?.subscriptionSettings||{}),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)({}),{toast:k}=(0,u.dj)(),{data:l}=(0,J.Z)(),r=(0,e.useMemo)(()=>(l?.suppliers||[]).map(a=>({value:a.id,label:a.name})),[l?.suppliers]),s=(0,e.useCallback)(a=>{let b={};null!=a.defaultQuantity&&a.defaultQuantity<=0&&(b.defaultQuantity="الكمية يجب أن تكون أكبر من صفر"),null!=a.defaultInstallments&&a.defaultInstallments<=0&&(b.defaultInstallments="عدد الأقساط يجب أن يكون أكبر من صفر");let c=a.reminders?.daysBeforeDue||[];return c.some((a,b)=>c.indexOf(a)!==b)&&(b.reminders="أيام التذكير يجب أن تكون مختلفة"),j(b),0===Object.keys(b).length},[]),t=(0,e.useCallback)(async()=>{if(!s(c))return void k({title:"خطأ في المدخلات",description:"تأكد من صحة الحقول قبل الحفظ.",variant:"destructive"});h(!0);try{(await (0,aG.X)({subscriptionSettings:c})).success?(k({title:"تم الحفظ",description:"تم حفظ إعدادات الاشتراكات بنجاح."}),b()):k({title:"خطأ",description:"تعذر حفظ الإعدادات.",variant:"destructive"})}catch(a){k({title:"خطأ غير متوقع",description:a.message||"حصل خطأ عند الحفظ.",variant:"destructive"})}finally{h(!1)}},[c,s,k,b]),v=(a,b)=>{f(c=>({...c,[a]:b}))},w=a=>{a.reminders||(a.reminders={enabled:!0,daysBeforeDue:[],sendTime:"09:00"}),Array.isArray(a.reminders.daysBeforeDue)||(a.reminders.daysBeforeDue=[])};return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[(0,d.jsx)(aK,{title:"الإعدادات الافتراضية",description:"لتسريع عملية إضافة اشتراك جديد.",icon:n.A,children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsx)(I.J,{className:"font-semibold",children:"المورد الافتراضي"}),(0,d.jsx)(aH.j,{options:r,value:c.defaultSupplier||"",onValueChange:a=>v("defaultSupplier",a),placeholder:"اختر موردًا..."})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsx)(I.J,{className:"font-semibold",children:"الكمية الافتراضية"}),(0,d.jsx)(P.O,{value:c.defaultQuantity,onValueChange:a=>v("defaultQuantity",a||1),"aria-label":"Default quantity"}),i.defaultQuantity&&(0,d.jsx)("p",{className:"text-xs text-destructive",children:i.defaultQuantity})]}),(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsx)(I.J,{className:"font-semibold",children:"عدد الأقساط الافتراضي"}),(0,d.jsx)(P.O,{value:c.defaultInstallments,onValueChange:a=>v("defaultInstallments",a||12),"aria-label":"Default installments"}),i.defaultInstallments&&(0,d.jsx)("p",{className:"text-xs text-destructive",children:i.defaultInstallments})]})]})]})}),(0,d.jsx)(aK,{title:"إشعارات وتذكيرات الأقساط",description:"إدارة التذكيرات التلقائية للأقساط.",icon:aC.A,children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,d.jsx)(I.J,{htmlFor:"reminders-enabled",className:"font-semibold",children:"تفعيل الإشعارات التلقائية"}),(0,d.jsx)(aJ.d,{id:"reminders-enabled",checked:c.reminders?.enabled,onCheckedChange:a=>v("reminders",{...c.reminders,enabled:a})})]}),(0,d.jsxs)("div",{className:"space-y-3 p-3 border rounded-lg",children:[(0,d.jsxs)(I.J,{className:"font-semibold flex items-center gap-2",children:[(0,d.jsx)(aD.A,{className:"h-4 w-4"}),"توقيتات التذكير"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(I.J,{htmlFor:"sendTime",className:"text-xs shrink-0",children:"وقت الإرسال:"}),(0,d.jsx)(R.p,{id:"sendTime",type:"time",value:c.reminders?.sendTime||"09:00",onChange:a=>v("reminders",{...c.reminders,sendTime:a.target.value}),className:"h-8"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(I.J,{className:"text-xs",children:"أيام التذكير (قبل الاستحقاق)"}),(c.reminders?.daysBeforeDue||[]).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-xs",children:"تذكير قبل"}),(0,d.jsx)(P.O,{className:"w-20 h-8",value:a,onValueChange:a=>{var c;!isNaN(c=Number(a||0))&&!(c<0)&&f((0,aI.jM)(a=>{w(a),a.reminders.daysBeforeDue[b]=Math.round(c),a.reminders.daysBeforeDue=Array.from(new Set(a.reminders.daysBeforeDue)).sort((a,b)=>b-a)}))},"aria-label":`reminder-${b}`}),(0,d.jsx)("span",{className:"text-xs",children:"أيام"}),(0,d.jsx)(m.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>{f((0,aI.jM)(a=>{w(a),a.reminders.daysBeforeDue.splice(b,1)}))},children:(0,d.jsx)(q.A,{className:"h-4 w-4"})})]},b)),(0,d.jsxs)(m.$,{variant:"outline",size:"sm",onClick:()=>((a=1)=>{f((0,aI.jM)(b=>{w(b),b.reminders.daysBeforeDue.push(a),b.reminders.daysBeforeDue=Array.from(new Set(b.reminders.daysBeforeDue)).sort((a,b)=>b-a)}))})(1),children:[(0,d.jsx)(o.A,{className:"me-2 h-4 w-4"}),"إضافة يوم"]}),i.reminders&&(0,d.jsx)("p",{className:"text-xs text-destructive",children:i.reminders})]})]}),(0,d.jsxs)("div",{className:"space-y-3 p-3 border rounded-lg",children:[(0,d.jsxs)(I.J,{className:"font-semibold flex items-center gap-2",children:[(0,d.jsx)(aE.A,{className:"h-4 w-4"}),"إشعارات التأخير"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-xs",children:"إرسال إشعار تأخير بعد"}),(0,d.jsx)(P.O,{className:"w-20 h-8",value:c.reminders?.notifyAfterOverdueDays,onValueChange:a=>v("reminders",{...c.reminders,notifyAfterOverdueDays:a||1})}),(0,d.jsx)("span",{className:"text-xs",children:"أيام من الاستحقاق"})]})]})]})})]}),(0,d.jsx)(aK,{title:"الإعدادات المحاسبية",description:"تحديد حسابات الربط مع شجرة الحسابات.",icon:aF.A,children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsx)(I.J,{className:"font-bold",children:"حساب إيراد الاشتراكات"}),(0,d.jsx)(aH.j,{searchAction:"all",value:c.revenueAccountId||"",onValueChange:a=>v("revenueAccountId",a),placeholder:"اختر حساب الإيراد..."})]}),(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsx)(I.J,{className:"font-bold",children:"حساب تكلفة الاشتراكات"}),(0,d.jsx)(aH.j,{searchAction:"all",value:c.costAccountId||"",onValueChange:a=>v("costAccountId",a),placeholder:"اختر حساب التكلفة..."})]})]})}),(0,d.jsx)("div",{className:"flex justify-end mt-6",children:(0,d.jsxs)(m.$,{onClick:t,disabled:g,size:"lg",children:[g&&(0,d.jsx)(p.A,{className:"me-2 h-4 w-4 animate-spin"}),(0,d.jsx)(Z.A,{className:"me-2 h-4 w-4"}),"حفظ كل التغييرات"]})})]})}var aM=c(10923);function aN({onSettingsChanged:a,children:b}){let[c,f]=(0,e.useState)(!1),{data:g,loaded:h,fetchData:i}=(0,J.Z)(),[j,k]=(0,e.useState)({width:"1024px",height:"90vh"});return(0,d.jsxs)(C.lG,{open:c,onOpenChange:f,children:[(0,d.jsx)(C.zM,{asChild:!0,children:b}),(0,d.jsxs)(C.Cf,{className:"p-0 flex flex-col",style:{maxWidth:j.width,width:"95vw",height:j.height},children:[(0,d.jsxs)(C.c7,{className:"p-4 flex flex-row items-center justify-between border-b",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)(C.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(n.A,{className:"h-5 w-5"}),"إعدادات الاشتراكات"]}),(0,d.jsx)(C.rr,{children:"تحديد الإعدادات الافتراضية عند إنشاء اشتراك جديد لتسهيل وتسريع عملية إدخال البيانات."})]}),(0,d.jsx)(aM.A,{dialogKey:"add_subscription",onDimensionsChange:k,children:(0,d.jsx)(m.$,{variant:"ghost",size:"icon",children:(0,d.jsx)(n.A,{className:"h-5 w-5"})})})]}),(0,d.jsx)("div",{className:"flex-grow overflow-y-auto",children:(0,d.jsx)("div",{className:"p-6",children:h&&g?(0,d.jsx)(aL,{settings:g.settings,onSettingsChanged:()=>{a(),f(!1)}}):(0,d.jsx)("div",{className:"flex justify-center p-8",children:(0,d.jsx)(p.A,{className:"animate-spin"})})})})]})]})}function aO({initialSubscriptions:a,initialInstallments:b,onDataChange:c}){let[f,g]=(0,e.useState)(a),[h,i]=(0,e.useState)(b),[j,k]=(0,e.useState)(!1),{toast:l}=(0,u.dj)(),q=()=>{c()};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex items-center justify-end gap-2 mb-4",children:[(0,d.jsx)(aN,{onSettingsChanged:q,children:(0,d.jsxs)(m.$,{variant:"outline",children:[(0,d.jsx)(n.A,{className:"me-2 h-4 w-4"})," الإعدادات"]})}),(0,d.jsx)(aB.A,{onSubscriptionAdded:q,children:(0,d.jsxs)(m.$,{children:[(0,d.jsx)(o.A,{className:"me-2 h-4 w-4"})," إضافة اشتراك"]})})]}),j?(0,d.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,d.jsx)(p.A,{className:"h-8 w-8 animate-spin"})}):(0,d.jsx)(aA,{subscriptions:f,allInstallments:h,onDataChange:q})]})}var aP=c(27081);function aQ(){let[a,b]=(0,e.useState)([]),[c,f]=(0,e.useState)([]),[g,i]=(0,e.useState)(!0),[m,n]=(0,e.useState)(null),o=(0,e.useCallback)(async()=>{i(!0);try{let[a,c]=await Promise.all([j(),k()]);b(a),f(c)}catch(a){n(a.message||"Failed to load data")}finally{i(!1)}},[]);return g?(0,d.jsx)(aP.E,{className:"h-96 w-full"}):m?(0,d.jsxs)(l.Fc,{variant:"destructive",children:[(0,d.jsx)(h.A,{className:"h-4 w-4"}),(0,d.jsx)(l.XL,{children:"حدث خطأ!"}),(0,d.jsx)(l.TN,{children:m})]}):(0,d.jsx)(aO,{initialSubscriptions:a,initialInstallments:c,onDataChange:o})}function aR(){return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"px-0 sm:px-6",children:[(0,d.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"إدارة الاشتراكات"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"عرض وإدارة جميع الاشتراكات الدورية في مكان واحد."})]}),(0,d.jsx)(g.Zp,{children:(0,d.jsx)(g.Wu,{className:"pt-6",children:(0,d.jsx)(e.Suspense,{fallback:(0,d.jsx)(aP.E,{className:"h-96 w-full"}),children:(0,d.jsx)(aQ,{})})})})]})}},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:a=>{"use strict";a.exports=require("assert")},14276:a=>{"use strict";a.exports=import("firebase-admin/auth")},14985:a=>{"use strict";a.exports=require("dns")},16698:a=>{"use strict";a.exports=require("node:async_hooks")},19063:a=>{"use strict";a.exports=require("require-in-the-middle")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19185:a=>{"use strict";a.exports=require("dgram")},19771:a=>{"use strict";a.exports=require("process")},21820:a=>{"use strict";a.exports=require("os")},24803:a=>{"use strict";a.exports=import("firebase-admin/storage")},25054:(a,b,c)=>{"use strict";c.d(b,{H:()=>e});var d=c(29921);function e(a,b){let c,e,n=b?.additionalDigits??2,o=function(a){let b,c={},d=a.split(f.dateTimeDelimiter);if(d.length>2)return c;if(/:/.test(d[0])?b=d[0]:(c.date=d[0],b=d[1],f.timeZoneDelimiter.test(c.date)&&(c.date=a.split(f.timeZoneDelimiter)[0],b=a.substr(c.date.length,a.length))),b){let a=f.timezone.exec(b);a?(c.time=b.replace(a[1],""),c.timezone=a[1]):c.time=b}return c}(a);if(o.date){let a=function(a,b){let c=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+b)+"})|(\\d{2}|[+-]\\d{"+(2+b)+"})$)"),d=a.match(c);if(!d)return{year:NaN,restDateString:""};let e=d[1]?parseInt(d[1]):null,f=d[2]?parseInt(d[2]):null;return{year:null===f?e:100*f,restDateString:a.slice((d[1]||d[2]).length)}}(o.date,n);c=function(a,b){var c,d,e,f,h,i,k;if(null===b)return new Date(NaN);let n=a.match(g);if(!n)return new Date(NaN);let o=!!n[4],p=j(n[1]),q=j(n[2])-1,r=j(n[3]),s=j(n[4]),t=j(n[5])-1;if(o){return(c=s,d=t,c>=1&&c<=53&&d>=0&&d<=6)?function(a,b,c){let d=new Date(0);d.setUTCFullYear(a,0,4);let e=d.getUTCDay()||7;return d.setUTCDate(d.getUTCDate()+((b-1)*7+c+1-e)),d}(b,s,t):new Date(NaN)}{let a=new Date(0);return(e=b,f=q,h=r,f>=0&&f<=11&&h>=1&&h<=(l[f]||(m(e)?29:28))&&(i=b,(k=p)>=1&&k<=(m(i)?366:365)))?(a.setUTCFullYear(b,q,Math.max(p,r)),a):new Date(NaN)}}(a.restDateString,a.year)}if(!c||isNaN(c.getTime()))return new Date(NaN);let p=c.getTime(),q=0;if(o.time&&isNaN(q=function(a){var b,c,e;let f=a.match(h);if(!f)return NaN;let g=k(f[1]),i=k(f[2]),j=k(f[3]);return(b=g,c=i,e=j,24===b?0===c&&0===e:e>=0&&e<60&&c>=0&&c<60&&b>=0&&b<25)?g*d.s0+i*d.Cg+1e3*j:NaN}(o.time)))return new Date(NaN);if(o.timezone){if(isNaN(e=function(a){var b;if("Z"===a)return 0;let c=a.match(i);if(!c)return 0;let e="+"===c[1]?-1:1,f=parseInt(c[2]),g=c[3]&&parseInt(c[3])||0;return(b=g)>=0&&b<=59?e*(f*d.s0+g*d.Cg):NaN}(o.timezone)))return new Date(NaN)}else{let a=new Date(p+q),b=new Date(0);return b.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),b.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),b}return new Date(p+q+e)}let f={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},g=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,h=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,i=/^([+-])(\d{2})(?::?(\d{2}))?$/;function j(a){return a?parseInt(a):1}function k(a){return a&&parseFloat(a.replace(",","."))||0}let l=[31,null,31,30,31,30,31,31,30,31,30,31];function m(a){return a%400==0||a%4==0&&a%100!=0}},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},34631:a=>{"use strict";a.exports=require("tls")},36498:(a,b,c)=>{Promise.resolve().then(c.bind(c,10047))},37067:a=>{"use strict";a.exports=require("node:http")},37830:a=>{"use strict";a.exports=require("node:stream/web")},38522:a=>{"use strict";a.exports=require("node:zlib")},38710:(a,b,c)=>{"use strict";c.d(b,{ai:()=>f});var d=c(8567),e=c(55446);let f=(0,d.genkit)({plugins:[(0,e.YF)()],model:"googleai/gemini-1.5-flash"})},40733:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["subscriptions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,81378)),"/home/user/studio/src/app/subscriptions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,51472)),"/home/user/studio/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,I=["/home/user/studio/src/app/subscriptions/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/subscriptions/page",pathname:"/subscriptions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/subscriptions/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},44708:a=>{"use strict";a.exports=require("node:https")},47002:a=>{function b(a){var b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b}b.keys=()=>[],b.resolve=b,b.id=47002,a.exports=b},53608:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{$N:()=>l,NK:()=>p,_3:()=>s,e8:()=>w,fn:()=>k,iX:()=>q,jj:()=>m,lF:()=>n,rx:()=>o,uL:()=>r});var e=c(91488);c(27806);var f=c(80446),g=c(91837),h=c(46204),i=c(40410),j=a([f]);f=(j.then?(await j)():j)[0];let t="whatsapp_accounts",u="https://api.ultramsg.com",v="https://api.green-api.com";async function k(){let a=await (0,f.Lf)();if(!a)return{success:!1,error:"Database not available."};try{let b=(await a.collection(t).orderBy("name").get()).docs.map(a=>({id:a.id,...a.data()}));return{success:!0,accounts:b}}catch(a){return{success:!1,error:a.message}}}async function l(a){let b=await (0,f.Lf)();if(!b)return{success:!1,error:"Database not available."};try{return await b.collection(t).add(a),(0,g.revalidatePath)("/campaigns"),(0,g.revalidatePath)("/settings"),{success:!0}}catch(a){return{success:!1,error:a.message}}}async function m(a,b){let c=await (0,f.Lf)();if(!c)return{success:!1,error:"Database not available."};try{return await c.collection(t).doc(a).update(b),(0,g.revalidatePath)("/campaigns"),(0,g.revalidatePath)("/settings"),{success:!0}}catch(a){return{success:!1,error:a.message}}}async function n(a){let b=await (0,f.Lf)();if(!b)return{success:!1,error:"Database not available."};try{return await b.collection(t).doc(a).delete(),(0,g.revalidatePath)("/campaigns"),(0,g.revalidatePath)("/settings"),{success:!0}}catch(a){return{success:!1,error:a.message}}}let w=(0,h.cache)(async a=>{let b=await (0,f.Lf)();if(!b)return null;let c=await b.collection(t).doc(a).get();return c.exists?c.data():null});async function o(a){let b=await w(a);if(!b||!b.idInstance||!b.apiTokenInstance)throw Error("Account credentials not found or incomplete.");try{let a=new URL(`${u}/${b.idInstance}/groups`);a.searchParams.append("token",b.apiTokenInstance);let c=await fetch(a.toString()),d=await c.json();if(!c.ok)throw Error(d.error||"Failed to fetch WhatsApp groups from ultramsg.");if(d&&Array.isArray(d))return d.map(a=>({id:a.id,name:a.name,participantsCount:a.groupMetadata?.participants?.length||0,iAmAdmin:a.i_am_admin||!1}));return[]}catch(a){throw console.error("Error fetching WhatsApp groups from ultramsg:",a.message),Error(a.message||"Failed to fetch WhatsApp groups.")}}async function p(a){let b=await w(a);if(!b||!b.idInstance||!b.apiTokenInstance)throw Error("Account credentials not found or incomplete.");if("green-api"===b.provider){let a=`${v}/waInstance${b.idInstance}/getContacts/${b.apiTokenInstance}`,c=await fetch(a);if(!c.ok){let a=await c.text();throw Error(`Failed to fetch Green-API contacts: ${a}`)}return(await c.json()||[]).map(a=>({id:a.id,name:a.name}))}try{let a=new URL(`${u}/${b.idInstance}/contacts`);a.searchParams.append("token",b.apiTokenInstance);let c=await fetch(a.toString()),d=await c.json();if(!c.ok)throw Error(d.error||"Failed to fetch WhatsApp contacts.");if(d&&Array.isArray(d))return d.map(a=>({id:a.id,name:a.name}));return[]}catch(a){throw console.error("Error fetching WhatsApp contacts:",a.message),Error(a.message||"Failed to fetch WhatsApp contacts.")}}async function q(a,b){let c=await w(a);if(!c||!c.idInstance||!c.apiTokenInstance)throw Error("Account credentials not found or incomplete.");if("green-api"===c.provider){let a=`${v}/waInstance${c.idInstance}/getGroupParticipants/${c.apiTokenInstance}`,d=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupId:b})});if(!d.ok){let a=await d.text();throw Error(`Failed to fetch Green-API group participants: ${a}`)}let e=await d.json();return(e?.participants||[]).map(a=>({id:a.id,name:a.name||a.id.split("@")[0]}))}try{let a=new URL(`${u}/${c.idInstance}/groups/participants`);a.searchParams.append("token",c.apiTokenInstance),a.searchParams.append("groupId",b);let d=await fetch(a.toString()),e=await d.json();if(!d.ok)throw Error(e.error||"Failed to fetch group participants.");if(e&&Array.isArray(e))return e.map(a=>({id:a.id,name:a.name}));return[]}catch(a){throw console.error(`Error fetching participants for group ${b}:`,a.message),Error(a.message||"Failed to fetch group participants.")}}async function r(a,b,c){let d=await w(a);if(!d||!d.idInstance||!d.apiTokenInstance||"green-api"!==d.provider)return{success:!1,error:"This function is only for Green-API accounts and requires full credentials."};try{let a=`${v}/waInstance${d.idInstance}/addGroupParticipant/${d.apiTokenInstance}`,e=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupId:b,participantChatId:c})}),f=await e.json();if(e.ok&&f.add)return{success:!0,message:"Successfully added participant to group."};return{success:!1,error:f.message||"Failed to add participant."}}catch(a){return console.error("Error adding participant to group:",a.message),{success:!1,error:a.message||"An unknown error occurred."}}}async function s(a){let b=await w(a);if(!b||!b.idInstance||!b.apiTokenInstance)return{status:"error",message:"Incomplete credentials."};if("green-api"===b.provider)try{let a=`${v}/waInstance${b.idInstance}/getStateInstance/${b.apiTokenInstance}`,c=await fetch(a);if(!c.ok)try{let a=await c.json();return{status:"error",message:a.message||"Failed to fetch Green-API status"}}catch(a){return{status:"error",message:await c.text()||"Failed to fetch Green-API status"}}let d=await c.json(),e={status:d.stateInstance,message:"authorized"===d.stateInstance?"متصل":"غير متصل"};if("notAuthorized"===d.stateInstance)try{let a=`${v}/waInstance${b.idInstance}/qr/${b.apiTokenInstance}`,c=await fetch(a);if(c.ok){let a=await c.json();"qrCode"===a.type&&(e.status="got qr code",e.qrCode=a.message)}}catch(a){console.warn("Could not fetch QR code for Green-API, continuing without it.",a)}if("authorized"===d.stateInstance)try{let a=`${v}/waInstance${b.idInstance}/getWaSettings/${b.apiTokenInstance}`,c=await fetch(a);if(c.ok){let a=await c.json(),d=a.wid;if(d){e.name=a.pushname||d.split("@")[0];let c=`${v}/waInstance${b.idInstance}/getAvatar/${b.apiTokenInstance}`,f=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:d})});if(f.ok){let a=await f.json();a.existsAvatar&&(e.profile_picture=a.urlAvatar)}}}}catch(a){console.warn("Could not fetch avatar/settings for Green-API, continuing without it.",a)}return e}catch(a){return{status:"error",message:a.message||"Failed to fetch Green-API status."}}try{let a=new URL(`${u}/${b.idInstance}/instance/me`);a.searchParams.append("token",b.apiTokenInstance);let c=await fetch(a.toString());if(!c.ok){let a=await c.json();return{status:"error",message:a.error||"Failed to fetch account details."}}let d=await c.json(),e=await fetch(`${u}/${b.idInstance}/instance/status?token=${b.apiTokenInstance}`),f=await e.json();if(f?.status?.account_status?.status==="got qr code"&&f.status.qrCode)return{...f.status.account_status,status:"got qr code",qrCode:f.status.qrCode};return{status:"connected",message:"متصل",name:d.name,profile_picture:d.image}}catch(b){return console.error(`Error fetching status for account ${a}:`,b.message),{status:"error",message:b.message||"Unknown error."}}}(0,i.D)([k,l,m,n,w,o,p,q,r,s]),(0,e.A)(k,"009987d8158f99de874014e543c2eb4bd257578535",null),(0,e.A)(l,"40084f2c4ea3e6de914d9ccec37e1cc9e6c948440a",null),(0,e.A)(m,"60ab3d606e7fd8fc4042d526bde8444e0d642058ea",null),(0,e.A)(n,"40bebf67ac032a6829a4f046709f724a00a4f8d315",null),(0,e.A)(w,"7fba2ac2c1a9f8739234413dfc6c7ce7ecc022ad39",null),(0,e.A)(o,"40168ae185353c0a082b43ec98457e95202a0a0e4f",null),(0,e.A)(p,"406f8f90a318c63d61893a0c788be56cb2f100177a",null),(0,e.A)(q,"6061cd2d52d140d7a5c191088a23243c3222ad0e9f",null),(0,e.A)(r,"702eed442f1ccbf88d7ae7afd57e907c5a530ad2ed",null),(0,e.A)(s,"406c682028bb61084120ebd0c90b571b5064b14b7b",null),d()}catch(a){d(a)}})},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},56801:a=>{"use strict";a.exports=require("import-in-the-middle")},57075:a=>{"use strict";a.exports=require("node:stream")},57975:a=>{"use strict";a.exports=require("node:util")},58496:(a,b,c)=>{"use strict";c.d(b,{I:()=>e});var d=c(85708);let e=(0,d.createServerReference)("7f156258846f24d01f7193780d90bff0896769f3dc",d.callServer,void 0,d.findSourceMapURL,"getSubscriptionById")},61044:(a,b,c)=>{"use strict";c.d(b,{ar:()=>l});let d={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}};var e=c(56852);let f={date:(0,e.k)({formats:{full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:(0,e.k)({formats:{full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,e.k)({formats:{full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},g={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"};var h=c(18430);let i={ordinalNumber:a=>String(a),era:(0,h.o)({values:{narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},defaultWidth:"wide"}),quarter:(0,h.o)({values:{narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},defaultWidth:"wide",argumentCallback:a=>a-1}),month:(0,h.o)({values:{narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},defaultWidth:"wide"}),day:(0,h.o)({values:{narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},defaultWidth:"wide"}),dayPeriod:(0,h.o)({values:{narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},defaultWidth:"wide",formattingValues:{narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},defaultFormattingWidth:"wide"})};var j=c(6224),k=c(93104);let l={code:"ar",formatDistance:(a,b,c)=>{let e,f=d[a];if(e="string"==typeof f?f:1===b?f.one:2===b?f.two:b<=10?f.threeToTen.replace("{{count}}",String(b)):f.other.replace("{{count}}",String(b)),c?.addSuffix)if(c.comparison&&c.comparison>0)return"خلال "+e;else return"منذ "+e;return e},formatLong:f,formatRelative:a=>g[a],localize:i,match:{ordinalNumber:(0,j.K)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:a=>parseInt(a,10)}),era:(0,k.A)({matchPatterns:{narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},defaultMatchWidth:"wide",parsePatterns:{any:[/قبل/,/بعد/]},defaultParseWidth:"any"}),quarter:(0,k.A)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),month:(0,k.A)({matchPatterns:{narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},defaultParseWidth:"any"}),day:(0,k.A)({matchPatterns:{narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},defaultParseWidth:"any"}),dayPeriod:(0,k.A)({matchPatterns:{narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},defaultMatchWidth:"any",parsePatterns:{any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},defaultParseWidth:"any"})},options:{weekStartsOn:6,firstWeekContainsDate:1}}},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64450:(a,b,c)=>{"use strict";c.d(b,{C1:()=>N,bL:()=>L,q7:()=>M});var d=c(38301),e=c(87868),f=c(92808),g=c(2332),h=c(6406),i=c(88617),j=c(11720),k=c(10498),l=c(96386),m=c(10350),n=c(29988),o=c(21124),p="Radio",[q,r]=(0,g.A)(p),[s,t]=q(p),u=d.forwardRef((a,b)=>{let{__scopeRadio:c,name:g,checked:i=!1,required:j,disabled:k,value:l="on",onCheck:m,form:n,...p}=a,[q,r]=d.useState(null),t=(0,f.s)(b,a=>r(a)),u=d.useRef(!1),v=!q||n||!!q.closest("form");return(0,o.jsxs)(s,{scope:c,checked:i,disabled:k,children:[(0,o.jsx)(h.sG.button,{type:"button",role:"radio","aria-checked":i,"data-state":y(i),"data-disabled":k?"":void 0,disabled:k,value:l,...p,ref:t,onClick:(0,e.mK)(a.onClick,a=>{i||m?.(),v&&(u.current=a.isPropagationStopped(),u.current||a.stopPropagation())})}),v&&(0,o.jsx)(x,{control:q,bubbles:!u.current,name:g,value:l,checked:i,required:j,disabled:k,form:n,style:{transform:"translateX(-100%)"}})]})});u.displayName=p;var v="RadioIndicator",w=d.forwardRef((a,b)=>{let{__scopeRadio:c,forceMount:d,...e}=a,f=t(v,c);return(0,o.jsx)(n.C,{present:d||f.checked,children:(0,o.jsx)(h.sG.span,{"data-state":y(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:b})})});w.displayName=v;var x=d.forwardRef(({__scopeRadio:a,control:b,checked:c,bubbles:e=!0,...g},i)=>{let j=d.useRef(null),k=(0,f.s)(j,i),n=(0,m.Z)(c),p=(0,l.X)(b);return d.useEffect(()=>{let a=j.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==c&&b){let d=new Event("click",{bubbles:e});b.call(a,c),a.dispatchEvent(d)}},[n,c,e]),(0,o.jsx)(h.sG.input,{type:"radio","aria-hidden":!0,defaultChecked:c,...g,tabIndex:-1,ref:k,style:{...g.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function y(a){return a?"checked":"unchecked"}x.displayName="RadioBubbleInput";var z=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],A="RadioGroup",[B,C]=(0,g.A)(A,[i.RG,r]),D=(0,i.RG)(),E=r(),[F,G]=B(A),H=d.forwardRef((a,b)=>{let{__scopeRadioGroup:c,name:d,defaultValue:e,value:f,required:g=!1,disabled:l=!1,orientation:m,dir:n,loop:p=!0,onValueChange:q,...r}=a,s=D(c),t=(0,k.jH)(n),[u,v]=(0,j.i)({prop:f,defaultProp:e??null,onChange:q,caller:A});return(0,o.jsx)(F,{scope:c,name:d,required:g,disabled:l,value:u,onValueChange:v,children:(0,o.jsx)(i.bL,{asChild:!0,...s,orientation:m,dir:t,loop:p,children:(0,o.jsx)(h.sG.div,{role:"radiogroup","aria-required":g,"aria-orientation":m,"data-disabled":l?"":void 0,dir:t,...r,ref:b})})})});H.displayName=A;var I="RadioGroupItem",J=d.forwardRef((a,b)=>{let{__scopeRadioGroup:c,disabled:g,...h}=a,j=G(I,c),k=j.disabled||g,l=D(c),m=E(c),n=d.useRef(null),p=(0,f.s)(b,n),q=j.value===h.value,r=d.useRef(!1);return d.useEffect(()=>{let a=a=>{z.includes(a.key)&&(r.current=!0)},b=()=>r.current=!1;return document.addEventListener("keydown",a),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",b)}},[]),(0,o.jsx)(i.q7,{asChild:!0,...l,focusable:!k,active:q,children:(0,o.jsx)(u,{disabled:k,required:j.required,checked:q,...m,...h,name:j.name,ref:p,onCheck:()=>j.onValueChange(h.value),onKeyDown:(0,e.mK)(a=>{"Enter"===a.key&&a.preventDefault()}),onFocus:(0,e.mK)(h.onFocus,()=>{r.current&&n.current?.click()})})})});J.displayName=I;var K=d.forwardRef((a,b)=>{let{__scopeRadioGroup:c,...d}=a,e=E(c);return(0,o.jsx)(w,{...e,...d,ref:b})});K.displayName="RadioGroupIndicator";var L=H,M=J,N=K},67094:(a,b,c)=>{"use strict";c.d(b,{Ke:()=>g,Nt:()=>e,R6:()=>f});var d=c(59147);let e=d.bL,f=d.R6,g=d.Ke},73024:a=>{"use strict";a.exports=require("node:fs")},73136:a=>{"use strict";a.exports=require("node:url")},73450:(a,b,c)=>{Promise.resolve().then(c.bind(c,81378))},73496:a=>{"use strict";a.exports=require("http2")},73566:a=>{"use strict";a.exports=require("worker_threads")},73617:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{"0004c295195cb02aa74b7e03b9ab47835262f651f3":()=>i._u,"00454095f373f8afcf3cd8b88a3e9643ba6181edb6":()=>e.y4,"005773e734ccf3535fa61ed9b34042d47625b1ede6":()=>f.O0,"006a7d18b222ac9fd27f636e3f60be09c88c550762":()=>l.ib,"00afcee30c25fc6521aeaf596fabd0fef5e0ca707f":()=>f.qV,"00b878a0ae60d2d2540f863a4367bd50a6144d83f1":()=>r.P2,"00d790a9c67325f46e1dda5ba33e59ecfd95062466":()=>e.HW,"400839afac1c721e8a0733096582359b8356e40214":()=>r.UB,"400c0115434cd29d4eca4428f9840cb7a074049ed1":()=>n.EZ,"400c84b00cbc18181ec896b17d3329ab44688122ee":()=>q.q,"400e621b7f78c4800cffc85d668ca10cd73eb6853c":()=>g.Lf,"4013135d45b93942093eced825516b1e20941831b7":()=>p.d,"401b140032a44590c12253e287a8d7d0383408525e":()=>h.lc,"40211bb4321aca8530a09b81e44f46cc59da30c2c4":()=>n.KB,"40213622e57351942781ff52345df063ded4056884":()=>e.Sm,"40290c8e8678ea3c7dc08bc14a2b21bf84ced558a3":()=>f.lo,"403331dfc341d9a7f9cbe156b5d10cfd49a20be531":()=>g.d5,"40341251e8d632597ecf83a7ab87f3793a83f06b51":()=>o.r,"4037c6ea7b2487342669aecdc2a7174064cd6c84fe":()=>r.Sw,"403853799c99974381aed2d752ac232c7cabeb7c0b":()=>r.hO,"403921c096e7cdc87c12bd704541e2db9fad4db939":()=>r.j_,"403c01bdb267219d16430eb023611daabec8b63ec8":()=>j.nX,"405181b3416ca6fb6435ab9096a0a68342e5255501":()=>k.u,"405872236907704344162aca1c38160d1eac727fe8":()=>g.DI,"405ce651eeff5dd6c93f3965b62049b45a42e5a7d4":()=>j.LD,"406818275705b776627a9e14558eaa7857fbec9b73":()=>f.ht,"406c8a5fa8b6f219b1d6c0d2ed6d4215e348e5c534":()=>n.Lf,"407ad343a0d07dddd296d749ab0d60ad67dfc5bb39":()=>j.rC,"4085652545b10cc37283ef55992935bd43a8ce947e":()=>g.zZ,"4085aac590f12a4a641b5bc7fff47d5353af49510e":()=>e.S,"408c54ad33973364b68d8475849f76b4a4ca590722":()=>g.EP,"408c94c431661ae65070856bc4a78d84f2cbfcba1c":()=>g.EZ,"408d4523c5fa8dbd353900a15d896d0ebee083358b":()=>e.X7,"40939e0ffddd5729906956a18bd5a10b991b0ccc8b":()=>n.d5,"409ba91156ff082c07d90f218ef67bfea8be50f67c":()=>n.DI,"409ee2d098a25e0103bd4e5cbd3c84c821bce98df9":()=>h.fW,"40b3f399476b2e0c0084bb235048022f7151d8d61a":()=>l.Qt,"40bd3493b6cd183a3f75aa7b2dffe9f325b07a2b9d":()=>i.Xx,"40c15e87ca74d3ad5ae09fdc0c6d9616384469f25f":()=>m._,"40c58d0bc8d4f91d67a942b18e51dcb1bf43076f6e":()=>n.zZ,"40d0448bacb32a373d23394258f9e7de4aa7fd38a9":()=>n.EP,"40d4790cf5bfe15d462399ad8c52d1baec8babf86f":()=>f.nu,"40e13d085ff779b8dfbb82e790ebb21702ce079192":()=>f.Cm,"40e90946cbd69c3cb9caefa3461c5f6eb19e516f47":()=>s.i,"40ef77a697a84cf599002575e6afc4c1de58c3cdab":()=>f.hG,"40f4619201eea9704cbf15357e730e9458fc66e834":()=>g.KB,"40f8aa2891259d90b9487e388b3405df3c3e200aeb":()=>r.hf,"40fb273cfe11e3acbfaa3953430203de2db167f95f":()=>r.Lm,"40fc6757a7ed8ba6cf86a7bf30e6bf0934f153f439":()=>e.Lx,"6011fc1c38056bdf4ffec77b46cde7479e7bed0ffe":()=>j.vL,"601532f3b7a46dae258a5ff32f14fb4b3e2e141e9f":()=>f.TK,"601838acb9f969bfd30fa9f583c86dd453b19524dd":()=>f.v_,"6023146a7bfefc423ba02712c56694a31432de707c":()=>g.zO,"6052254d233f0ea6b36992b2b81ce07178dee95ad7":()=>l.oS,"6073e98acf09f5000817ebcdd05234acc9c4d29f85":()=>h.rj,"60ac99fd5fe70fb62fed80f68193cb25204f5a2c28":()=>r._$,"60e34f9cbe57141cf2262bc166578e2d558a98e99f":()=>n.zO,"60eed12072721bc1c2c48214672b423b5d4cc8a6f3":()=>m.L,"7003bafa516cae88838b2870c227bb8f7b1ef595ec":()=>j.Nb,"70303f32e5ed8b56558bdc328a329d038fd2e61ace":()=>j.I0,"7036a92c4c51de937e481f7c0d6bc541b735f99157":()=>j.k5,"704baf0749912d6e636a66524e43f80ce5c8454d38":()=>j.xo,"709feea95dd92012fa4ddb7ae17c30c3338b04e65a":()=>r.BT,"70a1966b164872145df93c00584df7a0b9768aea98":()=>r.hv,"70a2ee919f2d86ac514a326d140a0804c759a4d955":()=>j.Kq,"7ea99aecbe6da08b740bfa589a23855143625f516a":()=>r.bY,"7efe1f798361b3ef301fd7b48f8f3206292a2cecba":()=>j.AZ,"7f085acd10c7b589563e59e7e18d605a9cf6eb6b56":()=>h.cl,"7f156258846f24d01f7193780d90bff0896769f3dc":()=>r.Ie,"7f29b1f619814d2bb347b7568d9fef0db3672866b7":()=>r.tg,"7f33ef79ae72de1c2db1340cf81f1c0a0a525a8033":()=>e.kl,"7f33fcd02c8b1dfc136d21fd7035ce40fe2d48b135":()=>e.ht,"7f4fa596b78e1050be57bd23eeef63bf754e59a5c8":()=>l.xi,"7f56b7b077f6ef503c674aaefafd2b7951d91adaa8":()=>j.LQ,"7f59f3075656a91b7ed27ed0deb8f239c13fb4a30e":()=>r.cJ,"7f7228b058474be00c09729ab715fa20e010333dfa":()=>r.X4,"7f7cc5ac28f76953e580388c96325185bdb57f592c":()=>e.EZ,"7faf63d9d8686c0ff053833c82fd60b3e9c6fa0bff":()=>e.$T,"7fbd1d6bc63ebe1b1eeb689b35afc9c8cba834559f":()=>j.f9,"7fbd1dd6c8c8f0af7b61f3a67d5d04b01b5dd3fc37":()=>r.GB,"7fc073ecd1a2a3a687a33b240d39c28a9944119247":()=>l.Z7,"7fe3cedf8b5b39f6ca6561f08402f1ad7a82ecff97":()=>i.mt,"7fff34be9ad53d22bcedbe289fd19cffbcbb61a920":()=>j.ro});var e=c(62641),f=c(90521),g=c(95378),h=c(94762),i=c(54756),j=c(24799),k=c(28541),l=c(18210),m=c(87965),n=c(39661),o=c(13732),p=c(40982),q=c(33875),r=c(98411),s=c(2225),t=a([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s]);[e,f,g,h,i,j,k,l,m,n,o,p,q,r,s]=t.then?(await t)():t,d()}catch(a){d(a)}})},74075:a=>{"use strict";a.exports=require("zlib")},74998:a=>{"use strict";a.exports=require("perf_hooks")},75392:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(8808).A)("WalletCards",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2",key:"4125el"}],["path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21",key:"1dpki6"}]])},76760:a=>{"use strict";a.exports=require("node:path")},77030:a=>{"use strict";a.exports=require("node:net")},77598:a=>{"use strict";a.exports=require("node:crypto")},79428:a=>{"use strict";a.exports=require("buffer")},79551:a=>{"use strict";a.exports=require("url")},79646:a=>{"use strict";a.exports=require("child_process")},79748:a=>{"use strict";a.exports=require("fs/promises")},81378:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/subscriptions/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/subscriptions/page.tsx","default")},81630:a=>{"use strict";a.exports=require("http")},81989:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(8808).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},84297:a=>{"use strict";a.exports=require("async_hooks")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},91645:a=>{"use strict";a.exports=require("net")},92080:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(8808).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},94340:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(8808).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},94735:a=>{"use strict";a.exports=require("events")}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[4586,8298,3103,9664,4515,9667,5446,4154,4799,232],()=>b(b.s=40733));module.exports=c})();