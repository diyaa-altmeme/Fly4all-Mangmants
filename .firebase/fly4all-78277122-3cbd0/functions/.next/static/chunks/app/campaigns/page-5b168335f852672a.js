(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{3998:(e,t,s)=>{"use strict";s.d(t,{$:()=>c,r:()=>d});var a=s(95155),r=s(12115),l=s(32467),n=s(83101),i=s(64269);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-bold ring-offset-background transition-transform transform-gpu hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",accent:"bg-accent text-accent-foreground shadow-md hover:bg-accent/90"},size:{default:"h-10 px-4 py-2 [&_svg]:size-4",sm:"h-9 rounded-md px-3 [&_svg]:size-4",lg:"h-11 rounded-lg px-8 [&_svg]:size-5",icon:"h-10 w-10 [&_svg]:size-5"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:c=!1,...o}=e,m=c?l.DX:"button";return(0,a.jsx)(m,{className:(0,i.cn)(d({variant:r,size:n,className:s})),ref:t,...o})});c.displayName="Button"},6259:(e,t,s)=>{"use strict";s.d(t,{M5:()=>x,SQ:()=>p,_2:()=>h,lv:()=>u,mB:()=>g,nV:()=>f,rI:()=>o,ty:()=>m});var a=s(95155),r=s(12115),l=s(47971),n=s(63263),i=s(72251),d=s(75797),c=s(64269);let o=l.bL,m=l.l9;l.YJ,l.ZL;let u=l.Pb;l.z6;let f=r.forwardRef((e,t)=>{let{className:s,inset:r,children:i,...d}=e;return(0,a.jsxs)(l.ZP,{ref:t,className:(0,c.cn)("flex cursor-default gap-2 select-none items-center rounded-md px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...d,children:[(0,a.jsx)(n.A,{className:"mr-auto h-4 w-4"}),i]})});f.displayName=l.ZP.displayName;let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.G5,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})});x.displayName=l.G5.displayName;let p=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:t,sideOffset:r,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});p.displayName=l.UC.displayName;let h=r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(l.q7,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-md px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...n})});h.displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,checked:n,...d}=e;return(0,a.jsxs)(l.H_,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pr-8 pl-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...d,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(l.hN,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pr-8 pl-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(d.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=l.hN.displayName,r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(l.JU,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pr-8",s),...n})}).displayName=l.JU.displayName;let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...r})});g.displayName=l.wv.displayName},11186:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>h,gC:()=>p,l6:()=>o,yv:()=>m});var a=s(95155),r=s(12115),l=s(47887),n=s(59007),i=s(42614),d=s(72251),c=s(64269);let o=l.bL;l.YJ;let m=l.WT,u=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(l.l9,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=l.PP.displayName;let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});x.displayName=l.wn.displayName;let p=r.forwardRef((e,t)=>{let{className:s,children:r,position:n="popper",...i}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...i,children:[(0,a.jsx)(f,{}),(0,a.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(x,{})]})})});p.displayName=l.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.JU,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=l.JU.displayName;let h=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(l.q7,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(l.p4,{children:r})]})});h.displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=l.wv.displayName},11647:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(95155);s(12115);var r=s(83101),l=s(64269);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("span",{className:(0,l.cn)(n({variant:s}),t),...r})}},13406:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>i});var a=s(95155),r=s(12115),l=s(25667),n=s(64269);let i=l.bL,d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.B8,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});d.displayName=l.B8.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});c.displayName=l.l9.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});o.displayName=l.UC.displayName},15894:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var a=s(12115);let r=0,l=new Map,n=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},i=[],d={toasts:[]};function c(e){d=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,3)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(d,e),i.forEach(e=>{e(d)})}function o(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return t.variant||(t.variant="default"),c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=a.useState(d);return a.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},17037:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,F:()=>i});var a=s(95155),r=s(12115),l=s(59034),n=s(64269);let i=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(l.bL,{ref:t,className:(0,n.cn)("relative overflow-hidden",s),...i,children:[(0,a.jsx)(l.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,a.jsx)(d,{}),(0,a.jsx)(l.OK,{})]})});i.displayName=l.bL.displayName;let d=r.forwardRef((e,t)=>{let{className:s,orientation:r="vertical",...i}=e;return(0,a.jsx)(l.VM,{ref:t,orientation:r,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...i,children:(0,a.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})})});d.displayName=l.VM.displayName},20243:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var a=s(95155),r=s(64269);function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...s})}},22022:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ec});var a=s(95155),r=s(12115),l=s(86948),n=s(3998),i=s(58242),d=s(24538),c=s(5418),o=s(59915),m=s(6943),u=s(5351),f=s(92033),x=s(94979),p=s(13406),h=s(42770),g=s(30563),j=s(92273),v=s(87270),N=s(73457),b=s(65142),w=s(53774),y=s(17037),S=s(85897),C=s(42997),R=s(51834),A=s(15894),k=s(90109),I=s(30926);let z=(0,I.createServerReference)("702eed442f1ccbf88d7ae7afd57e907c5a530ad2ed",I.callServer,void 0,I.findSourceMapURL,"addWhatsappGroupParticipant");var L=s(50732);function P(e){let{accountId:t,groupId:s,groupName:l,allContacts:i,children:d}=e,[c,o]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),{toast:x}=(0,A.dj)(),[p,h]=(0,r.useState)(new Set),[g,j]=(0,r.useState)(""),v=(0,L.d)(g,300),w=r.useMemo(()=>v?i.filter(e=>e.name.toLowerCase().includes(v.toLowerCase())||e.id.includes(v)):i,[i,v]),S=e=>{h(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},I=async()=>{if(0===p.size)return void x({title:"لم يتم تحديد أي جهات اتصال",variant:"destructive"});u(!0);let e=0,a=0;for(let r of p){let l=await z(t,s,r);l.success?e++:(a++,x({title:"خطأ في إضافة ".concat(r),description:l.error,variant:"destructive"})),await new Promise(e=>setTimeout(e,300))}u(!1),x({title:"اكتملت العملية",description:"تمت إضافة ".concat(e," أعضاء بنجاح، وفشلت إضافة ").concat(a," أعضاء.")}),o(!1)};return(0,r.useEffect)(()=>{c||(h(new Set),j(""))},[c]),(0,a.jsxs)(R.lG,{open:c,onOpenChange:o,children:[(0,a.jsx)(R.zM,{asChild:!0,children:d}),(0,a.jsxs)(R.Cf,{className:"max-w-md max-h-[80vh] flex flex-col",children:[(0,a.jsxs)(R.c7,{children:[(0,a.jsxs)(R.L3,{children:["إضافة أعضاء إلى: ",l]}),(0,a.jsx)(R.rr,{children:"حدد جهات الاتصال التي ترغب في إضافتها إلى المجموعة."})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(k.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(b.p,{placeholder:"بحث...",value:g,onChange:e=>j(e.target.value),className:"ps-10"})]}),(0,a.jsx)(y.F,{className:"flex-grow border rounded-lg",children:(0,a.jsxs)("div",{className:"p-2 space-y-1",children:[w.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-md hover:bg-muted cursor-pointer",onClick:()=>S(e.id),children:[(0,a.jsx)(N.S,{checked:p.has(e.id),onCheckedChange:()=>S(e.id)}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("p",{className:"font-semibold",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.id.split("@")[0]})]})]},e.id)),0===w.length&&(0,a.jsx)("p",{className:"text-center text-muted-foreground p-4",children:"لا توجد نتائج."})]})}),(0,a.jsx)(R.Es,{children:(0,a.jsxs)(n.$,{onClick:I,disabled:m||0===p.size,children:[m?(0,a.jsx)(f.A,{className:"me-2 h-4 w-4 animate-spin"}):(0,a.jsx)(C.A,{className:"me-2 h-4 w-4"}),"إضافة (",p.size,") أعضاء"]})})]})]})}function T(e){var t,s,l;let{columns:n,data:i,onSelectionChange:d,searchColumn:c,accountId:o,contacts:m}=e,[u,f]=r.useState({}),x=(0,g.N4)({data:i,columns:n,state:{rowSelection:u},meta:{accountId:o,contacts:m},enableRowSelection:!0,onRowSelectionChange:f,getCoreRowModel:(0,j.HT)(),getFilteredRowModel:(0,j.hM)(),getPaginationRowModel:(0,j.kW)()});return r.useEffect(()=>{d(x.getFilteredSelectedRowModel().rows.map(e=>e.original))},[u,d,x]),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(b.p,{placeholder:"بحث...",value:null!=(l=null==(t=x.getColumn(c))?void 0:t.getFilterValue())?l:"",onChange:e=>{var t;return null==(t=x.getColumn(c))?void 0:t.setFilterValue(e.target.value)},className:"max-w-sm"}),(0,a.jsx)(y.F,{className:"h-[400px] rounded-md border",children:(0,a.jsxs)(v.XI,{children:[(0,a.jsx)(v.A0,{children:x.getHeaderGroups().map(e=>(0,a.jsx)(v.Hj,{children:e.headers.map(e=>(0,a.jsx)(v.nd,{children:e.isPlaceholder?null:(0,g.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)(v.BF,{children:(null==(s=x.getRowModel().rows)?void 0:s.length)?x.getRowModel().rows.map(e=>(0,a.jsx)(v.Hj,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,a.jsx)(v.nA,{children:(0,g.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)(v.Hj,{children:(0,a.jsx)(v.nA,{colSpan:n.length,className:"h-24 text-center",children:"لا توجد نتائج."})})})]})}),(0,a.jsx)(w.T,{table:x})]})}let M=[{id:"select",header:e=>{let{table:t}=e;return(0,a.jsx)(N.S,{checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>t.toggleAllPageRowsSelected(!!e),"aria-label":"Select all"})},cell:e=>{let{row:t}=e;return(0,a.jsx)(N.S,{checked:t.getIsSelected(),onCheckedChange:e=>t.toggleSelected(!!e),"aria-label":"Select row"})}},{accessorKey:"name",header:"الاسم",cell:e=>{let{row:t}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(S.eu,{className:"h-9 w-9",children:[(0,a.jsx)(S.BK,{src:void 0,alt:t.original.name}),(0,a.jsx)(S.q5,{children:t.original.name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:t.original.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground font-mono",children:t.original.id.split("@")[0]})]})]})}}],_=[{id:"select",header:e=>{let{table:t}=e;return(0,a.jsx)(N.S,{checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>t.toggleAllPageRowsSelected(!!e),"aria-label":"Select all"})},cell:e=>{let{row:t}=e;return(0,a.jsx)(N.S,{checked:t.getIsSelected(),onCheckedChange:e=>t.toggleSelected(!!e),"aria-label":"Select row"})}},{accessorKey:"name",header:"اسم المجموعة",cell:e=>{let{row:t}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(S.eu,{className:"h-9 w-9 bg-muted",children:(0,a.jsx)(S.q5,{children:(0,a.jsx)(m.A,{className:"h-5 w-5 text-muted-foreground"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:t.original.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t.original.id.split("@")[0]})]})]})}},{accessorKey:"participantsCount",header:"عدد الأعضاء",cell:e=>{let{row:t}=e;return(0,a.jsx)("span",{className:"font-semibold",children:t.original.participantsCount||0})}},{id:"actions",header:"إجراءات",cell:e=>{let{row:t,table:s}=e,{accountId:r,contacts:l}=s.options.meta,i=t.original;return i.iAmAdmin?(0,a.jsx)(P,{accountId:r,groupId:i.id,groupName:i.name,allContacts:l||[],children:(0,a.jsxs)(n.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(C.A,{className:"me-2 h-4 w-4"}),"إضافة أعضاء"]})}):null}}],F=[{id:"select",header:e=>{let{table:t}=e;return(0,a.jsx)(N.S,{checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>t.toggleAllPageRowsSelected(!!e),"aria-label":"Select all"})},cell:e=>{let{row:t}=e;return(0,a.jsx)(N.S,{checked:t.getIsSelected(),onCheckedChange:e=>t.toggleSelected(!!e),"aria-label":"Select row"})}},{accessorKey:"name",header:"اسم العضو",cell:e=>{let{row:t}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(S.eu,{className:"h-9 w-9",children:[(0,a.jsx)(S.BK,{src:void 0,alt:t.original.name}),(0,a.jsx)(S.q5,{children:t.original.name?t.original.name.charAt(0):"U"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:t.original.name||"غير معروف"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground font-mono",children:t.original.id.split("@")[0]})]})]})}}];function E(e){let{contacts:t,groups:s,groupParticipants:r,onSelectedContactsChange:n,onSelectedGroupsChange:i,onSelectedParticipantsChange:d,isLoading:c,accountId:o}=e;return(0,a.jsx)(l.Zp,{className:"h-full",children:(0,a.jsx)(l.Wu,{className:"space-y-4 pt-6",children:(0,a.jsxs)(p.tU,{defaultValue:"contacts",children:[(0,a.jsxs)(p.j7,{className:"grid w-full grid-cols-3",children:[(0,a.jsxs)(p.Xi,{value:"contacts",children:[(0,a.jsx)(h.A,{className:"me-2 h-4 w-4"}),"جهات الاتصال"]}),(0,a.jsxs)(p.Xi,{value:"groups",children:[(0,a.jsx)(m.A,{className:"me-2 h-4 w-4"}),"المجموعات"]}),(0,a.jsxs)(p.Xi,{value:"participants",children:[(0,a.jsx)(u.A,{className:"me-2 h-4 w-4"}),"أعضاء المجموعات"]})]}),(0,a.jsx)(p.av,{value:"contacts",className:"mt-4",children:c?(0,a.jsx)("div",{className:"flex justify-center p-8",children:(0,a.jsx)(f.A,{className:"animate-spin"})}):(0,a.jsx)(T,{columns:M,data:t,onSelectionChange:n,searchColumn:"name"})}),(0,a.jsx)(p.av,{value:"groups",className:"mt-4",children:c?(0,a.jsx)("div",{className:"flex justify-center p-8",children:(0,a.jsx)(f.A,{className:"animate-spin"})}):(0,a.jsx)(T,{columns:_,data:s,onSelectionChange:i,searchColumn:"name",accountId:o,contacts:t})}),(0,a.jsx)(p.av,{value:"participants",className:"mt-4",children:c?(0,a.jsx)("div",{className:"flex justify-center p-8",children:(0,a.jsx)(f.A,{className:"animate-spin"})}):(0,a.jsx)(T,{columns:F,data:r,onSelectionChange:d,searchColumn:"name"})})]})})})}var U=s(31120),D=s(76444),O=s(47931),B=s(26615),V=s(58772),W=s(11636),Z=s(15239);function $(e){let{message:t,onMessageChange:s,attachment:i,onAttachmentChange:d,footerActions:c}=e,o=(0,r.useCallback)(e=>{e.length>0&&d(e[0])},[d]),{getRootProps:m,getInputProps:u}=(0,W.VB)({onDrop:o,maxFiles:1,accept:{"image/*":[".jpeg",".png",".jpg",".gif"],"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]}}),f=i?URL.createObjectURL(i):null;return(0,a.jsxs)(l.Zp,{className:"sticky top-24",children:[(0,a.jsxs)(l.Wu,{className:"space-y-4 pt-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.J,{htmlFor:"message",children:"نص الرسالة"}),(0,a.jsx)(U.T,{id:"message",rows:12,placeholder:"استخدم *للنص العريض* و _للنص المائل_.",value:t,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(D.J,{children:"المرفق (صورة أو PDF)"}),i?(0,a.jsxs)("div",{className:"relative p-2 border rounded-lg w-fit",children:[i.type.startsWith("image/")?(0,a.jsx)(Z.default,{src:f,alt:"Preview",width:100,height:100,className:"rounded-md object-cover"}):(0,a.jsxs)("div",{className:"flex items-center gap-2 p-4",children:[(0,a.jsx)(O.A,{className:"h-10 w-10 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:i.name})]}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/80",onClick:()=>d(null),children:(0,a.jsx)(B.A,{className:"h-4 w-4"})})]}):(0,a.jsxs)("div",{...m(),className:"border-2 border-dashed rounded-lg p-10 text-center cursor-pointer flex flex-col justify-center items-center hover:border-primary transition-colors",children:[(0,a.jsx)("input",{...u()}),(0,a.jsx)(V.A,{className:"h-8 w-8 text-muted-foreground"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"اسحب وأفلت الملف هنا أو انقر للاختيار (صورة، PDF، ...)"})]})]})]}),c&&(0,a.jsx)(l.wL,{children:c})]})}var J=s(65006),G=s(52514);let q=(0,I.createServerReference)("406c682028bb61084120ebd0c90b571b5064b14b7b",I.callServer,void 0,I.findSourceMapURL,"getWhatsappAccountStatus"),H=(0,I.createServerReference)("406f8f90a318c63d61893a0c788be56cb2f100177a",I.callServer,void 0,I.findSourceMapURL,"getWhatsappContacts"),K=(0,I.createServerReference)("40168ae185353c0a082b43ec98457e95202a0a0e4f",I.callServer,void 0,I.findSourceMapURL,"getWhatsappGroups"),X=(0,I.createServerReference)("6061cd2d52d140d7a5c191088a23243c3222ad0e9f",I.callServer,void 0,I.findSourceMapURL,"getWhatsappGroupParticipants"),Y=(0,I.createServerReference)("4087f2ccff02167c3dc16d916d1c60100bc0c09d05",I.callServer,void 0,I.findSourceMapURL,"sendWhatsappMessage");var Q=s(64269),ee=s(11647),et=s(20243),es=s(46767),ea=s(80991);function er(e){let{accountId:t,groups:s}=e,[l,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),{toast:o}=(0,A.dj)(),[m,u]=(0,r.useState)(""),x=async()=>{if(!m)return void o({title:"الرجاء إدخال رقم الهاتف",variant:"destructive"});let e="".concat(m,"@c.us");c(!0),o({title:"جاري إضافة العضو...",description:"سيتم محاولة إضافة الرقم إلى ".concat(s.length," مجموعة.")});let a=0,r=0;for(let l of s){let s=await z(t,l.id,e);s.success?a++:(r++,console.error("Failed to add to ".concat(l.name,": ").concat(s.error))),await new Promise(e=>setTimeout(e,200))}c(!1),o({title:"اكتملت العملية",description:"تمت الإضافة بنجاح إلى ".concat(a," مجموعة، وفشلت في ").concat(r," مجموعة.")}),i(!1),u("")};return(0,a.jsxs)(R.lG,{open:l,onOpenChange:i,children:[(0,a.jsx)(R.zM,{asChild:!0,children:(0,a.jsxs)(n.$,{variant:"outline",children:[(0,a.jsx)(C.A,{className:"me-2 h-4 w-4"}),"إضافة عضو للمجموعات"]})}),(0,a.jsxs)(R.Cf,{className:"sm:max-w-md",children:[(0,a.jsxs)(R.c7,{children:[(0,a.jsx)(R.L3,{children:"إضافة عضو لكل المجموعات"}),(0,a.jsx)(R.rr,{children:"أدخل رقم الهاتف وسيتم محاولة إضافته لكل المجموعات التي أنت مشرف عليها."})]}),(0,a.jsxs)("div",{className:"py-4 space-y-2",children:[(0,a.jsx)(D.J,{htmlFor:"phone",children:"رقم الهاتف (مع كود البلد)"}),(0,a.jsx)(b.p,{id:"phone",placeholder:"مثال: 9647712345678",value:m,onChange:e=>u(e.target.value)})]}),(0,a.jsx)(R.Es,{children:(0,a.jsxs)(n.$,{onClick:x,disabled:d||!m||0===s.length,children:[d?(0,a.jsx)(f.A,{className:"me-2 h-4 w-4 animate-spin"}):(0,a.jsx)(C.A,{className:"me-2 h-4 w-4"}),"إضافة إلى (",s.length,") مجموعات"]})})]})]})}let el={connected:{label:"متصل",color:"bg-green-500"},authorized:{label:"متصل",color:"bg-green-500"},"got qr code":{label:"يحتاج مسح QR",color:"bg-yellow-500"},notAuthorized:{label:"يحتاج مسح QR",color:"bg-yellow-500"},error:{label:"خطأ بالاتصال",color:"bg-red-500"},loading:{label:"جاري المزامنة...",color:"bg-gray-400 animate-pulse"}},en=e=>{var t,s,r,n,o,m,u;let{account:f,onClick:x,isSelected:p}=e,h=el[(null==(t=f.status)?void 0:t.status)||"error"]||{label:"غير معروف",color:"bg-gray-500"},g=(null==(s=f.status)?void 0:s.name)||f.name,j=(null==g?void 0:g.charAt(0).toUpperCase())||"U";return(0,a.jsx)(l.Zp,{id:"account-card-".concat(f.id),onClick:x,className:(0,Q.cn)("cursor-pointer transition-all hover:shadow-md shrink-0 w-64 border-2",p?"bg-primary/10 border-primary":"border-transparent"),children:(0,a.jsxs)(l.Wu,{className:"flex flex-col gap-3 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(S.eu,{className:"h-14 w-14 border",children:[(0,a.jsx)(S.BK,{src:(null==(r=f.status)?void 0:r.profile_picture)||(null==(n=f.status)?void 0:n.urlAvatar),alt:g}),(0,a.jsx)(S.q5,{children:j})]}),(0,a.jsx)("span",{className:(0,Q.cn)("absolute bottom-0 right-0 block h-3.5 w-3.5 rounded-full border-2 border-background",h.color)})]}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("p",{className:"font-bold",children:g}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:h.label})]})]}),(null==(o=f.status)?void 0:o.status)==="connected"&&(0,a.jsx)("div",{className:"flex items-center justify-between text-xs text-muted-foreground border-t pt-2 mt-2",children:(0,a.jsxs)(es.Bc,{children:[(0,a.jsxs)(es.m_,{children:[(0,a.jsx)(es.k$,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[f.status.battery_charging?(0,a.jsx)(i.A,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(d.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[f.status.battery||"N/A","%"]})]})}),(0,a.jsx)(es.ZI,{children:(0,a.jsx)("p",{children:"مستوى البطارية"})})]}),(0,a.jsxs)(es.m_,{children:[(0,a.jsx)(es.k$,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:f.status.wa_version})]})}),(0,a.jsx)(es.ZI,{children:(0,a.jsx)("p",{children:"إصدار واتساب"})})]}),(0,a.jsxs)(es.m_,{children:[(0,a.jsx)(es.k$,{children:(0,a.jsx)(ee.E,{variant:"outline",children:f.status.is_business?"حساب أعمال":"حساب شخصي"})}),(0,a.jsx)(es.ZI,{children:(0,a.jsx)("p",{children:"نوع الحساب"})})]})]})}),(null==(m=f.status)?void 0:m.status)==="got qr code"&&(null==(u=f.status)?void 0:u.qrCode)&&(0,a.jsx)("div",{className:"p-2 bg-white rounded-md",children:(0,a.jsx)(Z.default,{src:f.status.qrCode,alt:"QR Code",width:150,height:150,className:"mx-auto"})})]})})},ei=e=>{let{icon:t,title:s,value:r}=e;return(0,a.jsxs)("div",{className:"p-4 rounded-lg flex items-center gap-4 bg-muted/50",children:[(0,a.jsx)(t,{className:"h-8 w-8 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:s}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:r})]})]})},ed=e=>{let{open:t,state:s}=e;return(0,a.jsx)(R.lG,{open:t,children:(0,a.jsxs)(R.Cf,{showCloseButton:!s.isSending,children:[(0,a.jsxs)(R.c7,{children:[(0,a.jsx)(R.L3,{children:"جاري إرسال الحملة..."}),(0,a.jsx)(R.rr,{children:"يرجى الانتظار حتى تكتمل عملية الإرسال. لا تقم بإغلاق هذه الصفحة."})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsx)(ea.k,{value:s.progress,className:"w-full"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm font-medium",children:[(0,a.jsxs)("span",{children:["المرسل: ",s.sent," / ",s.total]}),(0,a.jsxs)("span",{children:["الفاشل: ",s.failed]})]})]})]})})};function ec(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(""),[d,c]=(0,r.useState)([]),[p,h]=(0,r.useState)([]),[g,j]=(0,r.useState)([]),[v,N]=(0,r.useState)(!0),[b,w]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),[R,k]=(0,r.useState)(!1),[I,z]=(0,r.useState)([]),[L,P]=(0,r.useState)([]),[T,M]=(0,r.useState)([]),[_,F]=(0,r.useState)(""),[U,D]=(0,r.useState)(null),[O,B]=(0,r.useState)({total:0,sent:0,failed:0,progress:0,isSending:!1}),{toast:V}=(0,A.dj)(),W=(0,r.useRef)(null),Z=(0,r.useCallback)(async()=>{N(!0);try{let e=await (0,G.f)();if(e.success&&e.accounts){let s=e.accounts.map(e=>({...e,status:{status:"loading",message:"جاري المزامنة..."}}));t(s);let a=await Promise.all(e.accounts.map(async e=>({...e,status:await q(e.id)})));t(a);let r=a.find(e=>e.isDefault&&es(e.status));if(r)i(r.id);else{let e=a.find(e=>es(e.status));e&&i(e.id)}}else V({title:"خطأ",description:e.error,variant:"destructive"})}catch(e){V({title:"خطأ",description:e.message,variant:"destructive"})}N(!1)},[V]);(0,r.useEffect)(()=>{Z()},[Z]),(0,r.useEffect)(()=>{if(!s){c([]),h([]),j([]);return}let e=async()=>{w(!0),C(!0);try{let[e,t]=await Promise.all([H(s),K(s)]);return c(e),h(t),t}catch(e){return V({title:"خطأ في جلب البيانات",description:e.message||"فشل تحميل جهات الاتصال والمجموعات.",variant:"destructive"}),[]}finally{w(!1),C(!1)}},t=async e=>{k(!0);let t=[],a=new Set;for(let r of e)if(r.iAmAdmin){try{(await X(s,r.id)).forEach(e=>{e.id&&!a.has(e.id)&&(t.push(e),a.add(e.id))})}catch(e){console.warn("Failed to fetch participants for group ".concat(r.name,":"),e)}await new Promise(e=>setTimeout(e,200))}j(t),k(!1)};(async()=>{let s=await e();s.length>0&&await t(s)})()},[s,V]);let Q=async()=>{let e,t=Array.from(new Set([...I.map(e=>e.id),...L.map(e=>e.id),...T.map(e=>e.id)]));if(0===t.length)return void V({title:"لم يتم تحديد مستلمين",variant:"destructive"});U&&(e={dataUri:await new Promise((e,t)=>{let s=new FileReader;s.onload=()=>e(s.result),s.onerror=t,s.readAsDataURL(U)}),filename:U.name}),B({total:t.length,sent:0,failed:0,progress:0,isSending:!0});try{for(let a=0;a<t.length;a++){let r=t[a],l=await Y({accountId:s,recipients:[r],message:_,attachment:e});B(e=>{let t=e.sent+ +!!l[0].success,s=e.failed+ +!l[0].success;return{...e,sent:t,failed:s,progress:(t+s)/e.total*100}})}V({title:"اكتملت الحملة",description:"تم إرسال ".concat(O.sent," رسالة بنجاح، وفشل إرسال ").concat(O.failed," رسالة.")})}catch(e){V({title:"خطأ فادح في الإرسال",description:e.message,variant:"destructive"})}finally{B(e=>({...e,isSending:!1}))}},ee=new Set([...I.map(e=>e.id),...L.map(e=>e.id),...T.map(e=>e.id)]).size,es=e=>!!e&&("connected"===e.status||"authorized"===e.status);return(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)(ed,{open:O.isSending,state:O}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[(0,a.jsxs)(l.Zp,{className:"h-full lg:col-span-1",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{className:"font-bold",children:"الحسابات المرسلة"}),(0,a.jsx)(l.BT,{children:"اختر الحساب الذي تريد الإرسال منه."})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)(y.F,{className:"w-full",ref:W,children:[(0,a.jsx)("div",{className:"flex gap-4 pb-4",children:v?[void 0,void 0].map((e,t)=>(0,a.jsx)(et.E,{className:"w-64 h-32 shrink-0"},t)):e.map(e=>(0,a.jsx)(en,{account:e,onClick:()=>es(e.status)&&(e=>{i(e);let t=document.getElementById("account-card-".concat(e));if(t&&W.current){let e=W.current,s=t.offsetLeft-e.offsetWidth/2+t.offsetWidth/2;e.scrollTo({left:s,behavior:"smooth"})}})(e.id),isSelected:s===e.id},e.id))}),(0,a.jsx)(y.$,{orientation:"horizontal"})]})})]}),(0,a.jsxs)(l.Zp,{className:"h-full lg:col-span-2",children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(l.ZB,{className:"font-bold",children:"تقارير الحملات"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(er,{accountId:s,groups:p.filter(e=>e.iAmAdmin)}),(0,a.jsxs)(n.$,{variant:"outline",className:"justify-center",children:[(0,a.jsx)(o.A,{className:"me-2 h-4 w-4"})," سجل الحملات"]}),(0,a.jsx)(J.A,{onSaveSuccess:Z})]})]})}),(0,a.jsxs)(l.Wu,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(ei,{icon:m.A,title:"إلى المجموعات",value:L.length}),(0,a.jsx)(ei,{icon:u.A,title:"إلى جهات الاتصال",value:I.length+T.length})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr,400px] gap-6 items-start",children:[s?(0,a.jsx)(E,{contacts:d,groups:p,groupParticipants:g,onSelectedContactsChange:z,onSelectedGroupsChange:P,onSelectedParticipantsChange:M,isLoading:b||S||R,accountId:s}):(0,a.jsx)(l.Zp,{className:"h-full flex items-center justify-center text-center",children:(0,a.jsx)(l.Wu,{className:"pt-6",children:(0,a.jsx)("p",{className:"font-bold",children:"الرجاء اختيار حساب واتساب متصل للمتابعة."})})}),(0,a.jsx)($,{message:_,onMessageChange:F,attachment:U,onAttachmentChange:D,footerActions:(0,a.jsxs)(n.$,{size:"lg",onClick:Q,disabled:O.isSending||!_||0===ee,className:"w-full",children:[O.isSending?(0,a.jsx)(f.A,{className:"me-2 h-4 w-4 animate-spin"}):(0,a.jsx)(x.A,{className:"me-2 h-5 w-5"}),"إرسال إلى (",ee,")"]})})]})]})}},26385:(e,t,s)=>{Promise.resolve().then(s.bind(s,22022))},31120:(e,t,s)=>{"use strict";s.d(t,{T:()=>n});var a=s(95155),r=s(12115),l=s(64269);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});n.displayName="Textarea"},41052:(e,t,s)=>{"use strict";s.d(t,{C5:()=>j,MJ:()=>h,Rr:()=>g,eI:()=>x,lR:()=>p,lV:()=>c,zB:()=>m});var a=s(95155),r=s(12115),l=s(32467),n=s(22544),i=s(64269),d=s(76444);let c=n.Op,o=r.createContext({}),m=e=>{let{...t}=e;return(0,a.jsx)(o.Provider,{value:{name:t.name},children:(0,a.jsx)(n.xI,{...t})})},u=()=>{let e=r.useContext(o),t=r.useContext(f),{getFieldState:s,formState:a}=(0,n.xW)(),l=s(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...l}},f=r.createContext({}),x=r.forwardRef((e,t)=>{let{className:s,...l}=e,n=r.useId();return(0,a.jsx)(f.Provider,{value:{id:n},children:(0,a.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",s),...l})})});x.displayName="FormItem";let p=r.forwardRef((e,t)=>{let{className:s,...r}=e,{error:l,formItemId:n}=u();return(0,a.jsx)(d.J,{ref:t,className:(0,i.cn)(l&&"text-destructive",s),htmlFor:n,...r})});p.displayName="FormLabel";let h=r.forwardRef((e,t)=>{let{...s}=e,{error:r,formItemId:n,formDescriptionId:i,formMessageId:d}=u();return(0,a.jsx)(l.DX,{ref:t,id:n,"aria-describedby":r?"".concat(i," ").concat(d):"".concat(i),"aria-invalid":!!r,...s})});h.displayName="FormControl";let g=r.forwardRef((e,t)=>{let{className:s,...r}=e,{formDescriptionId:l}=u();return(0,a.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});g.displayName="FormDescription";let j=r.forwardRef((e,t)=>{var s;let{className:r,children:l,...n}=e,{error:d,formMessageId:c}=u(),o=d?String(null!=(s=null==d?void 0:d.message)?s:""):l;return o?(0,a.jsx)("p",{ref:t,id:c,className:(0,i.cn)("text-sm font-medium text-destructive",r),...n,children:o}):null});j.displayName="FormMessage"},44846:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});var a=s(95155),r=s(12115),l=s(27599),n=s(64269);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.bL,{className:(0,n.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:(0,a.jsx)(l.zi,{className:(0,n.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 rtl:data-[state=checked]:-translate-x-4 rtl:data-[state=unchecked]:-translate-x-0")})})});i.displayName=l.bL.displayName},46767:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>i,ZI:()=>o,k$:()=>c,m_:()=>d});var a=s(95155),r=s(12115),l=s(47520),n=s(64269);let i=l.Kq,d=l.bL,c=l.l9,o=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...i}=e;return(0,a.jsx)(l.UC,{ref:t,sideOffset:r,className:(0,n.cn)("z-50 whitespace-nowrap rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})});o.displayName=l.UC.displayName},50732:(e,t,s)=>{"use strict";s.d(t,{d:()=>r});var a=s(12115);function r(e,t){let[s,r]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),s}},51834:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>f,Es:()=>p,HM:()=>m,L3:()=>h,c7:()=>x,lG:()=>d,rr:()=>g,zM:()=>c});var a=s(95155),r=s(12115),l=s(89511),n=s(26615),i=s(64269);let d=l.bL,c=l.l9,o=l.ZL,m=l.bm,u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});u.displayName=l.hJ.displayName;let f=r.forwardRef((e,t)=>{let{className:s,children:r,showCloseButton:d=!0,...c}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(l.UC,{ref:t,className:(0,i.cn)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),onOpenAutoFocus:e=>e.preventDefault(),...c,children:[r,d&&(0,a.jsxs)(l.bm,{className:"absolute left-4 top-4 rounded-full p-1.5 opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground bg-muted hover:bg-muted/80",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=l.UC.displayName;let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-right",t),...s})};x.displayName="DialogHeader";let p=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 rtl:space-x-reverse",t),...s})};p.displayName="DialogFooter";let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});h.displayName=l.hE.displayName;let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});g.displayName=l.VY.displayName},52514:(e,t,s)=>{"use strict";s.d(t,{f:()=>r});var a=s(30926);let r=(0,a.createServerReference)("009987d8158f99de874014e543c2eb4bd257578535",a.callServer,void 0,a.findSourceMapURL,"getWhatsappAccounts")},53774:(e,t,s)=>{"use strict";s.d(t,{T:()=>u});var a=s(95155),r=s(17878),l=s(63263),n=s(51190),i=s(39285),d=s(64269),c=s(3998),o=s(11186),m=s(20063);function u(e){let{table:t,className:s,totalRows:u}=e,f=(0,m.useRouter)(),x=(0,m.usePathname)(),p=(0,m.useSearchParams)(),h=void 0!==u,g=t.getState().pagination.pageIndex,j=t.getState().pagination.pageSize,v=h?Math.ceil(u/j):t.getPageCount(),N=h?g>0:t.getCanPreviousPage();h||t.getCanNextPage();let b=h?e=>{let t=new URLSearchParams(p.toString());t.set("page",(e+1).toString()),f.push("".concat(x,"?").concat(t.toString()))}:t.setPageIndex;return(0,a.jsxs)("div",{className:(0,d.cn)("flex flex-col-reverse items-center justify-between gap-4 sm:flex-row sm:gap-6 lg:gap-8",s),children:[(0,a.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[t.getFilteredSelectedRowModel().rows.length," من"," ",h?u:t.getFilteredRowModel().rows.length," صفوف مختارة."]}),(0,a.jsxs)("div",{className:"flex flex-col-reverse items-center gap-4 sm:flex-row sm:gap-6 lg:gap-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"صفوف لكل صفحة"}),(0,a.jsxs)(o.l6,{value:"".concat(j),onValueChange:e=>{var s;s=Number(e),h?(e=>{let t=new URLSearchParams(p.toString());t.set("limit",e.toString()),t.set("page","1"),f.push("".concat(x,"?").concat(t.toString()))})(s):t.setPageSize(s)},children:[(0,a.jsx)(o.bq,{className:"h-8 w-[70px]",children:(0,a.jsx)(o.yv,{placeholder:j})}),(0,a.jsx)(o.gC,{side:"top",children:[5,10,15,20,30,50].map(e=>(0,a.jsx)(o.eb,{value:"".concat(e),children:e},e))})]})]}),(0,a.jsxs)("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["صفحة ",g+1," من"," ",v]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsxs)(c.$,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>b(0),disabled:!N,children:[(0,a.jsx)("span",{className:"sr-only",children:"Go to first page"}),(0,a.jsx)(r.A,{className:"h-4 w-4"})]}),(0,a.jsxs)(c.$,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,a.jsx)(l.A,{className:"h-4 w-4"})]}),(0,a.jsxs)(c.$,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,a.jsx)(n.A,{className:"h-4 w-4"})]}),(0,a.jsxs)(c.$,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>t.setPageIndex(t.getPageCount()-1),disabled:!t.getCanNextPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:"Go to last page"}),(0,a.jsx)(i.A,{className:"h-4 w-4"})]})]})]})]})}},64269:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l,pY:()=>n});var a=s(2821),r=s(75889);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}let n=(e,t,s,a)=>{let r={};return Object.keys(e).map(e=>e.toLowerCase().trim()),s.forEach(t=>{let s,l=null==a?void 0:a[t.id],n=(t.aliases||(null==l?void 0:l.aliases)||[t.label]).map(e=>e.toLowerCase().trim()),i=Array.from(new Set([t.id,t.label,...n].map(e=>e.toLowerCase().trim()))),d=Object.keys(e).find(e=>i.includes(e.toLowerCase().trim()));d&&(s=e[d]),null==s||""===String(s).trim()?r[t.id]=void 0!==t.defaultValue?t.defaultValue:"number"===t.dataType?0:"":"number"===t.dataType?r[t.id]=parseFloat(String(s).trim().replace(/,/g,""))||0:r[t.id]=String(s).trim()}),r}},65006:(e,t,s)=>{"use strict";s.d(t,{A:()=>_});var a=s(95155),r=s(12115),l=s(3998),n=s(51834),i=s(45444),d=s(86948),c=s(22452),o=s(92033),m=s(28263),u=s(88964),f=s(13630),x=s(15894),p=s(73180),h=s(22544),g=s(54879),j=s(66942),v=s(41052),N=s(65142),b=s(44846),w=s(30926);let y=(0,w.createServerReference)("60ab3d606e7fd8fc4042d526bde8444e0d642058ea",w.callServer,void 0,w.findSourceMapURL,"updateWhatsappAccount"),S=(0,w.createServerReference)("40084f2c4ea3e6de914d9ccec37e1cc9e6c948440a",w.callServer,void 0,w.findSourceMapURL,"addWhatsappAccount");var C=s(11186);let R=g.Ik({name:g.Yj().min(2,"اسم الحساب مطلوب."),provider:g.k5(["ultramsg","green-api"]).default("ultramsg"),idInstance:g.Yj().min(5,"معرف النسخة مطلوب."),apiTokenInstance:g.Yj().min(10,"التوكن مطلوب."),isDefault:g.zM().default(!1)});function A(e){let{isEditing:t=!1,account:s,onSaveSuccess:i,children:d}=e,[c,m]=(0,r.useState)(!1),{toast:u}=(0,x.dj)(),f=(0,h.mN)({resolver:(0,j.u)(R),defaultValues:t&&s?s:{name:"",provider:"ultramsg",idInstance:"",apiTokenInstance:"",isDefault:!1}}),{isSubmitting:g}=f.formState,w=async e=>{try{let a;if((a=t&&s?await y(s.id,e):await S(e)).success)u({title:"تم ".concat(t?"تحديث":"إضافة"," الحساب بنجاح")}),i(),m(!1);else throw Error(a.error)}catch(e){u({title:"خطأ",description:e.message,variant:"destructive"})}};return(0,a.jsxs)(n.lG,{open:c,onOpenChange:m,children:[(0,a.jsx)(n.zM,{asChild:!0,children:d}),(0,a.jsx)(n.Cf,{className:"sm:max-w-md",children:(0,a.jsx)(v.lV,{...f,children:(0,a.jsxs)("form",{onSubmit:f.handleSubmit(w),children:[(0,a.jsxs)(n.c7,{children:[(0,a.jsx)(n.L3,{children:t?"تعديل حساب":"إضافة حساب جديد"}),(0,a.jsx)(n.rr,{children:"أدخل بيانات حساب WhatsApp الخاص بك."})]}),(0,a.jsxs)("div",{className:"py-4 grid gap-4",children:[(0,a.jsx)(v.zB,{control:f.control,name:"provider",render:e=>{let{field:t}=e;return(0,a.jsxs)(v.eI,{children:[(0,a.jsx)(v.lR,{children:"مزود الخدمة"}),(0,a.jsxs)(C.l6,{onValueChange:t.onChange,value:t.value,children:[(0,a.jsx)(v.MJ,{children:(0,a.jsx)(C.bq,{children:(0,a.jsx)(C.yv,{})})}),(0,a.jsxs)(C.gC,{children:[(0,a.jsx)(C.eb,{value:"ultramsg",children:"ultramsg.com"}),(0,a.jsx)(C.eb,{value:"green-api",children:"green-api.com"})]})]}),(0,a.jsx)(v.C5,{})]})}}),(0,a.jsx)(v.zB,{control:f.control,name:"name",render:e=>{let{field:t}=e;return(0,a.jsxs)(v.eI,{children:[(0,a.jsx)(v.lR,{children:"الاسم المميز للحساب"}),(0,a.jsx)(v.MJ,{children:(0,a.jsx)(N.p,{...t,placeholder:"مثال: حساب الشركة الرئيسي"})}),(0,a.jsx)(v.C5,{})]})}}),(0,a.jsx)(v.zB,{control:f.control,name:"idInstance",render:e=>{let{field:t}=e;return(0,a.jsxs)(v.eI,{children:[(0,a.jsx)(v.lR,{children:"Instance ID"}),(0,a.jsx)(v.MJ,{children:(0,a.jsx)(N.p,{...t})}),(0,a.jsx)(v.C5,{})]})}}),(0,a.jsx)(v.zB,{control:f.control,name:"apiTokenInstance",render:e=>{let{field:t}=e;return(0,a.jsxs)(v.eI,{children:[(0,a.jsx)(v.lR,{children:"Token"}),(0,a.jsx)(v.MJ,{children:(0,a.jsx)(N.p,{type:"password",...t})}),(0,a.jsx)(v.C5,{})]})}}),(0,a.jsx)(v.zB,{control:f.control,name:"isDefault",render:e=>{let{field:t}=e;return(0,a.jsxs)(v.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,a.jsx)(v.lR,{children:"تعيين كافتراضي"}),(0,a.jsx)(v.MJ,{children:(0,a.jsx)(b.d,{checked:t.value,onCheckedChange:t.onChange})})]})}})]}),(0,a.jsx)(n.Es,{children:(0,a.jsxs)(l.$,{type:"submit",disabled:g,children:[g?(0,a.jsx)(o.A,{className:"me-2 h-4 w-4 animate-spin"}):(0,a.jsx)(p.A,{className:"me-2 h-4 w-4"}),t?"حفظ التعديلات":"إضافة الحساب"]})})]})})})]})}var k=s(52514);let I=(0,w.createServerReference)("40bebf67ac032a6829a4f046709f724a00a4f8d315",w.callServer,void 0,w.findSourceMapURL,"deleteWhatsappAccount");var z=s(6259),L=s(98053),P=s(64269),T=s(11647);function M(e){let{onSaveSuccess:t}=e,[s,n]=(0,r.useState)([]),[i,p]=(0,r.useState)(!0),{toast:h}=(0,x.dj)(),g=(0,r.useCallback)(async()=>{p(!0);let e=await (0,k.f)();e.success&&e.accounts?n(e.accounts):h({title:"خطأ",description:e.error,variant:"destructive"}),p(!1)},[h]);(0,r.useEffect)(()=>{g()},[g]);let j=()=>{g(),t()},v=async e=>{let t=await I(e);t.success?(h({title:"تم حذف الحساب بنجاح"}),j()):h({title:"خطأ",description:t.error,variant:"destructive"})};return(0,a.jsxs)(d.Zp,{className:"border-none shadow-none",children:[(0,a.jsxs)(d.aR,{className:"flex flex-row justify-between items-start px-0",children:[(0,a.jsx)("div",{children:(0,a.jsx)(d.ZB,{className:"text-lg",children:"حسابات WhatsApp"})}),(0,a.jsx)(A,{onSaveSuccess:j,children:(0,a.jsxs)(l.$,{size:"sm",children:[(0,a.jsx)(c.A,{className:"me-2 h-4 w-4"}),"إضافة حساب"]})})]}),(0,a.jsx)(d.Wu,{className:"p-0",children:i?(0,a.jsx)("div",{className:"flex justify-center p-8",children:(0,a.jsx)(o.A,{className:"animate-spin"})}):0===s.length?(0,a.jsx)("p",{className:"text-muted-foreground text-center p-8",children:"لا توجد حسابات مضافة."}):(0,a.jsx)("div",{className:"space-y-3",children:s.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-semibold",children:e.name}),(0,a.jsx)(T.E,{variant:"outline",children:e.provider||"ultramsg"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground font-mono",children:e.idInstance})]}),(0,a.jsxs)(z.rI,{children:[(0,a.jsx)(z.ty,{asChild:!0,children:(0,a.jsx)(l.$,{variant:"ghost",size:"icon",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(z.SQ,{children:[(0,a.jsx)(A,{isEditing:!0,account:e,onSaveSuccess:j,children:(0,a.jsxs)(z._2,{onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(u.A,{className:"me-2 h-4 w-4"}),"تعديل"]})}),(0,a.jsxs)(L.Lt,{children:[(0,a.jsx)(L.tv,{asChild:!0,children:(0,a.jsxs)(z._2,{onSelect:e=>e.preventDefault(),className:"text-destructive focus:text-destructive",children:[(0,a.jsx)(f.A,{className:"me-2 h-4 w-4"}),"حذف"]})}),(0,a.jsxs)(L.EO,{children:[(0,a.jsxs)(L.wd,{children:[(0,a.jsx)(L.r7,{children:"هل أنت متأكد؟"}),(0,a.jsx)(L.$v,{children:"سيتم حذف الحساب بشكل دائم ولا يمكن التراجع عن هذا الإجراء."})]}),(0,a.jsxs)(L.ck,{children:[(0,a.jsx)(L.Zr,{children:"إلغاء"}),(0,a.jsx)(L.Rx,{onClick:()=>v(e.id),className:(0,P.cn)((0,l.r)({variant:"destructive"})),children:"نعم، احذف"})]})]})]})]})]})]},e.id))})})]})}function _(e){let{onSaveSuccess:t}=e,[s,d]=(0,r.useState)(!1);return(0,a.jsxs)(n.lG,{open:s,onOpenChange:d,children:[(0,a.jsx)(n.zM,{asChild:!0,children:(0,a.jsxs)(l.$,{variant:"outline",children:[(0,a.jsx)(i.A,{className:"me-2 h-4 w-4"}),"الإعدادات"]})}),(0,a.jsxs)(n.Cf,{className:"max-w-2xl",children:[(0,a.jsxs)(n.c7,{children:[(0,a.jsx)(n.L3,{children:"إعدادات الحملات"}),(0,a.jsx)(n.rr,{children:"إدارة حسابات WhatsApp المتصلة بالنظام."})]}),(0,a.jsx)("div",{className:"py-4",children:(0,a.jsx)(M,{onSaveSuccess:()=>{t()}})})]})]})}},65142:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(95155),r=s(12115),l=s(64269);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});n.displayName="Input"},73457:(e,t,s)=>{"use strict";s.d(t,{S:()=>d});var a=s(95155),r=s(12115),l=s(38162),n=s(72251),i=s(64269);let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.bL,{ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,a.jsx)(l.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})})});d.displayName=l.bL.displayName},76444:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var a=s(95155),r=s(12115),l=s(10489),n=s(83101),i=s(64269);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.b,{ref:t,className:(0,i.cn)(d(),s),...r})});c.displayName=l.b.displayName},80991:(e,t,s)=>{"use strict";s.d(t,{k:()=>i});var a=s(95155),r=s(12115),l=s(9484),n=s(64269);let i=r.forwardRef((e,t)=>{let{className:s,value:r,...i}=e;return(0,a.jsx)(l.bL,{ref:t,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),style:{zIndex:9999},...i,children:(0,a.jsx)(l.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});i.displayName=l.bL.displayName},85897:(e,t,s)=>{"use strict";s.d(t,{BK:()=>d,eu:()=>i,q5:()=>c});var a=s(95155),r=s(12115),l=s(46591),n=s(64269);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.bL,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});i.displayName=l.bL.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l._V,{ref:t,className:(0,n.cn)("aspect-square h-full w-full object-cover",s),...r})});d.displayName=l._V.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.H4,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});c.displayName=l.H4.displayName},86948:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>m});var a=s(95155),r=s(12115),l=s(64269);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-4 sm:p-6 text-right",s),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("text-lg sm:text-xl font-bold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-4 sm:p-6 pt-0",s),...r})});o.displayName="CardContent";let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-4 sm:p-6 pt-0",s),...r})});m.displayName="CardFooter"},87270:(e,t,s)=>{"use strict";s.d(t,{A0:()=>i,BF:()=>d,Gg:()=>c,Hj:()=>o,XI:()=>n,nA:()=>u,nd:()=>m});var a=s(95155),r=s(12115),l=s(64269);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",s),...r})})});n.displayName="Table";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",s),...r})});i.displayName="TableHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...r})});d.displayName="TableBody";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})});c.displayName="TableFooter";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});o.displayName="TableRow";let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-right align-middle font-bold text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});m.displayName="TableHead";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});u.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"},98053:(e,t,s)=>{"use strict";s.d(t,{$v:()=>h,EO:()=>u,Lt:()=>d,Rx:()=>g,Zr:()=>j,ck:()=>x,r7:()=>p,tv:()=>c,wd:()=>f});var a=s(95155),r=s(12115),l=s(35646),n=s(64269),i=s(3998);let d=l.bL,c=l.l9,o=l.ZL,m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});m.displayName=l.hJ.displayName;let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(m,{}),(0,a.jsx)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});u.displayName=l.UC.displayName;let f=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};f.displayName="AlertDialogHeader";let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};x.displayName="AlertDialogFooter";let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold",s),...r})});p.displayName=l.hE.displayName;let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});h.displayName=l.VY.displayName;let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.rc,{ref:t,className:(0,n.cn)((0,i.r)(),s),...r})});g.displayName=l.rc.displayName;let j=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.ZD,{ref:t,className:(0,n.cn)((0,i.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});j.displayName=l.ZD.displayName}},e=>{e.O(0,[4909,9625,315,4127,9967,1374,8994,43,84,563,1636,5239,9034,9158,9249,8441,1255,7358],()=>e(e.s=26385)),_N_E=e.O()}]);