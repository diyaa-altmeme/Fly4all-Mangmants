(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5756],{62730:(e,s,c)=>{Promise.resolve().then(c.t.bind(c,52619,23)),Promise.resolve().then(c.bind(c,79298))},79298:(e,s,c)=>{"use strict";c.d(s,{default:()=>b});var r=c(95155),t=c(12115),n=c(87270),l=c(3998),d=c(20146),i=c(93875),a=c(13630),x=c(6259),h=c(15894),o=c(30926);let j=(0,o.createServerReference)("40cf063cd0996b5720c994376cff75a5921b27cb15",o.callServer,void 0,o.findSourceMapURL,"restoreBooking"),m=(0,o.createServerReference)("40c0dccd0c2a8e67f36983065fa5432d130bc97c65",o.callServer,void 0,o.findSourceMapURL,"permanentDeleteBooking");var f=c(14223),u=c(19056),v=c(98053),N=c(20063);function b(e){let{initialData:s}=e,{toast:c}=(0,h.dj)();(0,N.useRouter)();let[o,b]=t.useState(s),p=async e=>{let s=await j(e);s.success?(c({title:"تم استعادة الحجز بنجاح"}),b(s=>s.filter(s=>s.id!==e))):c({title:"خطأ",description:s.error,variant:"destructive"})},A=async e=>{let s=await m(e);s.success?(c({title:"تم حذف الحجز نهائيًا"}),b(s=>s.filter(s=>s.id!==e))):c({title:"خطأ",description:s.error,variant:"destructive"})};return(0,r.jsx)("div",{className:"border rounded-lg",children:(0,r.jsxs)(n.XI,{children:[(0,r.jsx)(n.A0,{children:(0,r.jsxs)(n.Hj,{children:[(0,r.jsx)(n.nd,{className:"font-bold text-center",children:"PNR"}),(0,r.jsx)(n.nd,{className:"font-bold text-center",children:"تاريخ الإصدار"}),(0,r.jsx)(n.nd,{className:"font-bold text-center",children:"تاريخ الحذف"}),(0,r.jsx)(n.nd,{className:"text-center font-bold",children:"الإجراءات"})]})}),(0,r.jsx)(n.BF,{children:0===o.length?(0,r.jsx)(n.Hj,{children:(0,r.jsx)(n.nA,{colSpan:4,className:"h-24 text-center",children:"لا توجد حجوزات محذوفة لعرضها."})}):o.map(e=>(0,r.jsxs)(n.Hj,{children:[(0,r.jsx)(n.nA,{className:"text-center font-mono",children:e.pnr}),(0,r.jsx)(n.nA,{className:"text-center",children:e.issueDate}),(0,r.jsx)(n.nA,{className:"text-center",children:e.deletedAt?(0,f.GP)((0,u.H)(e.deletedAt),"yyyy-MM-dd HH:mm"):"-"}),(0,r.jsx)(n.nA,{className:"text-center",children:(0,r.jsxs)(x.rI,{children:[(0,r.jsx)(x.ty,{asChild:!0,children:(0,r.jsx)(l.$,{variant:"ghost",size:"icon",children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(x.SQ,{children:[(0,r.jsxs)(x._2,{onClick:()=>p(e.id),children:[(0,r.jsx)(i.A,{className:"me-2 h-4 w-4"})," استعادة"]}),(0,r.jsxs)(v.Lt,{children:[(0,r.jsx)(v.tv,{asChild:!0,children:(0,r.jsxs)(x._2,{onSelect:e=>e.preventDefault(),className:"text-red-500 focus:text-red-500",children:[(0,r.jsx)(a.A,{className:"me-2 h-4 w-4"})," حذف نهائي"]})}),(0,r.jsxs)(v.EO,{children:[(0,r.jsxs)(v.wd,{children:[(0,r.jsx)(v.r7,{children:"هل أنت متأكد تمامًا؟"}),(0,r.jsx)(v.$v,{children:"هذا الإجراء سيحذف الحجز نهائيًا ولا يمكن التراجع عنه مطلقًا."})]}),(0,r.jsxs)(v.ck,{children:[(0,r.jsx)(v.Zr,{children:"إلغاء"}),(0,r.jsx)(v.Rx,{onClick:()=>A(e.id),variant:"destructive",children:"نعم، احذف نهائيًا"})]})]})]})]})]})})]},e.id))})]})})}}},e=>{e.O(0,[4909,9625,315,4127,9967,1374,783,4223,2619,84,9256,8441,1255,7358],()=>e(e.s=62730)),_N_E=e.O()}]);