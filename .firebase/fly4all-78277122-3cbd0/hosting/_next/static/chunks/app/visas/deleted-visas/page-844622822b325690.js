(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2490],{19944:(e,s,t)=>{"use strict";t.d(s,{default:()=>b});var r=t(95155),n=t(12115),c=t(87270),l=t(3998),i=t(20146),d=t(93875),a=t(13630),x=t(6259),h=t(15894),o=t(30926);let j=(0,o.createServerReference)("40ab8ba6feefb8bef18a049b39c08ecc0f412b245a",o.callServer,void 0,o.findSourceMapURL,"restoreVisaBooking"),f=(0,o.createServerReference)("4000af43939789af61ade174f4258f9348ff45dc8b",o.callServer,void 0,o.findSourceMapURL,"permanentDeleteVisaBooking");var m=t(14223),u=t(19056),v=t(98053),N=t(20063);function b(e){let{initialData:s}=e,{toast:t}=(0,h.dj)();(0,N.useRouter)();let[o,b]=n.useState(s),A=async e=>{let s=await j(e);s.success?(t({title:"تم استعادة الطلب بنجاح"}),b(s=>s.filter(s=>s.id!==e))):t({title:"خطأ",description:s.error,variant:"destructive"})},p=async e=>{let s=await f(e);s.success?(t({title:"تم حذف الطلب نهائيًا"}),b(s=>s.filter(s=>s.id!==e))):t({title:"خطأ",description:s.error,variant:"destructive"})};return(0,r.jsx)("div",{className:"border rounded-lg",children:(0,r.jsxs)(c.XI,{children:[(0,r.jsx)(c.A0,{children:(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nd,{className:"font-bold text-center",children:"رقم الفاتورة"}),(0,r.jsx)(c.nd,{className:"font-bold text-center",children:"تاريخ التقديم"}),(0,r.jsx)(c.nd,{className:"font-bold text-center",children:"تاريخ الحذف"}),(0,r.jsx)(c.nd,{className:"font-bold text-center",children:"ملاحظات"}),(0,r.jsx)(c.nd,{className:"text-center font-bold",children:"الإجراءات"})]})}),(0,r.jsx)(c.BF,{children:0===o.length?(0,r.jsx)(c.Hj,{children:(0,r.jsx)(c.nA,{colSpan:5,className:"h-24 text-center",children:"لا توجد سجلات محذوفة لعرضها."})}):o.map(e=>(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nA,{className:"text-center",children:e.invoiceNumber}),(0,r.jsx)(c.nA,{className:"text-center",children:e.submissionDate}),(0,r.jsx)(c.nA,{className:"text-center",children:e.deletedAt?(0,m.GP)((0,u.H)(e.deletedAt),"yyyy-MM-dd HH:mm"):"-"}),(0,r.jsx)(c.nA,{className:"text-center",children:e.notes}),(0,r.jsx)(c.nA,{className:"text-center",children:(0,r.jsxs)(x.rI,{children:[(0,r.jsx)(x.ty,{asChild:!0,children:(0,r.jsx)(l.$,{variant:"ghost",size:"icon",children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(x.SQ,{children:[(0,r.jsxs)(x._2,{onClick:()=>A(e.id),children:[(0,r.jsx)(d.A,{className:"me-2 h-4 w-4"})," استعادة"]}),(0,r.jsxs)(v.Lt,{children:[(0,r.jsx)(v.tv,{asChild:!0,children:(0,r.jsxs)(x._2,{onSelect:e=>e.preventDefault(),className:"text-red-500 focus:text-red-500",children:[(0,r.jsx)(a.A,{className:"me-2 h-4 w-4"})," حذف نهائي"]})}),(0,r.jsxs)(v.EO,{children:[(0,r.jsxs)(v.wd,{children:[(0,r.jsx)(v.r7,{children:"هل أنت متأكد تمامًا؟"}),(0,r.jsx)(v.$v,{children:"هذا الإجراء سيحذف السجل نهائيًا ولا يمكن التراجع عنه مطلقًا."})]}),(0,r.jsxs)(v.ck,{children:[(0,r.jsx)(v.Zr,{children:"إلغاء"}),(0,r.jsx)(v.Rx,{onClick:()=>p(e.id),variant:"destructive",children:"نعم، احذف نهائيًا"})]})]})]})]})]})})]},e.id))})]})})}},31381:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,52619,23)),Promise.resolve().then(t.bind(t,19944))}},e=>{e.O(0,[4909,9625,315,4127,9967,1374,783,4223,2619,84,9256,8441,1255,7358],()=>e(e.s=31381)),_N_E=e.O()}]);