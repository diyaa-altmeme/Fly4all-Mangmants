(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7513],{3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>d});var s=r(95155),a=r(12115),l=r(32467),n=r(83101),i=r(64269);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-bold ring-offset-background transition-transform transform-gpu hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",accent:"bg-accent text-accent-foreground shadow-md hover:bg-accent/90"},size:{default:"h-10 px-4 py-2 [&_svg]:size-4",sm:"h-9 rounded-md px-3 [&_svg]:size-4",lg:"h-11 rounded-lg px-8 [&_svg]:size-5",icon:"h-10 w-10 [&_svg]:size-5"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:c=!1,...o}=e,u=c?l.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:a,size:n,className:r})),ref:t,...o})});c.displayName="Button"},5468:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(14294).A)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]])},7545:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(14294).A)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])},10489:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var s=r(12115),a=r(97602),l=r(95155),n=s.forwardRef((e,t)=>(0,l.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=n},11647:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var s=r(95155);r(12115);var a=r(83101),l=r(64269);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("span",{className:(0,l.cn)(n({variant:r}),t),...a})}},15894:(e,t,r)=>{"use strict";r.d(t,{dj:()=>u});var s=r(12115);let a=0,l=new Map,n=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},i=[],d={toasts:[]};function c(e){d=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,3)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(d,e),i.forEach(e=>{e(d)})}function o(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return t.variant||(t.variant="default"),c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=s.useState(d);return s.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},18332:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>d,TN:()=>o,XL:()=>c});var s=r(95155),a=r(12115),l=r(83101),n=r(64269);let i=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,...l}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(i({variant:a}),r),...l})});d.displayName="Alert";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})});c.displayName="AlertTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",r),...a})});o.displayName="AlertDescription"},26615:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(14294).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},38162:(e,t,r)=>{"use strict";r.d(t,{C1:()=>k,bL:()=>j});var s=r(12115),a=r(94446),l=r(3468),n=r(92556),i=r(23558),d=r(78108),c=r(84288),o=r(76842),u=r(97602),f=r(95155),m="Checkbox",[h,p]=(0,l.A)(m),[x,b]=h(m);function g(e){let{__scopeCheckbox:t,checked:r,children:a,defaultChecked:l,disabled:n,form:d,name:c,onCheckedChange:o,required:u,value:h="on",internal_do_not_use_render:p}=e,[b,g]=(0,i.i)({prop:r,defaultProp:null!=l&&l,onChange:o,caller:m}),[v,y]=s.useState(null),[j,N]=s.useState(null),k=s.useRef(!1),w=!v||!!d||!!v.closest("form"),R={checked:b,disabled:n,setChecked:g,control:v,setControl:y,name:c,form:d,value:h,hasConsumerStoppedPropagationRef:k,required:u,defaultChecked:!C(l)&&l,isFormControl:w,bubbleInput:j,setBubbleInput:N};return(0,f.jsx)(x,{scope:t,...R,children:"function"==typeof p?p(R):a})}var v="CheckboxTrigger",y=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,onKeyDown:l,onClick:i,...d}=e,{control:c,value:o,disabled:m,checked:h,required:p,setControl:x,setChecked:g,hasConsumerStoppedPropagationRef:y,isFormControl:j,bubbleInput:N}=b(v,r),k=(0,a.s)(t,x),w=s.useRef(h);return s.useEffect(()=>{let e=null==c?void 0:c.form;if(e){let t=()=>g(w.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,g]),(0,f.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":C(h)?"mixed":h,"aria-required":p,"data-state":A(h),"data-disabled":m?"":void 0,disabled:m,value:o,...d,ref:k,onKeyDown:(0,n.mK)(l,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.mK)(i,e=>{g(e=>!!C(e)||!e),N&&j&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})});y.displayName=v;var j=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:s,checked:a,defaultChecked:l,required:n,disabled:i,value:d,onCheckedChange:c,form:o,...u}=e;return(0,f.jsx)(g,{__scopeCheckbox:r,checked:a,defaultChecked:l,disabled:i,required:n,onCheckedChange:c,name:s,form:o,value:d,internal_do_not_use_render:e=>{let{isFormControl:s}=e;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(y,{...u,ref:t,__scopeCheckbox:r}),s&&(0,f.jsx)(R,{__scopeCheckbox:r})]})}})});j.displayName=m;var N="CheckboxIndicator",k=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...a}=e,l=b(N,r);return(0,f.jsx)(o.C,{present:s||C(l.checked)||!0===l.checked,children:(0,f.jsx)(u.sG.span,{"data-state":A(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});k.displayName=N;var w="CheckboxBubbleInput",R=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,...l}=e,{control:n,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:m,required:h,disabled:p,name:x,value:g,form:v,bubbleInput:y,setBubbleInput:j}=b(w,r),N=(0,a.s)(t,j),k=(0,d.Z)(o),R=(0,c.X)(n);s.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!i.current;if(k!==o&&e){let r=new Event("click",{bubbles:t});y.indeterminate=C(o),e.call(y,!C(o)&&o),y.dispatchEvent(r)}},[y,k,o,i]);let A=s.useRef(!C(o)&&o);return(0,f.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=m?m:A.current,required:h,disabled:p,name:x,value:g,form:v,...l,tabIndex:-1,ref:N,style:{...l.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function A(e){return C(e)?"indeterminate":e?"checked":"unchecked"}R.displayName=w},51834:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>m,Es:()=>p,HM:()=>u,L3:()=>x,c7:()=>h,lG:()=>d,rr:()=>b,zM:()=>c});var s=r(95155),a=r(12115),l=r(89511),n=r(26615),i=r(64269);let d=l.bL,c=l.l9,o=l.ZL,u=l.bm,f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});f.displayName=l.hJ.displayName;let m=a.forwardRef((e,t)=>{let{className:r,children:a,showCloseButton:d=!0,...c}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(f,{}),(0,s.jsxs)(l.UC,{ref:t,className:(0,i.cn)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),onOpenAutoFocus:e=>e.preventDefault(),...c,children:[a,d&&(0,s.jsxs)(l.bm,{className:"absolute left-4 top-4 rounded-full p-1.5 opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground bg-muted hover:bg-muted/80",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.UC.displayName;let h=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-right",t),...r})};h.displayName="DialogHeader";let p=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 rtl:space-x-reverse",t),...r})};p.displayName="DialogFooter";let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",r),...a})});x.displayName=l.hE.displayName;let b=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});b.displayName=l.VY.displayName},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l,pY:()=>n});var s=r(2821),a=r(75889);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}let n=(e,t,r,s)=>{let a={};return Object.keys(e).map(e=>e.toLowerCase().trim()),r.forEach(t=>{let r,l=null==s?void 0:s[t.id],n=(t.aliases||(null==l?void 0:l.aliases)||[t.label]).map(e=>e.toLowerCase().trim()),i=Array.from(new Set([t.id,t.label,...n].map(e=>e.toLowerCase().trim()))),d=Object.keys(e).find(e=>i.includes(e.toLowerCase().trim()));d&&(r=e[d]),null==r||""===String(r).trim()?a[t.id]=void 0!==t.defaultValue?t.defaultValue:"number"===t.dataType?0:"":"number"===t.dataType?a[t.id]=parseFloat(String(r).trim().replace(/,/g,""))||0:a[t.id]=String(r).trim()}),a}},72251:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(14294).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},73457:(e,t,r)=>{"use strict";r.d(t,{S:()=>d});var s=r(95155),a=r(12115),l=r(38162),n=r(72251),i=r(64269);let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.bL,{ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...a,children:(0,s.jsx)(l.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})})});d.displayName=l.bL.displayName},76444:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var s=r(95155),a=r(12115),l=r(10489),n=r(83101),i=r(64269);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,i.cn)(d(),r),...a})});c.displayName=l.b.displayName},78108:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(12115);function a(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},80290:(e,t,r)=>{Promise.resolve().then(r.bind(r,81229))},81229:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var s=r(95155),a=r(12115),l=r(86948),n=r(3998);let i=(0,r(14294).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var d=r(5468),c=r(92033),o=r(90109),u=r(15894),f=r(30926);let m=(0,f.createServerReference)("4062b654871f75caf44264155aa2c0636140bbd78a",f.callServer,void 0,f.findSourceMapURL,"runDataAudit");var h=r(73457),p=r(76444),x=r(52619),b=r.n(x),g=r(11647),v=r(18332),y=r(7545),j=r(64269),N=r(51834),k=r(87270);let w=e=>{let{issue:t}=e,r={DUPLICATE_PNR:{label:"تكرار PNR"},NEGATIVE_PROFIT:{label:"ربح سالب"},ZERO_PRICE:{label:"سعر صفري"},COMMISSION_ERROR:{label:"خطأ في العمولة"},INVOICE_ERROR:{label:"خطأ في الفاتورة"},SAVE_ERROR:{label:"خطأ في الحفظ"},COST_MISMATCH:{label:"عدم تطابق الكلفة"},UNMATCHED_RETURN:{label:"رحلة ذهاب وعودة"}}[t.type];return(0,s.jsxs)(N.Cf,{children:[(0,s.jsxs)(N.c7,{children:[(0,s.jsxs)(N.L3,{children:["تفاصيل المشكلة: ",r.label]}),(0,s.jsx)(N.rr,{children:t.description})]}),(0,s.jsx)("div",{className:"py-4",children:"DUPLICATE_PNR"===t.type&&t.details&&Array.isArray(t.details)&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"font-bold mb-2",children:["الحجوزات المكررة لـ PNR: ",t.pnr]}),(0,s.jsxs)(k.XI,{children:[(0,s.jsx)(k.A0,{children:(0,s.jsxs)(k.Hj,{children:[(0,s.jsx)(k.nd,{children:"رقم الفاتورة"}),(0,s.jsx)(k.nd,{children:"الإجراء"})]})}),(0,s.jsx)(k.BF,{children:t.details.map(e=>(0,s.jsxs)(k.Hj,{children:[(0,s.jsx)(k.nA,{children:e.invoice||e.id}),(0,s.jsx)(k.nA,{children:(0,s.jsx)(n.$,{asChild:!0,variant:"secondary",size:"sm",children:(0,s.jsxs)(b(),{href:"/bookings?search=".concat(t.pnr,"&searchField=pnr"),target:"_blank",children:["الذهاب للحجز ",(0,s.jsx)(i,{className:"h-3 w-3 ms-2"})]})})})]},e.id))})]})]})})]})},R=e=>{let{issue:t}=e,r={DUPLICATE_PNR:{label:"تكرار PNR",color:"bg-orange-500"},NEGATIVE_PROFIT:{label:"ربح سالب",color:"bg-red-500"},ZERO_PRICE:{label:"سعر صفري",color:"bg-yellow-500 text-black"},COMMISSION_ERROR:{label:"خطأ عمولة",color:"bg-purple-500"},INVOICE_ERROR:{label:"خطأ فاتورة",color:"bg-blue-500"},SAVE_ERROR:{label:"خطأ حفظ",color:"bg-gray-500"},COST_MISMATCH:{label:"عدم تطابق الكلفة",color:"bg-indigo-500"},UNMATCHED_RETURN:{label:"رحلة ذهاب وعودة",color:"bg-cyan-500"}}[t.type];return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(g.E,{className:(0,j.cn)("text-white",r.color),children:r.label}),(0,s.jsx)("p",{className:"font-semibold",children:t.pnr||"N/A"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:t.description})]}),(0,s.jsxs)(N.lG,{children:[(0,s.jsx)(N.zM,{asChild:!0,children:(0,s.jsx)(n.$,{variant:"outline",size:"sm",children:"عرض"})}),(0,s.jsx)(w,{issue:t})]})]})},C=e=>{let{issues:t}=e,r=t.reduce((e,t)=>(e[t.type]||(e[t.type]=[]),e[t.type].push(t),e),{});return 0===t.length?(0,s.jsx)("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"لم يتم العثور على أي مشاكل أو أخطاء."})}):(0,s.jsx)("div",{className:"space-y-6",children:Object.entries(r).map(e=>{let[t,r]=e;return(0,s.jsxs)(l.Zp,{children:[(0,s.jsx)(l.aR,{children:(0,s.jsxs)(l.ZB,{children:[t," (",r.length,")"]})}),(0,s.jsx)(l.Wu,{className:"space-y-2",children:r.map(e=>(0,s.jsx)(R,{issue:e},e.id))})]},t)})})};function A(){let[e,t]=(0,a.useState)(!1),[r,i]=(0,a.useState)(null),[f,x]=(0,a.useState)(null),[b,g]=(0,a.useState)({checkDuplicatePnr:!0,checkNegativeProfit:!0,checkZeroPrices:!0,checkCommissionErrors:!0,checkInvoiceErrors:!0,checkCostMismatch:!0,checkReturnTrip:!0}),{toast:j}=(0,u.dj)(),N=async()=>{t(!0),x(null),i(null);try{let e=await m(b);i(e),j({title:"اكتمل الفحص",description:"تم العثور على ".concat(e.length," مشكلة.")})}catch(e){x(e.message)}finally{t(!1)}},k=(e,t)=>{g(r=>({...r,[e]:t}))};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"فحص بيانات النظام"}),(0,s.jsx)(l.BT,{children:"أداة للبحث عن الأخطاء المحتملة والمشاكل المنطقية في البيانات المدخلة مثل تكرار الحجوزات أو الأرباح السالبة."})]}),(0,s.jsxs)(l.Wu,{className:"space-y-4",children:[(0,s.jsxs)(l.Zp,{children:[(0,s.jsx)(l.aR,{children:(0,s.jsxs)(l.ZB,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"})," إعدادات الفحص"]})}),(0,s.jsxs)(l.Wu,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse rounded-lg border p-4",children:[(0,s.jsx)(h.S,{id:"check-pnr",checked:b.checkDuplicatePnr,onCheckedChange:e=>k("checkDuplicatePnr",!!e)}),(0,s.jsx)(p.J,{htmlFor:"check-pnr",className:"font-semibold",children:"فحص تكرار أرقام الحجز (PNR)"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse rounded-lg border p-4",children:[(0,s.jsx)(h.S,{id:"check-return",checked:b.checkReturnTrip,onCheckedChange:e=>k("checkReturnTrip",!!e)}),(0,s.jsx)(p.J,{htmlFor:"check-return",className:"font-semibold",children:"فحص رحلات الذهاب والعودة غير المرتبطة"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse rounded-lg border p-4",children:[(0,s.jsx)(h.S,{id:"check-profit",checked:b.checkNegativeProfit,onCheckedChange:e=>k("checkNegativeProfit",!!e)}),(0,s.jsx)(p.J,{htmlFor:"check-profit",className:"font-semibold",children:"فحص التذاكر ذات الربح السالب"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse rounded-lg border p-4",children:[(0,s.jsx)(h.S,{id:"check-zero",checked:b.checkZeroPrices,onCheckedChange:e=>k("checkZeroPrices",!!e)}),(0,s.jsx)(p.J,{htmlFor:"check-zero",className:"font-semibold",children:"فحص التذاكر بأسعار صفرية"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse rounded-lg border p-4",children:[(0,s.jsx)(h.S,{id:"check-commission",checked:b.checkCommissionErrors,onCheckedChange:e=>k("checkCommissionErrors",!!e)}),(0,s.jsx)(p.J,{htmlFor:"check-commission",className:"font-semibold",children:"فحص أخطاء حساب العمولة"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse rounded-lg border p-4",children:[(0,s.jsx)(h.S,{id:"check-invoice",checked:b.checkInvoiceErrors,onCheckedChange:e=>k("checkInvoiceErrors",!!e)}),(0,s.jsx)(p.J,{htmlFor:"check-invoice",className:"font-semibold",children:"فحص أخطاء أرقام الفواتير"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse rounded-lg border p-4",children:[(0,s.jsx)(h.S,{id:"check-cost",checked:b.checkCostMismatch,onCheckedChange:e=>k("checkCostMismatch",!!e)}),(0,s.jsx)(p.J,{htmlFor:"check-cost",className:"font-semibold",children:"فحص عدم تطابق الكلفة"})]})]})]}),(0,s.jsx)(n.$,{onClick:N,disabled:e,size:"lg",className:"w-full",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{className:"me-2 h-4 w-4 animate-spin"})," جاري الفحص..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"me-2 h-4 w-4"})," بدء الفحص الشامل"]})})]})]}),f&&(0,s.jsxs)(v.Fc,{variant:"destructive",children:[(0,s.jsx)(y.A,{className:"h-4 w-4"}),(0,s.jsx)(v.XL,{children:"حدث خطأ!"}),(0,s.jsx)(v.TN,{children:f})]}),r&&(0,s.jsx)(C,{issues:r})]})}},84288:(e,t,r)=>{"use strict";r.d(t,{X:()=>l});var s=r(12115),a=r(4129);function l(e){let[t,r]=s.useState(void 0);return(0,a.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,a;if(!Array.isArray(t)||!t.length)return;let l=t[0];if("borderBoxSize"in l){let e=l.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,a=t.blockSize}else s=e.offsetWidth,a=e.offsetHeight;r({width:s,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},86948:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>u});var s=r(95155),a=r(12115),l=r(64269);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-4 sm:p-6 text-right",r),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,l.cn)("text-lg sm:text-xl font-bold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-4 sm:p-6 pt-0",r),...a})});o.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-4 sm:p-6 pt-0",r),...a})});u.displayName="CardFooter"},87270:(e,t,r)=>{"use strict";r.d(t,{A0:()=>i,BF:()=>d,Gg:()=>c,Hj:()=>o,XI:()=>n,nA:()=>f,nd:()=>u});var s=r(95155),a=r(12115),l=r(64269);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",r),...a})})});n.displayName="Table";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",r),...a})});i.displayName="TableHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...a})});d.displayName="TableBody";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})});c.displayName="TableFooter";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});o.displayName="TableRow";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-right align-middle font-bold text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});u.displayName="TableHead";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});f.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption"},90109:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(14294).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},92033:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(14294).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{e.O(0,[4909,9625,315,1374,2619,8441,1255,7358],()=>e(e.s=80290)),_N_E=e.O()}]);