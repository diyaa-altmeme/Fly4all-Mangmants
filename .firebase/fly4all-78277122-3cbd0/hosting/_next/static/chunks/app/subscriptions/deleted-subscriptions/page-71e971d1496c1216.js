(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6070],{6053:(e,s,c)=>{"use strict";c.d(s,{default:()=>b});var r=c(95155),t=c(12115),n=c(87270),l=c(3998),d=c(20146),i=c(93875),a=c(13630),x=c(6259),h=c(15894),j=c(30926);let o=(0,j.createServerReference)("4037c6ea7b2487342669aecdc2a7174064cd6c84fe",j.callServer,void 0,j.findSourceMapURL,"restoreSubscription"),m=(0,j.createServerReference)("403921c096e7cdc87c12bd704541e2db9fad4db939",j.callServer,void 0,j.findSourceMapURL,"permanentDeleteSubscription");var u=c(14223),v=c(19056),f=c(98053),N=c(20063);function b(e){let{initialData:s}=e,{toast:c}=(0,h.dj)();(0,N.useRouter)();let[j,b]=t.useState(s),p=async e=>{let s=await o(e);s.success?(c({title:"تم استعادة الاشتراك بنجاح"}),b(s=>s.filter(s=>s.id!==e))):c({title:"خطأ",description:s.error,variant:"destructive"})},S=async e=>{let s=await m(e);s.success?(c({title:"تم حذف الاشتراك نهائيًا"}),b(s=>s.filter(s=>s.id!==e))):c({title:"خطأ",description:s.error,variant:"destructive"})};return(0,r.jsx)("div",{className:"border rounded-lg",children:(0,r.jsxs)(n.XI,{children:[(0,r.jsx)(n.A0,{children:(0,r.jsxs)(n.Hj,{children:[(0,r.jsx)(n.nd,{className:"font-bold text-center",children:"الاشتراك"}),(0,r.jsx)(n.nd,{className:"font-bold text-center",children:"العميل"}),(0,r.jsx)(n.nd,{className:"font-bold text-center",children:"تاريخ الحذف"}),(0,r.jsx)(n.nd,{className:"text-center font-bold",children:"الإجراءات"})]})}),(0,r.jsx)(n.BF,{children:0===j.length?(0,r.jsx)(n.Hj,{children:(0,r.jsx)(n.nA,{colSpan:4,className:"h-24 text-center",children:"لا توجد اشتراكات محذوفة لعرضها."})}):j.map(e=>(0,r.jsxs)(n.Hj,{children:[(0,r.jsx)(n.nA,{className:"text-center font-semibold",children:e.serviceName}),(0,r.jsx)(n.nA,{className:"text-center",children:e.clientName}),(0,r.jsx)(n.nA,{className:"text-center",children:e.deletedAt?(0,u.GP)((0,v.H)(e.deletedAt),"yyyy-MM-dd HH:mm"):"-"}),(0,r.jsx)(n.nA,{className:"text-center",children:(0,r.jsxs)(x.rI,{children:[(0,r.jsx)(x.ty,{asChild:!0,children:(0,r.jsx)(l.$,{variant:"ghost",size:"icon",children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(x.SQ,{children:[(0,r.jsxs)(x._2,{onClick:()=>p(e.id),children:[(0,r.jsx)(i.A,{className:"me-2 h-4 w-4"})," استعادة"]}),(0,r.jsxs)(f.Lt,{children:[(0,r.jsx)(f.tv,{asChild:!0,children:(0,r.jsxs)(x._2,{onSelect:e=>e.preventDefault(),className:"text-red-500 focus:text-red-500",children:[(0,r.jsx)(a.A,{className:"me-2 h-4 w-4"})," حذف نهائي"]})}),(0,r.jsxs)(f.EO,{children:[(0,r.jsxs)(f.wd,{children:[(0,r.jsx)(f.r7,{children:"هل أنت متأكد تمامًا؟"}),(0,r.jsx)(f.$v,{children:"هذا الإجراء سيحذف الاشتراك وكل الأقساط والفواتير المرتبطة به نهائيًا. لا يمكن التراجع عن هذا الإجراء."})]}),(0,r.jsxs)(f.ck,{children:[(0,r.jsx)(f.Zr,{children:"إلغاء"}),(0,r.jsx)(f.Rx,{onClick:()=>S(e.id),variant:"destructive",children:"نعم، احذف نهائيًا"})]})]})]})]})]})})]},e.id))})]})})}},69894:(e,s,c)=>{Promise.resolve().then(c.t.bind(c,52619,23)),Promise.resolve().then(c.bind(c,6053))}},e=>{e.O(0,[4909,9625,315,4127,9967,1374,783,4223,2619,84,9256,8441,1255,7358],()=>e(e.s=69894)),_N_E=e.O()}]);