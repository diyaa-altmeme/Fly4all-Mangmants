(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4028],{2828:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,52619,23)),Promise.resolve().then(s.bind(s,94462))},30024:(e,t,s)=>{"use strict";s.d(t,{O:()=>c});var r=s(30926);let c=(0,r.createServerReference)("607e850594ea411b5e11f09fc4d3f42888c31e8a99",r.callServer,void 0,r.findSourceMapURL,"deleteSegmentPeriod")},94462:(e,t,s)=>{"use strict";s.d(t,{default:()=>D});var r=s(95155),c=s(12115),n=s(87270),a=s(3998),l=s(20146),d=s(93875),i=s(13630),o=s(6259),x=s(15894),h=s(30926);let j=(0,h.createServerReference)("40a8d173d667be3c84cc8faca9e89e6cbaaca03394",h.callServer,void 0,h.findSourceMapURL,"restoreSegmentPeriod");var m=s(30024),f=s(14223),v=s(19056),u=s(98053),N=s(20063);function D(e){let{initialData:t}=e,{toast:s}=(0,x.dj)();(0,N.useRouter)();let[h,D]=c.useState(t),b=async e=>{let t=await j(e.fromDate,e.toDate);t.success?(s({title:"تم استعادة الفترة بنجاح"}),D(t=>t.filter(t=>t.fromDate!==e.fromDate||t.toDate!==e.toDate))):s({title:"خطأ",description:t.error,variant:"destructive"})},A=async e=>{let t=await (0,m.O)(e.fromDate,e.toDate,!0);t.success?(s({title:"تم حذف الفترة نهائيًا"}),D(t=>t.filter(t=>t.fromDate!==e.fromDate||t.toDate!==e.toDate))):s({title:"خطأ",description:t.error,variant:"destructive"})};return(0,r.jsx)("div",{className:"border rounded-lg",children:(0,r.jsxs)(n.XI,{children:[(0,r.jsx)(n.A0,{children:(0,r.jsxs)(n.Hj,{children:[(0,r.jsx)(n.nd,{className:"font-bold text-center",children:"تاريخ البدء"}),(0,r.jsx)(n.nd,{className:"font-bold text-center",children:"تاريخ الانتهاء"}),(0,r.jsx)(n.nd,{className:"font-bold text-center",children:"عدد السجلات"}),(0,r.jsx)(n.nd,{className:"font-bold text-center",children:"تاريخ الحذف"}),(0,r.jsx)(n.nd,{className:"text-center font-bold",children:"الإجراءات"})]})}),(0,r.jsx)(n.BF,{children:0===h.length?(0,r.jsx)(n.Hj,{children:(0,r.jsx)(n.nA,{colSpan:5,className:"h-24 text-center",children:"لا توجد سجلات محذوفة لعرضها."})}):h.map(e=>(0,r.jsxs)(n.Hj,{children:[(0,r.jsx)(n.nA,{className:"text-center font-mono",children:e.fromDate}),(0,r.jsx)(n.nA,{className:"text-center font-mono",children:e.toDate}),(0,r.jsx)(n.nA,{className:"text-center font-bold",children:e.entries.length}),(0,r.jsx)(n.nA,{className:"text-center",children:e.deletedAt?(0,f.GP)((0,v.H)(e.deletedAt),"yyyy-MM-dd HH:mm"):"-"}),(0,r.jsx)(n.nA,{className:"text-center",children:(0,r.jsxs)(o.rI,{children:[(0,r.jsx)(o.ty,{asChild:!0,children:(0,r.jsx)(a.$,{variant:"ghost",size:"icon",children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(o.SQ,{children:[(0,r.jsxs)(o._2,{onClick:()=>b(e),children:[(0,r.jsx)(d.A,{className:"me-2 h-4 w-4"})," استعادة"]}),(0,r.jsxs)(u.Lt,{children:[(0,r.jsx)(u.tv,{asChild:!0,children:(0,r.jsxs)(o._2,{onSelect:e=>e.preventDefault(),className:"text-red-500 focus:text-red-500",children:[(0,r.jsx)(i.A,{className:"me-2 h-4 w-4"})," حذف نهائي"]})}),(0,r.jsxs)(u.EO,{children:[(0,r.jsxs)(u.wd,{children:[(0,r.jsx)(u.r7,{children:"هل أنت متأكد تمامًا؟"}),(0,r.jsx)(u.$v,{children:"هذا الإجراء سيحذف الفترة وجميع سجلاتها المالية نهائيًا. لا يمكن التراجع عن هذا الإجراء."})]}),(0,r.jsxs)(u.ck,{children:[(0,r.jsx)(u.Zr,{children:"إلغاء"}),(0,r.jsx)(u.Rx,{onClick:()=>A(e),variant:"destructive",children:"نعم، احذف نهائيًا"})]})]})]})]})]})})]},"".concat(e.fromDate,"_").concat(e.toDate)))})]})})}}},e=>{e.O(0,[4909,9625,315,4127,9967,1374,783,4223,2619,84,9256,8441,1255,7358],()=>e(e.s=2828)),_N_E=e.O()}]);