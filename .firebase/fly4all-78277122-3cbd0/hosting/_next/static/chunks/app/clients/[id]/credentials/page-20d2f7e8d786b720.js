(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3168],{3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>l});var a=r(95155),s=r(12115),n=r(32467),i=r(83101),o=r(64269);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-bold ring-offset-background transition-transform transform-gpu hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",accent:"bg-accent text-accent-foreground shadow-md hover:bg-accent/90"},size:{default:"h-10 px-4 py-2 [&_svg]:size-4",sm:"h-9 rounded-md px-3 [&_svg]:size-4",lg:"h-11 rounded-lg px-8 [&_svg]:size-5",icon:"h-10 w-10 [&_svg]:size-5"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{className:(0,o.cn)(l({variant:s,size:i,className:r})),ref:t,...c})});d.displayName="Button"},15894:(e,t,r)=>{"use strict";r.d(t,{dj:()=>u});var a=r(12115);let s=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=[],l={toasts:[]};function d(e){l=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,3)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(l,e),o.forEach(e=>{e(l)})}function c(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:r});return t.variant||(t.variant="default"),d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=a.useState(l);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},26615:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(14294).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},27599:(e,t,r)=>{"use strict";r.d(t,{bL:()=>j,zi:()=>N});var a=r(12115),s=r(92556),n=r(94446),i=r(3468),o=r(23558),l=r(78108),d=r(84288),c=r(97602),u=r(95155),f="Switch",[p,m]=(0,i.A)(f),[h,g]=p(f),b=a.forwardRef((e,t)=>{let{__scopeSwitch:r,name:i,checked:l,defaultChecked:d,required:p,disabled:m,value:g="on",onCheckedChange:b,form:x,...v}=e,[j,N]=a.useState(null),k=(0,n.s)(t,e=>N(e)),S=a.useRef(!1),E=!j||x||!!j.closest("form"),[I,C]=(0,o.i)({prop:l,defaultProp:null!=d&&d,onChange:b,caller:f});return(0,u.jsxs)(h,{scope:r,checked:I,disabled:m,children:[(0,u.jsx)(c.sG.button,{type:"button",role:"switch","aria-checked":I,"aria-required":p,"data-state":w(I),"data-disabled":m?"":void 0,disabled:m,value:g,...v,ref:k,onClick:(0,s.mK)(e.onClick,e=>{C(e=>!e),E&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())})}),E&&(0,u.jsx)(y,{control:j,bubbles:!S.current,name:i,value:g,checked:I,required:p,disabled:m,form:x,style:{transform:"translateX(-100%)"}})]})});b.displayName=f;var x="SwitchThumb",v=a.forwardRef((e,t)=>{let{__scopeSwitch:r,...a}=e,s=g(x,r);return(0,u.jsx)(c.sG.span,{"data-state":w(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});v.displayName=x;var y=a.forwardRef((e,t)=>{let{__scopeSwitch:r,control:s,checked:i,bubbles:o=!0,...c}=e,f=a.useRef(null),p=(0,n.s)(f,t),m=(0,l.Z)(i),h=(0,d.X)(s);return a.useEffect(()=>{let e=f.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==i&&t){let r=new Event("click",{bubbles:o});t.call(e,i),e.dispatchEvent(r)}},[m,i,o]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...c,tabIndex:-1,ref:p,style:{...c.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function w(e){return e?"checked":"unchecked"}y.displayName="SwitchBubbleInput";var j=b,N=v},32703:(e,t,r)=>{Promise.resolve().then(r.bind(r,66827))},41052:(e,t,r)=>{"use strict";r.d(t,{C5:()=>x,MJ:()=>g,Rr:()=>b,eI:()=>m,lR:()=>h,lV:()=>d,zB:()=>u});var a=r(95155),s=r(12115),n=r(32467),i=r(22544),o=r(64269),l=r(76444);let d=i.Op,c=s.createContext({}),u=e=>{let{...t}=e;return(0,a.jsx)(c.Provider,{value:{name:t.name},children:(0,a.jsx)(i.xI,{...t})})},f=()=>{let e=s.useContext(c),t=s.useContext(p),{getFieldState:r,formState:a}=(0,i.xW)(),n=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},p=s.createContext({}),m=s.forwardRef((e,t)=>{let{className:r,...n}=e,i=s.useId();return(0,a.jsx)(p.Provider,{value:{id:i},children:(0,a.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",r),...n})})});m.displayName="FormItem";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:n,formItemId:i}=f();return(0,a.jsx)(l.J,{ref:t,className:(0,o.cn)(n&&"text-destructive",r),htmlFor:i,...s})});h.displayName="FormLabel";let g=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:i,formDescriptionId:o,formMessageId:l}=f();return(0,a.jsx)(n.DX,{ref:t,id:i,"aria-describedby":s?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!s,...r})});g.displayName="FormControl";let b=s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:n}=f();return(0,a.jsx)("p",{ref:t,id:n,className:(0,o.cn)("text-sm text-muted-foreground",r),...s})});b.displayName="FormDescription";let x=s.forwardRef((e,t)=>{var r;let{className:s,children:n,...i}=e,{error:l,formMessageId:d}=f(),c=l?String(null!=(r=null==l?void 0:l.message)?r:""):n;return c?(0,a.jsx)("p",{ref:t,id:d,className:(0,o.cn)("text-sm font-medium text-destructive",s),...i,children:c}):null});x.displayName="FormMessage"},44846:(e,t,r)=>{"use strict";r.d(t,{d:()=>o});var a=r(95155),s=r(12115),n=r(27599),i=r(64269);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.bL,{className:(0,i.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...s,ref:t,children:(0,a.jsx)(n.zi,{className:(0,i.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 rtl:data-[state=checked]:-translate-x-4 rtl:data-[state=unchecked]:-translate-x-0")})})});o.displayName=n.bL.displayName},51834:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>p,Es:()=>h,HM:()=>u,L3:()=>g,c7:()=>m,lG:()=>l,rr:()=>b,zM:()=>d});var a=r(95155),s=r(12115),n=r(89511),i=r(26615),o=r(64269);let l=n.bL,d=n.l9,c=n.ZL,u=n.bm,f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.hJ,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s})});f.displayName=n.hJ.displayName;let p=s.forwardRef((e,t)=>{let{className:r,children:s,showCloseButton:l=!0,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(n.UC,{ref:t,className:(0,o.cn)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),onOpenAutoFocus:e=>e.preventDefault(),...d,children:[s,l&&(0,a.jsxs)(n.bm,{className:"absolute left-4 top-4 rounded-full p-1.5 opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground bg-muted hover:bg-muted/80",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=n.UC.displayName;let m=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-right",t),...r})};m.displayName="DialogHeader";let h=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 rtl:space-x-reverse",t),...r})};h.displayName="DialogFooter";let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.hE,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",r),...s})});g.displayName=n.hE.displayName;let b=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.VY,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...s})});b.displayName=n.VY.displayName},56397:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(14294).A)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]])},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n,pY:()=>i});var a=r(2821),s=r(75889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}let i=(e,t,r,a)=>{let s={};return Object.keys(e).map(e=>e.toLowerCase().trim()),r.forEach(t=>{let r,n=null==a?void 0:a[t.id],i=(t.aliases||(null==n?void 0:n.aliases)||[t.label]).map(e=>e.toLowerCase().trim()),o=Array.from(new Set([t.id,t.label,...i].map(e=>e.toLowerCase().trim()))),l=Object.keys(e).find(e=>o.includes(e.toLowerCase().trim()));l&&(r=e[l]),null==r||""===String(r).trim()?s[t.id]=void 0!==t.defaultValue?t.defaultValue:"number"===t.dataType?0:"":"number"===t.dataType?s[t.id]=parseFloat(String(r).trim().replace(/,/g,""))||0:s[t.id]=String(r).trim()}),s}},65142:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(95155),s=r(12115),n=r(64269);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},66827:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var a=r(95155),s=r(12115),n=r(3998),i=r(51834),o=r(15894),l=r(56397),d=r(92033),c=r(73180),u=r(22544),f=r(54879),p=r(66942),m=r(41052),h=r(65142),g=r(98634),b=r(44846);let x=f.Ik({loginIdentifier:f.Yj().min(3,"المعرف يجب أن يكون 3 أحرف على الأقل").optional().or(f.eu("")),password:f.Yj().min(6,"كلمة المرور يجب أن تكون 6 أحرف على الأقل").optional().or(f.eu("")),otpLoginEnabled:f.zM().default(!1)});function v(e){let{client:t,onCredentialsUpdated:r,children:f}=e,[v,y]=(0,s.useState)(!1),{toast:w}=(0,o.dj)(),j=(0,u.mN)({resolver:(0,p.u)(x),defaultValues:{loginIdentifier:(null==t?void 0:t.loginIdentifier)||"",password:"",otpLoginEnabled:(null==t?void 0:t.otpLoginEnabled)||!1}});s.useEffect(()=>{v&&j.reset({loginIdentifier:(null==t?void 0:t.loginIdentifier)||"",password:"",otpLoginEnabled:(null==t?void 0:t.otpLoginEnabled)||!1})},[v,t,j]);let{isSubmitting:N}=j.formState,k=async e=>{let a={};if(e.loginIdentifier!==t.loginIdentifier&&(a.loginIdentifier=e.loginIdentifier),e.password&&(a.password=e.password),e.otpLoginEnabled!==t.otpLoginEnabled&&(a.otpLoginEnabled=e.otpLoginEnabled),0===Object.keys(a).length)return void w({title:"لا توجد تغييرات",description:"لم تقم بإدخال أي بيانات جديدة.",variant:"default"});let s=await (0,g.z)(t.id,a);s.success&&s.updatedClient?(w({title:"تم تحديث بيانات الدخول بنجاح"}),r(s.updatedClient),y(!1)):w({title:"خطأ",description:s.error,variant:"destructive"})};return(0,a.jsxs)(i.lG,{open:v,onOpenChange:y,children:[(0,a.jsx)(i.zM,{asChild:!0,children:f}),(0,a.jsx)(i.Cf,{className:"sm:max-w-md",children:(0,a.jsx)(m.lV,{...j,children:(0,a.jsxs)("form",{onSubmit:j.handleSubmit(k),children:[(0,a.jsxs)(i.c7,{className:"text-right",children:[(0,a.jsxs)(i.L3,{children:["إدارة بيانات الدخول لـ: ",t.name]}),(0,a.jsx)(i.rr,{children:"استخدم هذا النموذج لتعيين أو تحديث معرف تسجيل الدخول وكلمة المرور."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsx)(m.zB,{control:j.control,name:"loginIdentifier",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:"معرف تسجيل الدخول"}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(h.p,{placeholder:"اختر معرفًا فريدًا للعميل",...t})}),(0,a.jsx)(m.C5,{})]})}}),(0,a.jsx)(m.zB,{control:j.control,name:"password",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:"كلمة المرور الجديدة"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(h.p,{type:"password",placeholder:"اتركه فارغًا لعدم التغيير",...t,className:"pr-10"})})]}),(0,a.jsx)(m.C5,{})]})}}),(0,a.jsx)(m.zB,{control:j.control,name:"otpLoginEnabled",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,a.jsx)("div",{className:"space-y-0.5",children:(0,a.jsx)(m.lR,{children:"تفعيل الدخول بخطوتين (OTP)"})}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(b.d,{checked:t.value,onCheckedChange:t.onChange})})]})}})]}),(0,a.jsx)(i.Es,{children:(0,a.jsxs)(n.$,{type:"submit",disabled:N,children:[N&&(0,a.jsx)(d.A,{className:"me-2 h-4 w-4 animate-spin"}),(0,a.jsx)(c.A,{className:"me-2 h-4 w-4"}),"حفظ التغييرات"]})})]})})})]})}},76444:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var a=r(95155),s=r(12115),n=r(10489),i=r(83101),o=r(64269);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,o.cn)(l(),r),...s})});d.displayName=n.b.displayName},78108:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(12115);function s(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},84288:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});var a=r(12115),s=r(4129);function n(e){let[t,r]=a.useState(void 0);return(0,s.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,s;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,s=t.blockSize}else a=e.offsetWidth,s=e.offsetHeight;r({width:a,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},98634:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});var a=r(30926);let s=(0,a.createServerReference)("60e34f9cbe57141cf2262bc166578e2d558a98e99f",a.callServer,void 0,a.findSourceMapURL,"updateClient")}},e=>{e.O(0,[4909,9625,315,1374,43,8441,1255,7358],()=>e(e.s=32703)),_N_E=e.O()}]);