(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8289],{50594:(e,s,t)=>{Promise.resolve().then(t.bind(t,52505))},52505:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>I});var a=t(95155),n=t(12115),l=t(86948),r=t(3998),i=t(65142),c=t(90109),d=t(96133),m=t(20243),u=t(18332),o=t(7545),p=t(13496),x=t(64269),h=t(20063),g=t(5264),f=t(86017),j=t(17482),N=t(5225),b=t(32373),v=t(5468),y=t(49732),w=t(78236),A=t(93773),_=t(658);let C=[{id:"themes",name:"الثيمات والألوان",icon:g.A,subItems:[{id:"themes_general",name:"الثيمات العامة",icon:f.A,component:y.A}]},{id:"branding",name:"العلامة التجارية والأصول",icon:j.A,subItems:[{id:"assets_management",name:"إدارة الأصول",icon:j.A,component:A.A},{id:"invoice_design",name:"تصميم الفاتورة",icon:N.A,component:w.A}]},{id:"landing_page",name:"صفحة الهبوط",icon:b.A,subItems:[{id:"landing_page_settings",name:"إعدادات المحتوى",icon:v.A,component:_.A}]}];function k(e){let{initialSettings:s,onSettingsChanged:t}=e,[d,m]=(0,n.useState)(""),[u,o]=(0,n.useState)("themes_general");(0,h.useRouter)();let g=(0,n.useMemo)(()=>d?C.map(e=>{let s=e.subItems.filter(s=>s.name.toLowerCase().includes(d.toLowerCase())||e.name.toLowerCase().includes(d.toLowerCase()));return{...e,subItems:s}}).filter(e=>e.subItems.length>0):C,[d]),f=(0,n.useMemo)(()=>{for(let e of C){let s=e.subItems.find(e=>e.id===u);if(s)return s.component}return y.A},[u]);return s?(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[280px,1fr] gap-6 items-start",children:[(0,a.jsxs)("aside",{className:"border-e bg-card p-4 space-y-4 rounded-lg h-full sticky top-20",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(i.p,{placeholder:"بحث في إعدادات المظهر...",className:"ps-10",value:d,onChange:e=>m(e.target.value)})]}),(0,a.jsx)(p.nD,{type:"multiple",className:"w-full",defaultValue:C.map(e=>e.id),children:g.map(e=>{let s=e.icon;return(0,a.jsxs)(p.As,{value:e.id,className:"border-b-0",children:[(0,a.jsx)(p.$m,{className:"py-3 px-2 font-bold text-base hover:no-underline rounded-md data-[state=open]:text-primary justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 justify-start w-full",children:[(0,a.jsx)(s,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:e.name})]})}),(0,a.jsx)(p.ub,{className:"pr-4 border-r-2 border-primary/50 mr-4",children:(0,a.jsx)("nav",{dir:"rtl",className:"flex flex-col gap-1 mt-2",children:e.subItems.map(e=>{let s=e.icon;return(0,a.jsxs)(r.$,{variant:"ghost",onClick:()=>o(e.id),className:(0,x.cn)("justify-start gap-3 font-semibold",u===e.id&&"bg-primary/10 text-primary"),children:[(0,a.jsx)(s,{className:"h-4 w-4"}),e.name]},e.id)})})})]},e.id)})})]}),(0,a.jsx)("main",{className:"space-y-6",children:(0,a.jsx)(l.Zp,{children:(0,a.jsx)(l.Wu,{className:"pt-6",children:(0,a.jsx)(f,{settings:s,onSettingsChanged:t})})})})]}):null}function I(){let[e,s]=n.useState(null),[t,l]=n.useState(!0),[r,i]=n.useState(null),c=(0,n.useCallback)(async()=>{l(!0);try{let e=await (0,d.m)();s(e)}catch(e){i(e.message||"Failed to load settings.")}finally{l(!1)}},[]);return(n.useEffect(()=>{c()},[c]),t||!e)?(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[280px,1fr] gap-6 items-start p-4",children:[(0,a.jsx)(m.E,{className:"h-[600px] w-full"}),(0,a.jsx)(m.E,{className:"h-[600px] w-full"})]}):r?(0,a.jsxs)(u.Fc,{variant:"destructive",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)(u.XL,{children:"حدث خطأ!"}),(0,a.jsx)(u.TN,{children:r})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"px-0 sm:px-6",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"إعدادات المظهر"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"تخصيص الهوية البصرية الكاملة للنظام، من الألوان والثيمات إلى الشعارات وتصميم الفواتير."})]}),(0,a.jsx)(k,{initialSettings:e,onSettingsChanged:c})]})}},59007:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(14294).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},78108:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var a=t(12115);function n(e){let s=a.useRef({value:e,previous:e});return a.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}}},e=>{e.O(0,[9135,7210,4909,9625,315,5111,4127,9967,1374,783,4223,43,84,13,1636,5239,9926,1079,4762,2312,8821,8441,1255,7358],()=>e(e.s=50594)),_N_E=e.O()}]);